function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _toConsumableArray(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(){"use strict";Object.keys||(Object.keys=function(){var a=Object.prototype.hasOwnProperty,b=!{toString:null}.propertyIsEnumerable("toString"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=c.length;return function(e){if("object"!==(void 0===e?"undefined":_typeof(e))&&("function"!=typeof e||null===e))throw new TypeError("Object.keys called on non-object");var g,h,f=[];for(g in e)a.call(e,g)&&f.push(g);if(b)for(h=0;h<d;h++)a.call(e,c[h])&&f.push(c[h]);return f}}())}();var pxUtil=function(){"use strict";function b(a,b){for(var c="[object Array]"===Object.prototype.toString.call(a)?a:a.split(" "),d=0;d<c.length;d++)b(c[d],d)}var a="classList"in document.documentElement,c=a?function(a,b){return a.classList.contains(b)}:function(a,b){return new RegExp("(?:^|\\s)"+b+"(?:\\s|$)").test(a.className)},d=a?function(a,b){return a.classList.add(b)}:function(a,b){c(a,b)||(a.className+=(a.className?" ":"")+b)},e=a?function(a,b){return a.classList.remove(b)}:function(a,b){c(a,b)&&(a.className=a.className.replace(new RegExp("(?:^"+b+"\\s+)|(?:^\\s*"+b+"\\s*$)|(?:\\s+"+b+"$)","g"),"").replace(new RegExp("\\s+"+b+"\\s+","g")," "))},f=a?function(a,b){return a.classList.toggle(b)}:function(a,b){return(c(a,b)?e:d)(a,b)};return{generateUniqueId:function(){var b=32,c=(Math.floor(25*Math.random())+10).toString(36)+"_";c+=(new Date).getTime().toString(36)+"_";do{c+=Math.floor(35*Math.random()).toString(36)}while(c.length<b);return c},escapeRegExp:function(b){return b.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},hexToRgba:function(b,c){var d=b.replace("#","");return"rgba("+parseInt(d.substring(0,2),16)+", "+parseInt(d.substring(2,4),16)+", "+parseInt(d.substring(4,6),16)+", "+c+")"},triggerResizeEvent:function(){var b=void 0;document.createEvent?(b=document.createEvent("HTMLEvents"),b.initEvent("resize",!0,!0)):(b=document.createEventObject(),b.eventType="resize"),b.eventName="resize",document.createEvent?window.dispatchEvent(b):window.fireEvent("on"+b.eventType,b)},hasClass:function(b,d){return c(b,d)},addClass:function(c,e){b(e,function(a){return d(c,a)})},removeClass:function(c,d){b(d,function(a){return e(c,a)})},toggleClass:function(c,d){b(d,function(a){return f(c,a)})}}}(),PixelAdmin=function(a){"use strict";var b={isRtl:"rtl"===document.documentElement.getAttribute("dir"),isMobile:/iphone|ipad|ipod|android|blackberry|mini|windows\sce|palm/i.test(navigator.userAgent.toLowerCase()),isLocalStorageSupported:void 0!==window.Storage,options:{resizeDelay:100,storageKeyPrefix:"px_s_",cookieKeyPrefix:"px_c_"},getScreenSize:function(){var c=b._isBreakpointVisible;return c("xs")?"xs":c("sm")?"sm":c("md")?"md":c("lg")?"lg":"xl"},storage:{_prefix:function(c){return""+b.options.storageKeyPrefix+c},set:function(c,d){var e="string"==typeof c?_defineProperty({},c,d):c,f=Object.keys(e);try{for(var g=0,h=f.length;g<h;g++)window.localStorage.setItem(this._prefix(f[g]),e[f[g]])}catch(a){b.cookies.set(c,d)}},get:function(d){var e=a.isArray(d)?d:[d],f={};try{for(var g=0,h=e.length;g<h;g++)f[e[g]]=window.localStorage.getItem(this._prefix(e[g]));return a.isArray(d)?f:f[d]}catch(a){return b.cookies.get(d)}}},cookies:{_prefix:function(c){return""+b.options.cookieKeyPrefix+c},set:function(b,c){for(var d="string"==typeof b?_defineProperty({},b,c):b,e=Object.keys(d),f=void 0,g=void 0,h=0,i=e.length;h<i;h++)f=encodeURIComponent(this._prefix(e[h])),g=encodeURIComponent(d[e[h]]),document.cookie=f+"="+g},get:function(c){for(var d=";"+document.cookie+";",e=a.isArray(c)?c:[c],f={},g=void 0,h=void 0,i=void 0,j=0,k=e.length;j<k;j++)g=pxUtil.escapeRegExp(encodeURIComponent(this._prefix(e[j]))),h=new RegExp(";\\s*"+g+"\\s*=\\s*([^;]+)\\s*;"),i=d.match(h),f[e[j]]=i?decodeURIComponent(i[1]):null;return a.isArray(c)?f:f[c]}},_isBreakpointVisible:function(c){return(document.getElementById("px-breakpoint-"+c)||a('<div id="px-breakpoint-'+c+'"></div>').prependTo(document.body)[0]).offsetTop},_setDelayedResizeListener:function(){function d(a){var c=null;return function(){c&&clearTimeout(c),c=setTimeout(function(){c=null,a()},b.options.resizeDelay)}}var e=a(window),f=null;e.on("resize",d(function(){var a=b.getScreenSize();e.trigger("px.resize"),f!==a&&e.trigger("px.screen."+a),f=a}))}};return b._setDelayedResizeListener(),a(function(){b.isMobile&&window.FastClick&&window.FastClick.attach(document.body),b.isRtl&&a(window).on("px.resize.px-rtl-fix",function(){document.body.style.overflow="hidden";document.body.offsetHeight;document.body.style.overflow=""}),a(window).trigger("px.load"),pxUtil.triggerResizeEvent()}),b}(jQuery);window.PixelAdmin=PixelAdmin,function(a){"use strict";if(!a.fn.modal)throw new Error("modal.js required.");var b=a.fn.modal.Constructor.prototype.show,c=a.fn.modal.Constructor.prototype.hide;a.fn.modal.Constructor.prototype.show=function(c){b.call(this,c),this.isShown&&a("html").addClass("modal-open")},a.fn.modal.Constructor.prototype.hide=function(b){c.call(this,b),this.isShown||a("html").removeClass("modal-open")}}(jQuery),function(a){"use strict";if(!a.fn.tooltip)throw new Error("tooltip.js required.");var c=a.fn.tooltip.Constructor.prototype.getOptions,d=a.fn.tooltip.Constructor.prototype.setContent;a.fn.tooltip.Constructor.prototype.getOptions=function(b){var d=c.call(this,b),e="rtl"===a("html").attr("dir");return e&&"left"===d.placement?d.placement="right":e&&"right"===d.placement&&(d.placement="left"),d},a.fn.tooltip.Constructor.prototype.setContent=function(){var c=this.$element.attr("data-state");c&&a(this.tip()).addClass("tooltip-"+c.replace(/[^a-z0-9_-]/gi,"")),d.call(this)}}(jQuery),function(a){"use strict";if(!a.fn.popover)throw new Error("popover.js required.");var d=a.fn.popover.Constructor.prototype.getOptions,e=a.fn.popover.Constructor.prototype.setContent;a.fn.popover.Constructor.prototype.getOptions=function(b){var c=d.call(this,b),e="rtl"===a("html").attr("dir");return e&&"left"===c.placement?c.placement="right":e&&"right"===c.placement&&(c.placement="left"),c},a.fn.popover.Constructor.prototype.setContent=function(){var d=this.$element,f=a(this.tip()),g=d.attr("data-state"),h=(d.attr("data-style")||"").toLowerCase().split(" ");g&&f.addClass("popover-"+g.replace(/[^a-z0-9_-]/gi,"")),-1!==h.indexOf("dark")&&f.addClass("popover-dark"),-1!==h.indexOf("colorful")&&f.addClass("popover-colorful"),e.call(this)}}(jQuery);var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),PxFile=function(a){"use strict";var b="pxFile",c="px.file",d="."+c,e=a.fn[b],f={BROWSE:"px-file-browse",CLEAR:"px-file-clear",HAS_VALUE:"px-file-has-value"},g={CLICK:"click"+d,CHANGE:"change"+d},h=function(){function e(b){_classCallCheck(this,e),this.element=b,this.input=a(b).find(".custom-file-input")[0],this.control=a(b).find(".custom-file-control")[0],this.placeholder=this.control.innerHTML,this._checkElement(),this._checkInput(),this._checkControl(),this._setListeners(),this.update()}return _createClass(e,[{key:"browse",value:function(){a(this.input).trigger("click")}},{key:"clear",value:function(){a(this.input).is(":disabled")||(a(this.input).wrap("<form>").parent().on("reset",function(a){a.stopPropagation()}).trigger("reset"),a(this.input).unwrap(),a(this.input).trigger("change"))}},{key:"update",value:function(){var c=(this.input.value||"").replace(/\\/g,"/").split("/").pop();c?a(this.control).text(c):this.control.innerHTML=this.placeholder,pxUtil[c?"addClass":"removeClass"](this.element,f.HAS_VALUE)}},{key:"destroy",value:function(){this._unsetListeners(),a(this.element).removeData(c)}},{key:"_checkElement",value:function(){if(!pxUtil.hasClass(this.element,"custom-file"))throw new Error(b+" plugin must be called on a custom file input wrapper.")}},{key:"_checkInput",value:function(){if(!this.input)throw new Error("File input is not found.")}},{key:"_checkControl",value:function(){if(!this.control)throw new Error(".custom-file-control element is not found.")}},{key:"_rejectEvent",value:function(b){b&&(b.stopPropagation(),b.preventDefault())}},{key:"_setListeners",value:function(){var c=this;a(this.element).find("."+f.BROWSE).on(this.constructor.Event.CLICK,function(b){c._rejectEvent(b),c.browse(),a(c.input).trigger("focus")}),a(this.element).find("."+f.CLEAR).on(this.constructor.Event.CLICK,function(b){c._rejectEvent(b),c.clear(),a(c.input).trigger("focus")}),a(this.input).on(this.constructor.Event.CHANGE,a.proxy(this.update,this))}},{key:"_unsetListeners",value:function(){a(this.element).find("."+f.BROWSE).off(d),a(this.element).find("."+f.CLEAR).off(d),a(this.input).off(d)}}],[{key:"_jQueryInterface",value:function(d){return this.each(function(){var b=a(this).data(c);if(b||(b=new e(this),a(this).data(c,b)),"string"==typeof d){if(!b[d])throw new Error('No method named "'+d+'".');b[d]()}})}},{key:"NAME",get:function(){return b}},{key:"DATA_KEY",get:function(){return c}},{key:"Event",get:function(){return g}},{key:"EVENT_KEY",get:function(){return d}}]),e}();return a.fn[b]=h._jQueryInterface,a.fn[b].Constructor=h,a.fn[b].noConflict=function(){return a.fn[b]=e,h._jQueryInterface},h}(jQuery);!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";function f(a){a.fn.perfectScrollbar=function(a){return this.each(function(){if("object"==typeof a||void 0===a){var b=a;e.get(this)||d.initialize(this,b)}else{var c=a;"update"===c?d.update(this):"destroy"===c&&d.destroy(this)}})}}var d=a("../main"),e=a("../plugin/instances");if("function"==typeof define&&define.amd)define(["jquery"],f);else{var g=window.jQuery?window.jQuery:window.$;void 0!==g&&f(g)}b.exports=f},{"../main":7,"../plugin/instances":18}],2:[function(a,b,c){"use strict";function d(a,b){var c=a.className.split(" ");c.indexOf(b)<0&&c.push(b),a.className=c.join(" ")}function e(a,b){var c=a.className.split(" "),d=c.indexOf(b);d>=0&&c.splice(d,1),a.className=c.join(" ")}c.add=function(a,b){a.classList?a.classList.add(b):d(a,b)},c.remove=function(a,b){a.classList?a.classList.remove(b):e(a,b)},c.list=function(a){return a.classList?Array.prototype.slice.apply(a.classList):a.className.split(" ")}},{}],3:[function(a,b,c){"use strict";function e(a,b){return window.getComputedStyle(a)[b]}function f(a,b,c){return"number"==typeof c&&(c=c.toString()+"px"),a.style[b]=c,a}function g(a,b){for(var c in b){var d=b[c];"number"==typeof d&&(d=d.toString()+"px"),a.style[c]=d}return a}var d={};d.e=function(a,b){var c=document.createElement(a);return c.className=b,c},d.appendTo=function(a,b){return b.appendChild(a),a},d.css=function(a,b,c){return"object"==typeof b?g(a,b):void 0===c?e(a,b):f(a,b,c)},d.matches=function(a,b){return void 0!==a.matches?a.matches(b):void 0!==a.matchesSelector?a.matchesSelector(b):void 0!==a.webkitMatchesSelector?a.webkitMatchesSelector(b):void 0!==a.mozMatchesSelector?a.mozMatchesSelector(b):void 0!==a.msMatchesSelector?a.msMatchesSelector(b):void 0},d.remove=function(a){void 0!==a.remove?a.remove():a.parentNode&&a.parentNode.removeChild(a)},d.queryChildren=function(a,b){return Array.prototype.filter.call(a.childNodes,function(a){return d.matches(a,b)})},b.exports=d},{}],4:[function(a,b,c){"use strict";var d=function(a){this.element=a,this.events={}};d.prototype.bind=function(a,b){void 0===this.events[a]&&(this.events[a]=[]),this.events[a].push(b),this.element.addEventListener(a,b,!1)},d.prototype.unbind=function(a,b){var c=void 0!==b;this.events[a]=this.events[a].filter(function(d){return!(!c||d===b)||(this.element.removeEventListener(a,d,!1),!1)},this)},d.prototype.unbindAll=function(){for(var a in this.events)this.unbind(a)};var e=function(){this.eventElements=[]};e.prototype.eventElement=function(a){var b=this.eventElements.filter(function(b){return b.element===a})[0];return void 0===b&&(b=new d(a),this.eventElements.push(b)),b},e.prototype.bind=function(a,b,c){this.eventElement(a).bind(b,c)},e.prototype.unbind=function(a,b,c){this.eventElement(a).unbind(b,c)},e.prototype.unbindAll=function(){for(var a=0;a<this.eventElements.length;a++)this.eventElements[a].unbindAll()},e.prototype.once=function(a,b,c){var d=this.eventElement(a),e=function(a){d.unbind(b,e),c(a)};d.bind(b,e)},b.exports=e},{}],5:[function(a,b,c){"use strict";b.exports=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}}()},{}],6:[function(a,b,c){"use strict";var d=a("./class"),e=a("./dom"),f=c.toInt=function(a){return parseInt(a,10)||0},g=c.clone=function(a){if(a){if(a.constructor===Array)return a.map(g);if("object"==typeof a){var b={};for(var c in a)b[c]=g(a[c]);return b}return a}return null};c.extend=function(a,b){var c=g(a);for(var d in b)c[d]=g(b[d]);return c},c.isEditable=function(a){return e.matches(a,"input,[contenteditable]")||e.matches(a,"select,[contenteditable]")||e.matches(a,"textarea,[contenteditable]")||e.matches(a,"button,[contenteditable]")},c.removePsClasses=function(a){for(var b=d.list(a),c=0;c<b.length;c++){var e=b[c];0===e.indexOf("ps-")&&d.remove(a,e)}},c.outerWidth=function(a){return f(e.css(a,"width"))+f(e.css(a,"paddingLeft"))+f(e.css(a,"paddingRight"))+f(e.css(a,"borderLeftWidth"))+f(e.css(a,"borderRightWidth"))},c.startScrolling=function(a,b){d.add(a,"ps-in-scrolling"),void 0!==b?d.add(a,"ps-"+b):(d.add(a,"ps-x"),d.add(a,"ps-y"))},c.stopScrolling=function(a,b){d.remove(a,"ps-in-scrolling"),void 0!==b?d.remove(a,"ps-"+b):(d.remove(a,"ps-x"),d.remove(a,"ps-y"))},c.env={isWebKit:"WebkitAppearance"in document.documentElement.style,supportsTouch:"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,supportsIePointer:null!==window.navigator.msMaxTouchPoints}},{"./class":2,"./dom":3}],7:[function(a,b,c){"use strict";var d=a("./plugin/destroy"),e=a("./plugin/initialize"),f=a("./plugin/update");b.exports={initialize:e,update:f,destroy:d}},{"./plugin/destroy":9,"./plugin/initialize":17,"./plugin/update":21}],8:[function(a,b,c){"use strict";b.exports={handlers:["click-rail","drag-scrollbar","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipePropagation:!0,useBothWheelAxes:!1,wheelPropagation:!1,wheelSpeed:1,theme:"default"}},{}],9:[function(a,b,c){"use strict";var d=a("../lib/helper"),e=a("../lib/dom"),f=a("./instances");b.exports=function(a){var b=f.get(a);b&&(b.event.unbindAll(),e.remove(b.scrollbarX),e.remove(b.scrollbarY),e.remove(b.scrollbarXRail),e.remove(b.scrollbarYRail),d.removePsClasses(a),f.remove(a))}},{"../lib/dom":3,"../lib/helper":6,"./instances":18}],10:[function(a,b,c){"use strict";function g(a,b){function c(a){return a.getBoundingClientRect()}var d=function(a){a.stopPropagation()};b.event.bind(b.scrollbarY,"click",d),b.event.bind(b.scrollbarYRail,"click",function(d){var g=d.pageY-window.pageYOffset-c(b.scrollbarYRail).top,h=g>b.scrollbarYTop?1:-1;f(a,"top",a.scrollTop+h*b.containerHeight),e(a),d.stopPropagation()}),b.event.bind(b.scrollbarX,"click",d),b.event.bind(b.scrollbarXRail,"click",function(d){var g=d.pageX-window.pageXOffset-c(b.scrollbarXRail).left,h=g>b.scrollbarXLeft?1:-1;f(a,"left",a.scrollLeft+h*b.containerWidth),e(a),d.stopPropagation()})}var d=a("../instances"),e=a("../update-geometry"),f=a("../update-scroll");b.exports=function(a){g(a,d.get(a))}},{"../instances":18,"../update-geometry":19,"../update-scroll":20}],11:[function(a,b,c){"use strict";function i(a,b){function i(e){var f=c+e*b.railXRatio,g=Math.max(0,b.scrollbarXRail.getBoundingClientRect().left)+b.railXRatio*(b.railXWidth-b.scrollbarXWidth);b.scrollbarXLeft=f<0?0:f>g?g:f;var i=d.toInt(b.scrollbarXLeft*(b.contentWidth-b.containerWidth)/(b.containerWidth-b.railXRatio*b.scrollbarXWidth))-b.negativeScrollAdjustment;h(a,"left",i)}var c=null,f=null,j=function(b){i(b.pageX-f),g(a),b.stopPropagation(),b.preventDefault()},k=function(){d.stopScrolling(a,"x"),b.event.unbind(b.ownerDocument,"mousemove",j)};b.event.bind(b.scrollbarX,"mousedown",function(g){f=g.pageX,c=d.toInt(e.css(b.scrollbarX,"left"))*b.railXRatio,d.startScrolling(a,"x"),b.event.bind(b.ownerDocument,"mousemove",j),b.event.once(b.ownerDocument,"mouseup",k),g.stopPropagation(),g.preventDefault()})}function j(a,b){function i(e){var f=c+e*b.railYRatio,g=Math.max(0,b.scrollbarYRail.getBoundingClientRect().top)+b.railYRatio*(b.railYHeight-b.scrollbarYHeight);b.scrollbarYTop=f<0?0:f>g?g:f;var i=d.toInt(b.scrollbarYTop*(b.contentHeight-b.containerHeight)/(b.containerHeight-b.railYRatio*b.scrollbarYHeight));h(a,"top",i)}var c=null,f=null,j=function(b){i(b.pageY-f),g(a),b.stopPropagation(),b.preventDefault()},k=function(){d.stopScrolling(a,"y"),b.event.unbind(b.ownerDocument,"mousemove",j)};b.event.bind(b.scrollbarY,"mousedown",function(g){f=g.pageY,c=d.toInt(e.css(b.scrollbarY,"top"))*b.railYRatio,d.startScrolling(a,"y"),b.event.bind(b.ownerDocument,"mousemove",j),b.event.once(b.ownerDocument,"mouseup",k),g.stopPropagation(),g.preventDefault()})}var d=a("../../lib/helper"),e=a("../../lib/dom"),f=a("../instances"),g=a("../update-geometry"),h=a("../update-scroll");b.exports=function(a){var b=f.get(a);i(a,b),j(a,b)}},{"../../lib/dom":3,"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],12:[function(a,b,c){"use strict";function i(a,b){function i(c,d){var e=a.scrollTop;if(0===c){if(!b.scrollbarYActive)return!1;if(0===e&&d>0||e>=b.contentHeight-b.containerHeight&&d<0)return!b.settings.wheelPropagation}var f=a.scrollLeft;if(0===d){if(!b.scrollbarXActive)return!1;if(0===f&&c<0||f>=b.contentWidth-b.containerWidth&&c>0)return!b.settings.wheelPropagation}return!0}var c=!1;b.event.bind(a,"mouseenter",function(){c=!0}),b.event.bind(a,"mouseleave",function(){c=!1});var f=!1;b.event.bind(b.ownerDocument,"keydown",function(j){if(!(j.isDefaultPrevented&&j.isDefaultPrevented()||j.defaultPrevented)){var k=e.matches(b.scrollbarX,":focus")||e.matches(b.scrollbarY,":focus");if(c||k){var l=document.activeElement?document.activeElement:b.ownerDocument.activeElement;if(l){if("IFRAME"===l.tagName)l=l.contentDocument.activeElement;else for(;l.shadowRoot;)l=l.shadowRoot.activeElement;if(d.isEditable(l))return}var m=0,n=0;switch(j.which){case 37:m=j.metaKey?-b.contentWidth:j.altKey?-b.containerWidth:-30;break;case 38:n=j.metaKey?b.contentHeight:j.altKey?b.containerHeight:30;break;case 39:m=j.metaKey?b.contentWidth:j.altKey?b.containerWidth:30;break;case 40:n=j.metaKey?-b.contentHeight:j.altKey?-b.containerHeight:-30;break;case 33:n=90;break;case 32:n=j.shiftKey?90:-90;break;case 34:n=-90;break;case 35:n=j.ctrlKey?-b.contentHeight:-b.containerHeight;break;case 36:n=j.ctrlKey?a.scrollTop:b.containerHeight;break;default:return}h(a,"top",a.scrollTop-n),h(a,"left",a.scrollLeft+m),g(a),f=i(m,n),f&&j.preventDefault()}}})}var d=a("../../lib/helper"),e=a("../../lib/dom"),f=a("../instances"),g=a("../update-geometry"),h=a("../update-scroll");b.exports=function(a){i(a,f.get(a))}},{"../../lib/dom":3,"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],13:[function(a,b,c){"use strict";function g(a,b){function d(c,d){var e=a.scrollTop;if(0===c){if(!b.scrollbarYActive)return!1;if(0===e&&d>0||e>=b.contentHeight-b.containerHeight&&d<0)return!b.settings.wheelPropagation}var f=a.scrollLeft;if(0===d){if(!b.scrollbarXActive)return!1;if(0===f&&c<0||f>=b.contentWidth-b.containerWidth&&c>0)return!b.settings.wheelPropagation}return!0}function g(a){var b=a.deltaX,c=-1*a.deltaY;return void 0!==b&&void 0!==c||(b=-1*a.wheelDeltaX/6,c=a.wheelDeltaY/6),a.deltaMode&&1===a.deltaMode&&(b*=10,c*=10),b!==b&&c!==c&&(b=0,c=a.wheelDelta),a.shiftKey?[-c,-b]:[b,c]}function h(b,c){var d=a.querySelector("textarea:hover, select[multiple]:hover, .ps-child:hover");if(d){if(!window.getComputedStyle(d).overflow.match(/(scroll|auto)/))return!1;var e=d.scrollHeight-d.clientHeight;if(e>0&&!(0===d.scrollTop&&c>0||d.scrollTop===e&&c<0))return!0;var f=d.scrollLeft-d.clientWidth;if(f>0&&!(0===d.scrollLeft&&b<0||d.scrollLeft===f&&b>0))return!0}return!1}function i(i){var j=g(i),k=j[0],l=j[1];h(k,l)||(c=!1,b.settings.useBothWheelAxes?b.scrollbarYActive&&!b.scrollbarXActive?(l?f(a,"top",a.scrollTop-l*b.settings.wheelSpeed):f(a,"top",a.scrollTop+k*b.settings.wheelSpeed),c=!0):b.scrollbarXActive&&!b.scrollbarYActive&&(k?f(a,"left",a.scrollLeft+k*b.settings.wheelSpeed):f(a,"left",a.scrollLeft-l*b.settings.wheelSpeed),c=!0):(f(a,"top",a.scrollTop-l*b.settings.wheelSpeed),f(a,"left",a.scrollLeft+k*b.settings.wheelSpeed)),e(a),(c=c||d(k,l))&&(i.stopPropagation(),i.preventDefault()))}var c=!1;void 0!==window.onwheel?b.event.bind(a,"wheel",i):void 0!==window.onmousewheel&&b.event.bind(a,"mousewheel",i)}var d=a("../instances"),e=a("../update-geometry"),f=a("../update-scroll");b.exports=function(a){g(a,d.get(a))}},{"../instances":18,"../update-geometry":19,"../update-scroll":20}],14:[function(a,b,c){"use strict";function f(a,b){b.event.bind(a,"scroll",function(){e(a)})}var d=a("../instances"),e=a("../update-geometry");b.exports=function(a){f(a,d.get(a))}},{"../instances":18,"../update-geometry":19}],15:[function(a,b,c){"use strict";function h(a,b){function c(){var a=window.getSelection?window.getSelection():document.getSelection?document.getSelection():"";return 0===a.toString().length?null:a.getRangeAt(0).commonAncestorContainer}function j(){h||(h=setInterval(function(){if(!e.get(a))return void clearInterval(h);g(a,"top",a.scrollTop+i.top),g(a,"left",a.scrollLeft+i.left),f(a)},50))}function k(){h&&(clearInterval(h),h=null),d.stopScrolling(a)}var h=null,i={top:0,left:0},l=!1;b.event.bind(b.ownerDocument,"selectionchange",function(){a.contains(c())?l=!0:(l=!1,k())}),b.event.bind(window,"mouseup",function(){l&&(l=!1,k())}),b.event.bind(window,"keyup",function(){l&&(l=!1,k())}),b.event.bind(window,"mousemove",function(b){if(l){var c={x:b.pageX,y:b.pageY},e={left:a.offsetLeft,right:a.offsetLeft+a.offsetWidth,top:a.offsetTop,bottom:a.offsetTop+a.offsetHeight};c.x<e.left+3?(i.left=-5,d.startScrolling(a,"x")):c.x>e.right-3?(i.left=5,d.startScrolling(a,"x")):i.left=0,c.y<e.top+3?(e.top+3-c.y<5?i.top=-5:i.top=-20,d.startScrolling(a,"y")):c.y>e.bottom-3?(c.y-e.bottom+3<5?i.top=5:i.top=20,d.startScrolling(a,"y")):i.top=0,0===i.top&&0===i.left?k():j()}})}var d=a("../../lib/helper"),e=a("../instances"),f=a("../update-geometry"),g=a("../update-scroll");b.exports=function(a){h(a,e.get(a))}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],16:[function(a,b,c){"use strict";function h(a,b,c,d){function h(c,d){var e=a.scrollTop,f=a.scrollLeft,g=Math.abs(c),h=Math.abs(d);if(h>g){if(d<0&&e===b.contentHeight-b.containerHeight||d>0&&0===e)return!b.settings.swipePropagation}else if(g>h&&(c<0&&f===b.contentWidth-b.containerWidth||c>0&&0===f))return!b.settings.swipePropagation;return!0}function i(b,c){g(a,"top",a.scrollTop-c),g(a,"left",a.scrollLeft-b),f(a)}function p(){n=!0}function q(){n=!1}function r(a){return a.targetTouches?a.targetTouches[0]:a}function s(a){return!(!a.targetTouches||1!==a.targetTouches.length)||!(!a.pointerType||"mouse"===a.pointerType||a.pointerType===a.MSPOINTER_TYPE_MOUSE)}function t(a){if(s(a)){o=!0;var b=r(a);j.pageX=b.pageX,j.pageY=b.pageY,k=(new Date).getTime(),null!==m&&clearInterval(m),a.stopPropagation()}}function u(a){if(!o&&b.settings.swipePropagation&&t(a),!n&&o&&s(a)){var c=r(a),d={pageX:c.pageX,pageY:c.pageY},e=d.pageX-j.pageX,f=d.pageY-j.pageY;i(e,f),j=d;var g=(new Date).getTime(),m=g-k;m>0&&(l.x=e/m,l.y=f/m,k=g),h(e,f)&&(a.stopPropagation(),a.preventDefault())}}function v(){!n&&o&&(o=!1,clearInterval(m),m=setInterval(function(){return e.get(a)&&(l.x||l.y)?Math.abs(l.x)<.01&&Math.abs(l.y)<.01?void clearInterval(m):(i(30*l.x,30*l.y),l.x*=.8,void(l.y*=.8)):void clearInterval(m)},10))}var j={},k=0,l={},m=null,n=!1,o=!1;c?(b.event.bind(window,"touchstart",p),b.event.bind(window,"touchend",q),b.event.bind(a,"touchstart",t),b.event.bind(a,"touchmove",u),b.event.bind(a,"touchend",v)):d&&(window.PointerEvent?(b.event.bind(window,"pointerdown",p),b.event.bind(window,"pointerup",q),b.event.bind(a,"pointerdown",t),b.event.bind(a,"pointermove",u),b.event.bind(a,"pointerup",v)):window.MSPointerEvent&&(b.event.bind(window,"MSPointerDown",p),b.event.bind(window,"MSPointerUp",q),b.event.bind(a,"MSPointerDown",t),b.event.bind(a,"MSPointerMove",u),b.event.bind(a,"MSPointerUp",v)))}var d=a("../../lib/helper"),e=a("../instances"),f=a("../update-geometry"),g=a("../update-scroll");b.exports=function(a){if(d.env.supportsTouch||d.env.supportsIePointer){h(a,e.get(a),d.env.supportsTouch,d.env.supportsIePointer)}}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],17:[function(a,b,c){"use strict";var d=a("../lib/helper"),e=a("../lib/class"),f=a("./instances"),g=a("./update-geometry"),h={"click-rail":a("./handler/click-rail"),"drag-scrollbar":a("./handler/drag-scrollbar"),keyboard:a("./handler/keyboard"),wheel:a("./handler/mouse-wheel"),touch:a("./handler/touch"),selection:a("./handler/selection")},i=a("./handler/native-scroll");b.exports=function(a,b){b="object"==typeof b?b:{},e.add(a,"ps-container");var c=f.add(a);c.settings=d.extend(c.settings,b),e.add(a,"ps-theme-"+c.settings.theme),c.settings.handlers.forEach(function(b){h[b](a)}),i(a),g(a)}},{"../lib/class":2,"../lib/helper":6,"./handler/click-rail":10,"./handler/drag-scrollbar":11,"./handler/keyboard":12,"./handler/mouse-wheel":13,"./handler/native-scroll":14,"./handler/selection":15,"./handler/touch":16,"./instances":18,"./update-geometry":19}],18:[function(a,b,c){"use strict";function k(a){function c(){e.add(a,"ps-focus")}function i(){e.remove(a,"ps-focus")}var b=this;b.settings=d.clone(f),b.containerWidth=null,b.containerHeight=null,b.contentWidth=null,b.contentHeight=null,b.isRtl="rtl"===g.css(a,"direction"),b.isNegativeScroll=function(){var b=a.scrollLeft,c=null;return a.scrollLeft=-1,c=a.scrollLeft<0,a.scrollLeft=b,c}(),b.negativeScrollAdjustment=b.isNegativeScroll?a.scrollWidth-a.clientWidth:0,b.event=new h,b.ownerDocument=a.ownerDocument||document,b.scrollbarXRail=g.appendTo(g.e("div","ps-scrollbar-x-rail"),a),b.scrollbarX=g.appendTo(g.e("div","ps-scrollbar-x"),b.scrollbarXRail),b.scrollbarX.setAttribute("tabindex",0),b.event.bind(b.scrollbarX,"focus",c),b.event.bind(b.scrollbarX,"blur",i),b.scrollbarXActive=null,b.scrollbarXWidth=null,b.scrollbarXLeft=null,b.scrollbarXBottom=d.toInt(g.css(b.scrollbarXRail,"bottom")),b.isScrollbarXUsingBottom=b.scrollbarXBottom===b.scrollbarXBottom,b.scrollbarXTop=b.isScrollbarXUsingBottom?null:d.toInt(g.css(b.scrollbarXRail,"top")),b.railBorderXWidth=d.toInt(g.css(b.scrollbarXRail,"borderLeftWidth"))+d.toInt(g.css(b.scrollbarXRail,"borderRightWidth")),g.css(b.scrollbarXRail,"display","block"),b.railXMarginWidth=d.toInt(g.css(b.scrollbarXRail,"marginLeft"))+d.toInt(g.css(b.scrollbarXRail,"marginRight")),g.css(b.scrollbarXRail,"display",""),b.railXWidth=null,b.railXRatio=null,b.scrollbarYRail=g.appendTo(g.e("div","ps-scrollbar-y-rail"),a),b.scrollbarY=g.appendTo(g.e("div","ps-scrollbar-y"),b.scrollbarYRail),b.scrollbarY.setAttribute("tabindex",0),b.event.bind(b.scrollbarY,"focus",c),b.event.bind(b.scrollbarY,"blur",i),b.scrollbarYActive=null,b.scrollbarYHeight=null,b.scrollbarYTop=null,b.scrollbarYRight=d.toInt(g.css(b.scrollbarYRail,"right")),b.isScrollbarYUsingRight=b.scrollbarYRight===b.scrollbarYRight,b.scrollbarYLeft=b.isScrollbarYUsingRight?null:d.toInt(g.css(b.scrollbarYRail,"left")),b.scrollbarYOuterWidth=b.isRtl?d.outerWidth(b.scrollbarY):null,b.railBorderYWidth=d.toInt(g.css(b.scrollbarYRail,"borderTopWidth"))+d.toInt(g.css(b.scrollbarYRail,"borderBottomWidth")),g.css(b.scrollbarYRail,"display","block"),b.railYMarginHeight=d.toInt(g.css(b.scrollbarYRail,"marginTop"))+d.toInt(g.css(b.scrollbarYRail,"marginBottom")),g.css(b.scrollbarYRail,"display",""),b.railYHeight=null,b.railYRatio=null}function l(a){return a.getAttribute("data-ps-id")}function m(a,b){a.setAttribute("data-ps-id",b)}function n(a){a.removeAttribute("data-ps-id")}var d=a("../lib/helper"),e=a("../lib/class"),f=a("./default-setting"),g=a("../lib/dom"),h=a("../lib/event-manager"),i=a("../lib/guid"),j={};c.add=function(a){var b=i();return m(a,b),j[b]=new k(a),j[b]},c.remove=function(a){delete j[l(a)],n(a)},c.get=function(a){return j[l(a)]}},{"../lib/class":2,"../lib/dom":3,"../lib/event-manager":4,"../lib/guid":5,"../lib/helper":6,"./default-setting":8}],19:[function(a,b,c){"use strict";function i(a,b){return a.settings.minScrollbarLength&&(b=Math.max(b,a.settings.minScrollbarLength)),a.settings.maxScrollbarLength&&(b=Math.min(b,a.settings.maxScrollbarLength)),b}function j(a,b){var c={width:b.railXWidth};b.isRtl?c.left=b.negativeScrollAdjustment+a.scrollLeft+b.containerWidth-b.contentWidth:c.left=a.scrollLeft,b.isScrollbarXUsingBottom?c.bottom=b.scrollbarXBottom-a.scrollTop:c.top=b.scrollbarXTop+a.scrollTop,f.css(b.scrollbarXRail,c);var d={top:a.scrollTop,height:b.railYHeight};b.isScrollbarYUsingRight?b.isRtl?d.right=b.contentWidth-(b.negativeScrollAdjustment+a.scrollLeft)-b.scrollbarYRight-b.scrollbarYOuterWidth:d.right=b.scrollbarYRight-a.scrollLeft:b.isRtl?d.left=b.negativeScrollAdjustment+a.scrollLeft+2*b.containerWidth-b.contentWidth-b.scrollbarYLeft-b.scrollbarYOuterWidth:d.left=b.scrollbarYLeft+a.scrollLeft,f.css(b.scrollbarYRail,d),f.css(b.scrollbarX,{left:b.scrollbarXLeft,width:b.scrollbarXWidth-b.railBorderXWidth}),f.css(b.scrollbarY,{top:b.scrollbarYTop,height:b.scrollbarYHeight-b.railBorderYWidth})}var d=a("../lib/helper"),e=a("../lib/class"),f=a("../lib/dom"),g=a("./instances"),h=a("./update-scroll");b.exports=function(a){var b=g.get(a);b.containerWidth=a.clientWidth,b.containerHeight=a.clientHeight,b.contentWidth=a.scrollWidth,b.contentHeight=a.scrollHeight;var c;a.contains(b.scrollbarXRail)||(c=f.queryChildren(a,".ps-scrollbar-x-rail"),c.length>0&&c.forEach(function(a){f.remove(a)}),f.appendTo(b.scrollbarXRail,a)),a.contains(b.scrollbarYRail)||(c=f.queryChildren(a,".ps-scrollbar-y-rail"),c.length>0&&c.forEach(function(a){f.remove(a)}),f.appendTo(b.scrollbarYRail,a)),!b.settings.suppressScrollX&&b.containerWidth+b.settings.scrollXMarginOffset<b.contentWidth?(b.scrollbarXActive=!0,b.railXWidth=b.containerWidth-b.railXMarginWidth,b.railXRatio=b.containerWidth/b.railXWidth,b.scrollbarXWidth=i(b,d.toInt(b.railXWidth*b.containerWidth/b.contentWidth)),b.scrollbarXLeft=d.toInt((b.negativeScrollAdjustment+a.scrollLeft)*(b.railXWidth-b.scrollbarXWidth)/(b.contentWidth-b.containerWidth))):b.scrollbarXActive=!1,!b.settings.suppressScrollY&&b.containerHeight+b.settings.scrollYMarginOffset<b.contentHeight?(b.scrollbarYActive=!0,b.railYHeight=b.containerHeight-b.railYMarginHeight,b.railYRatio=b.containerHeight/b.railYHeight,b.scrollbarYHeight=i(b,d.toInt(b.railYHeight*b.containerHeight/b.contentHeight)),b.scrollbarYTop=d.toInt(a.scrollTop*(b.railYHeight-b.scrollbarYHeight)/(b.contentHeight-b.containerHeight))):b.scrollbarYActive=!1,b.scrollbarXLeft>=b.railXWidth-b.scrollbarXWidth&&(b.scrollbarXLeft=b.railXWidth-b.scrollbarXWidth),b.scrollbarYTop>=b.railYHeight-b.scrollbarYHeight&&(b.scrollbarYTop=b.railYHeight-b.scrollbarYHeight),j(a,b),b.scrollbarXActive?e.add(a,"ps-active-x"):(e.remove(a,"ps-active-x"),b.scrollbarXWidth=0,b.scrollbarXLeft=0,h(a,"left",0)),b.scrollbarYActive?e.add(a,"ps-active-y"):(e.remove(a,"ps-active-y"),b.scrollbarYHeight=0,b.scrollbarYTop=0,h(a,"top",0))}},{"../lib/class":2,"../lib/dom":3,"../lib/helper":6,"./instances":18,"./update-scroll":20}],20:[function(a,b,c){"use strict";var e,f,d=a("./instances"),g=function(a){var b=document.createEvent("Event");return b.initEvent(a,!0,!0),b};b.exports=function(a,b,c){if(void 0===a)throw"You must provide an element to the update-scroll function";if(void 0===b)throw"You must provide an axis to the update-scroll function";if(void 0===c)throw"You must provide a value to the update-scroll function";"top"===b&&c<=0&&(a.scrollTop=c=0,a.dispatchEvent(g("ps-y-reach-start"))),"left"===b&&c<=0&&(a.scrollLeft=c=0,a.dispatchEvent(g("ps-x-reach-start")));var h=d.get(a);"top"===b&&c>=h.contentHeight-h.containerHeight&&(c=h.contentHeight-h.containerHeight,c-a.scrollTop<=1?c=a.scrollTop:a.scrollTop=c,a.dispatchEvent(g("ps-y-reach-end"))),"left"===b&&c>=h.contentWidth-h.containerWidth&&(c=h.contentWidth-h.containerWidth,c-a.scrollLeft<=1?c=a.scrollLeft:a.scrollLeft=c,a.dispatchEvent(g("ps-x-reach-end"))),e||(e=a.scrollTop),f||(f=a.scrollLeft),"top"===b&&c<e&&a.dispatchEvent(g("ps-scroll-up")),"top"===b&&c>e&&a.dispatchEvent(g("ps-scroll-down")),"left"===b&&c<f&&a.dispatchEvent(g("ps-scroll-left")),"left"===b&&c>f&&a.dispatchEvent(g("ps-scroll-right")),"top"===b&&(a.scrollTop=e=c,a.dispatchEvent(g("ps-scroll-y"))),"left"===b&&(a.scrollLeft=f=c,a.dispatchEvent(g("ps-scroll-x")))}},{"./instances":18}],21:[function(a,b,c){"use strict";var d=a("../lib/helper"),e=a("../lib/dom"),f=a("./instances"),g=a("./update-geometry"),h=a("./update-scroll");b.exports=function(a){var b=f.get(a);b&&(b.negativeScrollAdjustment=b.isNegativeScroll?a.scrollWidth-a.clientWidth:0,e.css(b.scrollbarXRail,"display","block"),e.css(b.scrollbarYRail,"display","block"),b.railXMarginWidth=d.toInt(e.css(b.scrollbarXRail,"marginLeft"))+d.toInt(e.css(b.scrollbarXRail,"marginRight")),b.railYMarginHeight=d.toInt(e.css(b.scrollbarYRail,"marginTop"))+d.toInt(e.css(b.scrollbarYRail,"marginBottom")),e.css(b.scrollbarXRail,"display","none"),e.css(b.scrollbarYRail,"display","none"),g(a),h(a,"top",a.scrollTop),h(a,"left",a.scrollLeft),e.css(b.scrollbarXRail,"display",""),e.css(b.scrollbarYRail,"display",""))}},{"../lib/dom":3,"../lib/helper":6,"./instances":18,"./update-geometry":19,"./update-scroll":20}]},{},[1]),function(a){"use strict";if(!a.fn.perfectScrollbar)throw new Error("perfect-scrollbar.jquery.js required.");var b="rtl"===a("html").attr("dir"),c=a.fn.perfectScrollbar;a.fn.perfectScrollbar=function(d){return this.each(function(){var e=this,f=a(this).attr("data-ps-id");c.call(a(this),d),b&&!f?(f=a(this).attr("data-ps-id"))&&a(window).on("resize.ps."+f,function(){return a(e).perfectScrollbar("update")}):b&&f&&"destroy"===d&&a(window).off("resize.ps."+f)})}}(jQuery);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),PxSidebar=function(a){"use strict";var b="pxSidebar",c="px.sidebar",d="."+c,e=".data-api",f=a.fn[b],g={NAVBAR_FIXED:"px-navbar-fixed",LEFT:"px-sidebar-left"},h={RESIZE:"resize"+d,SCROLL:"scroll"+d,CLICK_DATA_API:"click"+d+e,EXPAND:"expand"+d,EXPANDED:"expanded"+d,COLLAPSE:"collapse"+d,COLLAPSED:"collapsed"+d},i={DATA_TOGGLE:'[data-toggle="sidebar"]',CONTENT:".px-sidebar-content",NAVBAR_HEADER:".navbar-header"},j={width:null,enableScrollbar:!0,desktopMode:["lg","xl"],navbarSelector:"> .px-navbar"},k=function(){function e(b,c){_classCallCheck(this,e),this.uniqueId=pxUtil.generateUniqueId(),this.element=b,this.$content=a(b).find(i.CONTENT),this.parent=b.parentNode,this.config=this._getConfig(c),this._isRtl="rtl"===a("html").attr("dir"),this._setWidth(),this._setScrollbar(),this._checkMode(),this._setListeners()}return _createClass(e,[{key:"toggle",value:function(){this._triggerPreventableEvent(pxUtil.hasClass(this.element,"open")?"COLLAPSE":"EXPAND",this.element)&&(pxUtil.toggleClass(this.element,"open"),this._triggerEvent(pxUtil.hasClass(this.element,"open")?"EXPANDED":"COLLAPSED",this.element))}},{key:"update",value:function(){var c=a(this.parent).find(this.config.navbarSelector+" "+i.NAVBAR_HEADER);if(c.length){var d=c.height();if(pxUtil.hasClass(this.parent,g.NAVBAR_FIXED)||!this._positioning)this.element.style.top=d+"px";else{var e=document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop||0;this.element.style.top=e>d?"0px":d-e+"px"}}this.config.enableScrollbar&&this.$content.perfectScrollbar("update")}},{key:"destroy",value:function(){this._unsetListeners(),this._unsetScrollbar(),a(this.element).removeData(c)}},{key:"_setWidth",value:function(){var c=parseInt(this.config.width||a(this.element).width(),10),d=void 0;d=this._isRtl?pxUtil.hasClass(this.element,g.LEFT)?"right":"left":pxUtil.hasClass(this.element,g.LEFT)?"left":"right",this.element.style.width=c+"px",this.element.style[d]="-"+c+"px"}},{key:"_checkMode",value:function(){this._positioning=-1!==this.config.desktopMode.indexOf(window.PixelAdmin.getScreenSize()),this.update()}},{key:"_setScrollbar",value:function(){if(this.config.enableScrollbar){if(!this.$content.length)throw new Error(".px-sidebar-content element is not found.");this.$content.perfectScrollbar()}}},{key:"_unsetScrollbar",value:function(){this.config.enableScrollbar&&this.$content.length&&this.$content.perfectScrollbar("destroy")}},{key:"_triggerEvent",value:function(c,d){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};a(this.element).trigger(a.Event(this.constructor.Event[c],{target:d}),[e])}},{key:"_triggerPreventableEvent",value:function(c,d){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},f=a.Event(this.constructor.Event[c],{target:d});return a(this.element).trigger(f,[e]),!f.isDefaultPrevented()}},{key:"_setListeners",value:function(){a(window).on(this.constructor.Event.RESIZE+"."+this.uniqueId,a.proxy(this._checkMode,this)).on(this.constructor.Event.SCROLL+"."+this.uniqueId,a.proxy(this.update,this))}},{key:"_unsetListeners",value:function(){a(window).off(this.constructor.Event.RESIZE+"."+this.uniqueId).off(this.constructor.Event.SCROLL+"."+this.uniqueId)}},{key:"_getConfig",value:function(c){return a.extend({},this.constructor.Default,a(this.element).data(),c)}}],[{key:"_jQueryInterface",value:function(d){return this.each(function(){var b=a(this).data(c),f="object"===(void 0===d?"undefined":_typeof(d))?d:null;if(b||(b=new e(this,f),a(this).data(c,b)),"string"==typeof d){if(!b[d])throw new Error('No method named "'+d+'"');b[d]()}})}},{key:"Default",get:function(){return j}},{key:"NAME",get:function(){return b}},{key:"DATA_KEY",get:function(){return c}},{key:"Event",get:function(){return h}},{key:"EVENT_KEY",get:function(){return d}}]),e}();return a(document).on(h.CLICK_DATA_API,i.DATA_TOGGLE,function(b){b.preventDefault();var d=this.getAttribute("data-target"),e=d?a(d)[0]:null;e&&(a(e).data(c)||k._jQueryInterface.call(a(e),a(this).data()),k._jQueryInterface.call(a(e),"toggle"))}),a.fn[b]=k._jQueryInterface,a.fn[b].Constructor=k,a.fn[b].noConflict=function(){return a.fn[b]=f,k._jQueryInterface},k}(jQuery),_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),PxNavbar=function(a){"use strict";var b="pxNavbar",c="px.navbar",d="."+c,e=".data-api",f=a.fn[b],g={NAVBAR:"px-navbar",INNER:"px-navbar-collapse-inner",IN:"in",COLLAPSED:"collapsed"},h={DATA_TOGGLE:'.navbar-toggle[data-toggle="collapse"]',DROPDOWN_TOGGLE:'.dropdown-toggle[data-toggle="dropdown"]',COLLAPSE:".navbar-collapse",DROPDOWN:".dropdown"},i={CLICK_DATA_API:"click"+d+e,RESIZE:"resize"+d,CLICK:"click"+d,MOUSEDOWN:"mousedown"+d,COLLAPSE_SHOW:"show.bs.collapse"+d,COLLAPSE_SHOWN:"shown.bs.collapse"+d,COLLAPSE_HIDDEN:"hidden.bs.collapse"+d,DROPDOWN_SHOWN:"shown.bs.dropdown"+d,DROPDOWN_HIDDEN:"hidden.bs.dropdown"+d},j=function(){function e(b){if(_classCallCheck(this,e),!a.fn.perfectScrollbar)throw new Error('Scrolling feature requires the "perfect-scrollbar" plugin included.');this.uniqueId=pxUtil.generateUniqueId(),this.element=b,this.$collapse=a(b).find(h.COLLAPSE),this.$toggle=a(b).find(h.DATA_TOGGLE),this._scrollbarEnabled=0,this._curScrollTop=0,this.$collapse.length&&this.$toggle.length&&(this.$inner=this._setupInnerContainer(),this._setListeners())}return _createClass(e,[{key:"updateScrollbar",value:function(){this._scrollbarEnabled&&(this._updateHeight(),this.$inner.scrollTop(this._curScrollTop).perfectScrollbar("update"))}},{key:"destroy",value:function(){this._unsetListeners(),this._disableScrollbar(),this.$collapse.append(this.$inner.find("> *")),this.$inner.remove(),a(this.element).removeData(c)}},{key:"_updateHeight",value:function(){var c=a(window).height()-this.$collapse[0].offsetTop;this.$collapse.height(""),this.$collapse.height()>c&&this.$collapse.height(c+"px")}},{key:"_enableScrollbar",value:function(){this._scrollbarEnabled||(this._updateHeight(),this.$inner.perfectScrollbar({suppressScrollX:!0}),this._scrollbarEnabled=1)}},{key:"_disableScrollbar",value:function(){this._scrollbarEnabled&&(this.$collapse.height(""),this.$inner.perfectScrollbar("destroy"),this._scrollbarEnabled=0)}},{key:"_setupInnerContainer",value:function(){var c=a('<div class="'+g.INNER+'"></div>');return c.append(this.$collapse.find("> *")),this.$collapse.append(c),c}},{key:"_setListeners",value:function(){var c=this,d=this;a(window).on(this.constructor.Event.RESIZE+"."+this.uniqueId,function(){c._scrollbarEnabled&&(c.$toggle.is(":visible")?(c._curScrollTop=c.$inner[0].scrollTop,c.updateScrollbar()):(c._disableScrollbar(),c.$collapse.removeClass(g.IN),c.$toggle.addClass(g.COLLAPSED),c.$collapse.attr("aria-expanded","false"),c.$toggle.attr("aria-expanded","false")))}),a(this.element).on(this.constructor.Event.COLLAPSE_SHOW,h.COLLAPSE,function(){c.$collapse.find(".dropdown.open").removeClass("open")}).on(this.constructor.Event.COLLAPSE_SHOWN,h.COLLAPSE,function(){c._enableScrollbar()}).on(this.constructor.Event.COLLAPSE_HIDDEN,h.COLLAPSE,function(){c._disableScrollbar()}).on(this.constructor.Event.DROPDOWN_SHOWN+" "+this.constructor.Event.DROPDOWN_HIDDEN,h.DROPDOWN,function(){c.updateScrollbar()}).on(this.constructor.Event.MOUSEDOWN,h.DROPDOWN_TOGGLE,function(){if(!c._scrollbarEnabled)return!0;c._curScrollTop=c.$inner[0].scrollTop}).on(this.constructor.Event.CLICK,h.DROPDOWN_TOGGLE,function(a){return!d._scrollbarEnabled||(!this.getAttribute("href")||"#"===this.getAttribute("href")||(a.preventDefault(),a.stopPropagation(),this.removeAttribute("data-toggle"),this.click(),void this.setAttribute("data-toggle","dropdown")))})}},{key:"_unsetListeners",value:function(){a(window).off(this.constructor.Event.RESIZE+"."+this.uniqueId),a(this.element).off(d)}}],[{key:"_jQueryInterface",value:function(d){for(var f=arguments.length,g=Array(f>1?f-1:0),i=1;i<f;i++)g[i-1]=arguments[i];return this.each(function(){var b=a(this).data(c);if(b||(b=new e(this),a(this).data(c,b),a.support.transition||"true"!==a(this).find(h.DATA_TOGGLE).attr("aria-expanded")||b._enableScrollbar()),"string"==typeof d){if(!b[d])throw new Error('No method named "'+d+'"');b[d].apply(b,g)}})}},{key:"NAME",get:function(){return b}},{key:"DATA_KEY",get:function(){return c}},{key:"Event",get:function(){return i}},{key:"EVENT_KEY",get:function(){return d}}]),e}();return a(document).on(i.CLICK_DATA_API,"."+g.NAVBAR+" "+h.DATA_TOGGLE,function(b){b.preventDefault();var d=a(this).parents("."+g.NAVBAR);d.length&&(d.data(c)||j._jQueryInterface.call(d))}),a.fn[b]=j._jQueryInterface,a.fn[b].Constructor=j,a.fn[b].noConflict=function(){return a.fn[b]=f,j._jQueryInterface},j}(jQuery),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),PxNav=function(a){"use strict";var b="pxNav",c="px.nav",d="."+c,e=".data-api",f=a.fn[b],g={accordion:!0,transitionDuration:300,dropdownCloseDelay:400,enableTooltips:!0,animate:!0,storeState:!0,storagePrefix:"px-nav.",modes:{phone:["xs"],tablet:["sm","md"],desktop:["lg","xl"]}},h={NAV:"px-nav",NAV_LEFT:"px-nav-left",CONTENT:"px-nav-content",EXPAND:"px-nav-expand",STATIC:"px-nav-static",COLLAPSE:"px-nav-collapse",ANIMATE:"px-nav-animate",NAV_TRANSITIONING:"px-nav-transitioning",DIMMER:"px-nav-dimmer",FIXED:"px-nav-fixed",OFF_CANVAS:"px-nav-off-canvas",SCROLLABLE_AREA:"px-nav-scrollable-area",ITEM:"px-nav-item",TOOLTIP:"px-nav-tooltip",DROPDOWN:"px-nav-dropdown",DROPDOWN_MENU:"px-nav-dropdown-menu",DROPDOWN_MENU_TITLE:"px-nav-dropdown-menu-title",DROPDOWN_MENU_SHOW:"px-nav-dropdown-menu-show",DROPDOWN_MENU_WRAPPER:"px-nav-dropdown-menu-wrapper",DROPDOWN_MENU_TOP:"px-nav-dropdown-menu-top",OPEN:"px-open",SHOW:"px-show",FREEZE:"freeze",ACTIVE:"active",TRANSITIONING:"transitioning",PERFECT_SCROLLBAR_CONTAINER:"ps-container",NAVBAR_FIXED:"px-navbar-fixed"},i={DATA_TOGGLE:'[data-toggle="px-nav"]',CONTENT:".px-nav-content",ITEM:"> .px-nav-item",ITEM_LABEL:"> a > .px-nav-label",ROOT_LINK:"> .px-nav-item:not(.px-nav-dropdown) > a",DROPDOWN_LINK:".px-nav-dropdown > a",DROPDOWN_MENU:"> .px-nav-dropdown-menu",DROPDOWN_MENU_TITLE:"> .px-nav-dropdown-menu-title",OPENED_DROPDOWNS:"> .px-nav-dropdown.px-open",SHOWN_DROPDOWNS:"> .px-nav-dropdown.px-show",FROZEN_DROPDOWNS:".px-nav-dropdown.freeze",SCROLLABLE_AREA:".px-nav-scrollable-area",NEAR_NAVBAR:"~ .px-navbar"},j={CLICK_DATA_API:"click"+d+e,RESIZE:"resize"+d,CLICK:"click"+d,MOUSEENTER:"mouseenter"+d,MOUSELEAVE:"mouseleave"+d,SCROLL:"scroll"+d,INITIALIZED:"initialized",EXPAND:"expand"+d,EXPANDED:"expanded"+d,COLLAPSE:"collapse"+d,COLLAPSED:"collapsed"+d,DESTROY:"destroy"+d,DROPDOWN_OPEN:"dropdown-open"+d,DROPDOWN_OPENED:"dropdown-opened"+d,DROPDOWN_CLOSE:"dropdown-close"+d,DROPDOWN_CLOSED:"dropdown-closed"+d,DROPDOWN_FROZEN:"dropdown-frozen"+d,DROPDOWN_UNFROZEN:"dropdown-unfrozen"+d},k={suppressScrollX:!0,wheelPropagation:!1,swipePropagation:!1},l=function(){function e(b,c){_classCallCheck(this,e),this.uniqueId=pxUtil.generateUniqueId(),this.element=b,this.content=a(b).find(i.CONTENT)[0],this.config=this._getConfig(c),this._curMode=this._getMode(),this._isCollapsed=this._getNavState(),this._stateChanging=0,this._setupMarkup(),this.dimmer=a(b).parent().find("> ."+h.DIMMER)[0],this._setListeners(),this._restoreNavState(),this._detectActiveItem(),this._enableAnimation(),this._checkNavbarPosition(),this._triggerEvent("INITIALIZED",b)}return _createClass(e,[{key:"toggle",value:function(){this["desktop"!==this._curMode&&pxUtil.hasClass(this.element,h.EXPAND)||"desktop"===this._curMode&&!pxUtil.hasClass(this.element,h.COLLAPSE)?"collapse":"expand"]()}},{key:"expand",value:function(){("phone"===this._curMode||this.isCollapsed())&&("phone"===this._curMode&&pxUtil.hasClass(this.element,h.EXPAND)||this._triggerPreventableEvent("EXPAND",this.element)&&("phone"!==this._curMode&&this.closeAllDropdowns(),this.config.enableTooltips&&this._clearTooltips(),this._changeNavState(function(){var c=this;if("desktop"!==this._curMode){var d=this;a(this.element).parent().find("> ."+h.EXPAND).each(function(){this!==d.element&&a(this)[b]("collapse")}),a(this.dimmer).on(this.constructor.Event.CLICK,function(){return c.collapse()}),pxUtil.addClass(this.element,h.EXPAND)}else pxUtil.removeClass(this.element,h.COLLAPSE);this._triggerEvent("EXPANDED",this.element)})))}},{key:"collapse",value:function(){this.isCollapsed()||this._triggerPreventableEvent("COLLAPSE",this.element)&&this._changeNavState(function(){"desktop"!==this._curMode?(a(this.dimmer).off("click"),pxUtil.removeClass(this.element,h.EXPAND)):pxUtil.addClass(this.element,h.COLLAPSE),a(window).trigger("scroll"),this._triggerEvent("COLLAPSED",this.element)})}},{key:"isFixed",value:function(){return pxUtil.hasClass(this.element,h.FIXED)}},{key:"isStatic",value:function(){return pxUtil.hasClass(this.element,h.STATIC)}},{key:"isCollapsed",value:function(){return this._isCollapsed}},{key:"activateItem",value:function(c){var d=this._getNode(c,h.ITEM);if(!pxUtil.hasClass(d,h.DROPDOWN)&&(a(this.element).find("."+h.ITEM+"."+h.ACTIVE).removeClass(h.ACTIVE),pxUtil.addClass(d,h.ACTIVE),!pxUtil.hasClass(d.parentNode,h.CONTENT)))if(pxUtil.hasClass(d.parentNode,h.DROPDOWN_MENU_WRAPPER)){var e=a(d).parents("."+h.DROPDOWN_MENU).data("dropdown");if(!e)return;e.addClass(h.ACTIVE)}else{var f=a(d).parents("."+h.DROPDOWN)[0],g=void 0;for(this.openDropdown(f,!1);f;)if(pxUtil.addClass(f,h.ACTIVE),pxUtil.hasClass(f.parentNode,h.DROPDOWN_MENU_WRAPPER)){if(g=a(f).parents("."+h.DROPDOWN_MENU).data("dropdown"),f=null,!g)return;pxUtil.addClass(g,h.ACTIVE)}else g=f,f=a(f).parents("."+h.DROPDOWN)[0];this.isCollapsed()&&(a(this.content).find(i.OPENED_DROPDOWNS).removeClass(h.OPEN),pxUtil.addClass(g,h.OPEN))}}},{key:"openDropdown",value:function(c){var d=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],e=this._getNode(c);if((!this.isStatic()||this._isFloatingDropdown(e))&&(this._isFloatingDropdown(e)&&!d||this.isDropdownOpened(e)||this._triggerPreventableEvent("DROPDOWN_OPEN",e))){for(var f=this.isDropdownOpened(e)?[]:[e],g=e;g=a(g).parents("."+h.DROPDOWN)[0];)this.isDropdownOpened(g)||f.push(g);var i=f.pop();if(i){for(var j=0,k=f.length;j<k;j++)this._expandDropdown(f[j],!1);if(this._isFloatingDropdown(i)){if(!d)return;this._showDropdown(i)}else this._expandDropdown(i,!0)}}}},{key:"closeDropdown",value:function(b){var c=this._getNode(b);this.isDropdownOpened(c)&&(this.isStatic()&&!this._isFloatingDropdown(c)||this._triggerPreventableEvent("DROPDOWN_CLOSE",c)&&(this._isFloatingDropdown(c)?this._hideDropdown(c):this._collapseDropdown(c,!0)))}},{key:"toggleDropdown",value:function(b){var c=this._getNode(b);this[this.isDropdownOpened(c)?"closeDropdown":"openDropdown"](c)}},{key:"closeAllDropdowns",value:function(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a(this.element).find("."+h.CONTENT);this._closeAllDropdowns(this._getNode(c,null))}},{key:"freezeDropdown",value:function(b){var c=this._getNode(b);this._isFloatingDropdown(c)&&this.isDropdownOpened(c)&&(pxUtil.hasClass(c,h.FREEZE)||(pxUtil.addClass(c,h.FREEZE),this._clearDropdownTimer(c),this._triggerEvent("DROPDOWN_FROZEN",c)))}},{key:"unfreezeDropdown",value:function(b){var c=this._getNode(b);this._isFloatingDropdown(c)&&this.isDropdownOpened(c)&&pxUtil.hasClass(c,h.FREEZE)&&(pxUtil.removeClass(c,h.FREEZE),this._triggerEvent("DROPDOWN_UNFROZEN",c))}},{key:"getDropdownContainer",value:function(c){var d=this._getNode(c);return this._isFloatingDropdown(d)&&this.isDropdownOpened(d)?a(a(d).data("dropdown")).find("."+h.DROPDOWN_MENU_WRAPPER):a(d).find(i.DROPDOWN_MENU)}},{key:"isFloatingDropdown",value:function(b){return this._isFloatingDropdown(this._getNode(b))}},{key:"isDropdownOpened",value:function(b){var c=this._getNode(b),d=this._isRootDropdown(c),e=this.isCollapsed();return e&&d&&pxUtil.hasClass(c,h.SHOW)||e&&!d&&pxUtil.hasClass(c,h.OPEN)||!e&&pxUtil.hasClass(c,h.OPEN)}},{key:"isDropdownFrozen",value:function(b){return pxUtil.hasClass(this._getNode(b),h.FREEZE)}},{key:"append",value:function(b){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.insert(b,null,c)}},{key:"prepend",value:function(b){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.insert(b,0,c)}},{key:"insert",value:function(c,d){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,f=this._getNodeOrCreate(c,h.ITEM,!1);if(f.hasClass(h.DROPDOWN)&&!f.find(i.DROPDOWN_MENU).length)throw new Error("The ."+h.DROPDOWN+" item(s) must contain the child ."+h.DROPDOWN_MENU+" element.");var g=null===e?a(this.content):this._getNode(e,h.DROPDOWN,!1),j=void 0;if(g.hasClass(h.CONTENT))j=g;else if(j=this._isFloatingDropdown(g[0])&&this.isDropdownOpened(g[0])?a(g.data("dropdown")).find("."+h.DROPDOWN_MENU_WRAPPER):g.find(i.DROPDOWN_MENU),!j.length)throw new Error("Targeted element is not found.");var k=j.find(i.ITEM);if(k.length)if(null===d)f.insertAfter(k.last());else{var l=k.eq(d);l.length?f.insertBefore(l):f.insertAfter(k.last())}else j.append(f);return!this.isCollapsed()||g.hasClass(h.CONTENT)?this._updateScrollbar(this.content):j.hasClass(h.DROPDOWN_MENU_WRAPPER)?this._updateScrollbar(j[0]):this._updateScrollbar(j.parents("."+h.DROPDOWN_MENU_WRAPPER)[0]),f}},{key:"remove",value:function(c){var d=this._getNode(c,h.ITEM,!1),e=d.parent();d.hasClass(h.DROPDOWN)&&a(d.data("dropdown")).remove(),d.remove(),!this.isCollapsed()||e.hasClass(h.CONTENT)?this._updateScrollbar(this.content):e.hasClass(h.DROPDOWN_MENU_WRAPPER)?this._updateScrollbar(e[0]):this._updateScrollbar(e.parents("."+h.DROPDOWN_MENU_WRAPPER)[0])}},{key:"destroy",value:function(){if(this._triggerPreventableEvent("DESTROY",this.element)){this._unsetListeners(),a(this.element).removeData(c),pxUtil.removeClass(this.element,h.ANIMATE),pxUtil.removeClass(this.element,h.TRANSITIONING),pxUtil.removeClass(this.element,h.EXPAND),this.isCollapsed()&&this.closeAllDropdowns();var d=0;a(this.element.parentNode).find("> ."+h.NAV).each(function(){a(this).data(c)&&d++}),d||a(this.dimmer).remove(),a(this.element).find("."+h.CONTENT).perfectScrollbar("destroy"),a(this.content).unwrap(i.SCROLLABLE_AREA)}}},{key:"_getNode",value:function(c){var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.DROPDOWN,e=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],f="string"==typeof c?a(this.element).find(c):a(c);if(!f.length)throw new Error("Element is not found.");if(d&&!f.hasClass(d))throw new Error("Element(s) must have the ."+d+" class.");return e?f[0]:f}},{key:"_getNodeOrCreate",value:function(c){var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.DROPDOWN,e=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this._getNode("string"!=typeof c||"#"!==c[0]&&"."!==c[0]?a(c):c,d,e)}},{key:"_detectActiveItem",value:function(){var c=a(this.content).find("."+h.ITEM+"."+h.ACTIVE+":not(."+h.DROPDOWN+")");c.length&&this.activateItem(c.first())}},{key:"_expandDropdown",value:function(c){function f(){e.removeClass(h.TRANSITIONING).height(""),this._updateScrollbar(this.isCollapsed()?a(c).parents("."+h.DROPDOWN_MENU_WRAPPER)[0]:this.content),this._triggerEvent("DROPDOWN_OPENED",c)}var d=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!pxUtil.hasClass(c,h.OPEN)){var e=a(c).find(i.DROPDOWN_MENU);if(this.config.accordion&&this._closeAllDropdowns(c.parentNode,d,a(c)),pxUtil.addClass(c,h.OPEN),!a.support.transition||!d)return f.call(this);e.height(0).addClass(h.TRANSITIONING).one("bsTransitionEnd",a.proxy(f,this)).emulateTransitionEnd(this.config.transitionDuration).height(e[0].scrollHeight)}}},{key:"_collapseDropdown",value:function(c){function f(){pxUtil.removeClass(c,h.OPEN),e.removeClass(h.TRANSITIONING).height(""),a(c).find("."+h.OPEN).removeClass(h.OPEN),this._updateScrollbar(this.isCollapsed()?a(c).parents("."+h.DROPDOWN_MENU_WRAPPER)[0]:this.content),this._triggerEvent("DROPDOWN_CLOSED",c)}var d=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(pxUtil.hasClass(c,h.OPEN)){var e=a(c).find(i.DROPDOWN_MENU);if(!a.support.transition||!d)return f.call(this);e.height(e.height())[0].offsetHeight,e.addClass(h.TRANSITIONING).height(0).one("bsTransitionEnd",a.proxy(f,this)).emulateTransitionEnd(this.config.transitionDuration)}}},{key:"_showDropdown",value:function(c){var d=this;if(!pxUtil.hasClass(c,h.SHOW)&&this._isRootDropdown(c)){var e=c.parentNode.parentNode,f=a(c).find(i.DROPDOWN_MENU)[0];if(f){this.closeAllDropdowns();var g=c.parentNode.offsetTop,j=c.offsetTop-c.parentNode.scrollTop,l=a('<div class="'+h.DROPDOWN_MENU_TITLE+'"></div>').html(a(c).find(i.ITEM_LABEL).html()).prependTo(f);pxUtil.addClass(c,h.SHOW),pxUtil.addClass(f,h.SHOW),e.appendChild(f);var m=a(c).outerHeight(),n=a(f).find(i.ITEM),o=n.first().find("> a").outerHeight(),p=a(this.element).outerHeight()-g,q=l.outerHeight(),r=q+3*o,s=a('<div class="'+h.DROPDOWN_MENU_WRAPPER+'"></div>').append(n).appendTo(f)[0],t=void 0;j+r>p?(t=j,this.isFixed()||"tablet"===this._curMode?f.style.bottom=p-j-m+"px":f.style.bottom="0px",pxUtil.addClass(f,h.DROPDOWN_MENU_TOP),f.appendChild(l[0])):(t=p-j-q,f.style.top=g+j+"px",f.insertBefore(l[0],f.firstChild)),s.style.maxHeight=t-10+"px",a(s).perfectScrollbar(k),a(f).on(this.constructor.Event.MOUSEENTER,function(){return d._clearDropdownTimer(c)}).on(this.constructor.Event.MOUSELEAVE,function(){return d._setDropdownTimer(c)}),a(c).data("dropdown",f),a(f).data("element",c),this._updateScrollbar(c.parentNode),this._triggerEvent("DROPDOWN_OPENED",c)}}}},{key:"_hideDropdown",value:function(c){if(pxUtil.hasClass(c,h.SHOW)){var d=a(c).data("dropdown");if(d){pxUtil.removeClass(c,[h.SHOW,h.FREEZE]),pxUtil.removeClass(d,h.SHOW),pxUtil.removeClass(d,h.DROPDOWN_MENU_TOP),this.unfreezeDropdown(c);var e=a(d).find("."+h.DROPDOWN_MENU_WRAPPER);a(d).find("."+h.DROPDOWN_MENU_TITLE).remove(),a(d).append(e.find(i.ITEM)),e.perfectScrollbar("destroy").remove(),d.setAttribute("style",""),c.appendChild(d),a(c).data("dropdown",null),a(d).data("element",null),this._clearDropdownTimer(c),a(d).off("mouseenter").off("mouseleave"),this._updateScrollbar(c.parentNode),this._triggerEvent("DROPDOWN_CLOSED",c)}}}},{key:"_showTooltip",value:function(c){this._clearTooltips();var d=a(c).find(".px-nav-label").contents().filter(function(){return 3===this.nodeType}).text(),e=a('<div class="'+h.TOOLTIP+'"></div>').text(d)[0],f=c.parentNode.offsetTop,g=c.offsetTop-c.parentNode.scrollTop;e.style.top=f+g+"px",a(e).data("dropdown",c),c.parentNode.parentNode.appendChild(e)}},{key:"_updateTooltipPosition",value:function(){var c=a(this.element).find("."+h.TOOLTIP)[0];if(c){var d=a(c).data("dropdown");if(!d)return void a(c).remove();var e=d.parentNode.offsetTop,f=d.offsetTop-d.parentNode.scrollTop;c.style.top=e+f+"px"}}},{key:"_clearTooltips",value:function(){a(this.element).find("."+h.TOOLTIP).remove()}},{key:"_closeAllDropdowns",value:function(c,d){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,f=this,g=void 0,j=void 0,k=c;this.isCollapsed()&&pxUtil.hasClass(k,h.CONTENT)?(g=i.SHOWN_DROPDOWNS,j="_hideDropdown"):(this._isFloatingDropdown(k)&&this.isDropdownOpened(k)?k=a(a(k).data("dropdown")).find("."+h.DROPDOWN_MENU_WRAPPER)[0]:pxUtil.hasClass(k,h.DROPDOWN)&&(k=a(k).find(i.DROPDOWN_MENU)[0]),g=i.OPENED_DROPDOWNS,j="_collapseDropdown"),a(k).find(g).each(function(){e&&e===a(this)||f[j](this,d)})}},{key:"_isRootDropdown",value:function(b){return pxUtil.hasClass(b.parentNode,h.CONTENT)}},{key:"_isFloatingDropdown",value:function(b){return this.isCollapsed()&&this._isRootDropdown(b)}},{key:"_getNavState",value:function(){return("phone"===this._curMode||"tablet"===this._curMode)&&!pxUtil.hasClass(this.element,h.EXPAND)||"desktop"===this._curMode&&pxUtil.hasClass(this.element,h.COLLAPSE)}},{key:"_setDropdownTimer",value:function(c){var d=this;if(!this.isDropdownFrozen(c)){this._clearDropdownTimer(c);var e=setTimeout(function(){d.isDropdownFrozen(c)||d._hideDropdown(c)},this.config.dropdownCloseDelay);a(c).data("timer",e)}}},{key:"_clearDropdownTimer",value:function(c){var d=a(c).data("timer");d&&clearTimeout(d)}},{key:"_updateScrollbar",value:function(c){c&&pxUtil.hasClass(c,h.PERFECT_SCROLLBAR_CONTAINER)&&a(c).perfectScrollbar("update")}},{key:"_changeNavState",value:function(c){function d(){this._stateChanging=this._stateChanging<2?0:this._stateChanging-1,this._stateChanging||pxUtil.removeClass(this.element,h.NAV_TRANSITIONING),this._updateScrollbar(this.content),pxUtil.triggerResizeEvent()}if(this._stateChanging++,this.config.animate&&a.support.transition&&pxUtil.addClass(this.element,h.NAV_TRANSITIONING),c.call(this),this._isCollapsed=this._getNavState(),this._storeNavState(),!this.config.animate||!a.support.transition)return d.call(this);a(this.element).one("bsTransitionEnd",a.proxy(d,this)).emulateTransitionEnd(this.config.transitionDuration)}},{key:"_getMode",value:function(){var b=window.PixelAdmin.getScreenSize(),c=void 0;if(-1!==this.config.modes.phone.indexOf(b))c="phone";else if(-1!==this.config.modes.tablet.indexOf(b))c="tablet";else{if(-1===this.config.modes.desktop.indexOf(b))throw new Error("Cannot determine PxNav mode.");c="desktop"}return c}},{key:"_prefixStorageKey",value:function(b){return this.config.storagePrefix+(pxUtil.hasClass(this.element,h.NAV_LEFT)?"left.":"right.")+b}},{key:"_storeNavState",value:function(){if(this.config.storeState){var b=this._prefixStorageKey("state"),c=pxUtil.hasClass(this.element,h.COLLAPSE)?"collapsed":"expanded";window.PixelAdmin.storage.set(b,c)}}},{key:"_restoreNavState",value:function(){if(this.config.storeState){var b=this._prefixStorageKey("state"),c=window.PixelAdmin.storage.get(b)||"expanded";pxUtil["collapsed"===c?"addClass":"removeClass"](this.element,h.COLLAPSE),this._isCollapsed=this._getNavState(),pxUtil.triggerResizeEvent()}}},{key:"_checkNavbarPosition",value:function(){if(this.isFixed()){var c=a(this.element).find(i.NEAR_NAVBAR)[0];c&&(pxUtil.hasClass(c.parentNode,h.NAVBAR_FIXED)||(console.warn("The "+(pxUtil.hasClass(this.element,h.NAV_LEFT)?"left":"right")+" .px-nav is fixed, but the coterminous .px-navbar isn't. You need to explicitly add the ."+h.NAVBAR_FIXED+" class to the parent element to fix the navbar."),pxUtil.addClass(c.parentNode,h.NAVBAR_FIXED)))}}},{key:"_setupMarkup",value:function(){var c=a(this.element).parent();if(c.find("> ."+h.DIMMER).length||c.append('<div class="'+h.DIMMER+'"></div>'),!a.fn.perfectScrollbar)throw new Error('Scrolling feature requires the "perfect-scrollbar" plugin included.');var d=a(this.content);d.length&&d.wrap('<div class="'+h.SCROLLABLE_AREA+'"></div>').perfectScrollbar(k)}},{key:"_setListeners",value:function(){var c=this,d=this;a(window).on(this.constructor.Event.RESIZE+"."+this.uniqueId,function(){d._curMode=d._getMode(),d._isCollapsed=d._getNavState(),d.isCollapsed()&&d.closeAllDropdowns(),d.config.enableTooltips&&d._clearTooltips(),d._updateScrollbar(d.content)}),a(this.element).on(this.constructor.Event.CLICK,i.DROPDOWN_LINK,function(a){a.preventDefault();var b=this.parentNode;d._isFloatingDropdown(b)?d.isDropdownOpened(b)?d[d.isDropdownFrozen(b)?"closeDropdown":"freezeDropdown"](b):(d.openDropdown(b),d.freezeDropdown(b)):d.toggleDropdown(b)}),a(this.content).on(this.constructor.Event.MOUSEENTER,i.DROPDOWN_LINK,function(){if(!window.PixelAdmin.isMobile){var b=this.parentNode;if(d._isFloatingDropdown(b)&&!pxUtil.hasClass(d.element,h.OFF_CANVAS))if(d.isDropdownOpened(b))d._clearDropdownTimer(b);else{if(a(d.element).find(i.FROZEN_DROPDOWNS).length)return;d.openDropdown(b)}}}).on(this.constructor.Event.MOUSELEAVE,i.DROPDOWN_LINK,function(){if(!window.PixelAdmin.isMobile){var a=this.parentNode;d._isFloatingDropdown(a)&&d.isDropdownOpened(a)&&d._setDropdownTimer(a)}}).on(this.constructor.Event.MOUSEENTER,i.ROOT_LINK,function(){window.PixelAdmin.isMobile||d.config.enableTooltips&&d.isCollapsed()&&!pxUtil.hasClass(d.element,h.OFF_CANVAS)&&d._showTooltip(this.parentNode)}).on(this.constructor.Event.MOUSELEAVE,i.ROOT_LINK,function(){window.PixelAdmin.isMobile||d.config.enableTooltips&&d._clearTooltips()}).on(this.constructor.Event.SCROLL,function(){c.isCollapsed()&&(c.config.enableTooltips&&c._updateTooltipPosition(),c.closeAllDropdowns())})}},{key:"_unsetListeners",value:function(){a(window).off(this.constructor.Event.RESIZE+"."+this.uniqueId),a(this.element).off(d),a(this.content).off(d).find("."+h.DROPDOWN_MENU).off(d),"desktop"!==this._curMode&&pxUtil.hasClass(this.element,h.EXPAND)&&a(this.dimmer).off(d)}},{key:"_enableAnimation",value:function(){var b=this;this.config.animate&&(pxUtil.addClass(this.element,["off",h.ANIMATE]),setTimeout(function(){pxUtil.removeClass(b.element,"off")},this.config.transitionDuration))}},{key:"_triggerEvent",value:function(c,d){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};a(this.element).trigger(a.Event(this.constructor.Event[c],{target:d}),[e])}},{key:"_triggerPreventableEvent",value:function(c,d){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},f=a.Event(this.constructor.Event[c],{target:d});return a(this.element).trigger(f,[e]),!f.isDefaultPrevented()}},{key:"_getConfig",value:function(c){return a.extend({},this.constructor.Default,a(this.element).data(),c)}}],[{key:"_jQueryInterface",value:function(d){for(var f=arguments.length,g=Array(f>1?f-1:0),h=1;h<f;h++)g[h-1]=arguments[h];var i=void 0,j=this.each(function(){var b=a(this).data(c),f="object"===(void 0===d?"undefined":_typeof(d))?d:null;if(b||(b=new e(this,f),a(this).data(c,b)),"string"==typeof d){if(!b[d])throw new Error('No method named "'+d+'"');i=b[d].apply(b,g)}});return void 0!==i?i:j}},{key:"Default",get:function(){return g}},{key:"NAME",get:function(){return b}},{key:"DATA_KEY",get:function(){return c}},{key:"Event",get:function(){return j}},{key:"EVENT_KEY",get:function(){return d}}]),e}();return a(document).on(j.CLICK_DATA_API,i.DATA_TOGGLE,function(b){b.preventDefault();var d=a(a(this).data("target"));d.length||(d=a(this).parents("."+h.NAV)),d.length&&(d.data(c)||l._jQueryInterface.call(d,a(this).data()),l._jQueryInterface.call(d,"toggle"))}),a.fn[b]=l._jQueryInterface,a.fn[b].Constructor=l,a.fn[b].noConflict=function(){return a.fn[b]=f,l._jQueryInterface},l}(jQuery),_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),PxFooter=function(a){"use strict";var b="pxFooter",c="px.footer",d="."+c,e=a.fn[b],f={CONTENT:"px-content",BOTTOM:"px-footer-bottom",FIXED:"px-footer-fixed"},g={RESIZE:"resize"+d,SCROLL:"scroll"+d,NAV_EXPANDED:"expanded.px.nav",NAV_COLLAPSED:"collapsed.px.nav",DROPDOWN_OPENED:"dropdown-opened.px.nav",DROPDOWN_CLOSED:"dropdown-closed.px.nav"},h=function(){function e(a){_classCallCheck(this,e),this.uniqueId=pxUtil.generateUniqueId(),this.element=a,this.parent=this._getParent(a),this._setListeners(),this.update()}return _createClass(e,[{key:"update",value:function(){this.parent===document.body&&(this._curScreenSize=window.PixelAdmin.getScreenSize(),this._updateBodyMinHeight());var c=a(this.element.parentNode).find("> ."+f.CONTENT)[0];if(!pxUtil.hasClass(this.element,f.BOTTOM)&&!pxUtil.hasClass(this.element,f.FIXED))return void(c.style.paddingBottom=c.setAttribute("style",(c.getAttribute("style")||"").replace(/\s*padding-bottom:\s*\d+px\s*;?/i)));c.style.paddingBottom=a(this.element).outerHeight()+20+"px"}},{key:"destroy",value:function(){this._unsetListeners(),a(this.element).removeData(c),a(document.body).css("min-height","");var d=a(this.element.parentNode).find("> ."+f.CONTENT)[0];d.style.paddingBottom=d.setAttribute("style",(d.getAttribute("style")||"").replace(/\s*padding-bottom:\s*\d+px\s*;?/i))}},{key:"_getParent",value:function(b){for(var c=b.parentNode;"ui-view"===c.nodeName.toLowerCase();)c=c.parentNode;return c}},{key:"_updateBodyMinHeight",value:function(){document.body.style.minHeight&&(document.body.style.minHeight=null),"lg"!==this._curScreenSize&&"xl"!==this._curScreenSize||!pxUtil.hasClass(this.element,f.BOTTOM)||a(document.body).height()>=document.body.scrollHeight||(document.body.style.minHeight=document.body.scrollHeight+"px")}},{key:"_setListeners",value:function(){a(window).on(this.constructor.Event.RESIZE+"."+this.uniqueId,a.proxy(this.update,this)).on(this.constructor.Event.SCROLL+"."+this.uniqueId,a.proxy(this._updateBodyMinHeight,this)).on(this.constructor.Event.NAV_EXPANDED+"."+this.uniqueId+" "+this.constructor.Event.NAV_COLLAPSED+"."+this.uniqueId,".px-nav",a.proxy(this._updateBodyMinHeight,this)),this.parent===document.body&&a(".px-nav").on(this.constructor.Event.DROPDOWN_OPENED+"."+this.uniqueId+" "+this.constructor.Event.DROPDOWN_CLOSED+"."+this.uniqueId,".px-nav-dropdown",a.proxy(this._updateBodyMinHeight,this))}},{key:"_unsetListeners",value:function(){a(window).off(this.constructor.Event.RESIZE+"."+this.uniqueId+" "+this.constructor.Event.SCROLL+"."+this.uniqueId).off(this.constructor.Event.NAV_EXPANDED+"."+this.uniqueId+" "+this.constructor.Event.NAV_COLLAPSED+"."+this.uniqueId),a(".px-nav").off(this.constructor.Event.DROPDOWN_OPENED+"."+this.uniqueId+" "+this.constructor.Event.DROPDOWN_CLOSED+"."+this.uniqueId)}}],[{key:"_jQueryInterface",value:function(d){return this.each(function(){var b=a(this).data(c);if(b||(b=new e(this),a(this).data(c,b)),"string"==typeof d){if(!b[d])throw new Error('No method named "'+d+'"');b[d]()}})}},{key:"NAME",get:function(){return b}},{key:"DATA_KEY",get:function(){return c}},{key:"Event",get:function(){return g}},{key:"EVENT_KEY",get:function(){return d}}]),e}();return a.fn[b]=h._jQueryInterface,a.fn[b].Constructor=h,a.fn[b].noConflict=function(){return a.fn[b]=e,h._jQueryInterface},h}(jQuery),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_slicedToArray=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var h,g=a[Symbol.iterator]();!(d=(h=g.next()).done)&&(c.push(h.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{!d&&g.return&&g.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),PxWizard=function(a){"use strict";var b="pxWizard",c="px.wizard",d="."+c,e=a.fn[b],f={minStepWidth:200},g={WRAPPER:"wizard-wrapper",STEPS:"wizard-steps",PANE:"wizard-pane",FROZEN:"frozen",FINISHED:"finished",ACTIVE:"active",COMPLETED:"completed"},h={RESIZE:"resize"+d,CLICK:"click"+d,CHANGE:"stepchange"+d,CHANGED:"stepchanged"+d,FINISH:"finish"+d,FINISHED:"finished"+d,FROZEN:"frozen"+d,UNFROZEN:"unfrozen"+d,RESETED:"reseted"+d,DESTROY:"destroy"+d},i=function(){function e(b,c){_classCallCheck(this,e),this.uniqueId=pxUtil.generateUniqueId(),this.element=b,this.steps=a(b).find("."+g.STEPS)[0],this.stepItems=a(this.steps).find("li"),this.wrapper=a(b).find("."+g.WRAPPER)[0],this.config=this._getConfig(c),this.activeStep=null,this._isRtl="rtl"===a("html").attr("dir"),this._resetStepsWidth(),this.resizeStepItems(),this.goTo(this.getActiveStepIndex()),this._setListeners()}return _createClass(e,[{key:"resizeStepItems",value:function(){for(var c=this.stepItems.length,d=a(this.wrapper).width(),e=this.config.minStepWidth*c,f=d>e?Math.floor(d/c):this.config.minStepWidth,g=0;g<c;g++)this._setStrictWidth(this.stepItems[g],f);null!==this.activeStep&&this._placeStepsContainer()}},{key:"getActiveStepIndex",value:function(){var c=this.activeStep||a(this.steps).find("li."+g.ACTIVE)[0];return c?this._getStepIndex(c):0}},{key:"getStepCount",value:function(){return this.stepItems.length}},{key:"goTo",value:function(b){if(!this.isFrozen()&&!this.isFinished()){var c=void 0,d=void 0,e=void 0,f=this._getStepItemAndTarget(b),g=_slicedToArray(f,3);d=g[0],c=g[1],e=g[2];var h=this.activeStep?this._getStepIndex(this.activeStep):null;if(null===h||d!==h){if(null!==h){if(!this._triggerPreventableEvent("CHANGE",this.element,{activeStepIndex:h,nextStepIndex:d}))return}this.activeStep=c,this._activateStepItem(c,d),this._activateStepPane(e),null!==h&&this._triggerEvent("CHANGED",this.element,{prevStepIndex:h,activeStepIndex:d})}}}},{key:"getPaneByIndex",value:function(c){var f=void 0,g=this._getStepItemAndTarget(c),h=_slicedToArray(g,3);return h[0],h[1],f=h[2],a(f)}},{key:"getActivePane",value:function(){return this.getPaneByIndex(this.getActiveStepIndex())}},{key:"goNext",value:function(){if(!this.isFrozen()&&!this.isFinished()){var b=this._getStepIndex(this.activeStep)+1;if(b>=this.stepItems.length)return this.finish();this.goTo(b)}}},{key:"goPrev",value:function(){if(!this.isFrozen()&&!this.isFinished()){var b=this._getStepIndex(this.activeStep)-1;b<0||this.goTo(b)}}},{key:"finish",value:function(){if(!this.isFrozen()&&!this.isFinished()&&this._triggerPreventableEvent("FINISH",this.element)){var b=this._getStepIndex(this.activeStep),c=this.stepItems.length-1;b!==c&&this.goTo(c),pxUtil.addClass(this.element,g.FINISHED),this.freeze(),this._triggerEvent("FINISHED",this.element)}}},{key:"isFinished",value:function(){return pxUtil.hasClass(this.element,g.FINISHED)}},{key:"freeze",value:function(){pxUtil.addClass(this.element,g.FROZEN),this._triggerEvent("FROZEN",this.element)}},{key:"unfreeze",value:function(){this.isFinished()||(pxUtil.removeClass(this.element,g.FROZEN),this._triggerEvent("UNFROZEN",this.element))}},{key:"isFrozen",value:function(){return pxUtil.hasClass(this.element,g.FROZEN)}},{key:"reset",value:function(){var b=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];pxUtil.removeClass(this.element,g.FROZEN),pxUtil.removeClass(this.element,g.FINISHED),b&&this.goTo(0),this._triggerEvent("RESETED",this.element)}},{key:"destroy",value:function(){this._triggerPreventableEvent("DESTROY",this.element)&&(this._unsetListeners(),a(this.element).removeData(c))}},{key:"_resetStepsWidth",value:function(){this.steps.style.width="auto"}},{key:"_setStrictWidth",value:function(b,c){b.style.minWidth=c+"px",b.style.maxWidth=c+"px",b.style.width=c+"px"}},{key:"_getStepItemAndTarget",value:function(b){var c=void 0,d=void 0;if("number"==typeof b){if(c=this.stepItems[b],d=b,!c)throw new Error('Step item with index "'+b+'" is not found.')}else c=b[0]||b,d=this._getStepIndex(c);var e=c.getAttribute("data-target");if(!e)throw new Error('The step item has invalid "data-target" attribute.');return[d,c,e]}},{key:"_activateStepItem",value:function(b,c){pxUtil.addClass(b,g.ACTIVE),pxUtil.removeClass(b,g.COMPLETED);for(var d=0;d<c;d++)pxUtil.addClass(this.stepItems[d],g.COMPLETED),pxUtil.removeClass(this.stepItems[d],g.ACTIVE);for(var e=c+1,f=this.stepItems.length;e<f;e++)pxUtil.removeClass(this.stepItems[e],g.ACTIVE),pxUtil.removeClass(this.stepItems[e],g.COMPLETED);this._placeStepsContainer()}},{key:"_activateStepPane",value:function(c){for(var d=a(this.element).find("."+g.PANE+"."+g.ACTIVE),e=0,f=d.length;e<f;e++)pxUtil.removeClass(d[e],g.ACTIVE);pxUtil.addClass(a(this.element).find(c)[0],g.ACTIVE)}},{key:"_placeStepsContainer",value:function(){var c=a(this.wrapper).width(),d=a(this.steps).width(),e=a(this.activeStep).outerWidth(),f=Math.floor((c-e)/2),g=a(this.activeStep).position().left,h=void 0;this._isRtl&&(g=d-g-e),d>c&&g>f?(h=-1*g+f,d+h<c&&(h=-1*d+c)):h=0,this.steps.style[this._isRtl?"right":"left"]=h+"px"}},{key:"_getStepIndex",value:function(b){for(var c=void 0,d=0,e=this.stepItems.length;d<e;d++)if(b===this.stepItems[d]){c=d;break}if(void 0===c)throw new Error("Cannot find step item index.");return c}},{key:"_setListeners",value:function(){var c=this;a(window).on(this.constructor.Event.RESIZE+"."+this.uniqueId,a.proxy(this.resizeStepItems,this)),a(this.steps).on(this.constructor.Event.CLICK,"> li",function(){pxUtil.hasClass(this,g.COMPLETED)&&c.goTo(this)}),a(this.element).on(this.constructor.Event.CLICK,"[data-wizard-action]",function(){var a=this.getAttribute("data-wizard-action");if("next"===a)return c.goNext();if("prev"===a)return c.goPrev();if("finish"===a)return c.finish();throw new Error('Action "'+a+'" is not found.')})}},{key:"_unsetListeners",value:function(){a(window).off(this.constructor.Event.RESIZE+"."+this.uniqueId),a(this.element).off(d),a(this.steps).off(d)}},{key:"_triggerEvent",value:function(c,d){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};a(this.element).trigger(a.Event(this.constructor.Event[c],{target:d}),[e])}},{key:"_triggerPreventableEvent",value:function(c,d){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},f=a.Event(this.constructor.Event[c],{target:d});return a(this.element).trigger(f,[e]),!f.isDefaultPrevented()}},{key:"_getConfig",value:function(c){return a.extend({},this.constructor.Default,a(this.element).data(),c)}}],[{key:"_jQueryInterface",value:function(d){for(var f=arguments.length,g=Array(f>1?f-1:0),h=1;h<f;h++)g[h-1]=arguments[h];var i=void 0,j=this.each(function(){var b=a(this).data(c),f="object"===(void 0===d?"undefined":_typeof(d))?d:null;if(b||(b=new e(this,f),a(this).data(c,b)),"string"==typeof d){if(!b[d])throw new Error('No method named "'+d+'".');i=b[d].apply(b,g)}});return void 0!==i?i:j}},{key:"Default",get:function(){return f}},{key:"NAME",get:function(){return b}},{key:"DATA_KEY",get:function(){return c}},{key:"Event",get:function(){return h}},{key:"EVENT_KEY",get:function(){return d}}]),e}();return a.fn[b]=i._jQueryInterface,a.fn[b].Constructor=i,a.fn[b].noConflict=function(){return a.fn[b]=e,i._jQueryInterface},i}(jQuery);!function(b){function d(){return"Markdown.mk_block( "+uneval(this.toString())+", "+uneval(this.trailing)+", "+uneval(this.lineNumber)+" )"}function e(){var a=require("util");return"Markdown.mk_block( "+a.inspect(this.toString())+", "+a.inspect(this.trailing)+", "+a.inspect(this.lineNumber)+" )"}function g(a){for(var b=0,c=-1;-1!==(c=a.indexOf("\n",c+1));)b++;return b}function h(a,b){function e(a){this.len_after=a,this.name="close_"+b}var c=a+"_state",d="strong"==a?"em_state":"strong_state";return function(f,g){if(this[c][0]==b)return this[c].shift(),[f.length,new e(f.length-b.length)];var h=this[d].slice(),i=this[c].slice();this[c].unshift(b);var j=this.processInline(f.substr(b.length)),k=j[j.length-1];this[c].shift();if(k instanceof e){j.pop();return[f.length-k.len_after,[a].concat(j)]}return this[d]=h,this[c]=i,[b.length,b]}}function i(a){for(var b=a.split(""),c=[""],d=!1;b.length;){var e=b.shift();switch(e){case" ":d?c[c.length-1]+=e:c.push("");break;case"'":case'"':d=!d;break;case"\\":e=b.shift();default:c[c.length-1]+=e}}return c}function m(a){return j(a)&&a.length>1&&"object"==typeof a[1]&&!j(a[1])?a[1]:void 0}function n(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function o(a){if("string"==typeof a)return n(a);var b=a.shift(),c={},d=[];for(!a.length||"object"!=typeof a[0]||a[0]instanceof Array||(c=a.shift());a.length;)d.push(o(a.shift()));var e="";for(var f in c)e+=" "+f+'="'+n(c[f])+'"';return"img"==b||"br"==b||"hr"==b?"<"+b+e+"/>":"<"+b+e+">"+d.join("")+"</"+b+">"}function q(a,b,c){var d;c=c||{};var e=a.slice(0);"function"==typeof c.preprocessTreeNode&&(e=c.preprocessTreeNode(e,b));var f=m(e);if(f){e[1]={};for(d in f)e[1][d]=f[d];f=e[1]}if("string"==typeof e)return e;switch(e[0]){case"header":e[0]="h"+e[1].level,delete e[1].level;break;case"bulletlist":e[0]="ul";break;case"numberlist":e[0]="ol";break;case"listitem":e[0]="li";break;case"para":e[0]="p";break;case"markdown":e[0]="html",f&&delete f.references;break;case"code_block":e[0]="pre",d=f?2:1;var g=["code"];g.push.apply(g,e.splice(d,e.length-d)),e[d]=g;break;case"inlinecode":e[0]="code";break;case"img":e[1].src=e[1].href,delete e[1].href;break;case"linebreak":e[0]="br";break;case"link":e[0]="a";break;case"link_ref":e[0]="a";var h=b[f.ref];if(!h)return f.original;delete f.ref,f.href=h.href,h.title&&(f.title=h.title),delete f.original;break;case"img_ref":e[0]="img";var h=b[f.ref];if(!h)return f.original;delete f.ref,f.src=h.href,h.title&&(f.title=h.title),delete f.original}if(d=1,f){for(var i in e[1]){d=2;break}1===d&&e.splice(d,1)}for(;d<e.length;++d)e[d]=q(e[d],b,c);return e}function r(a){for(var b=m(a)?2:1;b<a.length;)"string"==typeof a[b]?b+1<a.length&&"string"==typeof a[b+1]?a[b]+=a.splice(b+1,1)[0]:++b:(r(a[b]),++b)}var c=b.Markdown=function(a){switch(typeof a){case"undefined":this.dialect=c.dialects.Gruber;break;case"object":this.dialect=a;break;default:if(!(a in c.dialects))throw new Error("Unknown Markdown dialect '"+String(a)+"'");this.dialect=c.dialects[a]}this.em_state=[],this.strong_state=[],this.debug_indent=""};b.parse=function(a,b){return new c(b).toTree(a)},b.toHTML=function(c,d,e){var f=b.toHTMLTree(c,d,e);return b.renderJsonML(f)},b.toHTMLTree=function(b,c,d){"string"==typeof b&&(b=this.parse(b,c));var e=m(b),f={};e&&e.references&&(f=e.references);var g=q(b,f,d);return r(g),g};var f=c.mk_block=function(a,b,c){1==arguments.length&&(b="\n\n");var f=new String(a);return f.trailing=b,f.inspect=e,f.toSource=d,void 0!=c&&(f.lineNumber=c),f};c.prototype.split_blocks=function(b,c){b=b.replace(/(\r\n|\n|\r)/g,"\n");var h,d=/([\s\S]+?)($|\n#|\n(?:\s*\n|$)+)/g,e=[],i=1;for(null!=(h=/^(\s*\n)/.exec(b))&&(i+=g(h[0]),d.lastIndex=h[0].length);null!==(h=d.exec(b));)"\n#"==h[2]&&(h[2]="\n",d.lastIndex--),e.push(f(h[1],h[2],i)),i+=g(h[0]);return e},c.prototype.processBlock=function(b,c){var d=this.dialect.block,e=d.__order__;if("__call__"in d)return d.__call__.call(this,b,c);for(var f=0;f<e.length;f++){var g=d[e[f]].call(this,b,c);if(g)return(!j(g)||g.length>0&&!j(g[0]))&&this.debug(e[f],"didn't return a proper array"),g}return[]},c.prototype.processInline=function(b){return this.dialect.inline.__call__.call(this,String(b))},c.prototype.toTree=function(b,c){var d=b instanceof Array?b:this.split_blocks(b),e=this.tree;try{for(this.tree=c||this.tree||["markdown"];d.length;){var f=this.processBlock(d.shift(),d);f.length&&this.tree.push.apply(this.tree,f)}return this.tree}finally{c&&(this.tree=e)}},c.prototype.debug=function(){var a=Array.prototype.slice.call(arguments);a.unshift(this.debug_indent),"undefined"!=typeof print&&print.apply(print,a),"undefined"!=typeof console&&void 0!==console.log&&console.log.apply(null,a)},c.prototype.loop_re_over_block=function(a,b,c){for(var d,e=b.valueOf();e.length&&null!=(d=a.exec(e));)e=e.substr(d[0].length),c.call(this,d);return e},c.dialects={},c.dialects.Gruber={block:{atxHeader:function(b,c){var d=b.match(/^(#{1,6})\s*(.*?)\s*#*\s*(?:\n|$)/);if(d){var e=["header",{level:d[1].length}];return Array.prototype.push.apply(e,this.processInline(d[2])),d[0].length<b.length&&c.unshift(f(b.substr(d[0].length),b.trailing,b.lineNumber+2)),[e]}},setextHeader:function(b,c){var d=b.match(/^(.*)\n([-=])\2\2+(?:\n|$)/);if(d){var e="="===d[2]?1:2,g=["header",{level:e},d[1]];return d[0].length<b.length&&c.unshift(f(b.substr(d[0].length),b.trailing,b.lineNumber+2)),[g]}},code:function(b,c){var d=[],e=/^(?: {0,3}\t| {4})(.*)\n?/;if(b.match(e)){a:for(;;){var h=this.loop_re_over_block(e,b.valueOf(),function(a){d.push(a[1])});if(h.length){c.unshift(f(h,b.trailing));break a}if(!c.length)break a;if(!c[0].match(e))break a;d.push(b.trailing.replace(/[^\n]/g,"").substring(2)),b=c.shift()}return[["code_block",d.join("\n")]]}},horizRule:function(b,c){var d=b.match(/^(?:([\s\S]*?)\n)?[ \t]*([-_*])(?:[ \t]*\2){2,}[ \t]*(?:\n([\s\S]*))?$/);if(d){var e=[["hr"]];return d[1]&&e.unshift.apply(e,this.processBlock(d[1],[])),d[3]&&c.unshift(f(d[3])),e}},lists:function(){function g(b){return new RegExp("(?:^("+e+"{0,"+b+"} {0,3})("+a+")\\s+)|(^"+e+"{0,"+(b-1)+"}[ ]{0,4})")}function h(a){return a.replace(/ {0,3}\t/g,"    ")}function i(a,b,c,d){if(b)return void a.push(["para"].concat(c));var e=a[a.length-1]instanceof Array&&"para"==a[a.length-1][0]?a[a.length-1]:a;d&&a.length>1&&c.unshift(d);for(var f=0;f<c.length;f++){var g=c[f];"string"==typeof g&&e.length>1&&"string"==typeof e[e.length-1]?e[e.length-1]+=g:e.push(g)}}function j(a,b){for(var c=new RegExp("^("+e+"{"+a+"}.*?\\n?)*$"),d=new RegExp("^"+e+"{"+a+"}","gm"),g=[];b.length>0&&c.exec(b[0]);){var h=b.shift(),i=h.replace(d,"");g.push(f(i,h.trailing,h.lineNumber))}return g}function l(a,b,c){var d=a.list,e=d[d.length-1];if(!(e[1]instanceof Array&&"para"==e[1][0]))if(b+1==c.length)e.push(["para"].concat(e.splice(1,e.length-1)));else{var f=e.pop();e.push(["para"].concat(e.splice(1,e.length-1)),f)}}var a="[*+-]|\\d+\\.",b=/[*+-]/,d=new RegExp("^( {0,3})("+a+")[ \t]+"),e="(?: {0,3}\\t| {4})";return function(a,c){function f(a){var c=b.exec(a[2])?["bulletlist"]:["numberlist"];return m.push({list:c,indent:a[1]}),c}var e=a.match(d);if(e){for(var o,r,m=[],n=f(e),p=!1,q=[m[0].list];;){for(var s=a.split(/(?=\n)/),t="",u=0;u<s.length;u++){var v="",w=s[u].replace(/^\n/,function(a){return v=a,""}),x=g(m.length);if(e=w.match(x),void 0!==e[1]){t.length&&(i(o,p,this.processInline(t),v),p=!1,t=""),e[1]=h(e[1]);var y=Math.floor(e[1].length/4)+1;if(y>m.length)n=f(e),o.push(n),o=n[1]=["listitem"];else{var z=!1;for(r=0;r<m.length;r++)if(m[r].indent==e[1]){n=m[r].list,m.splice(r+1,m.length-(r+1)),z=!0;break}z||(y++,y<=m.length?(m.splice(y,m.length-y),n=m[y-1].list):(n=f(e),o.push(n))),o=["listitem"],n.push(o)}v=""}w.length>e[0].length&&(t+=v+w.substr(e[0].length))}t.length&&(i(o,p,this.processInline(t),v),p=!1,t="");var A=j(m.length,c);A.length>0&&(k(m,l,this),o.push.apply(o,this.toTree(A,[])));var B=c[0]&&c[0].valueOf()||"";if(!B.match(d)&&!B.match(/^ /))break;a=c.shift();var C=this.dialect.block.horizRule(a,c);if(C){q.push.apply(q,C);break}k(m,l,this),p=!0}return q}}}(),blockquote:function(b,c){if(b.match(/^>/m)){var d=[];if(">"!=b[0]){for(var e=b.split(/\n/),g=[],h=b.lineNumber;e.length&&">"!=e[0][0];)g.push(e.shift()),h++;var i=f(g.join("\n"),"\n",b.lineNumber);d.push.apply(d,this.processBlock(i,[])),b=f(e.join("\n"),b.trailing,h)}for(;c.length&&">"==c[0][0];){var j=c.shift();b=f(b+b.trailing+j,j.trailing,b.lineNumber)}var k=b.replace(/^> ?/gm,""),o=(this.tree,this.toTree(k,["blockquote"])),p=m(o);return p&&p.references&&(delete p.references,l(p)&&o.splice(1,1)),d.push(o),d}},referenceDefn:function(b,c){var d=/^\s*\[(.*?)\]:\s*(\S+)(?:\s+(?:(['"])(.*?)\3|\((.*?)\)))?\n?/;if(b.match(d)){m(this.tree)||this.tree.splice(1,0,{});var e=m(this.tree);void 0===e.references&&(e.references={});var g=this.loop_re_over_block(d,b,function(a){a[2]&&"<"==a[2][0]&&">"==a[2][a[2].length-1]&&(a[2]=a[2].substring(1,a[2].length-1));var b=e.references[a[1].toLowerCase()]={href:a[2]};void 0!==a[4]?b.title=a[4]:void 0!==a[5]&&(b.title=a[5])});return g.length&&c.unshift(f(g,b.trailing)),[]}},para:function(b,c){return[["para"].concat(this.processInline(b))]}}},c.dialects.Gruber.inline={__oneElement__:function(b,c,d){var e,f;if(c=c||this.dialect.inline.__patterns__,!(e=new RegExp("([\\s\\S]*?)("+(c.source||c)+")").exec(b)))return[b.length,b];if(e[1])return[e[1].length,e[1]];var f;return e[2]in this.dialect.inline&&(f=this.dialect.inline[e[2]].call(this,b.substr(e.index),e,d||[])),f=f||[e[2].length,e[2]]},__call__:function(b,c){function f(a){"string"==typeof a&&"string"==typeof d[d.length-1]?d[d.length-1]+=a:d.push(a)}for(var e,d=[];b.length>0;)e=this.dialect.inline.__oneElement__.call(this,b,c,d),b=b.substr(e.shift()),k(e,f);return d},"]":function(){},"}":function(){},__escape__:/^\\[\\`\*_{}\[\]()#\+.!\-]/,"\\":function(b){return this.dialect.inline.__escape__.exec(b)?[2,b.charAt(1)]:[1,"\\"]},"![":function(b){var c=b.match(/^!\[(.*?)\][ \t]*\([ \t]*([^")]*?)(?:[ \t]+(["'])(.*?)\3)?[ \t]*\)/);if(c){c[2]&&"<"==c[2][0]&&">"==c[2][c[2].length-1]&&(c[2]=c[2].substring(1,c[2].length-1)),c[2]=this.dialect.inline.__call__.call(this,c[2],/\\/)[0];var d={alt:c[1],href:c[2]||""};return void 0!==c[4]&&(d.title=c[4]),[c[0].length,["img",d]]}return c=b.match(/^!\[(.*?)\][ \t]*\[(.*?)\]/),c?[c[0].length,["img_ref",{alt:c[1],ref:c[2].toLowerCase(),original:c[0]}]]:[2,"!["]},"[":function(b){var d=String(b),e=c.DialectHelpers.inline_until_char.call(this,b.substr(1),"]");if(!e)return[1,"["];var a,h,f=1+e[0],g=e[1];b=b.substr(f);var i=b.match(/^\s*\([ \t]*([^"']*)(?:[ \t]+(["'])(.*?)\2)?[ \t]*\)/);if(i){var j=i[1];if(f+=i[0].length,j&&"<"==j[0]&&">"==j[j.length-1]&&(j=j.substring(1,j.length-1)),!i[3])for(var k=1,l=0;l<j.length;l++)switch(j[l]){case"(":k++;break;case")":0==--k&&(f-=j.length-l,j=j.substring(0,l))}return j=this.dialect.inline.__call__.call(this,j,/\\/)[0],h={href:j||""},void 0!==i[3]&&(h.title=i[3]),a=["link",h].concat(g),[f,a]}return i=b.match(/^\s*\[(.*?)\]/),i?(f+=i[0].length,h={ref:(i[1]||String(g)).toLowerCase(),original:d.substr(0,f)},a=["link_ref",h].concat(g),[f,a]):1==g.length&&"string"==typeof g[0]?(h={ref:g[0].toLowerCase(),original:d.substr(0,f)},a=["link_ref",h,g[0]],[f,a]):[1,"["]},"<":function(b){var c;return null!=(c=b.match(/^<(?:((https?|ftp|mailto):[^>]+)|(.*?@.*?\.[a-zA-Z]+))>/))?c[3]?[c[0].length,["link",{href:"mailto:"+c[3]},c[3]]]:"mailto"==c[2]?[c[0].length,["link",{href:c[1]},c[1].substr("mailto:".length)]]:[c[0].length,["link",{href:c[1]},c[1]]]:[1,"<"]},"`":function(b){var c=b.match(/(`+)(([\s\S]*?)\1)/);return c&&c[2]?[c[1].length+c[2].length,["inlinecode",c[3]]]:[1,"`"]},"  \n":function(b){return[3,["linebreak"]]}},c.dialects.Gruber.inline["**"]=h("strong","**"),c.dialects.Gruber.inline.__=h("strong","__"),c.dialects.Gruber.inline["*"]=h("em","*"),c.dialects.Gruber.inline._=h("em","_"),c.buildBlockOrder=function(a){var b=[];for(var c in a)"__order__"!=c&&"__call__"!=c&&b.push(c);a.__order__=b},c.buildInlinePatterns=function(a){var b=[];for(var c in a)if(!c.match(/^__.*__$/)){var d=c.replace(/([\\.*+?|()\[\]{}])/g,"\\$1").replace(/\n/,"\\n");b.push(1==c.length?d:"(?:"+d+")")}b=b.join("|"),a.__patterns__=b;var e=a.__call__;a.__call__=function(a,c){return void 0!=c?e.call(this,a,c):e.call(this,a,b)}},c.DialectHelpers={},c.DialectHelpers.inline_until_char=function(a,b){for(var c=0,d=[];;){if(a.charAt(c)==b)return c++,[c,d];if(c>=a.length)return null;var e=this.dialect.inline.__oneElement__.call(this,a.substr(c));c+=e[0],d.push.apply(d,e.slice(1))}},c.subclassDialect=function(a){function b(){}function c(){}return b.prototype=a.block,c.prototype=a.inline,{block:new b,inline:new c}},c.buildBlockOrder(c.dialects.Gruber.block),c.buildInlinePatterns(c.dialects.Gruber.inline),c.dialects.Maruku=c.subclassDialect(c.dialects.Gruber),c.dialects.Maruku.processMetaHash=function(b){for(var c=i(b),d={},e=0;e<c.length;++e)if(/^#/.test(c[e]))d.id=c[e].substring(1);else if(/^\./.test(c[e]))d.class?d.class=d.class+c[e].replace(/./," "):d.class=c[e].substring(1);else if(/\=/.test(c[e])){var f=c[e].split(/\=/);d[f[0]]=f[1]}return d},c.dialects.Maruku.block.document_meta=function(b,c){if(!(b.lineNumber>1)&&b.match(/^(?:\w+:.*\n)*\w+:.*$/)){m(this.tree)||this.tree.splice(1,0,{});var d=b.split(/\n/);for(p in d){var e=d[p].match(/(\w+):\s*(.*)$/),f=e[1].toLowerCase(),g=e[2];this.tree[1][f]=g}return[]}},c.dialects.Maruku.block.block_meta=function(c,d){var e=c.match(/(^|\n) {0,3}\{:\s*((?:\\\}|[^\}])*)\s*\}$/);if(e){var g,f=this.dialect.processMetaHash(e[2]);if(""===e[1]){var h=this.tree[this.tree.length-1];if(g=m(h),"string"==typeof h)return;g||(g={},h.splice(1,0,g));for(a in f)g[a]=f[a];return[]}var i=c.replace(/\n.*$/,""),j=this.processBlock(i,[]);g=m(j[0]),g||(g={},j[0].splice(1,0,g));for(a in f)g[a]=f[a];return j}},c.dialects.Maruku.block.definition_list=function(b,c){var f,g,d=/^((?:[^\s:].*\n)+):\s+([\s\S]+)$/,e=["dl"];if(g=b.match(d)){for(var h=[b];c.length&&d.exec(c[0]);)h.push(c.shift());for(var i=0;i<h.length;++i){var g=h[i].match(d),j=g[1].replace(/\n$/,"").split(/\n/),k=g[2].split(/\n:\s+/);for(f=0;f<j.length;++f)e.push(["dt",j[f]]);for(f=0;f<k.length;++f)e.push(["dd"].concat(this.processInline(k[f].replace(/(\n)\s+/,"$1"))))}return[e]}},c.dialects.Maruku.block.table=function(b,c){var g,h,d=function(a,b){b=b||"\\s",b.match(/^[\\|\[\]{}?*.+^$]$/)&&(b="\\"+b);for(var e,c=[],d=new RegExp("^((?:\\\\.|[^\\\\"+b+"])*)"+b+"(.*)");e=a.match(d);)c.push(e[1]),a=e[2];return c.push(a),c},e=/^ {0,3}\|(.+)\n {0,3}\|\s*([\-:]+[\-| :]*)\n((?:\s*\|.*(?:\n|$))*)(?=\n|$)/,f=/^ {0,3}(\S(?:\\.|[^\\|])*\|.*)\n {0,3}([\-:]+\s*\|[\-| :]*)\n((?:(?:\\.|[^\\|])*\|.*(?:\n|$))*)(?=\n|$)/;if(h=b.match(e))h[3]=h[3].replace(/^\s*\|/gm,"");else if(!(h=b.match(f)))return;var a=["table",["thead",["tr"]],["tbody"]];h[2]=h[2].replace(/\|\s*$/,"").split("|");var i=[];for(k(h[2],function(a){a.match(/^\s*-+:\s*$/)?i.push({align:"right"}):a.match(/^\s*:-+\s*$/)?i.push({align:"left"}):a.match(/^\s*:-+:\s*$/)?i.push({align:"center"}):i.push({})}),h[1]=d(h[1].replace(/\|\s*$/,""),"|"),g=0;g<h[1].length;g++)a[1][1].push(["th",i[g]||{}].concat(this.processInline(h[1][g].trim())));return k(h[3].replace(/\|\s*$/gm,"").split("\n"),function(b){var c=["tr"];for(b=d(b,"|"),g=0;g<b.length;g++)c.push(["td",i[g]||{}].concat(this.processInline(b[g].trim())));a[2].push(c)},this),[a]},c.dialects.Maruku.inline["{:"]=function(b,c,d){if(!d.length)return[2,"{:"];var e=d[d.length-1];if("string"==typeof e)return[2,"{:"];var f=b.match(/^\{:\s*((?:\\\}|[^\}])*)\s*\}/);if(!f)return[2,"{:"];var g=this.dialect.processMetaHash(f[1]),h=m(e);h||(h={},e.splice(1,0,h));for(var i in g)h[i]=g[i];return[f[0].length,""]},c.dialects.Maruku.inline.__escape__=/^\\[\\`\*_{}\[\]()#\+.!\-|:]/,c.buildBlockOrder(c.dialects.Maruku.block),c.buildInlinePatterns(c.dialects.Maruku.inline);var k,j=Array.isArray||function(a){return"[object Array]"==Object.prototype.toString.call(a)};k=Array.prototype.forEach?function(a,b,c){return a.forEach(b,c)}:function(a,b,c){for(var d=0;d<a.length;d++)b.call(c||a,a[d],d,a)};var l=function(a){for(var b in a)if(hasOwnProperty.call(a,b))return!1;return!0};b.renderJsonML=function(a,b){b=b||{},b.root=b.root||!1;var c=[];if(b.root)c.push(o(a));else for(a.shift(),!a.length||"object"!=typeof a[0]||a[0]instanceof Array||a.shift();a.length;)c.push(o(a.shift()));return c.join("\n\n")}}(function(){return"undefined"==typeof exports?(window.markdown={},window.markdown):exports}()),function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.moment=b()}(this,function(){"use strict";function b(){return a.apply(null,arguments)}function c(b){a=b}function d(a){return a instanceof Array||"[object Array]"===Object.prototype.toString.call(a)}function e(a){return null!=a&&"[object Object]"===Object.prototype.toString.call(a)}function f(a){var b;for(b in a)return!1;return!0}function g(a){return void 0===a}function h(a){return"number"==typeof a||"[object Number]"===Object.prototype.toString.call(a)}function i(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function j(a,b){var d,c=[];for(d=0;d<a.length;++d)c.push(b(a[d],d));return c}function k(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function l(a,b){for(var c in b)k(b,c)&&(a[c]=b[c]);return k(b,"toString")&&(a.toString=b.toString),k(b,"valueOf")&&(a.valueOf=b.valueOf),a}function m(a,b,c,d){return Oc(a,b,c,d,!0).utc()}function n(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function o(a){return null==a._pf&&(a._pf=n()),a._pf}function r(a){if(null==a._isValid){var b=o(a),c=q.call(b.parsedDateParts,function(a){return null!=a}),d=!isNaN(a._d.getTime())&&b.overflow<0&&!b.empty&&!b.invalidMonth&&!b.invalidWeekday&&!b.nullInput&&!b.invalidFormat&&!b.userInvalidated&&(!b.meridiem||b.meridiem&&c);if(a._strict&&(d=d&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour),null!=Object.isFrozen&&Object.isFrozen(a))return d;a._isValid=d}return a._isValid}function s(a){var b=m(NaN);return null!=a?l(o(b),a):o(b).userInvalidated=!0,b}function u(a,b){var c,d,e;if(g(b._isAMomentObject)||(a._isAMomentObject=b._isAMomentObject),g(b._i)||(a._i=b._i),g(b._f)||(a._f=b._f),g(b._l)||(a._l=b._l),g(b._strict)||(a._strict=b._strict),g(b._tzm)||(a._tzm=b._tzm),g(b._isUTC)||(a._isUTC=b._isUTC),g(b._offset)||(a._offset=b._offset),g(b._pf)||(a._pf=o(b)),g(b._locale)||(a._locale=b._locale),t.length>0)for(c=0;c<t.length;c++)d=t[c],e=b[d],g(e)||(a[d]=e);return a}function w(a){u(this,a),this._d=new Date(null!=a._d?a._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===v&&(v=!0,b.updateOffset(this),v=!1)}function x(a){return a instanceof w||null!=a&&null!=a._isAMomentObject}function y(a){return a<0?Math.ceil(a)||0:Math.floor(a)}function z(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=y(b)),c}function A(a,b,c){var g,d=Math.min(a.length,b.length),e=Math.abs(a.length-b.length),f=0;for(g=0;g<d;g++)(c&&a[g]!==b[g]||!c&&z(a[g])!==z(b[g]))&&f++;return f+e}function B(a){!1===b.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+a)}function C(a,c){var d=!0;return l(function(){if(null!=b.deprecationHandler&&b.deprecationHandler(null,a),d){for(var f,e=[],g=0;g<arguments.length;g++){if(f="","object"==typeof arguments[g]){f+="\n["+g+"] ";for(var h in arguments[0])f+=h+": "+arguments[0][h]+", ";f=f.slice(0,-2)}else f=arguments[g];e.push(f)}B(a+"\nArguments: "+Array.prototype.slice.call(e).join("")+"\n"+(new Error).stack),d=!1}return c.apply(this,arguments)},c)}function E(a,c){null!=b.deprecationHandler&&b.deprecationHandler(a,c),D[a]||(B(c),D[a]=!0)}function F(a){return a instanceof Function||"[object Function]"===Object.prototype.toString.call(a)}function G(a){var b,c;for(c in a)b=a[c],F(b)?this[c]=b:this["_"+c]=b;this._config=a,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function H(a,b){var d,c=l({},a);for(d in b)k(b,d)&&(e(a[d])&&e(b[d])?(c[d]={},l(c[d],a[d]),l(c[d],b[d])):null!=b[d]?c[d]=b[d]:delete c[d]);for(d in a)k(a,d)&&!k(b,d)&&e(a[d])&&(c[d]=l({},c[d]));return c}function I(a){null!=a&&this.set(a)}function M(a,b,c){var d=this._calendar[a]||this._calendar.sameElse;return F(d)?d.call(b,c):d}function O(a){var b=this._longDateFormat[a],c=this._longDateFormat[a.toUpperCase()];return b||!c?b:(this._longDateFormat[a]=c.replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a])}function Q(){return this._invalidDate}function T(a){return this._ordinal.replace("%d",a)}function V(a,b,c,d){var e=this._relativeTime[c];return F(e)?e(a,b,c,d):e.replace(/%d/i,a)}function W(a,b){var c=this._relativeTime[a>0?"future":"past"];return F(c)?c(b):c.replace(/%s/i,b)}function Y(a,b){var c=a.toLowerCase();X[c]=X[c+"s"]=X[b]=a}function Z(a){return"string"==typeof a?X[a]||X[a.toLowerCase()]:void 0}function $(a){var c,d,b={};for(d in a)k(a,d)&&(c=Z(d))&&(b[c]=a[d]);return b}function aa(a,b){_[a]=b}function ba(a){var b=[];for(var c in a)b.push({unit:c,priority:_[c]});return b.sort(function(a,b){return a.priority-b.priority}),b}function ca(a,c){return function(d){return null!=d?(ea(this,a,d),b.updateOffset(this,c),this):da(this,a)}}function da(a,b){return a.isValid()?a._d["get"+(a._isUTC?"UTC":"")+b]():NaN}function ea(a,b,c){a.isValid()&&a._d["set"+(a._isUTC?"UTC":"")+b](c)}function fa(a){return a=Z(a),F(this[a])?this[a]():this}function ga(a,b){if("object"==typeof a){a=$(a);for(var c=ba(a),d=0;d<c.length;d++)this[c[d].unit](a[c[d].unit])}else if(a=Z(a),F(this[a]))return this[a](b);return this}function ha(a,b,c){var d=""+Math.abs(a),e=b-d.length;return(a>=0?c?"+":"":"-")+Math.pow(10,Math.max(0,e)).toString().substr(1)+d}function ma(a,b,c,d){var e=d;"string"==typeof d&&(e=function(){return this[d]()}),a&&(la[a]=e),b&&(la[b[0]]=function(){return ha(e.apply(this,arguments),b[1],b[2])}),c&&(la[c]=function(){return this.localeData().ordinal(e.apply(this,arguments),a)})}function na(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function oa(a){var c,d,b=a.match(ia);for(c=0,d=b.length;c<d;c++)la[b[c]]?b[c]=la[b[c]]:b[c]=na(b[c]);return function(c){var f,e="";for(f=0;f<d;f++)e+=F(b[f])?b[f].call(c,a):b[f];return e}}function pa(a,b){return a.isValid()?(b=qa(b,a.localeData()),ka[b]=ka[b]||oa(b),ka[b](a)):a.localeData().invalidDate()}function qa(a,b){function d(a){return b.longDateFormat(a)||a}var c=5;for(ja.lastIndex=0;c>=0&&ja.test(a);)a=a.replace(ja,d),ja.lastIndex=0,c-=1;return a}function Ja(a,b,c){Ia[a]=F(b)?b:function(a,d){return a&&c?c:b}}function Ka(a,b){return k(Ia,a)?Ia[a](b._strict,b._locale):new RegExp(La(a))}function La(a){return Ma(a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e}))}function Ma(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Oa(a,b){var c,d=b;for("string"==typeof a&&(a=[a]),h(b)&&(d=function(a,c){c[b]=z(a)}),c=0;c<a.length;c++)Na[a[c]]=d}function Pa(a,b){Oa(a,function(a,c,d,e){d._w=d._w||{},b(a,d._w,d,e)})}function Qa(a,b,c){null!=b&&k(Na,a)&&Na[a](b,c._a,c,a)}function ab(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function db(a,b){return a?d(this._months)?this._months[a.month()]:this._months[(this._months.isFormat||bb).test(b)?"format":"standalone"][a.month()]:d(this._months)?this._months:this._months.standalone}function fb(a,b){return a?d(this._monthsShort)?this._monthsShort[a.month()]:this._monthsShort[bb.test(b)?"format":"standalone"][a.month()]:d(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function gb(a,b,c){var d,e,f,g=a.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],d=0;d<12;++d)f=m([2e3,d]),this._shortMonthsParse[d]=this.monthsShort(f,"").toLocaleLowerCase(),this._longMonthsParse[d]=this.months(f,"").toLocaleLowerCase();return c?"MMM"===b?(e=_a.call(this._shortMonthsParse,g),-1!==e?e:null):(e=_a.call(this._longMonthsParse,g),-1!==e?e:null):"MMM"===b?-1!==(e=_a.call(this._shortMonthsParse,g))?e:(e=_a.call(this._longMonthsParse,g),-1!==e?e:null):-1!==(e=_a.call(this._longMonthsParse,g))?e:(e=_a.call(this._shortMonthsParse,g),-1!==e?e:null)}function hb(a,b,c){var d,e,f;if(this._monthsParseExact)return gb.call(this,a,b,c);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;d<12;d++){if(e=m([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}}function ib(a,b){var c;if(!a.isValid())return a;if("string"==typeof b)if(/^\d+$/.test(b))b=z(b);else if(b=a.localeData().monthsParse(b),!h(b))return a;return c=Math.min(a.date(),ab(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a}function jb(a){return null!=a?(ib(this,a),b.updateOffset(this,!0),this):da(this,"Month")}function kb(){return ab(this.year(),this.month())}function mb(a){return this._monthsParseExact?(k(this,"_monthsRegex")||pb.call(this),a?this._monthsShortStrictRegex:this._monthsShortRegex):(k(this,"_monthsShortRegex")||(this._monthsShortRegex=lb),this._monthsShortStrictRegex&&a?this._monthsShortStrictRegex:this._monthsShortRegex)}function ob(a){return this._monthsParseExact?(k(this,"_monthsRegex")||pb.call(this),a?this._monthsStrictRegex:this._monthsRegex):(k(this,"_monthsRegex")||(this._monthsRegex=nb),this._monthsStrictRegex&&a?this._monthsStrictRegex:this._monthsRegex)}function pb(){function a(a,b){return b.length-a.length}var e,f,b=[],c=[],d=[];for(e=0;e<12;e++)f=m([2e3,e]),b.push(this.monthsShort(f,"")),c.push(this.months(f,"")),d.push(this.months(f,"")),d.push(this.monthsShort(f,""));for(b.sort(a),c.sort(a),d.sort(a),e=0;e<12;e++)b[e]=Ma(b[e]),c[e]=Ma(c[e]);for(e=0;e<24;e++)d[e]=Ma(d[e]);this._monthsRegex=new RegExp("^("+d.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+b.join("|")+")","i")}function qb(a){return rb(a)?366:365}function rb(a){return a%4==0&&a%100!=0||a%400==0}function tb(){return rb(this.year())}function ub(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return a<100&&a>=0&&isFinite(h.getFullYear())&&h.setFullYear(a),h}function vb(a){var b=new Date(Date.UTC.apply(null,arguments));return a<100&&a>=0&&isFinite(b.getUTCFullYear())&&b.setUTCFullYear(a),b}function wb(a,b,c){var d=7+b-c;return-(7+vb(a,0,d).getUTCDay()-b)%7+d-1}function xb(a,b,c,d,e){var i,j,f=(7+c-d)%7,g=wb(a,d,e),h=1+7*(b-1)+f+g;return h<=0?(i=a-1,j=qb(i)+h):h>qb(a)?(i=a+1,j=h-qb(a)):(i=a,j=h),{year:i,dayOfYear:j}}function yb(a,b,c){var f,g,d=wb(a.year(),b,c),e=Math.floor((a.dayOfYear()-d-1)/7)+1;return e<1?(g=a.year()-1,f=e+zb(g,b,c)):e>zb(a.year(),b,c)?(f=e-zb(a.year(),b,c),g=a.year()+1):(g=a.year(),f=e),{week:f,year:g}}function zb(a,b,c){var d=wb(a,b,c),e=wb(a+1,b,c);return(qb(a)-d+e)/7}function Ab(a){return yb(a,this._week.dow,this._week.doy).week}function Cb(){return this._week.dow}function Db(){return this._week.doy}function Eb(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")}function Fb(a){var b=yb(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")}function Gb(a,b){return"string"!=typeof a?a:isNaN(a)?(a=b.weekdaysParse(a),"number"==typeof a?a:null):parseInt(a,10)}function Hb(a,b){return"string"==typeof a?b.weekdaysParse(a)%7||7:isNaN(a)?null:a}function Jb(a,b){return a?d(this._weekdays)?this._weekdays[a.day()]:this._weekdays[this._weekdays.isFormat.test(b)?"format":"standalone"][a.day()]:d(this._weekdays)?this._weekdays:this._weekdays.standalone}function Lb(a){return a?this._weekdaysShort[a.day()]:this._weekdaysShort}function Nb(a){return a?this._weekdaysMin[a.day()]:this._weekdaysMin}function Ob(a,b,c){var d,e,f,g=a.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],d=0;d<7;++d)f=m([2e3,1]).day(d),this._minWeekdaysParse[d]=this.weekdaysMin(f,"").toLocaleLowerCase(),this._shortWeekdaysParse[d]=this.weekdaysShort(f,"").toLocaleLowerCase(),this._weekdaysParse[d]=this.weekdays(f,"").toLocaleLowerCase();return c?"dddd"===b?(e=_a.call(this._weekdaysParse,g),-1!==e?e:null):"ddd"===b?(e=_a.call(this._shortWeekdaysParse,g),-1!==e?e:null):(e=_a.call(this._minWeekdaysParse,g),-1!==e?e:null):"dddd"===b?-1!==(e=_a.call(this._weekdaysParse,g))?e:-1!==(e=_a.call(this._shortWeekdaysParse,g))?e:(e=_a.call(this._minWeekdaysParse,g),-1!==e?e:null):"ddd"===b?-1!==(e=_a.call(this._shortWeekdaysParse,g))?e:-1!==(e=_a.call(this._weekdaysParse,g))?e:(e=_a.call(this._minWeekdaysParse,g),-1!==e?e:null):-1!==(e=_a.call(this._minWeekdaysParse,g))?e:-1!==(e=_a.call(this._weekdaysParse,g))?e:(e=_a.call(this._shortWeekdaysParse,g),-1!==e?e:null)}function Pb(a,b,c){var d,e,f;if(this._weekdaysParseExact)return Ob.call(this,a,b,c);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),d=0;d<7;d++){if(e=m([2e3,1]).day(d),c&&!this._fullWeekdaysParse[d]&&(this._fullWeekdaysParse[d]=new RegExp("^"+this.weekdays(e,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[d]=new RegExp("^"+this.weekdaysShort(e,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[d]=new RegExp("^"+this.weekdaysMin(e,"").replace(".",".?")+"$","i")),this._weekdaysParse[d]||(f="^"+this.weekdays(e,"")+"|^"+this.weekdaysShort(e,"")+"|^"+this.weekdaysMin(e,""),this._weekdaysParse[d]=new RegExp(f.replace(".",""),"i")),c&&"dddd"===b&&this._fullWeekdaysParse[d].test(a))return d;if(c&&"ddd"===b&&this._shortWeekdaysParse[d].test(a))return d;if(c&&"dd"===b&&this._minWeekdaysParse[d].test(a))return d;if(!c&&this._weekdaysParse[d].test(a))return d}}function Qb(a){if(!this.isValid())return null!=a?this:NaN;var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=Gb(a,this.localeData()),this.add(a-b,"d")):b}function Rb(a){if(!this.isValid())return null!=a?this:NaN;var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")}function Sb(a){if(!this.isValid())return null!=a?this:NaN;if(null!=a){var b=Hb(a,this.localeData());return this.day(this.day()%7?b:b-7)}return this.day()||7}function Ub(a){return this._weekdaysParseExact?(k(this,"_weekdaysRegex")||Zb.call(this),a?this._weekdaysStrictRegex:this._weekdaysRegex):(k(this,"_weekdaysRegex")||(this._weekdaysRegex=Tb),this._weekdaysStrictRegex&&a?this._weekdaysStrictRegex:this._weekdaysRegex)}function Wb(a){return this._weekdaysParseExact?(k(this,"_weekdaysRegex")||Zb.call(this),a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(k(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Vb),this._weekdaysShortStrictRegex&&a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Yb(a){return this._weekdaysParseExact?(k(this,"_weekdaysRegex")||Zb.call(this),a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(k(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Xb),this._weekdaysMinStrictRegex&&a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Zb(){function a(a,b){return b.length-a.length}var f,g,h,i,j,b=[],c=[],d=[],e=[];for(f=0;f<7;f++)g=m([2e3,1]).day(f),h=this.weekdaysMin(g,""),i=this.weekdaysShort(g,""),j=this.weekdays(g,""),b.push(h),c.push(i),d.push(j),e.push(h),e.push(i),e.push(j);for(b.sort(a),c.sort(a),d.sort(a),e.sort(a),f=0;f<7;f++)c[f]=Ma(c[f]),d[f]=Ma(d[f]),e[f]=Ma(e[f]);this._weekdaysRegex=new RegExp("^("+e.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+d.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+b.join("|")+")","i")}function $b(){return this.hours()%12||12}function _b(){return this.hours()||24}function ac(a,b){ma(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function bc(a,b){return b._meridiemParse}function cc(a){return"p"===(a+"").toLowerCase().charAt(0)}function ec(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"}function kc(a){return a?a.toLowerCase().replace("_","-"):a}function lc(a){for(var c,d,e,f,b=0;b<a.length;){for(f=kc(a[b]).split("-"),c=f.length,d=kc(a[b+1]),d=d?d.split("-"):null;c>0;){if(e=mc(f.slice(0,c).join("-")))return e;if(d&&d.length>=c&&A(f,d,!0)>=c-1)break;c--}b++}return null}function mc(a){var b=null;if(!hc[a]&&"undefined"!=typeof module&&module&&module.exports)try{b=jc._abbr,require("./locale/"+a),nc(b)}catch(a){}return hc[a]}function nc(a,b){var c;return a&&(c=g(b)?qc(a):oc(a,b))&&(jc=c),jc._abbr}function oc(a,b){if(null!==b){var c=gc;if(b.abbr=a,null!=hc[a])E("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),c=hc[a]._config;else if(null!=b.parentLocale){if(null==hc[b.parentLocale])return ic[b.parentLocale]||(ic[b.parentLocale]=[]),ic[b.parentLocale].push({name:a,config:b}),null;c=hc[b.parentLocale]._config}return hc[a]=new I(H(c,b)),ic[a]&&ic[a].forEach(function(a){oc(a.name,a.config)}),nc(a),hc[a]}return delete hc[a],null}function pc(a,b){if(null!=b){var c,d=gc;null!=hc[a]&&(d=hc[a]._config),b=H(d,b),c=new I(b),c.parentLocale=hc[a],hc[a]=c,nc(a)}else null!=hc[a]&&(null!=hc[a].parentLocale?hc[a]=hc[a].parentLocale:null!=hc[a]&&delete hc[a]);return hc[a]}function qc(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return jc;if(!d(a)){if(b=mc(a))return b;a=[a]}return lc(a)}function rc(){return K(hc)}function sc(a){var b,c=a._a;return c&&-2===o(a).overflow&&(b=c[Sa]<0||c[Sa]>11?Sa:c[Ta]<1||c[Ta]>ab(c[Ra],c[Sa])?Ta:c[Ua]<0||c[Ua]>24||24===c[Ua]&&(0!==c[Va]||0!==c[Wa]||0!==c[Xa])?Ua:c[Va]<0||c[Va]>59?Va:c[Wa]<0||c[Wa]>59?Wa:c[Xa]<0||c[Xa]>999?Xa:-1,o(a)._overflowDayOfYear&&(b<Ra||b>Ta)&&(b=Ta),o(a)._overflowWeeks&&-1===b&&(b=Ya),o(a)._overflowWeekday&&-1===b&&(b=Za),o(a).overflow=b),a}function zc(a){var b,c,f,g,h,i,d=a._i,e=tc.exec(d)||uc.exec(d);if(e){for(o(a).iso=!0,b=0,c=wc.length;b<c;b++)if(wc[b][1].exec(e[1])){g=wc[b][0],f=!1!==wc[b][2];break}if(null==g)return void(a._isValid=!1);if(e[3]){for(b=0,c=xc.length;b<c;b++)if(xc[b][1].exec(e[3])){h=(e[2]||" ")+xc[b][0];break}if(null==h)return void(a._isValid=!1)}if(!f&&null!=h)return void(a._isValid=!1);if(e[4]){if(!vc.exec(e[4]))return void(a._isValid=!1);i="Z"}a._f=g+(h||"")+(i||""),Hc(a)}else a._isValid=!1}function Bc(a){var b,c,d,e,f,g,j,k,h={" GMT":" +0000"," EDT":" -0400"," EST":" -0500"," CDT":" -0500"," CST":" -0600"," MDT":" -0600"," MST":" -0700"," PDT":" -0700"," PST":" -0800"},i="YXWVUTSRQPONZABCDEFGHIKLM";if(b=a._i.replace(/\([^\)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s|\s$/g,""),c=Ac.exec(b)){if(d=c[1]?"ddd"+(5===c[1].length?", ":" "):"",e="D MMM "+(c[2].length>10?"YYYY ":"YY "),f="HH:mm"+(c[4]?":ss":""),c[1]){var l=new Date(c[2]),m=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][l.getDay()];if(c[1].substr(0,3)!==m)return o(a).weekdayMismatch=!0,void(a._isValid=!1)}switch(c[5].length){case 2:0===k?j=" +0000":(k=i.indexOf(c[5][1].toUpperCase())-12,j=(k<0?" -":" +")+(""+k).replace(/^-?/,"0").match(/..$/)[0]+"00");break;case 4:j=h[c[5]];break;default:j=h[" GMT"]}c[5]=j,a._i=c.splice(1).join(""),g=" ZZ",a._f=d+e+f+g,Hc(a),o(a).rfc2822=!0}else a._isValid=!1}function Cc(a){var c=yc.exec(a._i);if(null!==c)return void(a._d=new Date(+c[1]));zc(a),!1===a._isValid&&(delete a._isValid,Bc(a),!1===a._isValid&&(delete a._isValid,b.createFromInputFallback(a)))}function Dc(a,b,c){return null!=a?a:null!=b?b:c}function Ec(a){var c=new Date(b.now());return a._useUTC?[c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()]:[c.getFullYear(),c.getMonth(),c.getDate()]}function Fc(a){var b,c,e,f,d=[];if(!a._d){for(e=Ec(a),a._w&&null==a._a[Ta]&&null==a._a[Sa]&&Gc(a),null!=a._dayOfYear&&(f=Dc(a._a[Ra],e[Ra]),(a._dayOfYear>qb(f)||0===a._dayOfYear)&&(o(a)._overflowDayOfYear=!0),c=vb(f,0,a._dayOfYear),a._a[Sa]=c.getUTCMonth(),a._a[Ta]=c.getUTCDate()),b=0;b<3&&null==a._a[b];++b)a._a[b]=d[b]=e[b];for(;b<7;b++)a._a[b]=d[b]=null==a._a[b]?2===b?1:0:a._a[b];24===a._a[Ua]&&0===a._a[Va]&&0===a._a[Wa]&&0===a._a[Xa]&&(a._nextDay=!0,a._a[Ua]=0),a._d=(a._useUTC?vb:ub).apply(null,d),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[Ua]=24)}}function Gc(a){var b,c,d,e,f,g,h,i;if(b=a._w,null!=b.GG||null!=b.W||null!=b.E)f=1,g=4,c=Dc(b.GG,a._a[Ra],yb(Pc(),1,4).year),d=Dc(b.W,1),((e=Dc(b.E,1))<1||e>7)&&(i=!0);else{f=a._locale._week.dow,g=a._locale._week.doy;var j=yb(Pc(),f,g);c=Dc(b.gg,a._a[Ra],j.year),d=Dc(b.w,j.week),null!=b.d?((e=b.d)<0||e>6)&&(i=!0):null!=b.e?(e=b.e+f,(b.e<0||b.e>6)&&(i=!0)):e=f}d<1||d>zb(c,f,g)?o(a)._overflowWeeks=!0:null!=i?o(a)._overflowWeekday=!0:(h=xb(c,d,e,f,g),a._a[Ra]=h.year,a._dayOfYear=h.dayOfYear)}function Hc(a){if(a._f===b.ISO_8601)return void zc(a);if(a._f===b.RFC_2822)return void Bc(a);a._a=[],o(a).empty=!0;var d,e,f,g,h,c=""+a._i,i=c.length,j=0;for(f=qa(a._f,a._locale).match(ia)||[],d=0;d<f.length;d++)g=f[d],e=(c.match(Ka(g,a))||[])[0],e&&(h=c.substr(0,c.indexOf(e)),h.length>0&&o(a).unusedInput.push(h),c=c.slice(c.indexOf(e)+e.length),j+=e.length),la[g]?(e?o(a).empty=!1:o(a).unusedTokens.push(g),Qa(g,e,a)):a._strict&&!e&&o(a).unusedTokens.push(g);o(a).charsLeftOver=i-j,c.length>0&&o(a).unusedInput.push(c),a._a[Ua]<=12&&!0===o(a).bigHour&&a._a[Ua]>0&&(o(a).bigHour=void 0),o(a).parsedDateParts=a._a.slice(0),o(a).meridiem=a._meridiem,a._a[Ua]=Ic(a._locale,a._a[Ua],a._meridiem),Fc(a),sc(a)}function Ic(a,b,c){var d;return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,c):null!=a.isPM?(d=a.isPM(c),d&&b<12&&(b+=12),d||12!==b||(b=0),b):b}function Jc(a){var b,c,d,e,f;if(0===a._f.length)return o(a).invalidFormat=!0,void(a._d=new Date(NaN));for(e=0;e<a._f.length;e++)f=0,b=u({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._f=a._f[e],Hc(b),r(b)&&(f+=o(b).charsLeftOver,f+=10*o(b).unusedTokens.length,o(b).score=f,(null==d||f<d)&&(d=f,c=b));l(a,c||b)}function Kc(a){if(!a._d){var b=$(a._i);a._a=j([b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],function(a){return a&&parseInt(a,10)}),Fc(a)}}function Lc(a){var b=new w(sc(Mc(a)));return b._nextDay&&(b.add(1,"d"),b._nextDay=void 0),b}function Mc(a){var b=a._i,c=a._f;return a._locale=a._locale||qc(a._l),null===b||void 0===c&&""===b?s({nullInput:!0}):("string"==typeof b&&(a._i=b=a._locale.preparse(b)),x(b)?new w(sc(b)):(i(b)?a._d=b:d(c)?Jc(a):c?Hc(a):Nc(a),r(a)||(a._d=null),a))}function Nc(a){var c=a._i;g(c)?a._d=new Date(b.now()):i(c)?a._d=new Date(c.valueOf()):"string"==typeof c?Cc(a):d(c)?(a._a=j(c.slice(0),function(a){return parseInt(a,10)}),Fc(a)):e(c)?Kc(a):h(c)?a._d=new Date(c):b.createFromInputFallback(a)}function Oc(a,b,c,g,h){var i={};return!0!==c&&!1!==c||(g=c,c=void 0),(e(a)&&f(a)||d(a)&&0===a.length)&&(a=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=h,i._l=c,i._i=a,i._f=b,i._strict=g,Lc(i)}function Pc(a,b,c,d){return Oc(a,b,c,d,!1)}function Sc(a,b){var c,e;if(1===b.length&&d(b[0])&&(b=b[0]),!b.length)return Pc();for(c=b[0],e=1;e<b.length;++e)b[e].isValid()&&!b[e][a](c)||(c=b[e]);return c}function Tc(){return Sc("isBefore",[].slice.call(arguments,0))}function Uc(){return Sc("isAfter",[].slice.call(arguments,0))}function Xc(a){for(var b in a)if(-1===Wc.indexOf(b)||null!=a[b]&&isNaN(a[b]))return!1;for(var c=!1,d=0;d<Wc.length;++d)if(a[Wc[d]]){if(c)return!1;parseFloat(a[Wc[d]])!==z(a[Wc[d]])&&(c=!0)}return!0}function Yc(){return this._isValid}function Zc(){return td(NaN)}function $c(a){var b=$(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._isValid=Xc(b),this._milliseconds=+k+1e3*j+6e4*i+1e3*h*60*60,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=qc(),this._bubble()}function _c(a){return a instanceof $c}function ad(a){return a<0?-1*Math.round(-1*a):Math.round(a)}function bd(a,b){ma(a,0,0,function(){var a=this.utcOffset(),c="+";return a<0&&(a=-a,c="-"),c+ha(~~(a/60),2)+b+ha(~~a%60,2)})}function dd(a,b){var c=(b||"").match(a);if(null===c)return null;var d=c[c.length-1]||[],e=(d+"").match(cd)||["-",0,0],f=60*e[1]+z(e[2]);return 0===f?0:"+"===e[0]?f:-f}function ed(a,c){var d,e;return c._isUTC?(d=c.clone(),e=(x(a)||i(a)?a.valueOf():Pc(a).valueOf())-d.valueOf(),d._d.setTime(d._d.valueOf()+e),b.updateOffset(d,!1),d):Pc(a).local()}function fd(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function gd(a,c,d){var f,e=this._offset||0;if(!this.isValid())return null!=a?this:NaN;if(null!=a){if("string"==typeof a){if(null===(a=dd(Fa,a)))return this}else Math.abs(a)<16&&!d&&(a*=60);return!this._isUTC&&c&&(f=fd(this)),this._offset=a,this._isUTC=!0,null!=f&&this.add(f,"m"),e!==a&&(!c||this._changeInProgress?yd(this,td(a-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,b.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?e:fd(this)}function hd(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}function id(a){return this.utcOffset(0,a)}function jd(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(fd(this),"m")),this}function kd(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var a=dd(Ea,this._i);null!=a?this.utcOffset(a):this.utcOffset(0,!0)}return this}function ld(a){return!!this.isValid()&&(a=a?Pc(a).utcOffset():0,(this.utcOffset()-a)%60==0)}function md(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function nd(){if(!g(this._isDSTShifted))return this._isDSTShifted;var a={};if(u(a,this),a=Mc(a),a._a){var b=a._isUTC?m(a._a):Pc(a._a);this._isDSTShifted=this.isValid()&&A(a._a,b.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function od(){return!!this.isValid()&&!this._isUTC}function pd(){return!!this.isValid()&&this._isUTC}function qd(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function td(a,b){var e,f,g,c=a,d=null;return _c(a)?c={ms:a._milliseconds,d:a._days,M:a._months}:h(a)?(c={},b?c[b]=a:c.milliseconds=a):(d=rd.exec(a))?(e="-"===d[1]?-1:1,c={y:0,d:z(d[Ta])*e,h:z(d[Ua])*e,m:z(d[Va])*e,s:z(d[Wa])*e,ms:z(ad(1e3*d[Xa]))*e}):(d=sd.exec(a))?(e="-"===d[1]?-1:1,c={y:ud(d[2],e),M:ud(d[3],e),w:ud(d[4],e),d:ud(d[5],e),h:ud(d[6],e),m:ud(d[7],e),s:ud(d[8],e)}):null==c?c={}:"object"==typeof c&&("from"in c||"to"in c)&&(g=wd(Pc(c.from),Pc(c.to)),c={},c.ms=g.milliseconds,c.M=g.months),f=new $c(c),_c(a)&&k(a,"_locale")&&(f._locale=a._locale),f}function ud(a,b){var c=a&&parseFloat(a.replace(",","."));return(isNaN(c)?0:c)*b}function vd(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function wd(a,b){var c;return a.isValid()&&b.isValid()?(b=ed(b,a),a.isBefore(b)?c=vd(a,b):(c=vd(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0}}function xd(a,b){return function(c,d){var e,f;return null===d||isNaN(+d)||(E(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=td(c,d),yd(this,e,a),this}}function yd(a,c,d,e){var f=c._milliseconds,g=ad(c._days),h=ad(c._months);a.isValid()&&(e=null==e||e,f&&a._d.setTime(a._d.valueOf()+f*d),g&&ea(a,"Date",da(a,"Date")+g*d),h&&ib(a,da(a,"Month")+h*d),e&&b.updateOffset(a,g||h))}function Bd(a,b){var c=a.diff(b,"days",!0);return c<-6?"sameElse":c<-1?"lastWeek":c<0?"lastDay":c<1?"sameDay":c<2?"nextDay":c<7?"nextWeek":"sameElse"}function Cd(a,c){var d=a||Pc(),e=ed(d,this).startOf("day"),f=b.calendarFormat(this,e)||"sameElse",g=c&&(F(c[f])?c[f].call(this,d):c[f]);return this.format(g||this.localeData().calendar(f,this,Pc(d)))}function Dd(){return new w(this)}function Ed(a,b){var c=x(a)?a:Pc(a);return!(!this.isValid()||!c.isValid())&&(b=Z(g(b)?"millisecond":b),"millisecond"===b?this.valueOf()>c.valueOf():c.valueOf()<this.clone().startOf(b).valueOf())}function Fd(a,b){var c=x(a)?a:Pc(a);return!(!this.isValid()||!c.isValid())&&(b=Z(g(b)?"millisecond":b),"millisecond"===b?this.valueOf()<c.valueOf():this.clone().endOf(b).valueOf()<c.valueOf())}function Gd(a,b,c,d){return d=d||"()",("("===d[0]?this.isAfter(a,c):!this.isBefore(a,c))&&(")"===d[1]?this.isBefore(b,c):!this.isAfter(b,c))}function Hd(a,b){var d,c=x(a)?a:Pc(a);return!(!this.isValid()||!c.isValid())&&(b=Z(b||"millisecond"),"millisecond"===b?this.valueOf()===c.valueOf():(d=c.valueOf(),this.clone().startOf(b).valueOf()<=d&&d<=this.clone().endOf(b).valueOf()))}function Id(a,b){return this.isSame(a,b)||this.isAfter(a,b)}function Jd(a,b){return this.isSame(a,b)||this.isBefore(a,b)}function Kd(a,b,c){var d,e,f,g;return this.isValid()?(d=ed(a,this),d.isValid()?(e=6e4*(d.utcOffset()-this.utcOffset()),b=Z(b),"year"===b||"month"===b||"quarter"===b?(g=Ld(this,d),"quarter"===b?g/=3:"year"===b&&(g/=12)):(f=this-d,g="second"===b?f/1e3:"minute"===b?f/6e4:"hour"===b?f/36e5:"day"===b?(f-e)/864e5:"week"===b?(f-e)/6048e5:f),c?g:y(g)):NaN):NaN}function Ld(a,b){var e,f,c=12*(b.year()-a.year())+(b.month()-a.month()),d=a.clone().add(c,"months");return b-d<0?(e=a.clone().add(c-1,"months"),f=(b-d)/(d-e)):(e=a.clone().add(c+1,"months"),f=(b-d)/(e-d)),-(c+f)||0}function Md(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Nd(){if(!this.isValid())return null;var a=this.clone().utc();return a.year()<0||a.year()>9999?pa(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):F(Date.prototype.toISOString)?this.toDate().toISOString():pa(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function Od(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var a="moment",b="";this.isLocal()||(a=0===this.utcOffset()?"moment.utc":"moment.parseZone",b="Z");var c="["+a+'("]',d=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",f=b+'[")]';return this.format(c+d+"-MM-DD[T]HH:mm:ss.SSS"+f)}function Pd(a){a||(a=this.isUtc()?b.defaultFormatUtc:b.defaultFormat);var c=pa(this,a);return this.localeData().postformat(c)}function Qd(a,b){return this.isValid()&&(x(a)&&a.isValid()||Pc(a).isValid())?td({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function Rd(a){return this.from(Pc(),a)}function Sd(a,b){return this.isValid()&&(x(a)&&a.isValid()||Pc(a).isValid())?td({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function Td(a){return this.to(Pc(),a)}function Ud(a){var b;return void 0===a?this._locale._abbr:(b=qc(a),null!=b&&(this._locale=b),this)}function Wd(){return this._locale}function Xd(a){switch(a=Z(a)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a&&this.weekday(0),"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this}function Yd(a){return void 0===(a=Z(a))||"millisecond"===a?this:("date"===a&&(a="day"),this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms"))}function Zd(){return this._d.valueOf()-6e4*(this._offset||0)}function $d(){return Math.floor(this.valueOf()/1e3)}function _d(){return new Date(this.valueOf())}function ae(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function be(){var a=this;return{years:a.year(),months:a.month(),date:a.date(),hours:a.hours(),minutes:a.minutes(),seconds:a.seconds(),milliseconds:a.milliseconds()}}function ce(){return this.isValid()?this.toISOString():null}function de(){return r(this)}function ee(){return l({},o(this))}function fe(){return o(this).overflow}function ge(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function he(a,b){ma(0,[a,a.length],0,b)}function ie(a){return me.call(this,a,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function je(a){return me.call(this,a,this.isoWeek(),this.isoWeekday(),1,4)}function ke(){return zb(this.year(),1,4)}function le(){var a=this.localeData()._week;return zb(this.year(),a.dow,a.doy)}function me(a,b,c,d,e){var f;return null==a?yb(this,d,e).year:(f=zb(a,d,e),b>f&&(b=f),ne.call(this,a,b,c,d,e))}function ne(a,b,c,d,e){var f=xb(a,b,c,d,e),g=vb(f.year,0,f.dayOfYear);return this.year(g.getUTCFullYear()),this.month(g.getUTCMonth()),this.date(g.getUTCDate()),this}function oe(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)}function qe(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==a?b:this.add(a-b,"d")}function ue(a,b){b[Xa]=z(1e3*("0."+a))}function we(){return this._isUTC?"UTC":""}function xe(){return this._isUTC?"Coordinated Universal Time":""}function ze(a){return Pc(1e3*a)}function Ae(){return Pc.apply(null,arguments).parseZone()}function Be(a){return a}function De(a,b,c,d){var e=qc(),f=m().set(d,b);return e[c](f,a)}function Ee(a,b,c){if(h(a)&&(b=a,a=void 0),a=a||"",null!=b)return De(a,b,c,"month");var d,e=[];for(d=0;d<12;d++)e[d]=De(a,d,c,"month");return e}function Fe(a,b,c,d){"boolean"==typeof a?(h(b)&&(c=b,b=void 0),b=b||""):(b=a,c=b,a=!1,h(b)&&(c=b,b=void 0),b=b||"");var e=qc(),f=a?e._week.dow:0;if(null!=c)return De(b,(c+f)%7,d,"day");var g,i=[];for(g=0;g<7;g++)i[g]=De(b,(g+f)%7,d,"day");return i}function Ge(a,b){return Ee(a,b,"months")}function He(a,b){return Ee(a,b,"monthsShort")}function Ie(a,b,c){return Fe(a,b,c,"weekdays")}function Je(a,b,c){return Fe(a,b,c,"weekdaysShort")}function Ke(a,b,c){return Fe(a,b,c,"weekdaysMin")}function Me(){var a=this._data;return this._milliseconds=Le(this._milliseconds),this._days=Le(this._days),this._months=Le(this._months),a.milliseconds=Le(a.milliseconds),a.seconds=Le(a.seconds),a.minutes=Le(a.minutes),a.hours=Le(a.hours),a.months=Le(a.months),a.years=Le(a.years),this}function Ne(a,b,c,d){var e=td(b,c);return a._milliseconds+=d*e._milliseconds,a._days+=d*e._days,a._months+=d*e._months,a._bubble()}function Oe(a,b){return Ne(this,a,b,1)}function Pe(a,b){return Ne(this,a,b,-1)}function Qe(a){return a<0?Math.floor(a):Math.ceil(a)}function Re(){var e,f,g,h,i,a=this._milliseconds,b=this._days,c=this._months,d=this._data;return a>=0&&b>=0&&c>=0||a<=0&&b<=0&&c<=0||(a+=864e5*Qe(Te(c)+b),b=0,c=0),d.milliseconds=a%1e3,e=y(a/1e3),d.seconds=e%60,f=y(e/60),d.minutes=f%60,g=y(f/60),d.hours=g%24,b+=y(g/24),i=y(Se(b)),c+=i,b-=Qe(Te(i)),h=y(c/12),c%=12,d.days=b,d.months=c,d.years=h,this}function Se(a){return 4800*a/146097}function Te(a){return 146097*a/4800}function Ue(a){if(!this.isValid())return NaN;var b,c,d=this._milliseconds;if("month"===(a=Z(a))||"year"===a)return b=this._days+d/864e5,c=this._months+Se(b),"month"===a?c:c/12;switch(b=this._days+Math.round(Te(this._months)),a){case"week":return b/7+d/6048e5;case"day":return b+d/864e5;case"hour":return 24*b+d/36e5;case"minute":return 1440*b+d/6e4;case"second":return 86400*b+d/1e3;case"millisecond":return Math.floor(864e5*b)+d;default:throw new Error("Unknown unit "+a)}}function Ve(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*z(this._months/12):NaN}function We(a){return function(){return this.as(a)}}function df(a){return a=Z(a),this.isValid()?this[a+"s"]():NaN}function ef(a){return function(){return this.isValid()?this._data[a]:NaN}}function nf(){return y(this.days()/7)}function qf(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function rf(a,b,c){var d=td(a).abs(),e=of(d.as("s")),f=of(d.as("m")),g=of(d.as("h")),h=of(d.as("d")),i=of(d.as("M")),j=of(d.as("y")),k=e<=pf.ss&&["s",e]||e<pf.s&&["ss",e]||f<=1&&["m"]||f<pf.m&&["mm",f]||g<=1&&["h"]||g<pf.h&&["hh",g]||h<=1&&["d"]||h<pf.d&&["dd",h]||i<=1&&["M"]||i<pf.M&&["MM",i]||j<=1&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,qf.apply(null,k)}function sf(a){return void 0===a?of:"function"==typeof a&&(of=a,!0)}function tf(a,b){return void 0!==pf[a]&&(void 0===b?pf[a]:(pf[a]=b,"s"===a&&(pf.ss=b-1),!0))}function uf(a){if(!this.isValid())return this.localeData().invalidDate();var b=this.localeData(),c=rf(this,!a,b);return a&&(c=b.pastFuture(+this,c)),b.postformat(c)}function wf(){if(!this.isValid())return this.localeData().invalidDate();var d,e,f,a=vf(this._milliseconds)/1e3,b=vf(this._days),c=vf(this._months);d=y(a/60),e=y(d/60),a%=60,d%=60,f=y(c/12),c%=12;var g=f,h=c,i=b,j=e,k=d,l=a,m=this.asSeconds();return m?(m<0?"-":"")+"P"+(g?g+"Y":"")+(h?h+"M":"")+(i?i+"D":"")+(j||k||l?"T":"")+(j?j+"H":"")+(k?k+"M":"")+(l?l+"S":""):"P0D"}var a,p;p=Array.prototype.some?Array.prototype.some:function(a){for(var b=Object(this),c=b.length>>>0,d=0;d<c;d++)if(d in b&&a.call(this,b[d],d,b))return!0;return!1};var q=p,t=b.momentProperties=[],v=!1,D={};b.suppressDeprecationWarnings=!1,b.deprecationHandler=null;var J;J=Object.keys?Object.keys:function(a){var b,c=[];for(b in a)k(a,b)&&c.push(b);return c};var $a,K=J,L={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},N={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},P="Invalid date",R="%d",S=/\d{1,2}/,U={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},X={},_={},ia=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ja=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ka={},la={},ra=/\d/,sa=/\d\d/,ta=/\d{3}/,ua=/\d{4}/,va=/[+-]?\d{6}/,wa=/\d\d?/,xa=/\d\d\d\d?/,ya=/\d\d\d\d\d\d?/,za=/\d{1,3}/,Aa=/\d{1,4}/,Ba=/[+-]?\d{1,6}/,Ca=/\d+/,Da=/[+-]?\d+/,Ea=/Z|[+-]\d\d:?\d\d/gi,Fa=/Z|[+-]\d\d(?::?\d\d)?/gi,Ga=/[+-]?\d+(\.\d{1,3})?/,Ha=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Ia={},Na={},Ra=0,Sa=1,Ta=2,Ua=3,Va=4,Wa=5,Xa=6,Ya=7,Za=8;$a=Array.prototype.indexOf?Array.prototype.indexOf:function(a){var b;for(b=0;b<this.length;++b)if(this[b]===a)return b;return-1};var _a=$a;ma("M",["MM",2],"Mo",function(){return this.month()+1}),ma("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)}),ma("MMMM",0,0,function(a){return this.localeData().months(this,a)}),Y("month","M"),aa("month",8),Ja("M",wa),Ja("MM",wa,sa),Ja("MMM",function(a,b){return b.monthsShortRegex(a)}),Ja("MMMM",function(a,b){return b.monthsRegex(a)}),Oa(["M","MM"],function(a,b){b[Sa]=z(a)-1}),Oa(["MMM","MMMM"],function(a,b,c,d){var e=c._locale.monthsParse(a,d,c._strict);null!=e?b[Sa]=e:o(c).invalidMonth=a});var bb=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,cb="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),eb="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),lb=Ha,nb=Ha;ma("Y",0,0,function(){var a=this.year();return a<=9999?""+a:"+"+a}),ma(0,["YY",2],0,function(){return this.year()%100}),ma(0,["YYYY",4],0,"year"),ma(0,["YYYYY",5],0,"year"),ma(0,["YYYYYY",6,!0],0,"year"),Y("year","y"),aa("year",1),Ja("Y",Da),Ja("YY",wa,sa),Ja("YYYY",Aa,ua),Ja("YYYYY",Ba,va),Ja("YYYYYY",Ba,va),Oa(["YYYYY","YYYYYY"],Ra),Oa("YYYY",function(a,c){c[Ra]=2===a.length?b.parseTwoDigitYear(a):z(a)}),Oa("YY",function(a,c){c[Ra]=b.parseTwoDigitYear(a)}),Oa("Y",function(a,b){b[Ra]=parseInt(a,10)}),b.parseTwoDigitYear=function(a){return z(a)+(z(a)>68?1900:2e3)};var sb=ca("FullYear",!0);ma("w",["ww",2],"wo","week"),ma("W",["WW",2],"Wo","isoWeek"),Y("week","w"),Y("isoWeek","W"),aa("week",5),aa("isoWeek",5),Ja("w",wa),Ja("ww",wa,sa),Ja("W",wa),Ja("WW",wa,sa),Pa(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=z(a)});var Bb={dow:0,doy:6};ma("d",0,"do","day"),ma("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),ma("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),ma("dddd",0,0,function(a){return this.localeData().weekdays(this,a)}),ma("e",0,0,"weekday"),ma("E",0,0,"isoWeekday"),Y("day","d"),Y("weekday","e"),Y("isoWeekday","E"),aa("day",11),aa("weekday",11),aa("isoWeekday",11),Ja("d",wa),Ja("e",wa),Ja("E",wa),Ja("dd",function(a,b){return b.weekdaysMinRegex(a)}),Ja("ddd",function(a,b){return b.weekdaysShortRegex(a)}),Ja("dddd",function(a,b){return b.weekdaysRegex(a)}),Pa(["dd","ddd","dddd"],function(a,b,c,d){var e=c._locale.weekdaysParse(a,d,c._strict);null!=e?b.d=e:o(c).invalidWeekday=a}),Pa(["d","e","E"],function(a,b,c,d){b[d]=z(a)});var Ib="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Kb="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Mb="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Tb=Ha,Vb=Ha,Xb=Ha;ma("H",["HH",2],0,"hour"),ma("h",["hh",2],0,$b),ma("k",["kk",2],0,_b),ma("hmm",0,0,function(){return""+$b.apply(this)+ha(this.minutes(),2)}),ma("hmmss",0,0,function(){return""+$b.apply(this)+ha(this.minutes(),2)+ha(this.seconds(),2)}),ma("Hmm",0,0,function(){return""+this.hours()+ha(this.minutes(),2)}),ma("Hmmss",0,0,function(){return""+this.hours()+ha(this.minutes(),2)+ha(this.seconds(),2)}),ac("a",!0),ac("A",!1),Y("hour","h"),aa("hour",13),Ja("a",bc),Ja("A",bc),Ja("H",wa),Ja("h",wa),Ja("k",wa),Ja("HH",wa,sa),Ja("hh",wa,sa),Ja("kk",wa,sa),Ja("hmm",xa),Ja("hmmss",ya),Ja("Hmm",xa),Ja("Hmmss",ya),Oa(["H","HH"],Ua),Oa(["k","kk"],function(a,b,c){var d=z(a);b[Ua]=24===d?0:d}),Oa(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a),c._meridiem=a}),Oa(["h","hh"],function(a,b,c){b[Ua]=z(a),o(c).bigHour=!0}),Oa("hmm",function(a,b,c){var d=a.length-2;b[Ua]=z(a.substr(0,d)),b[Va]=z(a.substr(d)),o(c).bigHour=!0}),Oa("hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[Ua]=z(a.substr(0,d)),b[Va]=z(a.substr(d,2)),b[Wa]=z(a.substr(e)),o(c).bigHour=!0}),Oa("Hmm",function(a,b,c){var d=a.length-2;b[Ua]=z(a.substr(0,d)),b[Va]=z(a.substr(d))}),Oa("Hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[Ua]=z(a.substr(0,d)),b[Va]=z(a.substr(d,2)),b[Wa]=z(a.substr(e))});var jc,dc=/[ap]\.?m?\.?/i,fc=ca("Hours",!0),gc={calendar:L,longDateFormat:N,invalidDate:P,ordinal:R,dayOfMonthOrdinalParse:S,relativeTime:U,months:cb,monthsShort:eb,week:Bb,weekdays:Ib,weekdaysMin:Mb,weekdaysShort:Kb,meridiemParse:dc},hc={},ic={},tc=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,uc=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,vc=/Z|[+-]\d\d(?::?\d\d)?/,wc=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],xc=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],yc=/^\/?Date\((\-?\d+)/i,Ac=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/;b.createFromInputFallback=C("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),b.ISO_8601=function(){},b.RFC_2822=function(){};var Qc=C("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=Pc.apply(null,arguments);return this.isValid()&&a.isValid()?a<this?this:a:s()}),Rc=C("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=Pc.apply(null,arguments);return this.isValid()&&a.isValid()?a>this?this:a:s()}),Vc=function(){return Date.now?Date.now():+new Date},Wc=["year","quarter","month","week","day","hour","minute","second","millisecond"];bd("Z",":"),bd("ZZ",""),Ja("Z",Fa),Ja("ZZ",Fa),Oa(["Z","ZZ"],function(a,b,c){c._useUTC=!0,c._tzm=dd(Fa,a)});var cd=/([\+\-]|\d\d)/gi;b.updateOffset=function(){};var rd=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,sd=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;td.fn=$c.prototype,td.invalid=Zc;var zd=xd(1,"add"),Ad=xd(-1,"subtract");b.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",b.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Vd=C("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)});ma(0,["gg",2],0,function(){return this.weekYear()%100}),ma(0,["GG",2],0,function(){return this.isoWeekYear()%100}),he("gggg","weekYear"),he("ggggg","weekYear"),he("GGGG","isoWeekYear"),he("GGGGG","isoWeekYear"),Y("weekYear","gg"),Y("isoWeekYear","GG"),aa("weekYear",1),aa("isoWeekYear",1),Ja("G",Da),Ja("g",Da),Ja("GG",wa,sa),Ja("gg",wa,sa),Ja("GGGG",Aa,ua),Ja("gggg",Aa,ua),Ja("GGGGG",Ba,va),Ja("ggggg",Ba,va),Pa(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=z(a)}),Pa(["gg","GG"],function(a,c,d,e){c[e]=b.parseTwoDigitYear(a)}),ma("Q",0,"Qo","quarter"),Y("quarter","Q"),aa("quarter",7),Ja("Q",ra),Oa("Q",function(a,b){b[Sa]=3*(z(a)-1)}),ma("D",["DD",2],"Do","date"),Y("date","D"),aa("date",9),Ja("D",wa),Ja("DD",wa,sa),Ja("Do",function(a,b){return a?b._dayOfMonthOrdinalParse||b._ordinalParse:b._dayOfMonthOrdinalParseLenient}),Oa(["D","DD"],Ta),Oa("Do",function(a,b){b[Ta]=z(a.match(wa)[0],10)});var pe=ca("Date",!0);ma("DDD",["DDDD",3],"DDDo","dayOfYear"),Y("dayOfYear","DDD"),aa("dayOfYear",4),Ja("DDD",za),Ja("DDDD",ta),Oa(["DDD","DDDD"],function(a,b,c){c._dayOfYear=z(a)}),ma("m",["mm",2],0,"minute"),Y("minute","m"),aa("minute",14),Ja("m",wa),Ja("mm",wa,sa),Oa(["m","mm"],Va);var re=ca("Minutes",!1);ma("s",["ss",2],0,"second"),Y("second","s"),aa("second",15),Ja("s",wa),Ja("ss",wa,sa),Oa(["s","ss"],Wa);var se=ca("Seconds",!1);ma("S",0,0,function(){return~~(this.millisecond()/100)}),ma(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),ma(0,["SSS",3],0,"millisecond"),ma(0,["SSSS",4],0,function(){return 10*this.millisecond()}),ma(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),ma(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),ma(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),ma(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),ma(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),Y("millisecond","ms"),aa("millisecond",16),Ja("S",za,ra),Ja("SS",za,sa),Ja("SSS",za,ta);var te;for(te="SSSS";te.length<=9;te+="S")Ja(te,Ca);for(te="S";te.length<=9;te+="S")Oa(te,ue);var ve=ca("Milliseconds",!1);ma("z",0,0,"zoneAbbr"),ma("zz",0,0,"zoneName");var ye=w.prototype;ye.add=zd,ye.calendar=Cd,ye.clone=Dd,ye.diff=Kd,ye.endOf=Yd,ye.format=Pd,ye.from=Qd,ye.fromNow=Rd,ye.to=Sd,ye.toNow=Td,ye.get=fa,ye.invalidAt=fe,ye.isAfter=Ed,ye.isBefore=Fd,ye.isBetween=Gd,ye.isSame=Hd,ye.isSameOrAfter=Id,ye.isSameOrBefore=Jd,ye.isValid=de,ye.lang=Vd,ye.locale=Ud,ye.localeData=Wd,ye.max=Rc,ye.min=Qc,ye.parsingFlags=ee,ye.set=ga,ye.startOf=Xd,ye.subtract=Ad,ye.toArray=ae,ye.toObject=be,ye.toDate=_d,ye.toISOString=Nd,ye.inspect=Od,ye.toJSON=ce,ye.toString=Md,ye.unix=$d,ye.valueOf=Zd,ye.creationData=ge,ye.year=sb,ye.isLeapYear=tb,ye.weekYear=ie,ye.isoWeekYear=je,ye.quarter=ye.quarters=oe,ye.month=jb,ye.daysInMonth=kb,ye.week=ye.weeks=Eb,ye.isoWeek=ye.isoWeeks=Fb,ye.weeksInYear=le,ye.isoWeeksInYear=ke,ye.date=pe,ye.day=ye.days=Qb,ye.weekday=Rb,ye.isoWeekday=Sb,ye.dayOfYear=qe,ye.hour=ye.hours=fc,ye.minute=ye.minutes=re,ye.second=ye.seconds=se,ye.millisecond=ye.milliseconds=ve,ye.utcOffset=gd,ye.utc=id,ye.local=jd,ye.parseZone=kd,ye.hasAlignedHourOffset=ld,ye.isDST=md,ye.isLocal=od,ye.isUtcOffset=pd,ye.isUtc=qd,ye.isUTC=qd,ye.zoneAbbr=we,ye.zoneName=xe,ye.dates=C("dates accessor is deprecated. Use date instead.",pe),ye.months=C("months accessor is deprecated. Use month instead",jb),ye.years=C("years accessor is deprecated. Use year instead",sb),ye.zone=C("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",hd),ye.isDSTShifted=C("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",nd);var Ce=I.prototype;Ce.calendar=M,Ce.longDateFormat=O,Ce.invalidDate=Q,Ce.ordinal=T,Ce.preparse=Be,Ce.postformat=Be,Ce.relativeTime=V,Ce.pastFuture=W,Ce.set=G,Ce.months=db,Ce.monthsShort=fb,Ce.monthsParse=hb,Ce.monthsRegex=ob,Ce.monthsShortRegex=mb,Ce.week=Ab,Ce.firstDayOfYear=Db,Ce.firstDayOfWeek=Cb,Ce.weekdays=Jb,Ce.weekdaysMin=Nb,Ce.weekdaysShort=Lb,Ce.weekdaysParse=Pb,Ce.weekdaysRegex=Ub,Ce.weekdaysShortRegex=Wb,Ce.weekdaysMinRegex=Yb,Ce.isPM=cc,Ce.meridiem=ec,nc("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10;return a+(1===z(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")}}),b.lang=C("moment.lang is deprecated. Use moment.locale instead.",nc),b.langData=C("moment.langData is deprecated. Use moment.localeData instead.",qc);var Le=Math.abs,Xe=We("ms"),Ye=We("s"),Ze=We("m"),$e=We("h"),_e=We("d"),af=We("w"),bf=We("M"),cf=We("y"),ff=ef("milliseconds"),gf=ef("seconds"),hf=ef("minutes"),jf=ef("hours"),kf=ef("days"),lf=ef("months"),mf=ef("years"),of=Math.round,pf={ss:44,s:45,m:45,h:22,d:26,M:11},vf=Math.abs,xf=$c.prototype;return xf.isValid=Yc,xf.abs=Me,xf.add=Oe,xf.subtract=Pe,xf.as=Ue,xf.asMilliseconds=Xe,xf.asSeconds=Ye,xf.asMinutes=Ze,xf.asHours=$e,xf.asDays=_e,xf.asWeeks=af,xf.asMonths=bf,xf.asYears=cf,xf.valueOf=Ve,xf._bubble=Re,xf.get=df,xf.milliseconds=ff,xf.seconds=gf,xf.minutes=hf,xf.hours=jf,xf.days=kf,xf.weeks=nf,xf.months=lf,xf.years=mf,xf.humanize=uf,xf.toISOString=wf,xf.toString=wf,xf.toJSON=wf,xf.locale=Ud,xf.localeData=Wd,xf.toIsoString=C("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",wf),xf.lang=Vd,ma("X",0,0,"unix"),ma("x",0,0,"valueOf"),Ja("x",Da),Ja("X",Ga),Oa("X",function(a,b,c){c._d=new Date(1e3*parseFloat(a,10))}),Oa("x",function(a,b,c){c._d=new Date(z(a))}),b.version="2.18.1",c(Pc),b.fn=ye,b.min=Tc,b.max=Uc,b.now=Vc,b.utc=m,b.unix=ze,b.months=Ge,b.isDate=i,b.locale=nc,b.invalid=s,b.duration=td,b.isMoment=x,b.weekdays=Ie,b.parseZone=Ae,b.localeData=qc,b.isDuration=_c,b.monthsShort=He,b.weekdaysMin=Ke,b.defineLocale=oc,b.updateLocale=pc,b.locales=rc,b.weekdaysShort=Je,b.normalizeUnits=Z,b.relativeTimeRounding=sf,b.relativeTimeThreshold=tf,b.calendarFormat=Bd,b.prototype=ye,b});var PxBlockAlert=function(a){"use strict";function f(){for(var b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];return this.each(function(){if(-1!==["remove","clear","clearAll","destroy"].indexOf(c[0]))return e[c[0]].apply(null,[a(this)].concat(c.slice(1)));e.add.apply(e,[a(this),c[0]].concat(_toConsumableArray(c.slice(1))))})}var b="pxBlockAlert",c=a.fn[b],d={type:null,style:null,namespace:"default",animate:!0,timer:0,closeButton:!0},e={add:function(c,d){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!d)throw new Error("Content is not specified");var g=e._getConfig(f),h=e._getContainer(c),i="px-block-alerts-namespace--"+g.namespace,j=a(h.find("."+i)[0]||a('<div class="'+i+'"></div>').appendTo(h)[0]),k=a('<div class="alert"></div>');g.closeButton&&k.append('<button type="button" class="close"></button>'),g.type&&k.addClass("alert-"+g.type),g.style&&k.addClass("alert-"+g.style),k.addClass(i+"__alert").append(d),h.removeClass("px-block-alerts-empty"),g.animate&&k.css("display","none").attr("data-animate","true"),j.append(k),g.animate&&k.slideDown(300),g.timer&&k.data("px-block-alert-timer",setTimeout(function(){return e.remove(c,k,g.animate)},1e3*g.timer))},remove:function(b,c){function g(){var a=b.find("> .px-block-alerts");e.remove(),a.find(".alert").length||a.addClass("px-block-alerts-empty")}var d=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],e=b.find(c);if(e.length){var f=e.data("px-block-alert-timer");if(f&&(clearTimeout(f),e.data("px-block-alert-timer",null)),"true"===e.attr("data-animate")&&!0===d)return e.slideUp(300,g);g()}},clear:function(c){var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",f=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("string"!=typeof d)throw new Error("Namespace must be a string.");var g=c.find("> .px-block-alerts .px-block-alerts-namespace--"+d);g.length&&g.find(".alert").each(function(){e.remove(c,a(this),f)})},clearAll:function(c){var d=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];c.find("> .px-block-alerts .alert").each(function(){e.remove(c,a(this),d)})},destroy:function(b){var c=b.find("> .px-block-alerts");c.length&&(e._unsetListeners(c),c.remove())},_getContainer:function(c){var d=c.find("> .px-block-alerts");if(!d.length)if(d=a('<div class="px-block-alerts"></div>'),c.hasClass("panel")){var f=c.find("> .panel-heading");f.length||(f=c.find("> .panel-subtitle")),f.length||(f=c.find("> .panel-title")),f.length?d.insertAfter(f.first()):d.prependTo(c)}else d.prependTo(c);return d.data("pxBlockAlert-listenersDefined")||(e._setListeners(d),d.data("pxBlockAlert-listenersDefined",!0)),d},_getConfig:function(c){var e=a.extend({},d,c);return e.animate=!("false"===e.animate||!1===e.animate),e.closeButton=!("false"===e.closeButton||!1===e.closeButton),e.timer=parseInt(String(e.timer),10)||0,e},_setListeners:function(c){c.on("click",".close",function(){e.remove(c.parent(),a(this).parents(".alert"))})},_unsetListeners:function(b){b.off()}};return a.fn[b]=f,a.fn[b].noConflict=function(){return a.fn[b]=c,f},e}(jQuery),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),PxTabResize=function(a){"use strict";var b="pxTabResize",c="px.tab-resize",d="."+c,e=a.fn[b],f={template:'\n<li class="dropdown">\n  <a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"></a>\n  <ul class="dropdown-menu"></ul>\n</li>',content:'<span class="tab-resize-icon"></span>'},g={TAB_RESIZE:"tab-resize",TAB_RESIZE_NAV:"tab-resize-nav",SHOW:"show",ACTIVE:"active"},h={NAV_ITEMS:"> li:not(.tab-resize)",NAV_LINK:"> a",DROPDOWN_TOGGLE:"> .dropdown-toggle",DROPDOWN_MENU:"> .dropdown-menu",DROPDOWN_ITEMS:"> li"},i={RESIZE:"resize"+d,CLICK:"click"+d},j=function(){function e(b,c){_classCallCheck(this,e),this.uniqueId=pxUtil.generateUniqueId(),this.config=this._getConfig(c),this.element=a(b).find("> .nav")[0]||b,pxUtil.addClass(b,g.TAB_RESIZE_NAV),this.navItem=this._createNavItemElement(),this.navLink=this._getNavLinkElement(),this.dropdown=this._getDropdownElement(),this._setListeners(),this.placeTabs()}return _createClass(e,[{key:"placeTabs",value:function(){this._resetDropdown();var c=a(this.element).find(h.NAV_ITEMS),d=c.length-1,e=c[d],f=e?c[0].offsetTop:0;if(!e||e.offsetTop<=f)return void pxUtil.removeClass(this.navItem,g.SHOW);for(pxUtil.addClass(this.navItem,g.SHOW);e&&!(e.offsetTop<=f);)this._moveItemToDropdown(e),e=c[--d]}},{key:"destroy",value:function(){this._unsetListeners(),this._resetDropdown(),a(this.navItem).remove(),pxUtil.removeClass(this.element,g.TAB_RESIZE_NAV),a(this.element).removeData(c)}},{key:"_createNavItemElement",value:function(){var c=a(this.config.template).addClass(g.TAB_RESIZE)[0];return this.element.insertBefore(c,this.element.firstChild),c}},{key:"_getNavLinkElement",value:function(){return a(this.navItem).find(h.DROPDOWN_TOGGLE).html(this.config.content)[0]}},{key:"_getDropdownElement",value:function(){return a(this.navItem).find(h.DROPDOWN_MENU)[0]}},{key:"_moveItemToDropdown",value:function(c){a(this.dropdown).prepend(c),pxUtil.hasClass(c,g.ACTIVE)&&(pxUtil.addClass(this.navItem,g.ACTIVE),this.navLink.innerHTML=a(c).find(h.NAV_LINK)[0].innerHTML)}},{key:"_resetDropdown",value:function(){pxUtil.removeClass(this.navItem,g.ACTIVE),this.navLink.innerHTML=this.config.content,a(this.element).append(a(this.dropdown).find(h.DROPDOWN_ITEMS))}},{key:"_setListeners",value:function(){var c=this;a(window).on(this.constructor.Event.RESIZE+"."+this.uniqueId,a.proxy(this.placeTabs,this)),a(this.element).on(this.constructor.Event.CLICK,h.NAV_ITEMS+", > ."+g.TAB_RESIZE+" li",function(){return setTimeout(a.proxy(c.placeTabs,c,10))})}},{key:"_unsetListeners",value:function(){a(window).off(this.constructor.Event.RESIZE+"."+this.uniqueId),a(this.element).off(d)}},{key:"_getConfig",value:function(c){return a.extend({},this.constructor.Default,c)}}],[{key:"_jQueryInterface",value:function(d){return this.each(function(){var b=a(this).data(c),f="object"===(void 0===d?"undefined":_typeof(d))?d:null;if(b||(b=new e(this,f),a(this).data(c,b)),"string"==typeof d){if(!b[d])throw new Error('No method named "'+d+'"');b[d]()}})}},{key:"Default",get:function(){return f}},{key:"NAME",get:function(){return b}},{key:"DATA_KEY",get:function(){return c}},{key:"Event",get:function(){return i}},{key:"EVENT_KEY",get:function(){return d}}]),e}();return a.fn[b]=j._jQueryInterface,a.fn[b].Constructor=j,a.fn[b].noConflict=function(){return a.fn[b]=e,j._jQueryInterface},j}(jQuery),_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),PxExpandingInput=function(a){"use strict";var b="pxExpandingInput",c="px.expanding-input",d="."+c,e=a.fn[b],f={EXPANDED:"expanded",CONTROL:"expanding-input-control",OVERLAY:"expanding-input-overlay",CONTENT:"expanding-input-content"},g={FOCUS:"focus"+d,CLICK:"click"+d,EXPAND:"expand"+d,EXPANDED:"expanded"+d,COLLAPSE:"collapse"+d,COLLAPSED:"collapsed"+d},h=function(){function e(b){_classCallCheck(this,e),this.element=b,this.control=a(b).find("."+f.CONTROL)[0],this.overlay=a(b).find("."+f.OVERLAY)[0],this._checkElements(),this._setListeners()}return _createClass(e,[{key:"expand",value:function(){if(!pxUtil.hasClass(this.element,f.EXPANDED)){var c=a.Event(this.constructor.Event.EXPAND,{target:this.element});a(this.element).trigger(c),c.isDefaultPrevented()||(pxUtil.addClass(this.element,f.EXPANDED),a(this.element).trigger(a.Event(this.constructor.Event.EXPANDED,{target:this.element})),a(this.control).trigger("focus"))}}},{key:"collapse",value:function(){if(pxUtil.hasClass(this.element,f.EXPANDED)){var c=a.Event(this.constructor.Event.COLLAPSE,{target:this.element});a(this.element).trigger(c),c.isDefaultPrevented()||(pxUtil.removeClass(this.element,f.EXPANDED),a(this.element).trigger(a.Event(this.constructor.Event.COLLAPSED,{target:this.element})))}}},{key:"destroy",value:function(){this._unsetListeners(),a(this.element).removeData(c)}},{key:"_checkElements",value:function(){if(!pxUtil.hasClass(this.element,"expanding-input"))throw new Error(b+" plugin must be called on an element with 'expanding-input' class.");if(!this.control)throw new Error("Input is not found.");if(this.overlay||(this.overlay=a('<div class="expanding-input-overlay"></div>').insertAfter(this.control)[0]),!a(this.element).find("."+f.CONTENT)[0])throw new Error("Content element is not found.")}},{key:"_setListeners",value:function(){a(this.control).on(this.constructor.Event.FOCUS,a.proxy(this.expand,this)),a(this.overlay).on(this.constructor.Event.CLICK,a.proxy(this.expand,this)),a(this.element).find('[data-collapse="true"]').on(this.constructor.Event.CLICK,a.proxy(this.collapse,this))}},{key:"_unsetListeners",value:function(){a(this.control).off(d),a(this.overlay).off(d),a(this.element).find('[data-collapse="true"]').off(d)}}],[{key:"_jQueryInterface",value:function(d){return this.each(function(){var b=a(this).data(c);if(b||(b=new e(this),a(this).data(c,b)),"string"==typeof d){if(!b[d])throw new Error('No method named "'+d+'".');b[d]()}})}},{key:"NAME",get:function(){return b}},{key:"DATA_KEY",get:function(){return c}},{key:"Event",get:function(){return g}},{key:"EVENT_KEY",get:function(){return d}}]),e}();return a.fn[b]=h._jQueryInterface,a.fn[b].Constructor=h,a.fn[b].noConflict=function(){return a.fn[b]=e,h._jQueryInterface},h}(jQuery);!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){a.extend(a.fn,{validate:function(b){if(!this.length)return void(b&&b.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var c=a.data(this[0],"validator");return c||(this.attr("novalidate","novalidate"),c=new a.validator(b,this[0]),a.data(this[0],"validator",c),c.settings.onsubmit&&(this.on("click.validate",":submit",function(b){c.settings.submitHandler&&(c.submitButton=b.target),a(this).hasClass("cancel")&&(c.cancelSubmit=!0),void 0!==a(this).attr("formnovalidate")&&(c.cancelSubmit=!0)}),this.on("submit.validate",function(b){function d(){var d,e;return!c.settings.submitHandler||(c.submitButton&&(d=a("<input type='hidden'/>").attr("name",c.submitButton.name).val(a(c.submitButton).val()).appendTo(c.currentForm)),e=c.settings.submitHandler.call(c,c.currentForm,b),c.submitButton&&d.remove(),void 0!==e&&e)}return c.settings.debug&&b.preventDefault(),c.cancelSubmit?(c.cancelSubmit=!1,d()):c.form()?c.pendingRequest?(c.formSubmitted=!0,!1):d():(c.focusInvalid(),!1)})),c)},valid:function(){var b,c,d;return a(this[0]).is("form")?b=this.validate().form():(d=[],b=!0,c=a(this[0].form).validate(),this.each(function(){(b=c.element(this)&&b)||(d=d.concat(c.errorList))}),c.errorList=d),b},rules:function(b,c){var e,f,g,h,i,j,d=this[0];if(null!=d&&null!=d.form){if(b)switch(e=a.data(d.form,"validator").settings,f=e.rules,g=a.validator.staticRules(d),b){case"add":a.extend(g,a.validator.normalizeRule(c)),delete g.messages,f[d.name]=g,c.messages&&(e.messages[d.name]=a.extend(e.messages[d.name],c.messages));break;case"remove":return c?(j={},a.each(c.split(/\s/),function(b,c){j[c]=g[c],delete g[c],"required"===c&&a(d).removeAttr("aria-required")}),j):(delete f[d.name],g)}return h=a.validator.normalizeRules(a.extend({},a.validator.classRules(d),a.validator.attributeRules(d),a.validator.dataRules(d),a.validator.staticRules(d)),d),h.required&&(i=h.required,delete h.required,h=a.extend({required:i},h),a(d).attr("aria-required","true")),h.remote&&(i=h.remote,delete h.remote,h=a.extend(h,{remote:i})),h}}}),a.extend(a.expr.pseudos||a.expr[":"],{blank:function(b){return!a.trim(""+a(b).val())},filled:function(b){var c=a(b).val();return null!==c&&!!a.trim(""+c)},unchecked:function(b){return!a(b).prop("checked")}}),a.validator=function(b,c){this.settings=a.extend(!0,{},a.validator.defaults,b),this.currentForm=c,this.init()},a.validator.format=function(b,c){return 1===arguments.length?function(){var c=a.makeArray(arguments);return c.unshift(b),a.validator.format.apply(this,c)}:void 0===c?b:(arguments.length>2&&c.constructor!==Array&&(c=a.makeArray(arguments).slice(1)),c.constructor!==Array&&(c=[c]),a.each(c,function(a,c){b=b.replace(new RegExp("\\{"+a+"\\}","g"),function(){return c})}),b)},a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(a){this.lastActive=a,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(a)))},onfocusout:function(a){this.checkable(a)||!(a.name in this.submitted)&&this.optional(a)||this.element(a)},onkeyup:function(b,c){var d=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===c.which&&""===this.elementValue(b)||-1!==a.inArray(c.keyCode,d)||(b.name in this.submitted||b.name in this.invalid)&&this.element(b)},onclick:function(a){a.name in this.submitted?this.element(a):a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).addClass(c).removeClass(d):a(b).addClass(c).removeClass(d)},unhighlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).removeClass(c).addClass(d):a(b).removeClass(c).addClass(d)}},setDefaults:function(b){a.extend(a.validator.defaults,b)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}."),step:a.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function d(b){!this.form&&this.hasAttribute("contenteditable")&&(this.form=a(this).closest("form")[0]);var c=a.data(this.form,"validator"),d="on"+b.type.replace(/^validate/,""),e=c.settings;e[d]&&!a(this).is(e.ignore)&&e[d].call(c,this,b)}this.labelContainer=a(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm),this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var c,b=this.groups={};a.each(this.settings.groups,function(c,d){"string"==typeof d&&(d=d.split(/\s/)),a.each(d,function(a,d){b[d]=c})}),c=this.settings.rules,a.each(c,function(b,d){c[b]=a.validator.normalizeRule(d)}),a(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",d).on("click.validate","select, option, [type='radio'], [type='checkbox']",d),this.settings.invalidHandler&&a(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler),a(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),a.extend(this.submitted,this.errorMap),this.invalid=a.extend({},this.errorMap),this.valid()||a(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var a=0,b=this.currentElements=this.elements();b[a];a++)this.check(b[a]);return this.valid()},element:function(b){var g,h,c=this.clean(b),d=this.validationTargetFor(c),e=this,f=!0;return void 0===d?delete this.invalid[c.name]:(this.prepareElement(d),this.currentElements=a(d),h=this.groups[d.name],h&&a.each(this.groups,function(a,b){b===h&&a!==d.name&&(c=e.validationTargetFor(e.clean(e.findByName(a))))&&c.name in e.invalid&&(e.currentElements.push(c),f=e.check(c)&&f)}),g=!1!==this.check(d),f=f&&g,this.invalid[d.name]=!g,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),a(b).attr("aria-invalid",!g)),f},showErrors:function(b){if(b){var c=this;a.extend(this.errorMap,b),this.errorList=a.map(this.errorMap,function(a,b){return{message:a,element:c.findByName(b)[0]}}),this.successList=a.grep(this.successList,function(a){return!(a.name in b)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){a.fn.resetForm&&a(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var b=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(b)},resetElements:function(a){var b;if(this.settings.unhighlight)for(b=0;a[b];b++)this.settings.unhighlight.call(this,a[b],this.settings.errorClass,""),this.findByName(a[b].name).removeClass(this.settings.validClass);else a.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var c,b=0;for(c in a)a[c]&&b++;return b},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(a){a.not(this.containers).text(""),this.addWrapper(a).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(a){}},findLastActive:function(){var b=this.lastActive;return b&&1===a.grep(this.errorList,function(a){return a.element.name===b.name}).length&&b},elements:function(){var b=this,c={};return a(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var d=this.name||a(this).attr("name");return!d&&b.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.hasAttribute("contenteditable")&&(this.form=a(this).closest("form")[0]),!(d in c||!b.objectLength(a(this).rules()))&&(c[d]=!0,!0)})},clean:function(b){return a(b)[0]},errors:function(){var b=this.settings.errorClass.split(" ").join(".");return a(this.settings.errorElement+"."+b,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=a([]),this.toHide=a([])},reset:function(){this.resetInternals(),this.currentElements=a([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(a){this.reset(),this.toHide=this.errorsFor(a)},elementValue:function(b){var e,f,c=a(b),d=b.type;return"radio"===d||"checkbox"===d?this.findByName(b.name).filter(":checked").val():"number"===d&&void 0!==b.validity?b.validity.badInput?"NaN":c.val():(e=b.hasAttribute("contenteditable")?c.text():c.val(),"file"===d?"C:\\fakepath\\"===e.substr(0,12)?e.substr(12):(f=e.lastIndexOf("/"))>=0?e.substr(f+1):(f=e.lastIndexOf("\\"),f>=0?e.substr(f+1):e):"string"==typeof e?e.replace(/\r/g,""):e)},check:function(b){b=this.validationTargetFor(this.clean(b));var g,h,i,c=a(b).rules(),d=a.map(c,function(a,b){return b}).length,e=!1,f=this.elementValue(b);if("function"==typeof c.normalizer){if("string"!=typeof(f=c.normalizer.call(b,f)))throw new TypeError("The normalizer should return a string value.");delete c.normalizer}for(h in c){i={method:h,parameters:c[h]};try{if("dependency-mismatch"===(g=a.validator.methods[h].call(this,f,b,i.parameters))&&1===d){e=!0;continue}if(e=!1,"pending"===g)return void(this.toHide=this.toHide.not(this.errorsFor(b)));if(!g)return this.formatAndAdd(b,i),!1}catch(a){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+b.id+", check the '"+i.method+"' method.",a),a instanceof TypeError&&(a.message+=".  Exception occurred when checking element "+b.id+", check the '"+i.method+"' method."),a}}if(!e)return this.objectLength(c)&&this.successList.push(b),!0},customDataMessage:function(b,c){return a(b).data("msg"+c.charAt(0).toUpperCase()+c.substring(1).toLowerCase())||a(b).data("msg")},customMessage:function(a,b){var c=this.settings.messages[a];return c&&(c.constructor===String?c:c[b])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(void 0!==arguments[a])return arguments[a]},defaultMessage:function(b,c){"string"==typeof c&&(c={method:c});var d=this.findDefined(this.customMessage(b.name,c.method),this.customDataMessage(b,c.method),!this.settings.ignoreTitle&&b.title||void 0,a.validator.messages[c.method],"<strong>Warning: No message defined for "+b.name+"</strong>"),e=/\$?\{(\d+)\}/g;return"function"==typeof d?d=d.call(this,c.parameters,b):e.test(d)&&(d=a.validator.format(d.replace(e,"{$1}"),c.parameters)),d},formatAndAdd:function(a,b){var c=this.defaultMessage(a,b);this.errorList.push({message:c,element:a,method:b.method}),this.errorMap[a.name]=c,this.submitted[a.name]=c},addWrapper:function(a){return this.settings.wrapper&&(a=a.add(a.parent(this.settings.wrapper))),a},defaultShowErrors:function(){var a,b,c;for(a=0;this.errorList[a];a++)c=this.errorList[a],this.settings.highlight&&this.settings.highlight.call(this,c.element,this.settings.errorClass,this.settings.validClass),this.showLabel(c.element,c.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight)for(a=0,b=this.validElements();b[a];a++)this.settings.unhighlight.call(this,b[a],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(b,c){var d,e,f,g,h=this.errorsFor(b),i=this.idOrName(b),j=a(b).attr("aria-describedby");h.length?(h.removeClass(this.settings.validClass).addClass(this.settings.errorClass),h.html(c)):(h=a("<"+this.settings.errorElement+">").attr("id",i+"-error").addClass(this.settings.errorClass).html(c||""),d=h,this.settings.wrapper&&(d=h.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(d):this.settings.errorPlacement?this.settings.errorPlacement.call(this,d,a(b)):d.insertAfter(b),h.is("label")?h.attr("for",i):0===h.parents("label[for='"+this.escapeCssMeta(i)+"']").length&&(f=h.attr("id"),j?j.match(new RegExp("\\b"+this.escapeCssMeta(f)+"\\b"))||(j+=" "+f):j=f,a(b).attr("aria-describedby",j),(e=this.groups[b.name])&&(g=this,a.each(g.groups,function(b,c){c===e&&a("[name='"+g.escapeCssMeta(b)+"']",g.currentForm).attr("aria-describedby",h.attr("id"))})))),!c&&this.settings.success&&(h.text(""),"string"==typeof this.settings.success?h.addClass(this.settings.success):this.settings.success(h,b)),this.toShow=this.toShow.add(h)},errorsFor:function(b){var c=this.escapeCssMeta(this.idOrName(b)),d=a(b).attr("aria-describedby"),e="label[for='"+c+"'], label[for='"+c+"'] *";return d&&(e=e+", #"+this.escapeCssMeta(d).replace(/\s+/g,", #")),this.errors().filter(e)},escapeCssMeta:function(a){return a.replace(/([\\!"#$%&'()*+,.\/:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(b){return this.checkable(b)&&(b=this.findByName(b.name)),a(b).not(this.settings.ignore)[0]},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(b){return a(this.currentForm).find("[name='"+this.escapeCssMeta(b)+"']")},getLength:function(b,c){switch(c.nodeName.toLowerCase()){case"select":return a("option:selected",c).length;case"input":if(this.checkable(c))return this.findByName(c.name).filter(":checked").length}return b.length},depend:function(a,b){return!this.dependTypes[typeof a]||this.dependTypes[typeof a](a,b)},dependTypes:{boolean:function(a){return a},string:function(b,c){return!!a(b,c.form).length},function:function(a,b){return a(b)}},optional:function(b){var c=this.elementValue(b);return!a.validator.methods.required.call(this,c,b)&&"dependency-mismatch"},startRequest:function(b){this.pending[b.name]||(this.pendingRequest++,a(b).addClass(this.settings.pendingClass),this.pending[b.name]=!0)},stopRequest:function(b,c){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[b.name],a(b).removeClass(this.settings.pendingClass),c&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(a(this.currentForm).submit(),this.formSubmitted=!1):!c&&0===this.pendingRequest&&this.formSubmitted&&(a(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(b,c){return c="string"==typeof c&&c||"remote",a.data(b,"previousValue")||a.data(b,"previousValue",{old:null,valid:!0,message:this.defaultMessage(b,{method:c})})},destroy:function(){this.resetForm(),a(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(b,c){b.constructor===String?this.classRuleSettings[b]=c:a.extend(this.classRuleSettings,b)},classRules:function(b){var c={},d=a(b).attr("class");return d&&a.each(d.split(" "),function(){this in a.validator.classRuleSettings&&a.extend(c,a.validator.classRuleSettings[this])}),c},normalizeAttributeRule:function(a,b,c,d){/min|max|step/.test(c)&&(null===b||/number|range|text/.test(b))&&(d=Number(d),isNaN(d)&&(d=void 0)),d||0===d?a[c]=d:b===c&&"range"!==b&&(a[c]=!0)},attributeRules:function(b){var f,g,c={},d=a(b),e=b.getAttribute("type");for(f in a.validator.methods)"required"===f?(g=b.getAttribute(f),""===g&&(g=!0),g=!!g):g=d.attr(f),this.normalizeAttributeRule(c,e,f,g);return c.maxlength&&/-1|2147483647|524288/.test(c.maxlength)&&delete c.maxlength,c},dataRules:function(b){var f,g,c={},d=a(b),e=b.getAttribute("type");for(f in a.validator.methods)g=d.data("rule"+f.charAt(0).toUpperCase()+f.substring(1).toLowerCase()),this.normalizeAttributeRule(c,e,f,g);return c},staticRules:function(b){var c={},d=a.data(b.form,"validator");return d.settings.rules&&(c=a.validator.normalizeRule(d.settings.rules[b.name])||{}),c},normalizeRules:function(b,c){return a.each(b,function(d,e){if(!1===e)return void delete b[d];if(e.param||e.depends){var f=!0;switch(typeof e.depends){case"string":f=!!a(e.depends,c.form).length;break;case"function":f=e.depends.call(c,c)}f?b[d]=void 0===e.param||e.param:(a.data(c.form,"validator").resetElements(a(c)),delete b[d])}}),a.each(b,function(d,e){b[d]=a.isFunction(e)&&"normalizer"!==d?e(c):e}),a.each(["minlength","maxlength"],function(){b[this]&&(b[this]=Number(b[this]))}),a.each(["rangelength","range"],function(){var c;b[this]&&(a.isArray(b[this])?b[this]=[Number(b[this][0]),Number(b[this][1])]:"string"==typeof b[this]&&(c=b[this].replace(/[\[\]]/g,"").split(/[\s,]+/),b[this]=[Number(c[0]),Number(c[1])]))}),a.validator.autoCreateRanges&&(null!=b.min&&null!=b.max&&(b.range=[b.min,b.max],delete b.min,delete b.max),null!=b.minlength&&null!=b.maxlength&&(b.rangelength=[b.minlength,b.maxlength],delete b.minlength,delete b.maxlength)),b},normalizeRule:function(b){if("string"==typeof b){var c={};a.each(b.split(/\s/),function(){c[this]=!0}),b=c}return b},addMethod:function(b,c,d){a.validator.methods[b]=c,a.validator.messages[b]=void 0!==d?d:a.validator.messages[b],c.length<3&&a.validator.addClassRules(b,a.validator.normalizeRule(b))},methods:{required:function(b,c,d){if(!this.depend(d,c))return"dependency-mismatch";if("select"===c.nodeName.toLowerCase()){var e=a(c).val();return e&&e.length>0}return this.checkable(c)?this.getLength(b,c)>0:b.length>0},email:function(a,b){return this.optional(b)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(a)},url:function(a,b){return this.optional(b)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(a)},date:function(a,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(a).toString())},dateISO:function(a,b){return this.optional(b)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(a)},number:function(a,b){return this.optional(b)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(a)},digits:function(a,b){return this.optional(b)||/^\d+$/.test(a)},minlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(b,c);return this.optional(c)||e>=d},maxlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(b,c);return this.optional(c)||e<=d},rangelength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(b,c);return this.optional(c)||e>=d[0]&&e<=d[1]},min:function(a,b,c){return this.optional(b)||a>=c},max:function(a,b,c){return this.optional(b)||a<=c},range:function(a,b,c){return this.optional(b)||a>=c[0]&&a<=c[1]},step:function(b,c,d){var m,e=a(c).attr("type"),f="Step attribute on input type "+e+" is not supported.",g=["text","number","range"],h=new RegExp("\\b"+e+"\\b"),i=e&&!h.test(g.join()),j=function(a){var b=(""+a).match(/(?:\.(\d+))?$/);return b&&b[1]?b[1].length:0},k=function(a){return Math.round(a*Math.pow(10,m))},l=!0;if(i)throw new Error(f);return m=j(d),(j(b)>m||k(b)%k(d)!=0)&&(l=!1),this.optional(c)||l},equalTo:function(b,c,d){var e=a(d);return this.settings.onfocusout&&e.not(".validate-equalTo-blur").length&&e.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){a(c).valid()}),b===e.val()},remote:function(b,c,d,e){if(this.optional(c))return"dependency-mismatch";e="string"==typeof e&&e||"remote";var g,h,i,f=this.previousValue(c,e);return this.settings.messages[c.name]||(this.settings.messages[c.name]={}),f.originalMessage=f.originalMessage||this.settings.messages[c.name][e],this.settings.messages[c.name][e]=f.message,d="string"==typeof d&&{url:d}||d,i=a.param(a.extend({data:b},d.data)),f.old===i?f.valid:(f.old=i,g=this,this.startRequest(c),h={},h[c.name]=b,a.ajax(a.extend(!0,{mode:"abort",port:"validate"+c.name,dataType:"json",data:h,context:g.currentForm,success:function(a){var h,i,j,d=!0===a||"true"===a;g.settings.messages[c.name][e]=f.originalMessage,d?(j=g.formSubmitted,g.resetInternals(),g.toHide=g.errorsFor(c),g.formSubmitted=j,g.successList.push(c),g.invalid[c.name]=!1,g.showErrors()):(h={},i=a||g.defaultMessage(c,{method:e,parameters:b}),h[c.name]=f.message=i,g.invalid[c.name]=!0,g.showErrors(h)),f.valid=d,g.stopRequest(c,d)}},d)),"pending")}}});var c,b={};return a.ajaxPrefilter?a.ajaxPrefilter(function(a,c,d){var e=a.port;"abort"===a.mode&&(b[e]&&b[e].abort(),b[e]=d)}):(c=a.ajax,a.ajax=function(d){var e=("mode"in d?d:a.ajaxSettings).mode,f=("port"in d?d:a.ajaxSettings).port;return"abort"===e?(b[f]&&b[f].abort(),b[f]=c.apply(this,arguments),b[f]):c.apply(this,arguments)}),a}),function(a){"function"==typeof define&&define.amd?define(["jquery","./jquery.validate"],a):"object"==typeof module&&module.exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){return function(){function b(a){return a.replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," ").replace(/[.(),;:!?%#$'\"_+=\/\-]*/g,"")}a.validator.addMethod("maxWords",function(a,c,d){return this.optional(c)||b(a).match(/\b\w+\b/g).length<=d},a.validator.format("Please enter {0} words or less.")),a.validator.addMethod("minWords",function(a,c,d){return this.optional(c)||b(a).match(/\b\w+\b/g).length>=d},a.validator.format("Please enter at least {0} words.")),a.validator.addMethod("rangeWords",function(a,c,d){var e=b(a),f=/\b\w+\b/g;return this.optional(c)||e.match(f).length>=d[0]&&e.match(f).length<=d[1]},a.validator.format("Please enter between {0} and {1} words."))}(),a.validator.addMethod("accept",function(b,c,d){var g,h,i,e="string"==typeof d?d.replace(/\s/g,""):"image/*",f=this.optional(c);if(f)return f;if("file"===a(c).attr("type")&&(e=e.replace(/[\-\[\]\/\{\}\(\)\+\?\.\\\^\$\|]/g,"\\$&").replace(/,/g,"|").replace(/\/\*/g,"/.*"),c.files&&c.files.length))for(i=new RegExp(".?("+e+")$","i"),g=0;g<c.files.length;g++)if(h=c.files[g],!h.type.match(i))return!1;return!0},a.validator.format("Please enter a value with a valid mimetype.")),a.validator.addMethod("alphanumeric",function(a,b){return this.optional(b)||/^\w+$/i.test(a)},"Letters, numbers, and underscores only please"),a.validator.addMethod("bankaccountNL",function(a,b){if(this.optional(b))return!0;if(!/^[0-9]{9}|([0-9]{2} ){3}[0-9]{3}$/.test(a))return!1;var f,g,h,c=a.replace(/ /g,""),d=0,e=c.length;for(f=0;f<e;f++)g=e-f,h=c.substring(f,f+1),d+=g*h;return d%11==0},"Please specify a valid bank account number"),a.validator.addMethod("bankorgiroaccountNL",function(b,c){return this.optional(c)||a.validator.methods.bankaccountNL.call(this,b,c)||a.validator.methods.giroaccountNL.call(this,b,c)},"Please specify a valid bank or giro account number"),a.validator.addMethod("bic",function(a,b){return this.optional(b)||/^([A-Z]{6}[A-Z2-9][A-NP-Z1-9])(X{3}|[A-WY-Z0-9][A-Z0-9]{2})?$/.test(a.toUpperCase())},"Please specify a valid BIC code"),a.validator.addMethod("cifES",function(a){"use strict";function m(a){return a%2==0}var i,j,k,l,b=new RegExp(/^([ABCDEFGHJKLMNPQRSUVW])(\d{7})([0-9A-J])$/gi),c=a.substring(0,1),d=a.substring(1,8),e=a.substring(8,9),f=0,g=0,h=0;if(9!==a.length||!b.test(a))return!1;for(i=0;i<d.length;i++)j=parseInt(d[i],10),m(i)?(j*=2,h+=j<10?j:j-9):g+=j;return f=g+h,k=(10-f.toString().substr(-1)).toString(),k=parseInt(k,10)>9?"0":k,l="JABCDEFGHI".substr(k,1).toString(),c.match(/[ABEH]/)?e===k:c.match(/[KPQS]/)?e===l:e===k||e===l},"Please specify a valid CIF number."),a.validator.addMethod("cpfBR",function(a){if(a=a.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g,""),11!==a.length)return!1;var c,d,e,f,b=0;if(c=parseInt(a.substring(9,10),10),d=parseInt(a.substring(10,11),10),e=function(a,b){var c=10*a%11;return 10!==c&&11!==c||(c=0),c===b},""===a||"00000000000"===a||"11111111111"===a||"22222222222"===a||"33333333333"===a||"44444444444"===a||"55555555555"===a||"66666666666"===a||"77777777777"===a||"88888888888"===a||"99999999999"===a)return!1;for(f=1;f<=9;f++)b+=parseInt(a.substring(f-1,f),10)*(11-f);if(e(b,c)){for(b=0,f=1;f<=10;f++)b+=parseInt(a.substring(f-1,f),10)*(12-f);return e(b,d)}return!1},"Please specify a valid CPF number"),a.validator.addMethod("creditcard",function(a,b){if(this.optional(b))return"dependency-mismatch";if(/[^0-9 \-]+/.test(a))return!1;var f,g,c=0,d=0,e=!1;if(a=a.replace(/\D/g,""),a.length<13||a.length>19)return!1;for(f=a.length-1;f>=0;f--)g=a.charAt(f),d=parseInt(g,10),e&&(d*=2)>9&&(d-=9),c+=d,e=!e;return c%10==0},"Please enter a valid credit card number."),a.validator.addMethod("creditcardtypes",function(a,b,c){if(/[^0-9\-]+/.test(a))return!1;a=a.replace(/\D/g,"");var d=0;return c.mastercard&&(d|=1),c.visa&&(d|=2),c.amex&&(d|=4),c.dinersclub&&(d|=8),c.enroute&&(d|=16),c.discover&&(d|=32),c.jcb&&(d|=64),c.unknown&&(d|=128),c.all&&(d=255),1&d&&/^(5[12345])/.test(a)?16===a.length:2&d&&/^(4)/.test(a)?16===a.length:4&d&&/^(3[47])/.test(a)?15===a.length:8&d&&/^(3(0[012345]|[68]))/.test(a)?14===a.length:16&d&&/^(2(014|149))/.test(a)?15===a.length:32&d&&/^(6011)/.test(a)?16===a.length:64&d&&/^(3)/.test(a)?16===a.length:64&d&&/^(2131|1800)/.test(a)?15===a.length:!!(128&d)},"Please enter a valid credit card number."),a.validator.addMethod("currency",function(a,b,c){var g,d="string"==typeof c,e=d?c:c[0],f=!!d||c[1];return e=e.replace(/,/g,""),e=f?e+"]":e+"]?",g="^["+e+"([1-9]{1}[0-9]{0,2}(\\,[0-9]{3})*(\\.[0-9]{0,2})?|[1-9]{1}[0-9]{0,}(\\.[0-9]{0,2})?|0(\\.[0-9]{0,2})?|(\\.[0-9]{1,2})?)$",g=new RegExp(g),this.optional(b)||g.test(a)},"Please specify a valid currency"),a.validator.addMethod("dateFA",function(a,b){return this.optional(b)||/^[1-4]\d{3}\/((0?[1-6]\/((3[0-1])|([1-2][0-9])|(0?[1-9])))|((1[0-2]|(0?[7-9]))\/(30|([1-2][0-9])|(0?[1-9]))))$/.test(a)},a.validator.messages.date),a.validator.addMethod("dateITA",function(a,b){var e,f,g,h,i,c=!1,d=/^\d{1,2}\/\d{1,2}\/\d{4}$/;return d.test(a)?(e=a.split("/"),f=parseInt(e[0],10),g=parseInt(e[1],10),h=parseInt(e[2],10),i=new Date(Date.UTC(h,g-1,f,12,0,0,0)),c=i.getUTCFullYear()===h&&i.getUTCMonth()===g-1&&i.getUTCDate()===f):c=!1,this.optional(b)||c},a.validator.messages.date),a.validator.addMethod("dateNL",function(a,b){return this.optional(b)||/^(0?[1-9]|[12]\d|3[01])[\.\/\-](0?[1-9]|1[012])[\.\/\-]([12]\d)?(\d\d)$/.test(a)},a.validator.messages.date),a.validator.addMethod("extension",function(a,b,c){return c="string"==typeof c?c.replace(/,/g,"|"):"png|jpe?g|gif",this.optional(b)||a.match(new RegExp("\\.("+c+")$","i"))},a.validator.format("Please enter a value with a valid extension.")),a.validator.addMethod("giroaccountNL",function(a,b){return this.optional(b)||/^[0-9]{1,7}$/.test(a)},"Please specify a valid giro account number"),a.validator.addMethod("iban",function(a,b){if(this.optional(b))return!0;var h,i,j,k,l,m,n,o,p,c=a.replace(/ /g,"").toUpperCase(),d="",e=!0,f="",g="";if(c.length<5)return!1;if(h=c.substring(0,2),m={AL:"\\d{8}[\\dA-Z]{16}",AD:"\\d{8}[\\dA-Z]{12}",AT:"\\d{16}",AZ:"[\\dA-Z]{4}\\d{20}",BE:"\\d{12}",BH:"[A-Z]{4}[\\dA-Z]{14}",BA:"\\d{16}",BR:"\\d{23}[A-Z][\\dA-Z]",BG:"[A-Z]{4}\\d{6}[\\dA-Z]{8}",CR:"\\d{17}",HR:"\\d{17}",CY:"\\d{8}[\\dA-Z]{16}",CZ:"\\d{20}",DK:"\\d{14}",DO:"[A-Z]{4}\\d{20}",EE:"\\d{16}",FO:"\\d{14}",FI:"\\d{14}",FR:"\\d{10}[\\dA-Z]{11}\\d{2}",GE:"[\\dA-Z]{2}\\d{16}",DE:"\\d{18}",GI:"[A-Z]{4}[\\dA-Z]{15}",GR:"\\d{7}[\\dA-Z]{16}",GL:"\\d{14}",GT:"[\\dA-Z]{4}[\\dA-Z]{20}",HU:"\\d{24}",IS:"\\d{22}",IE:"[\\dA-Z]{4}\\d{14}",IL:"\\d{19}",IT:"[A-Z]\\d{10}[\\dA-Z]{12}",KZ:"\\d{3}[\\dA-Z]{13}",KW:"[A-Z]{4}[\\dA-Z]{22}",LV:"[A-Z]{4}[\\dA-Z]{13}",LB:"\\d{4}[\\dA-Z]{20}",LI:"\\d{5}[\\dA-Z]{12}",LT:"\\d{16}",LU:"\\d{3}[\\dA-Z]{13}",MK:"\\d{3}[\\dA-Z]{10}\\d{2}",MT:"[A-Z]{4}\\d{5}[\\dA-Z]{18}",MR:"\\d{23}",MU:"[A-Z]{4}\\d{19}[A-Z]{3}",MC:"\\d{10}[\\dA-Z]{11}\\d{2}",MD:"[\\dA-Z]{2}\\d{18}",ME:"\\d{18}",NL:"[A-Z]{4}\\d{10}",NO:"\\d{11}",PK:"[\\dA-Z]{4}\\d{16}",PS:"[\\dA-Z]{4}\\d{21}",PL:"\\d{24}",PT:"\\d{21}",RO:"[A-Z]{4}[\\dA-Z]{16}",SM:"[A-Z]\\d{10}[\\dA-Z]{12}",SA:"\\d{2}[\\dA-Z]{18}",RS:"\\d{18}",SK:"\\d{20}",SI:"\\d{15}",ES:"\\d{20}",SE:"\\d{20}",CH:"\\d{5}[\\dA-Z]{12}",TN:"\\d{20}",TR:"\\d{5}[\\dA-Z]{17}",AE:"\\d{3}\\d{16}",GB:"[A-Z]{4}\\d{14}",VG:"[\\dA-Z]{4}\\d{16}"},void 0!==(l=m[h])&&(n=new RegExp("^[A-Z]{2}\\d{2}"+l+"$",""),!n.test(c)))return!1;for(i=c.substring(4,c.length)+c.substring(0,4),o=0;o<i.length;o++)j=i.charAt(o),"0"!==j&&(e=!1),e||(d+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(j));for(p=0;p<d.length;p++)k=d.charAt(p),g=""+f+k,f=g%97;return 1===f},"Please specify a valid IBAN"),a.validator.addMethod("integer",function(a,b){return this.optional(b)||/^-?\d+$/.test(a)},"A positive or negative non-decimal number please"),a.validator.addMethod("ipv4",function(a,b){return this.optional(b)||/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i.test(a)},"Please enter a valid IP v4 address."),a.validator.addMethod("ipv6",function(a,b){return this.optional(b)||/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(a)},"Please enter a valid IP v6 address."),a.validator.addMethod("lettersonly",function(a,b){return this.optional(b)||/^[a-z]+$/i.test(a)},"Letters only please"),a.validator.addMethod("letterswithbasicpunc",function(a,b){return this.optional(b)||/^[a-z\-.,()'"\s]+$/i.test(a)},"Letters or punctuation only please"),a.validator.addMethod("mobileNL",function(a,b){return this.optional(b)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)6((\s|\s?\-\s?)?[0-9]){8}$/.test(a)},"Please specify a valid mobile number"),a.validator.addMethod("mobileUK",function(a,b){return a=a.replace(/\(|\)|\s+|-/g,""),this.optional(b)||a.length>9&&a.match(/^(?:(?:(?:00\s?|\+)44\s?|0)7(?:[1345789]\d{2}|624)\s?\d{3}\s?\d{3})$/)},"Please specify a valid mobile number"),a.validator.addMethod("nieES",function(a){"use strict";var e,b=new RegExp(/^[MXYZ]{1}[0-9]{7,8}[TRWAGMYFPDXBNJZSQVHLCKET]{1}$/gi),c="TRWAGMYFPDXBNJZSQVHLCKET",d=a.substr(a.length-1).toUpperCase();return a=a.toString().toUpperCase(),!(a.length>10||a.length<9||!b.test(a))&&(a=a.replace(/^[X]/,"0").replace(/^[Y]/,"1").replace(/^[Z]/,"2"),e=9===a.length?a.substr(0,8):a.substr(0,9),c.charAt(parseInt(e,10)%23)===d)},"Please specify a valid NIE number."),a.validator.addMethod("nifES",function(a){"use strict";return a=a.toUpperCase(),!!a.match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)")&&(/^[0-9]{8}[A-Z]{1}$/.test(a)?"TRWAGMYFPDXBNJZSQVHLCKE".charAt(a.substring(8,0)%23)===a.charAt(8):!!/^[KLM]{1}/.test(a)&&a[8]===String.fromCharCode(64))},"Please specify a valid NIF number."),a.validator.addMethod("notEqualTo",function(b,c,d){return this.optional(c)||!a.validator.methods.equalTo.call(this,b,c,d)},"Please enter a different value, values must not be the same."),a.validator.addMethod("nowhitespace",function(a,b){return this.optional(b)||/^\S+$/i.test(a)},"No white space please"),a.validator.addMethod("pattern",function(a,b,c){return!!this.optional(b)||("string"==typeof c&&(c=new RegExp("^(?:"+c+")$")),c.test(a))},"Invalid format."),a.validator.addMethod("phoneNL",function(a,b){return this.optional(b)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)[1-9]((\s|\s?\-\s?)?[0-9]){8}$/.test(a)},"Please specify a valid phone number."),a.validator.addMethod("phonesUK",function(a,b){return a=a.replace(/\(|\)|\s+|-/g,""),this.optional(b)||a.length>9&&a.match(/^(?:(?:(?:00\s?|\+)44\s?|0)(?:1\d{8,9}|[23]\d{9}|7(?:[1345789]\d{8}|624\d{6})))$/)},"Please specify a valid uk phone number"),a.validator.addMethod("phoneUK",function(a,b){return a=a.replace(/\(|\)|\s+|-/g,""),this.optional(b)||a.length>9&&a.match(/^(?:(?:(?:00\s?|\+)44\s?)|(?:\(?0))(?:\d{2}\)?\s?\d{4}\s?\d{4}|\d{3}\)?\s?\d{3}\s?\d{3,4}|\d{4}\)?\s?(?:\d{5}|\d{3}\s?\d{3})|\d{5}\)?\s?\d{4,5})$/)},"Please specify a valid phone number"),a.validator.addMethod("phoneUS",function(a,b){return a=a.replace(/\s+/g,""),this.optional(b)||a.length>9&&a.match(/^(\+?1-?)?(\([2-9]([02-9]\d|1[02-9])\)|[2-9]([02-9]\d|1[02-9]))-?[2-9]([02-9]\d|1[02-9])-?\d{4}$/)},"Please specify a valid phone number"),a.validator.addMethod("postalcodeBR",function(a,b){return this.optional(b)||/^\d{2}.\d{3}-\d{3}?$|^\d{5}-?\d{3}?$/.test(a)},"Informe um CEP vlido."),a.validator.addMethod("postalCodeCA",function(a,b){return this.optional(b)||/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJKLMNPRSTVWXYZ] *\d[ABCEGHJKLMNPRSTVWXYZ]\d$/i.test(a)},"Please specify a valid postal code"),a.validator.addMethod("postalcodeIT",function(a,b){return this.optional(b)||/^\d{5}$/.test(a)},"Please specify a valid postal code"),a.validator.addMethod("postalcodeNL",function(a,b){return this.optional(b)||/^[1-9][0-9]{3}\s?[a-zA-Z]{2}$/.test(a)},"Please specify a valid postal code"),a.validator.addMethod("postcodeUK",function(a,b){return this.optional(b)||/^((([A-PR-UWYZ][0-9])|([A-PR-UWYZ][0-9][0-9])|([A-PR-UWYZ][A-HK-Y][0-9])|([A-PR-UWYZ][A-HK-Y][0-9][0-9])|([A-PR-UWYZ][0-9][A-HJKSTUW])|([A-PR-UWYZ][A-HK-Y][0-9][ABEHMNPRVWXY]))\s?([0-9][ABD-HJLNP-UW-Z]{2})|(GIR)\s?(0AA))$/i.test(a)},"Please specify a valid UK postcode"),a.validator.addMethod("require_from_group",function(b,c,d){var e=a(d[1],c.form),f=e.eq(0),g=f.data("valid_req_grp")?f.data("valid_req_grp"):a.extend({},this),h=e.filter(function(){return g.elementValue(this)}).length>=d[0];return f.data("valid_req_grp",g),a(c).data("being_validated")||(e.data("being_validated",!0),e.each(function(){g.element(this)}),e.data("being_validated",!1)),h},a.validator.format("Please fill at least {0} of these fields.")),a.validator.addMethod("skip_or_fill_minimum",function(b,c,d){var e=a(d[1],c.form),f=e.eq(0),g=f.data("valid_skip")?f.data("valid_skip"):a.extend({},this),h=e.filter(function(){return g.elementValue(this)}).length,i=0===h||h>=d[0];return f.data("valid_skip",g),a(c).data("being_validated")||(e.data("being_validated",!0),e.each(function(){g.element(this)}),e.data("being_validated",!1)),i},a.validator.format("Please either skip these fields or fill at least {0} of them.")),a.validator.addMethod("stateUS",function(a,b,c){var h,d=void 0===c,e=!d&&void 0!==c.caseSensitive&&c.caseSensitive,f=!d&&void 0!==c.includeTerritories&&c.includeTerritories,g=!d&&void 0!==c.includeMilitary&&c.includeMilitary;return h=f||g?f&&g?"^(A[AEKLPRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$":f?"^(A[KLRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$":"^(A[AEKLPRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$":"^(A[KLRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$",h=e?new RegExp(h):new RegExp(h,"i"),this.optional(b)||h.test(a)},"Please specify a valid state"),a.validator.addMethod("strippedminlength",function(b,c,d){return a(b).text().length>=d},a.validator.format("Please enter at least {0} characters")),a.validator.addMethod("time",function(a,b){return this.optional(b)||/^([01]\d|2[0-3]|[0-9])(:[0-5]\d){1,2}$/.test(a)},"Please enter a valid time, between 00:00 and 23:59"),a.validator.addMethod("time12h",function(a,b){return this.optional(b)||/^((0?[1-9]|1[012])(:[0-5]\d){1,2}(\ ?[AP]M))$/i.test(a)},"Please enter a valid time in 12-hour am/pm format"),a.validator.addMethod("url2",function(a,b){return this.optional(b)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},a.validator.messages.url),a.validator.addMethod("vinUS",function(a){if(17!==a.length)return!1;var f,g,h,i,j,k,b=["A","B","C","D","E","F","G","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y","Z"],c=[1,2,3,4,5,6,7,8,1,2,3,4,5,7,9,2,3,4,5,6,7,8,9],d=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2],e=0;for(f=0;f<17;f++){if(i=d[f],h=a.slice(f,f+1),8===f&&(k=h),isNaN(h)){for(g=0;g<b.length;g++)if(h.toUpperCase()===b[g]){h=c[g],h*=i,isNaN(k)&&8===g&&(k=b[g]);break}}else h*=i;e+=h}return j=e%11,10===j&&(j="X"),j===k},"The specified vehicle identification number (VIN) is invalid."),a.validator.addMethod("zipcodeUS",function(a,b){return this.optional(b)||/^\d{5}(-\d{4})?$/.test(a)},"The specified US ZIP Code is invalid"),a.validator.addMethod("ziprange",function(a,b){return this.optional(b)||/^90[2-5]\d\{2\}-\d{4}$/.test(a)},"Your ZIP-code must be in the range 902xx-xxxx to 905xx-xxxx"),a});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),PxValidate=function(a){"use strict";if(!a.fn.validate)throw new Error("jquery.validate.js required.");var b="pxValidate",c="px.validate",d=a.fn[b],e={FORM_HELP:"form-help-text",HAS_ERROR:"has-validation-error",ERROR:"validation-error",CONTAINER:"validation-container",NO_ARROW:"validation-error-no-arrow"},f={errorElement:"div",errorClass:"form-message "+e.ERROR},g=new RegExp("(^|\\s)(?:"+e.CONTAINER+"|form-group|col-(?:xs|sm|md|lg)-\\d+)(\\s|$)"),h=function(){function d(b,c){_classCallCheck(this,d),this.element=b,this.validator=a(b).validate(this._getConfig(b,c))}return _createClass(d,[{key:"getValidator",value:function(){return this.validator}},{key:"destroy",value:function(){this.validator.destroy(),a(this.element).removeData(c)}},{key:"_highlight",value:function(c){pxUtil.addClass(a(c).parents(".form-group")[0],"has-error "+e.HAS_ERROR)}},{key:"_unhighlight",value:function(c){pxUtil.removeClass(a(c).parents(".form-group")[0],"has-error "+e.HAS_ERROR)}},{key:"_errorPlacement",value:function(c,d){var f=a(this._getParentContainer(d[0]));if(f.length){f.find("."+e.ERROR).remove();var g=d[0].getAttribute("type");g=g?g.toLowerCase():null,"checkbox"!==g&&"radio"!==g||pxUtil.addClass(c[0],e.NO_ARROW);var h=f.find("."+e.FORM_HELP).first();h.length?c.insertBefore(h):f.append(c)}}},{key:"_getParentContainer",value:function(b){var c=b.parentNode,d=c.nodeName.toUpperCase();return"FORM"===d||"BODY"===d?(console.error(new Error("Cannot find parent container.")),null):g.test(c.className)?c:this._getParentContainer(c)}},{key:"_getConfig",value:function(c,d){return a.extend({},this.constructor.Default,{highlight:this._highlight,unhighlight:this._unhighlight,errorPlacement:a.proxy(this._errorPlacement,this)},a(c).data(),d)}}],[{key:"_jQueryInterface",value:function(e){var f=void 0,g=this.each(function(){var b=a(this).data(c),g="object"===(void 0===e?"undefined":_typeof(e))?e:null;if(b||(b=new d(this,g),a(this).data(c,b)),"string"==typeof e){if(!b[e])throw new Error('No method named "'+e+'".');f=b[e]()}});return void 0!==f?f:g}},{key:"Default",get:function(){return f}},{key:"NAME",get:function(){return b}},{key:"DATA_KEY",get:function(){return c}}]),d}();return a.fn[b]=h._jQueryInterface,a.fn[b].Constructor=h,a.fn[b].noConflict=function(){return a.fn[b]=d,h._jQueryInterface},h}(jQuery),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),PxResponsiveBg=function(a){"use strict";var b="pxResponsiveBg",c="px.responsiveBg",d="."+c,e=a.fn[b],f={backgroundImage:null,backgroundPosition:"center middle",overlay:!1,overlayOpacity:.2},g={CONTAINER:"px-responsive-bg-container",IMAGE:"px-responsive-bg",OVERLAY:"px-responsive-bg-overlay"},h={RESIZE:"resize"+d},i=function(){function e(a,b){var c=this;_classCallCheck(this,e),this.uniqueId=pxUtil.generateUniqueId(),this.element=a,this.config=this._getConfig(b),null!==this.config.backgroundImage&&this._loadImage(this.config.backgroundImage,function(a){c._sizeRatio=a.height/a.width,c._setupMarkup(a),c._setListeners(),c.update()})}return _createClass(e,[{key:"update",value:function(){var c=this.image.parentNode,d=a(c).height(),e=a(c).width(),f=void 0,g=void 0,h=void 0,i=void 0;e*this._sizeRatio>d?(g="100%",f=Math.ceil(e*this._sizeRatio),i=0,h="top"===this.config.backgroundPosition[1]?0:"bottom"===this.config.backgroundPosition[1]?-1*(f-d):Math.floor(-1*(f-d)/2)):(g=Math.ceil(d/this._sizeRatio),f=d,h=0,i="left"===this.config.backgroundPosition[0]?0:"right"===this.config.backgroundPosition[0]?-1*(g-e):Math.floor(-1*(g-e)/2)),this.image.style.width="100%"===g?g:g+"px",this.image.style.height=f+"px",this.image.style.top=h+"px",this.image.style.left=i+"px"}},{key:"destroy",value:function(d){this._unsetListeners(),d&&a(this.element).removeClass(g.CONTAINER).find("> ."+g.IMAGE).remove(),a(this.element).removeData(c)}},{key:"_loadImage",value:function(b,c){var d=new Image;d.onload=function(){return c(d)},d.src=b}},{key:"_setupMarkup",value:function(c){pxUtil.addClass(this.element,g.CONTAINER);var d=a(this.element).find("> ."+g.IMAGE);if(d.length||(d=a('<div class="'+g.IMAGE+'"></div>').appendTo(this.element),d.append('<img alt="">')),this.image=d.find("> img")[0],!this.image)throw new Error("Background <img> element not found!");a(this.image).attr("src",c.src),!1!==this.config.overlay?(d.find("."+g.OVERLAY).remove(),d.prepend("string"==typeof this.config.overlay&&"<"===this.config.overlay[0]?a(this.config.overlay).addClass(g.OVERLAY).css("opacity",this.config.overlayOpacity):a('<div class="'+g.OVERLAY+'"></div>').css({background:"boolean"==typeof this.config.overlay?"#000":this.config.overlay,opacity:this.config.overlayOpacity}))):d.find("> ."+g.OVERLAY).remove()}},{key:"_setListeners",value:function(){a(window).on(this.constructor.Event.RESIZE+"."+this.uniqueId,a.proxy(this.update,this))}},{key:"_unsetListeners",value:function(){a(window).off(this.constructor.Event.RESIZE+"."+this.uniqueId)}},{key:"_getConfig",value:function(c){var d=a.extend({},this.constructor.Default,a(this.element).data(),c);if(!d.backgroundImage&&null!==d.backgroundImage)throw new Error("Background image is not specified.");var e=String(d.backgroundPosition).split(" ").slice(0,2);return"center"!==e[0]&&"left"!==e[0]&&"right"!==e[0]&&(e[0]="center"),"middle"!==e[1]&&"top"!==e[1]&&"bottom"!==e[1]&&(e[1]="middle"),d.backgroundPosition=e,d}}],[{key:"_jQueryInterface",value:function(d){for(var f=arguments.length,g=Array(f>1?f-1:0),h=1;h<f;h++)g[h-1]=arguments[h];return this.each(function(){var b=a(this).data(c),f="object"===(void 0===d?"undefined":_typeof(d))?d:null;if(b||"destroy"===d||(b=new e(this,f),a(this).data(c,b)),b&&"string"==typeof d){var h;if(!b[d])throw new Error('No method named "'+d+'"');(h=b)[d].apply(h,g)}})}},{key:"Default",get:function(){return f}},{key:"NAME",get:function(){return b}},{key:"DATA_KEY",get:function(){return c}},{key:"Event",get:function(){return h}},{key:"EVENT_KEY",get:function(){return d}}]),e}();return a.fn[b]=i._jQueryInterface,a.fn[b].Constructor=i,a.fn[b].noConflict=function(){return a.fn[b]=e,i._jQueryInterface},i}(jQuery),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),PxCharLimit=function(a){"use strict";var b="pxCharLimit",c="px.charLimit",d="."+c,e=a.fn[b],f={maxlength:null,counter:""},g={CHANGE:"change"+d,KEYUP:"keyup"+d,FOCUS:"focus"+d},h=function(){function e(b,c){_classCallCheck(this,e),this.element=b,this.isTextarea=a(b).is("textarea"),this.config=this._getConfig(c),this.counter=this._getLabel(),this._setMaxLength(),this._setListeners(),this.update()}return _createClass(e,[{key:"update",value:function(){var c=this.config.maxlength,d=this.element.value,e=void 0;this.isTextarea&&(d=d.replace(/\r?\n/g,"\n")),e=d.length,e>c&&(a(this.element).val(d.substr(0,c)).trigger("change"),e=c),this.counter&&(this.counter.innerHTML=c-e)}},{key:"destroy",value:function(){this._unsetListeners(),a(this.element).removeData(c)}},{key:"_getLabel",value:function(){return this.config.counter?"string"==typeof this.config.counter?a(this.config.counter)[0]||null:this.config.counter:null}},{key:"_setMaxLength",value:function(){this.isTextarea?this.element.removeAttribute("maxlength"):this.element.setAttribute("maxlength",this.config.maxlength)}},{key:"_setListeners",value:function(){a(this.element).on(this.constructor.Event.CHANGE,a.proxy(this.update,this)).on(this.constructor.Event.KEYUP,a.proxy(this.update,this)).on(this.constructor.Event.FOCUS,a.proxy(this.update,this))}},{key:"_unsetListeners",value:function(){a(this.element).off(d)}},{key:"_getConfig",value:function(c){var d=a.extend({},this.constructor.Default,{maxlength:this.element.getAttribute("maxlength")},a(this.element).data(),c);if(!d.maxlength)throw new Error("maxlength is not specified.");return this.isTextarea&&this.element.getAttribute("maxlength")&&this.element.removeAttribute("maxlength"),d}}],[{key:"_jQueryInterface",value:function(d){return this.each(function(){var b=a(this).data(c),f="object"===(void 0===d?"undefined":_typeof(d))?d:null;if(b||(b=new e(this,f),a(this).data(c,b)),"string"==typeof d){if(!b[d])throw new Error('No method named "'+d+'"');b[d]()}})}},{key:"Default",get:function(){return f}},{key:"NAME",get:function(){return b}},{key:"DATA_KEY",get:function(){return c}},{key:"Event",get:function(){return g}},{key:"EVENT_KEY",get:function(){return d}}]),e}();return a.fn[b]=h._jQueryInterface,a.fn[b].Constructor=h,a.fn[b].noConflict=function(){return a.fn[b]=e,h._jQueryInterface},h}(jQuery);!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)}(function(a){var b=function(){if(a&&a.fn&&a.fn.select2&&a.fn.select2.amd)var b=a.fn.select2.amd;var b;return function(){if(!b||!b.requirejs){b?c=b:b={};var a,c,d;!function(b){function p(a,b){return m.call(a,b)}function q(a,b){var c,d,e,f,g,h,i,j,l,m,n,p=b&&b.split("/"),q=k.map,r=q&&q["*"]||{};if(a&&"."===a.charAt(0))if(b){for(a=a.split("/"),g=a.length-1,k.nodeIdCompat&&o.test(a[g])&&(a[g]=a[g].replace(o,"")),a=p.slice(0,p.length-1).concat(a),l=0;l<a.length;l+=1)if("."===(n=a[l]))a.splice(l,1),l-=1;else if(".."===n){if(1===l&&(".."===a[2]||".."===a[0]))break;l>0&&(a.splice(l-1,2),l-=2)}a=a.join("/")}else 0===a.indexOf("./")&&(a=a.substring(2));if((p||r)&&q){for(c=a.split("/"),l=c.length;l>0;l-=1){if(d=c.slice(0,l).join("/"),p)for(m=p.length;m>0;m-=1)if((e=q[p.slice(0,m).join("/")])&&(e=e[d])){f=e,h=l;break}if(f)break;!i&&r&&r[d]&&(i=r[d],j=l)}!f&&i&&(f=i,h=j),f&&(c.splice(0,h,f),a=c.join("/"))}return a}function r(a,c){return function(){var d=n.call(arguments,0);return"string"!=typeof d[0]&&1===d.length&&d.push(null),f.apply(b,d.concat([a,c]))}}function s(a){return function(b){return q(b,a)}}function t(a){return function(b){i[a]=b}}function u(a){if(p(j,a)){var c=j[a];delete j[a],l[a]=!0,e.apply(b,c)}if(!p(i,a)&&!p(l,a))throw new Error("No "+a);return i[a]}function v(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function w(a){return function(){return k&&k.config&&k.config[a]||{}}}var e,f,g,h,i={},j={},k={},l={},m=Object.prototype.hasOwnProperty,n=[].slice,o=/\.js$/;g=function(a,b){var c,d=v(a),e=d[0];return a=d[1],e&&(e=q(e,b),c=u(e)),e?a=c&&c.normalize?c.normalize(a,s(b)):q(a,b):(a=q(a,b),d=v(a),e=d[0],a=d[1],e&&(c=u(e))),{f:e?e+"!"+a:a,n:a,pr:e,p:c}},h={require:function(a){return r(a)},exports:function(a){var b=i[a];return void 0!==b?b:i[a]={}},module:function(a){return{id:a,uri:"",exports:i[a],config:w(a)}}},e=function(a,c,d,e){var f,k,m,n,o,v,q=[],s=typeof d;if(e=e||a,"undefined"===s||"function"===s){for(c=!c.length&&d.length?["require","exports","module"]:c,o=0;o<c.length;o+=1)if(n=g(c[o],e),"require"===(k=n.f))q[o]=h.require(a);else if("exports"===k)q[o]=h.exports(a),v=!0;else if("module"===k)f=q[o]=h.module(a);else if(p(i,k)||p(j,k)||p(l,k))q[o]=u(k);else{if(!n.p)throw new Error(a+" missing "+k);n.p.load(n.n,r(e,!0),t(k),{}),q[o]=i[k]}m=d?d.apply(i[a],q):void 0,a&&(f&&f.exports!==b&&f.exports!==i[a]?i[a]=f.exports:m===b&&v||(i[a]=m))}else a&&(i[a]=d)},a=c=f=function(a,c,d,i,j){if("string"==typeof a)return h[a]?h[a](c):u(g(a,c).f);if(!a.splice){if(k=a,k.deps&&f(k.deps,k.callback),!c)return;c.splice?(a=c,c=d,d=null):a=b}return c=c||function(){},"function"==typeof d&&(d=i,i=j),i?e(b,a,c,d):setTimeout(function(){e(b,a,c,d)},4),f},f.config=function(a){return f(a)},a._defined=i,d=function(a,b,c){if("string"!=typeof a)throw new Error("See almond README: incorrect module build, no module name");b.splice||(c=b,b=[]),p(i,a)||p(j,a)||(j[a]=[a,b,c])},d.amd={jQuery:!0}}(),b.requirejs=a,b.require=c,b.define=d}}(),b.define("almond",function(){}),b.define("jquery",[],function(){var b=a||$;return null==b&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),b}),b.define("select2/utils",["jquery"],function(a){function c(a){var b=a.prototype,c=[];for(var d in b){"function"==typeof b[d]&&("constructor"!==d&&c.push(d))}return c}var b={};b.Extend=function(a,b){function d(){this.constructor=a}var c={}.hasOwnProperty;for(var e in b)c.call(b,e)&&(a[e]=b[e]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a},b.Decorate=function(a,b){function f(){var c=Array.prototype.unshift,d=b.prototype.constructor.length,e=a.prototype.constructor;d>0&&(c.call(arguments,a.prototype.constructor),e=b.prototype.constructor),e.apply(this,arguments)}function g(){this.constructor=f}var d=c(b),e=c(a);b.displayName=a.displayName,f.prototype=new g;for(var h=0;h<e.length;h++){var i=e[h];f.prototype[i]=a.prototype[i]}for(var j=(function(a){var c=function(){};a in f.prototype&&(c=f.prototype[a]);var d=b.prototype[a];return function(){return Array.prototype.unshift.call(arguments,c),d.apply(this,arguments)}}),k=0;k<d.length;k++){var l=d[k];f.prototype[l]=j(l)}return f};var d=function(){this.listeners={}};return d.prototype.on=function(a,b){this.listeners=this.listeners||{},a in this.listeners?this.listeners[a].push(b):this.listeners[a]=[b]},d.prototype.trigger=function(a){var b=Array.prototype.slice,c=b.call(arguments,1);this.listeners=this.listeners||{},null==c&&(c=[]),0===c.length&&c.push({}),c[0]._type=a,a in this.listeners&&this.invoke(this.listeners[a],b.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},d.prototype.invoke=function(a,b){for(var c=0,d=a.length;c<d;c++)a[c].apply(this,b)},b.Observable=d,b.generateChars=function(a){for(var b="",c=0;c<a;c++){b+=Math.floor(36*Math.random()).toString(36)}return b},b.bind=function(a,b){return function(){a.apply(b,arguments)}},b._convertData=function(a){for(var b in a){var c=b.split("-"),d=a;if(1!==c.length){for(var e=0;e<c.length;e++){var f=c[e];f=f.substring(0,1).toLowerCase()+f.substring(1),f in d||(d[f]={}),e==c.length-1&&(d[f]=a[b]),d=d[f]}delete a[b]}}return a},b.hasScroll=function(b,c){var d=a(c),e=c.style.overflowX,f=c.style.overflowY;return(e!==f||"hidden"!==f&&"visible"!==f)&&("scroll"===e||"scroll"===f||(d.innerHeight()<c.scrollHeight||d.innerWidth()<c.scrollWidth))},b.escapeMarkup=function(a){var b={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof a?a:String(a).replace(/[&<>"'\/\\]/g,function(a){return b[a]})},b.appendMany=function(b,c){if("1.7"===a.fn.jquery.substr(0,3)){var d=a();a.map(c,function(a){d=d.add(a)}),c=d}b.append(c)},b}),b.define("select2/results",["jquery","./utils"],function(a,b){function c(a,b,d){this.$element=a,this.data=d,this.options=b,c.__super__.constructor.call(this)}return b.Extend(c,b.Observable),c.prototype.render=function(){var b=a('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&b.attr("aria-multiselectable","true"),this.$results=b,b},c.prototype.clear=function(){this.$results.empty()},c.prototype.displayMessage=function(b){var c=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var d=a('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),e=this.options.get("translations").get(b.message);d.append(c(e(b.args))),d[0].className+=" select2-results__message",this.$results.append(d)},c.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},c.prototype.append=function(a){this.hideLoading();var b=[];if(null==a.results||0===a.results.length)return void(0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"}));a.results=this.sort(a.results);for(var c=0;c<a.results.length;c++){var d=a.results[c],e=this.option(d);b.push(e)}this.$results.append(b)},c.prototype.position=function(a,b){b.find(".select2-results").append(a)},c.prototype.sort=function(a){return this.options.get("sorter")(a)},c.prototype.highlightFirstItem=function(){var a=this.$results.find(".select2-results__option[aria-selected]"),b=a.filter("[aria-selected=true]");b.length>0?b.first().trigger("mouseenter"):a.first().trigger("mouseenter"),this.ensureHighlightVisible()},c.prototype.setClasses=function(){var b=this;this.data.current(function(c){var d=a.map(c,function(a){return a.id.toString()});b.$results.find(".select2-results__option[aria-selected]").each(function(){var b=a(this),c=a.data(this,"data"),e=""+c.id;null!=c.element&&c.element.selected||null==c.element&&a.inArray(e,d)>-1?b.attr("aria-selected","true"):b.attr("aria-selected","false")})})},c.prototype.showLoading=function(a){this.hideLoading();var b=this.options.get("translations").get("searching"),c={disabled:!0,loading:!0,text:b(a)},d=this.option(c);d.className+=" loading-results",this.$results.prepend(d)},c.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},c.prototype.option=function(b){var c=document.createElement("li");c.className="select2-results__option";var d={role:"treeitem","aria-selected":"false"};b.disabled&&(delete d["aria-selected"],d["aria-disabled"]="true"),null==b.id&&delete d["aria-selected"],null!=b._resultId&&(c.id=b._resultId),b.title&&(c.title=b.title),b.children&&(d.role="group",d["aria-label"]=b.text,delete d["aria-selected"]);for(var e in d){var f=d[e];c.setAttribute(e,f)}if(b.children){var g=a(c),h=document.createElement("strong");h.className="select2-results__group";a(h);this.template(b,h);for(var j=[],k=0;k<b.children.length;k++){var l=b.children[k],m=this.option(l);j.push(m)}var n=a("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});n.append(j),g.append(h),g.append(n)}else this.template(b,c);return a.data(c,"data",b),c},c.prototype.bind=function(b,c){var d=this,e=b.id+"-results";this.$results.attr("id",e),b.on("results:all",function(a){d.clear(),d.append(a.data),b.isOpen()&&(d.setClasses(),d.highlightFirstItem())}),b.on("results:append",function(a){d.append(a.data),b.isOpen()&&d.setClasses()}),b.on("query",function(a){d.hideMessages(),d.showLoading(a)}),b.on("select",function(){b.isOpen()&&(d.setClasses(),d.highlightFirstItem())}),b.on("unselect",function(){b.isOpen()&&(d.setClasses(),d.highlightFirstItem())}),b.on("open",function(){d.$results.attr("aria-expanded","true"),d.$results.attr("aria-hidden","false"),d.setClasses(),d.ensureHighlightVisible()}),b.on("close",function(){d.$results.attr("aria-expanded","false"),d.$results.attr("aria-hidden","true"),d.$results.removeAttr("aria-activedescendant")}),b.on("results:toggle",function(){var a=d.getHighlightedResults();0!==a.length&&a.trigger("mouseup")}),b.on("results:select",function(){var a=d.getHighlightedResults();if(0!==a.length){var b=a.data("data");"true"==a.attr("aria-selected")?d.trigger("close",{}):d.trigger("select",{data:b})}}),b.on("results:previous",function(){var a=d.getHighlightedResults(),b=d.$results.find("[aria-selected]"),c=b.index(a);if(0!==c){var e=c-1;0===a.length&&(e=0);var f=b.eq(e);f.trigger("mouseenter");var g=d.$results.offset().top,h=f.offset().top,i=d.$results.scrollTop()+(h-g);0===e?d.$results.scrollTop(0):h-g<0&&d.$results.scrollTop(i)}}),b.on("results:next",function(){var a=d.getHighlightedResults(),b=d.$results.find("[aria-selected]"),c=b.index(a),e=c+1;if(!(e>=b.length)){var f=b.eq(e);f.trigger("mouseenter");var g=d.$results.offset().top+d.$results.outerHeight(!1),h=f.offset().top+f.outerHeight(!1),i=d.$results.scrollTop()+h-g;0===e?d.$results.scrollTop(0):h>g&&d.$results.scrollTop(i)}}),b.on("results:focus",function(a){a.element.addClass("select2-results__option--highlighted")}),b.on("results:message",function(a){d.displayMessage(a)}),a.fn.mousewheel&&this.$results.on("mousewheel",function(a){var b=d.$results.scrollTop(),c=d.$results.get(0).scrollHeight-b+a.deltaY,e=a.deltaY>0&&b-a.deltaY<=0,f=a.deltaY<0&&c<=d.$results.height();e?(d.$results.scrollTop(0),a.preventDefault(),a.stopPropagation()):f&&(d.$results.scrollTop(d.$results.get(0).scrollHeight-d.$results.height()),a.preventDefault(),a.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(b){var c=a(this),e=c.data("data");if("true"===c.attr("aria-selected"))return void(d.options.get("multiple")?d.trigger("unselect",{originalEvent:b,data:e}):d.trigger("close",{}));d.trigger("select",{originalEvent:b,data:e})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(b){var c=a(this).data("data");d.getHighlightedResults().removeClass("select2-results__option--highlighted"),d.trigger("results:focus",{data:c,element:a(this)})})},c.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},c.prototype.destroy=function(){this.$results.remove()},c.prototype.ensureHighlightVisible=function(){var a=this.getHighlightedResults();if(0!==a.length){var b=this.$results.find("[aria-selected]"),c=b.index(a),d=this.$results.offset().top,e=a.offset().top,f=this.$results.scrollTop()+(e-d),g=e-d;f-=2*a.outerHeight(!1),c<=2?this.$results.scrollTop(0):(g>this.$results.outerHeight()||g<0)&&this.$results.scrollTop(f)}},c.prototype.template=function(b,c){var d=this.options.get("templateResult"),e=this.options.get("escapeMarkup"),f=d(b,c);null==f?c.style.display="none":"string"==typeof f?c.innerHTML=e(f):a(c).append(f)},c}),b.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),b.define("select2/selection/base",["jquery","../utils","../keys"],function(a,b,c){function d(a,b){this.$element=a,this.options=b,d.__super__.constructor.call(this)}return b.Extend(d,b.Observable),d.prototype.render=function(){var b=a('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),b.attr("title",this.$element.attr("title")),b.attr("tabindex",this._tabindex),this.$selection=b,b},d.prototype.bind=function(a,b){var d=this,f=(a.id,a.id+"-results");this.container=a,this.$selection.on("focus",function(a){d.trigger("focus",a)}),this.$selection.on("blur",function(a){d._handleBlur(a)}),this.$selection.on("keydown",function(a){d.trigger("keypress",a),a.which===c.SPACE&&a.preventDefault()}),a.on("results:focus",function(a){d.$selection.attr("aria-activedescendant",a.data._resultId)}),a.on("selection:update",function(a){d.update(a.data)}),a.on("open",function(){d.$selection.attr("aria-expanded","true"),d.$selection.attr("aria-owns",f),d._attachCloseHandler(a)}),a.on("close",function(){d.$selection.attr("aria-expanded","false"),d.$selection.removeAttr("aria-activedescendant"),d.$selection.removeAttr("aria-owns"),d.$selection.focus(),d._detachCloseHandler(a)}),a.on("enable",function(){d.$selection.attr("tabindex",d._tabindex)}),a.on("disable",function(){d.$selection.attr("tabindex","-1")})},d.prototype._handleBlur=function(b){var c=this;window.setTimeout(function(){document.activeElement==c.$selection[0]||a.contains(c.$selection[0],document.activeElement)||c.trigger("blur",b)},1)},d.prototype._attachCloseHandler=function(b){a(document.body).on("mousedown.select2."+b.id,function(b){var c=a(b.target),d=c.closest(".select2");a(".select2.select2-container--open").each(function(){var b=a(this);this!=d[0]&&b.data("element").select2("close")})})},d.prototype._detachCloseHandler=function(b){a(document.body).off("mousedown.select2."+b.id)},d.prototype.position=function(a,b){b.find(".selection").append(a)},d.prototype.destroy=function(){this._detachCloseHandler(this.container)},d.prototype.update=function(a){throw new Error("The `update` method must be defined in child classes.")},d}),b.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(a,b,c,d){function e(){e.__super__.constructor.apply(this,arguments)}return c.Extend(e,b),e.prototype.render=function(){var a=e.__super__.render.call(this);return a.addClass("select2-selection--single"),a.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),a},e.prototype.bind=function(a,b){var c=this;e.__super__.bind.apply(this,arguments);var d=a.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",d),this.$selection.attr("aria-labelledby",d),this.$selection.on("mousedown",function(a){1===a.which&&c.trigger("toggle",{originalEvent:a})}),this.$selection.on("focus",function(a){}),this.$selection.on("blur",function(a){}),a.on("focus",function(b){a.isOpen()||c.$selection.focus()}),a.on("selection:update",function(a){c.update(a.data)})},e.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},e.prototype.display=function(a,b){var c=this.options.get("templateSelection");return this.options.get("escapeMarkup")(c(a,b))},e.prototype.selectionContainer=function(){return a("<span></span>")},e.prototype.update=function(a){if(0===a.length)return void this.clear();var b=a[0],c=this.$selection.find(".select2-selection__rendered"),d=this.display(b,c);c.empty().append(d),c.prop("title",b.title||b.text)},e}),b.define("select2/selection/multiple",["jquery","./base","../utils"],function(a,b,c){function d(a,b){d.__super__.constructor.apply(this,arguments)}return c.Extend(d,b),d.prototype.render=function(){var a=d.__super__.render.call(this);return a.addClass("select2-selection--multiple"),a.html('<ul class="select2-selection__rendered"></ul>'),a},d.prototype.bind=function(b,c){var e=this;d.__super__.bind.apply(this,arguments),this.$selection.on("click",function(a){e.trigger("toggle",{originalEvent:a})}),this.$selection.on("click",".select2-selection__choice__remove",function(b){if(!e.options.get("disabled")){var c=a(this),d=c.parent(),f=d.data("data");e.trigger("unselect",{originalEvent:b,data:f})}})},d.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},d.prototype.display=function(a,b){var c=this.options.get("templateSelection");return this.options.get("escapeMarkup")(c(a,b))},d.prototype.selectionContainer=function(){return a('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},d.prototype.update=function(a){if(this.clear(),0!==a.length){for(var b=[],d=0;d<a.length;d++){var e=a[d],f=this.selectionContainer(),g=this.display(e,f);f.append(g),f.prop("title",e.title||e.text),f.data("data",e),b.push(f)}var h=this.$selection.find(".select2-selection__rendered");c.appendMany(h,b)}},d}),b.define("select2/selection/placeholder",["../utils"],function(a){function b(a,b,c){this.placeholder=this.normalizePlaceholder(c.get("placeholder")),a.call(this,b,c)}return b.prototype.normalizePlaceholder=function(a,b){return"string"==typeof b&&(b={id:"",text:b}),b},b.prototype.createPlaceholder=function(a,b){var c=this.selectionContainer();return c.html(this.display(b)),c.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),c},b.prototype.update=function(a,b){var c=1==b.length&&b[0].id!=this.placeholder.id;if(b.length>1||c)return a.call(this,b);this.clear();var e=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(e)},b}),b.define("select2/selection/allowClear",["jquery","../keys"],function(a,b){function c(){}return c.prototype.bind=function(a,b,c){var d=this;a.call(this,b,c),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(a){d._handleClear(a)}),b.on("keypress",function(a){d._handleKeyboardClear(a,b)})},c.prototype._handleClear=function(a,b){if(!this.options.get("disabled")){var c=this.$selection.find(".select2-selection__clear");if(0!==c.length){b.stopPropagation();for(var d=c.data("data"),e=0;e<d.length;e++){var f={data:d[e]};if(this.trigger("unselect",f),f.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle",{})}}},c.prototype._handleKeyboardClear=function(a,c,d){d.isOpen()||c.which!=b.DELETE&&c.which!=b.BACKSPACE||this._handleClear(c)},c.prototype.update=function(b,c){if(b.call(this,c),!(this.$selection.find(".select2-selection__placeholder").length>0||0===c.length)){var d=a('<span class="select2-selection__clear">&times;</span>');d.data("data",c),this.$selection.find(".select2-selection__rendered").prepend(d)}},c}),b.define("select2/selection/search",["jquery","../utils","../keys"],function(a,b,c){function d(a,b,c){a.call(this,b,c)}return d.prototype.render=function(b){var c=a('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=c,this.$search=c.find("input");var d=b.call(this);return this._transferTabIndex(),d},d.prototype.bind=function(a,b,d){var e=this;a.call(this,b,d),b.on("open",function(){e.$search.trigger("focus")}),b.on("close",function(){e.$search.val(""),e.$search.removeAttr("aria-activedescendant"),e.$search.trigger("focus")}),b.on("enable",function(){e.$search.prop("disabled",!1),e._transferTabIndex()}),b.on("disable",function(){e.$search.prop("disabled",!0)}),b.on("focus",function(a){e.$search.trigger("focus")}),b.on("results:focus",function(a){e.$search.attr("aria-activedescendant",a.id)}),this.$selection.on("focusin",".select2-search--inline",function(a){e.trigger("focus",a)}),this.$selection.on("focusout",".select2-search--inline",function(a){e._handleBlur(a)}),this.$selection.on("keydown",".select2-search--inline",function(a){if(a.stopPropagation(),e.trigger("keypress",a),e._keyUpPrevented=a.isDefaultPrevented(),a.which===c.BACKSPACE&&""===e.$search.val()){var d=e.$searchContainer.prev(".select2-selection__choice");if(d.length>0){var f=d.data("data");e.searchRemoveChoice(f),a.preventDefault()}}});var f=document.documentMode,g=f&&f<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(a){if(g)return void e.$selection.off("input.search input.searchcheck");e.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(a){if(g&&"input"===a.type)return void e.$selection.off("input.search input.searchcheck");var b=a.which;b!=c.SHIFT&&b!=c.CTRL&&b!=c.ALT&&b!=c.TAB&&e.handleSearch(a)})},d.prototype._transferTabIndex=function(a){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},d.prototype.createPlaceholder=function(a,b){this.$search.attr("placeholder",b.text)},d.prototype.update=function(a,b){var c=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),a.call(this,b),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),c&&this.$search.focus()},d.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var a=this.$search.val();this.trigger("query",{term:a})}this._keyUpPrevented=!1},d.prototype.searchRemoveChoice=function(a,b){this.trigger("unselect",{data:b}),this.$search.val(b.text),this.handleSearch()},d.prototype.resizeSearch=function(){this.$search.css("width","25px");var a="";if(""!==this.$search.attr("placeholder"))a=this.$selection.find(".select2-selection__rendered").innerWidth();else{a=.75*(this.$search.val().length+1)+"em"}this.$search.css("width",a)},d}),b.define("select2/selection/eventRelay",["jquery"],function(a){function b(){}return b.prototype.bind=function(b,c,d){var e=this,f=["open","opening","close","closing","select","selecting","unselect","unselecting"],g=["opening","closing","selecting","unselecting"];b.call(this,c,d),c.on("*",function(b,c){if(-1!==a.inArray(b,f)){c=c||{};var d=a.Event("select2:"+b,{params:c});e.$element.trigger(d),-1!==a.inArray(b,g)&&(c.prevented=d.isDefaultPrevented())}})},b}),b.define("select2/translation",["jquery","require"],function(a,b){function c(a){this.dict=a||{}}return c.prototype.all=function(){return this.dict},c.prototype.get=function(a){return this.dict[a]},c.prototype.extend=function(b){this.dict=a.extend({},b.all(),this.dict)},c._cache={},c.loadPath=function(a){if(!(a in c._cache)){var d=b(a);c._cache[a]=d}return new c(c._cache[a])},c}),b.define("select2/diacritics",[],function(){return{"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""}}),b.define("select2/data/base",["../utils"],function(a){function b(a,c){b.__super__.constructor.call(this)}return a.Extend(b,a.Observable),b.prototype.current=function(a){throw new Error("The `current` method must be defined in child classes.")},b.prototype.query=function(a,b){throw new Error("The `query` method must be defined in child classes.")},b.prototype.bind=function(a,b){},b.prototype.destroy=function(){},b.prototype.generateResultId=function(b,c){var d=b.id+"-result-";return d+=a.generateChars(4),null!=c.id?d+="-"+c.id.toString():d+="-"+a.generateChars(4),d},b}),b.define("select2/data/select",["./base","../utils","jquery"],function(a,b,c){function d(a,b){this.$element=a,this.options=b,d.__super__.constructor.call(this)}return b.Extend(d,a),d.prototype.current=function(a){var b=[],d=this;this.$element.find(":selected").each(function(){var a=c(this),e=d.item(a);b.push(e)}),a(b)},d.prototype.select=function(a){var b=this;if(a.selected=!0,c(a.element).is("option"))return a.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(d){var e=[];a=[a],a.push.apply(a,d);for(var f=0;f<a.length;f++){var g=a[f].id;-1===c.inArray(g,e)&&e.push(g)}b.$element.val(e),b.$element.trigger("change")});else{var d=a.id;this.$element.val(d),this.$element.trigger("change")}},d.prototype.unselect=function(a){var b=this;if(this.$element.prop("multiple")){if(a.selected=!1,c(a.element).is("option"))return a.element.selected=!1,void this.$element.trigger("change");this.current(function(d){for(var e=[],f=0;f<d.length;f++){var g=d[f].id;g!==a.id&&-1===c.inArray(g,e)&&e.push(g)}b.$element.val(e),b.$element.trigger("change")})}},d.prototype.bind=function(a,b){var c=this;this.container=a,a.on("select",function(a){c.select(a.data)}),a.on("unselect",function(a){c.unselect(a.data)})},d.prototype.destroy=function(){this.$element.find("*").each(function(){c.removeData(this,"data")})},d.prototype.query=function(a,b){var d=[],e=this;this.$element.children().each(function(){var b=c(this);if(b.is("option")||b.is("optgroup")){var f=e.item(b),g=e.matches(a,f);null!==g&&d.push(g)}}),b({results:d})},d.prototype.addOptions=function(a){b.appendMany(this.$element,a)},d.prototype.option=function(a){var b;a.children?(b=document.createElement("optgroup"),b.label=a.text):(b=document.createElement("option"),void 0!==b.textContent?b.textContent=a.text:b.innerText=a.text),a.id&&(b.value=a.id),a.disabled&&(b.disabled=!0),a.selected&&(b.selected=!0),a.title&&(b.title=a.title);var d=c(b),e=this._normalizeItem(a);return e.element=b,c.data(b,"data",e),d},d.prototype.item=function(a){var b={};if(null!=(b=c.data(a[0],"data")))return b;if(a.is("option"))b={id:a.val(),text:a.text(),disabled:a.prop("disabled"),selected:a.prop("selected"),title:a.prop("title")};else if(a.is("optgroup")){b={text:a.prop("label"),children:[],title:a.prop("title")};for(var d=a.children("option"),e=[],f=0;f<d.length;f++){var g=c(d[f]),h=this.item(g);e.push(h)}b.children=e}return b=this._normalizeItem(b),b.element=a[0],c.data(a[0],"data",b),b},d.prototype._normalizeItem=function(a){c.isPlainObject(a)||(a={id:a,text:a}),a=c.extend({},{text:""},a);var b={selected:!1,disabled:!1};return null!=a.id&&(a.id=a.id.toString()),null!=a.text&&(a.text=a.text.toString()),null==a._resultId&&a.id&&null!=this.container&&(a._resultId=this.generateResultId(this.container,a)),c.extend({},b,a)},d.prototype.matches=function(a,b){return this.options.get("matcher")(a,b)},d}),b.define("select2/data/array",["./select","../utils","jquery"],function(a,b,c){function d(a,b){var c=b.get("data")||[];d.__super__.constructor.call(this,a,b),this.addOptions(this.convertToOptions(c))}return b.Extend(d,a),d.prototype.select=function(a){var b=this.$element.find("option").filter(function(b,c){return c.value==a.id.toString()});0===b.length&&(b=this.option(a),this.addOptions(b)),d.__super__.select.call(this,a)},d.prototype.convertToOptions=function(a){function h(a){return function(){return c(this).val()==a.id}}for(var d=this,e=this.$element.find("option"),f=e.map(function(){return d.item(c(this)).id}).get(),g=[],i=0;i<a.length;i++){var j=this._normalizeItem(a[i]);if(c.inArray(j.id,f)>=0){var k=e.filter(h(j)),l=this.item(k),m=c.extend(!0,{},j,l),n=this.option(m);k.replaceWith(n)}else{var o=this.option(j);if(j.children){var p=this.convertToOptions(j.children);b.appendMany(o,p)}g.push(o)}}return g},d}),b.define("select2/data/ajax",["./array","../utils","jquery"],function(a,b,c){function d(a,b){this.ajaxOptions=this._applyDefaults(b.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),d.__super__.constructor.call(this,a,b)}return b.Extend(d,a),d.prototype._applyDefaults=function(a){var b={data:function(a){return c.extend({},a,{q:a.term})},transport:function(a,b,d){var e=c.ajax(a);return e.then(b),e.fail(d),e}};return c.extend({},b,a,!0)},d.prototype.processResults=function(a){return a},d.prototype.query=function(a,b){function g(){var d=f.transport(f,function(d){var f=e.processResults(d,a);e.options.get("debug")&&window.console&&console.error&&(f&&f.results&&c.isArray(f.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),b(f)},function(){d.status&&"0"===d.status||e.trigger("results:message",{message:"errorLoading"})});e._request=d}var e=this;null!=this._request&&(c.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var f=c.extend({type:"GET"},this.ajaxOptions);"function"==typeof f.url&&(f.url=f.url.call(this.$element,a)),"function"==typeof f.data&&(f.data=f.data.call(this.$element,a)),this.ajaxOptions.delay&&null!=a.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(g,this.ajaxOptions.delay)):g()},d}),b.define("select2/data/tags",["jquery"],function(a){function b(b,c,d){var e=d.get("tags"),f=d.get("createTag");void 0!==f&&(this.createTag=f);var g=d.get("insertTag");if(void 0!==g&&(this.insertTag=g),b.call(this,c,d),a.isArray(e))for(var h=0;h<e.length;h++){var i=e[h],j=this._normalizeItem(i),k=this.option(j);this.$element.append(k)}}return b.prototype.query=function(a,b,c){function e(a,f){for(var g=a.results,h=0;h<g.length;h++){var i=g[h],j=null!=i.children&&!e({results:i.children},!0);if(i.text===b.term||j)return!f&&(a.data=g,void c(a))}if(f)return!0;var l=d.createTag(b);if(null!=l){var m=d.option(l);m.attr("data-select2-tag",!0),d.addOptions([m]),d.insertTag(g,l)}a.results=g,c(a)}var d=this;if(this._removeOldTags(),null==b.term||null!=b.page)return void a.call(this,b,c);a.call(this,b,e)},b.prototype.createTag=function(b,c){var d=a.trim(c.term);return""===d?null:{id:d,text:d}},b.prototype.insertTag=function(a,b,c){b.unshift(c)},b.prototype._removeOldTags=function(b){this._lastTag;this.$element.find("option[data-select2-tag]").each(function(){this.selected||a(this).remove()})},b}),b.define("select2/data/tokenizer",["jquery"],function(a){function b(a,b,c){var d=c.get("tokenizer");void 0!==d&&(this.tokenizer=d),a.call(this,b,c)}return b.prototype.bind=function(a,b,c){a.call(this,b,c),this.$search=b.dropdown.$search||b.selection.$search||c.find(".select2-search__field")},b.prototype.query=function(b,c,d){function f(b){var c=e._normalizeItem(b);if(!e.$element.find("option").filter(function(){return a(this).val()===c.id}).length){var f=e.option(c);f.attr("data-select2-tag",!0),e._removeOldTags(),e.addOptions([f])}g(c)}function g(a){e.trigger("select",{data:a})}var e=this;c.term=c.term||"";var h=this.tokenizer(c,this.options,f);h.term!==c.term&&(this.$search.length&&(this.$search.val(h.term),this.$search.focus()),c.term=h.term),b.call(this,c,d)},b.prototype.tokenizer=function(b,c,d,e){for(var f=d.get("tokenSeparators")||[],g=c.term,h=0,i=this.createTag||function(a){return{id:a.term,text:a.term}};h<g.length;){var j=g[h];if(-1!==a.inArray(j,f)){var k=g.substr(0,h),l=a.extend({},c,{term:k}),m=i(l);null!=m?(e(m),g=g.substr(h+1)||"",h=0):h++}else h++}return{term:g}},b}),b.define("select2/data/minimumInputLength",[],function(){function a(a,b,c){this.minimumInputLength=c.get("minimumInputLength"),a.call(this,b,c)}return a.prototype.query=function(a,b,c){if(b.term=b.term||"",b.term.length<this.minimumInputLength)return void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:b.term,params:b}});a.call(this,b,c)},a}),b.define("select2/data/maximumInputLength",[],function(){function a(a,b,c){this.maximumInputLength=c.get("maximumInputLength"),a.call(this,b,c)}return a.prototype.query=function(a,b,c){if(b.term=b.term||"",this.maximumInputLength>0&&b.term.length>this.maximumInputLength)return void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:b.term,params:b}});a.call(this,b,c)},a}),b.define("select2/data/maximumSelectionLength",[],function(){function a(a,b,c){this.maximumSelectionLength=c.get("maximumSelectionLength"),a.call(this,b,c)}return a.prototype.query=function(a,b,c){var d=this;this.current(function(e){var f=null!=e?e.length:0;if(d.maximumSelectionLength>0&&f>=d.maximumSelectionLength)return void d.trigger("results:message",{message:"maximumSelected",args:{maximum:d.maximumSelectionLength}});a.call(d,b,c)})},a}),b.define("select2/dropdown",["jquery","./utils"],function(a,b){function c(a,b){this.$element=a,this.options=b,c.__super__.constructor.call(this)}return b.Extend(c,b.Observable),c.prototype.render=function(){var b=a('<span class="select2-dropdown"><span class="select2-results"></span></span>');return b.attr("dir",this.options.get("dir")),this.$dropdown=b,b},c.prototype.bind=function(){},c.prototype.position=function(a,b){},c.prototype.destroy=function(){this.$dropdown.remove()},c}),b.define("select2/dropdown/search",["jquery","../utils"],function(a,b){function c(){}return c.prototype.render=function(b){var c=b.call(this),d=a('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=d,this.$search=d.find("input"),c.prepend(d),c},c.prototype.bind=function(b,c,d){var e=this;b.call(this,c,d),this.$search.on("keydown",function(a){e.trigger("keypress",a),e._keyUpPrevented=a.isDefaultPrevented()}),this.$search.on("input",function(b){a(this).off("keyup")}),this.$search.on("keyup input",function(a){e.handleSearch(a)}),c.on("open",function(){e.$search.attr("tabindex",0),e.$search.focus(),window.setTimeout(function(){e.$search.focus()},0)}),c.on("close",function(){e.$search.attr("tabindex",-1),e.$search.val("")}),c.on("focus",function(){c.isOpen()&&e.$search.focus()}),c.on("results:all",function(a){if(null==a.query.term||""===a.query.term){e.showSearch(a)?e.$searchContainer.removeClass("select2-search--hide"):e.$searchContainer.addClass("select2-search--hide")}})},c.prototype.handleSearch=function(a){if(!this._keyUpPrevented){var b=this.$search.val();this.trigger("query",{term:b})}this._keyUpPrevented=!1},c.prototype.showSearch=function(a,b){return!0},c}),b.define("select2/dropdown/hidePlaceholder",[],function(){function a(a,b,c,d){this.placeholder=this.normalizePlaceholder(c.get("placeholder")),a.call(this,b,c,d)}return a.prototype.append=function(a,b){b.results=this.removePlaceholder(b.results),a.call(this,b)},a.prototype.normalizePlaceholder=function(a,b){return"string"==typeof b&&(b={id:"",text:b}),b},a.prototype.removePlaceholder=function(a,b){for(var c=b.slice(0),d=b.length-1;d>=0;d--){var e=b[d];this.placeholder.id===e.id&&c.splice(d,1)}return c},a}),b.define("select2/dropdown/infiniteScroll",["jquery"],function(a){function b(a,b,c,d){this.lastParams={},a.call(this,b,c,d),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return b.prototype.append=function(a,b){this.$loadingMore.remove(),this.loading=!1,a.call(this,b),this.showLoadingMore(b)&&this.$results.append(this.$loadingMore)},b.prototype.bind=function(b,c,d){var e=this;b.call(this,c,d),c.on("query",function(a){e.lastParams=a,e.loading=!0}),c.on("query:append",function(a){e.lastParams=a,e.loading=!0}),this.$results.on("scroll",function(){var b=a.contains(document.documentElement,e.$loadingMore[0]);if(!e.loading&&b){e.$results.offset().top+e.$results.outerHeight(!1)+50>=e.$loadingMore.offset().top+e.$loadingMore.outerHeight(!1)&&e.loadMore()}})},b.prototype.loadMore=function(){this.loading=!0;var b=a.extend({},{page:1},this.lastParams);b.page++,this.trigger("query:append",b)},b.prototype.showLoadingMore=function(a,b){return b.pagination&&b.pagination.more},b.prototype.createLoadingMore=function(){var b=a('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),c=this.options.get("translations").get("loadingMore");return b.html(c(this.lastParams)),b},b}),b.define("select2/dropdown/attachBody",["jquery","../utils"],function(a,b){function c(b,c,d){this.$dropdownParent=d.get("dropdownParent")||a(document.body),b.call(this,c,d)}return c.prototype.bind=function(a,b,c){var d=this,e=!1;a.call(this,b,c),b.on("open",function(){d._showDropdown(),d._attachPositioningHandler(b),e||(e=!0,b.on("results:all",function(){d._positionDropdown(),d._resizeDropdown()}),b.on("results:append",function(){d._positionDropdown(),d._resizeDropdown()}))}),b.on("close",function(){d._hideDropdown(),d._detachPositioningHandler(b)}),this.$dropdownContainer.on("mousedown",function(a){a.stopPropagation()})},c.prototype.destroy=function(a){a.call(this),this.$dropdownContainer.remove()},c.prototype.position=function(a,b,c){b.attr("class",c.attr("class")),b.removeClass("select2"),b.addClass("select2-container--open"),b.css({position:"absolute",top:-999999}),this.$container=c},c.prototype.render=function(b){var c=a("<span></span>"),d=b.call(this);return c.append(d),this.$dropdownContainer=c,c},c.prototype._hideDropdown=function(a){this.$dropdownContainer.detach()},c.prototype._attachPositioningHandler=function(c,d){var e=this,f="scroll.select2."+d.id,g="resize.select2."+d.id,h="orientationchange.select2."+d.id,i=this.$container.parents().filter(b.hasScroll);i.each(function(){a(this).data("select2-scroll-position",{x:a(this).scrollLeft(),y:a(this).scrollTop()})}),i.on(f,function(b){var c=a(this).data("select2-scroll-position");a(this).scrollTop(c.y)}),a(window).on(f+" "+g+" "+h,function(a){e._positionDropdown(),e._resizeDropdown()})},c.prototype._detachPositioningHandler=function(c,d){var e="scroll.select2."+d.id,f="resize.select2."+d.id,g="orientationchange.select2."+d.id;this.$container.parents().filter(b.hasScroll).off(e),a(window).off(e+" "+f+" "+g)},c.prototype._positionDropdown=function(){var b=a(window),c=this.$dropdown.hasClass("select2-dropdown--above"),d=this.$dropdown.hasClass("select2-dropdown--below"),e=null,f=this.$container.offset();f.bottom=f.top+this.$container.outerHeight(!1);var g={height:this.$container.outerHeight(!1)};g.top=f.top,g.bottom=f.top+g.height;var h={height:this.$dropdown.outerHeight(!1)},i={top:b.scrollTop(),bottom:b.scrollTop()+b.height()},j=i.top<f.top-h.height,k=i.bottom>f.bottom+h.height,l={left:f.left,top:g.bottom},m=this.$dropdownParent;"static"===m.css("position")&&(m=m.offsetParent());var n=m.offset();l.top-=n.top,l.left-=n.left,c||d||(e="below"),k||!j||c?!j&&k&&c&&(e="below"):e="above",("above"==e||c&&"below"!==e)&&(l.top=g.top-n.top-h.height),null!=e&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+e),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+e)),this.$dropdownContainer.css(l)},c.prototype._resizeDropdown=function(){var a={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(a.minWidth=a.width,a.position="relative",a.width="auto"),this.$dropdown.css(a)},c.prototype._showDropdown=function(a){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},c}),b.define("select2/dropdown/minimumResultsForSearch",[],function(){function a(b){for(var c=0,d=0;d<b.length;d++){var e=b[d];e.children?c+=a(e.children):c++}return c}function b(a,b,c,d){this.minimumResultsForSearch=c.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),a.call(this,b,c,d)}return b.prototype.showSearch=function(b,c){return!(a(c.data.results)<this.minimumResultsForSearch)&&b.call(this,c)},b}),b.define("select2/dropdown/selectOnClose",[],function(){function a(){}return a.prototype.bind=function(a,b,c){var d=this;a.call(this,b,c),b.on("close",function(a){d._handleSelectOnClose(a)})},a.prototype._handleSelectOnClose=function(a,b){if(b&&null!=b.originalSelect2Event){var c=b.originalSelect2Event;if("select"===c._type||"unselect"===c._type)return}var d=this.getHighlightedResults();if(!(d.length<1)){var e=d.data("data");null!=e.element&&e.element.selected||null==e.element&&e.selected||this.trigger("select",{data:e})}},a}),b.define("select2/dropdown/closeOnSelect",[],function(){function a(){}return a.prototype.bind=function(a,b,c){var d=this;a.call(this,b,c),b.on("select",function(a){d._selectTriggered(a)}),b.on("unselect",function(a){d._selectTriggered(a)})},a.prototype._selectTriggered=function(a,b){var c=b.originalEvent;c&&c.ctrlKey||this.trigger("close",{originalEvent:c,originalSelect2Event:b})},a}),b.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(a){var b=a.input.length-a.maximum,c="Please delete "+b+" character";return 1!=b&&(c+="s"),c},inputTooShort:function(a){return"Please enter "+(a.minimum-a.input.length)+" or more characters"},loadingMore:function(){return"Loading more results"},maximumSelected:function(a){var b="You can only select "+a.maximum+" item";return 1!=a.maximum&&(b+="s"),b},noResults:function(){return"No results found"},searching:function(){return"Searching"}}}),b.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C){function D(){this.reset()}return D.prototype.apply=function(l){if(l=a.extend(!0,{},this.defaults,l),null==l.dataAdapter){if(null!=l.ajax?l.dataAdapter=o:null!=l.data?l.dataAdapter=n:l.dataAdapter=m,l.minimumInputLength>0&&(l.dataAdapter=j.Decorate(l.dataAdapter,r)),l.maximumInputLength>0&&(l.dataAdapter=j.Decorate(l.dataAdapter,s)),l.maximumSelectionLength>0&&(l.dataAdapter=j.Decorate(l.dataAdapter,t)),l.tags&&(l.dataAdapter=j.Decorate(l.dataAdapter,p)),null==l.tokenSeparators&&null==l.tokenizer||(l.dataAdapter=j.Decorate(l.dataAdapter,q)),null!=l.query){var C=b(l.amdBase+"compat/query");l.dataAdapter=j.Decorate(l.dataAdapter,C)}if(null!=l.initSelection){var D=b(l.amdBase+"compat/initSelection");l.dataAdapter=j.Decorate(l.dataAdapter,D)}}if(null==l.resultsAdapter&&(l.resultsAdapter=c,null!=l.ajax&&(l.resultsAdapter=j.Decorate(l.resultsAdapter,x)),null!=l.placeholder&&(l.resultsAdapter=j.Decorate(l.resultsAdapter,w)),l.selectOnClose&&(l.resultsAdapter=j.Decorate(l.resultsAdapter,A))),null==l.dropdownAdapter){if(l.multiple)l.dropdownAdapter=u;else{var E=j.Decorate(u,v);l.dropdownAdapter=E}if(0!==l.minimumResultsForSearch&&(l.dropdownAdapter=j.Decorate(l.dropdownAdapter,z)),l.closeOnSelect&&(l.dropdownAdapter=j.Decorate(l.dropdownAdapter,B)),null!=l.dropdownCssClass||null!=l.dropdownCss||null!=l.adaptDropdownCssClass){var F=b(l.amdBase+"compat/dropdownCss");l.dropdownAdapter=j.Decorate(l.dropdownAdapter,F)}l.dropdownAdapter=j.Decorate(l.dropdownAdapter,y)}if(null==l.selectionAdapter){if(l.multiple?l.selectionAdapter=e:l.selectionAdapter=d,null!=l.placeholder&&(l.selectionAdapter=j.Decorate(l.selectionAdapter,f)),l.allowClear&&(l.selectionAdapter=j.Decorate(l.selectionAdapter,g)),l.multiple&&(l.selectionAdapter=j.Decorate(l.selectionAdapter,h)),null!=l.containerCssClass||null!=l.containerCss||null!=l.adaptContainerCssClass){var G=b(l.amdBase+"compat/containerCss");l.selectionAdapter=j.Decorate(l.selectionAdapter,G)}l.selectionAdapter=j.Decorate(l.selectionAdapter,i)}if("string"==typeof l.language)if(l.language.indexOf("-")>0){var H=l.language.split("-"),I=H[0];l.language=[l.language,I]}else l.language=[l.language];if(a.isArray(l.language)){var J=new k;l.language.push("en");for(var K=l.language,L=0;L<K.length;L++){var M=K[L],N={};try{N=k.loadPath(M)}catch(a){try{M=this.defaults.amdLanguageBase+M,N=k.loadPath(M)}catch(a){l.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+M+'" could not be automatically loaded. A fallback will be used instead.');continue}}J.extend(N)}l.translations=J}else{var O=k.loadPath(this.defaults.amdLanguageBase+"en"),P=new k(l.language);P.extend(O),l.translations=P}return l},D.prototype.reset=function(){function b(a){function b(a){return l[a]||a}return a.replace(/[^\u0000-\u007E]/g,b)}function c(d,e){if(""===a.trim(d.term))return e;if(e.children&&e.children.length>0){for(var f=a.extend(!0,{},e),g=e.children.length-1;g>=0;g--){null==c(d,e.children[g])&&f.children.splice(g,1)}return f.children.length>0?f:c(d,f)}var j=b(e.text).toUpperCase(),k=b(d.term).toUpperCase();return j.indexOf(k)>-1?e:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:j.escapeMarkup,language:C,matcher:c,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(a){return a},templateResult:function(a){return a.text},templateSelection:function(a){return a.text},theme:"default",width:"resolve"}},D.prototype.set=function(b,c){var d=a.camelCase(b),e={};e[d]=c;var f=j._convertData(e);a.extend(this.defaults,f)},new D}),b.define("select2/options",["require","jquery","./defaults","./utils"],function(a,b,c,d){function e(b,e){if(this.options=b,null!=e&&this.fromElement(e),this.options=c.apply(this.options),e&&e.is("input")){var f=a(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=d.Decorate(this.options.dataAdapter,f)}}return e.prototype.fromElement=function(a){var c=["select2"];null==this.options.multiple&&(this.options.multiple=a.prop("multiple")),null==this.options.disabled&&(this.options.disabled=a.prop("disabled")),null==this.options.language&&(a.prop("lang")?this.options.language=a.prop("lang").toLowerCase():a.closest("[lang]").prop("lang")&&(this.options.language=a.closest("[lang]").prop("lang"))),null==this.options.dir&&(a.prop("dir")?this.options.dir=a.prop("dir"):a.closest("[dir]").prop("dir")?this.options.dir=a.closest("[dir]").prop("dir"):this.options.dir="ltr"),a.prop("disabled",this.options.disabled),a.prop("multiple",this.options.multiple),a.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),a.data("data",a.data("select2Tags")),a.data("tags",!0)),a.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),a.attr("ajax--url",a.data("ajaxUrl")),a.data("ajax--url",a.data("ajaxUrl")));var e={};e=b.fn.jquery&&"1."==b.fn.jquery.substr(0,2)&&a[0].dataset?b.extend(!0,{},a[0].dataset,a.data()):a.data();var f=b.extend(!0,{},e);f=d._convertData(f);for(var g in f)b.inArray(g,c)>-1||(b.isPlainObject(this.options[g])?b.extend(this.options[g],f[g]):this.options[g]=f[g]);return this},e.prototype.get=function(a){return this.options[a]},e.prototype.set=function(a,b){this.options[a]=b},e}),b.define("select2/core",["jquery","./options","./utils","./keys"],function(a,b,c,d){var e=function(a,c){null!=a.data("select2")&&a.data("select2").destroy(),this.$element=a,this.id=this._generateId(a),c=c||{},this.options=new b(c,a),e.__super__.constructor.call(this);var d=a.attr("tabindex")||0;a.data("old-tabindex",d),a.attr("tabindex","-1");var f=this.options.get("dataAdapter");this.dataAdapter=new f(a,this.options);var g=this.render();this._placeContainer(g);var h=this.options.get("selectionAdapter");this.selection=new h(a,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,g);var i=this.options.get("dropdownAdapter");this.dropdown=new i(a,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,g);var j=this.options.get("resultsAdapter");this.results=new j(a,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var k=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(a){k.trigger("selection:update",{data:a})}),a.addClass("select2-hidden-accessible"),a.attr("aria-hidden","true"),this._syncAttributes(),a.data("select2",this)};return c.Extend(e,c.Observable),e.prototype._generateId=function(a){var b="";return b=null!=a.attr("id")?a.attr("id"):null!=a.attr("name")?a.attr("name")+"-"+c.generateChars(2):c.generateChars(4),b=b.replace(/(:|\.|\[|\]|,)/g,""),b="select2-"+b},e.prototype._placeContainer=function(a){a.insertAfter(this.$element);var b=this._resolveWidth(this.$element,this.options.get("width"));null!=b&&a.css("width",b)},e.prototype._resolveWidth=function(a,b){var c=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==b){var d=this._resolveWidth(a,"style");return null!=d?d:this._resolveWidth(a,"element")}if("element"==b){var e=a.outerWidth(!1);return e<=0?"auto":e+"px"}if("style"==b){var f=a.attr("style");if("string"!=typeof f)return null;for(var g=f.split(";"),h=0,i=g.length;h<i;h+=1){var j=g[h].replace(/\s/g,""),k=j.match(c);if(null!==k&&k.length>=1)return k[1]}return null}return b},e.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},e.prototype._registerDomEvents=function(){var b=this;this.$element.on("change.select2",function(){b.dataAdapter.current(function(a){b.trigger("selection:update",{data:a})})}),this.$element.on("focus.select2",function(a){b.trigger("focus",a)}),this._syncA=c.bind(this._syncAttributes,this),this._syncS=c.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var d=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=d?(this._observer=new d(function(c){a.each(c,b._syncA),a.each(c,b._syncS)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",b._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",b._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",b._syncS,!1))},e.prototype._registerDataEvents=function(){var a=this;this.dataAdapter.on("*",function(b,c){a.trigger(b,c)})},e.prototype._registerSelectionEvents=function(){var b=this,c=["toggle","focus"];this.selection.on("toggle",function(){b.toggleDropdown()}),this.selection.on("focus",function(a){b.focus(a)}),this.selection.on("*",function(d,e){-1===a.inArray(d,c)&&b.trigger(d,e)})},e.prototype._registerDropdownEvents=function(){var a=this;this.dropdown.on("*",function(b,c){a.trigger(b,c)})},e.prototype._registerResultsEvents=function(){var a=this;this.results.on("*",function(b,c){a.trigger(b,c)})},e.prototype._registerEvents=function(){var a=this;this.on("open",function(){a.$container.addClass("select2-container--open")}),this.on("close",function(){a.$container.removeClass("select2-container--open")}),this.on("enable",function(){a.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){a.$container.addClass("select2-container--disabled")}),this.on("blur",function(){a.$container.removeClass("select2-container--focus")}),this.on("query",function(b){a.isOpen()||a.trigger("open",{}),this.dataAdapter.query(b,function(c){a.trigger("results:all",{data:c,query:b})})}),this.on("query:append",function(b){this.dataAdapter.query(b,function(c){a.trigger("results:append",{data:c,query:b})})}),this.on("keypress",function(b){var c=b.which;a.isOpen()?c===d.ESC||c===d.TAB||c===d.UP&&b.altKey?(a.close(),b.preventDefault()):c===d.ENTER?(a.trigger("results:select",{}),b.preventDefault()):c===d.SPACE&&b.ctrlKey?(a.trigger("results:toggle",{}),b.preventDefault()):c===d.UP?(a.trigger("results:previous",{}),b.preventDefault()):c===d.DOWN&&(a.trigger("results:next",{}),b.preventDefault()):(c===d.ENTER||c===d.SPACE||c===d.DOWN&&b.altKey)&&(a.open(),b.preventDefault())})},e.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},e.prototype._syncSubtree=function(a,b){var c=!1,d=this;if(!a||!a.target||"OPTION"===a.target.nodeName||"OPTGROUP"===a.target.nodeName){if(b)if(b.addedNodes&&b.addedNodes.length>0)for(var e=0;e<b.addedNodes.length;e++){var f=b.addedNodes[e];f.selected&&(c=!0)}else b.removedNodes&&b.removedNodes.length>0&&(c=!0);else c=!0;c&&this.dataAdapter.current(function(a){d.trigger("selection:update",{data:a})})}},e.prototype.trigger=function(a,b){var c=e.__super__.trigger,d={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(void 0===b&&(b={}),a in d){var f=d[a],g={prevented:!1,name:a,args:b};if(c.call(this,f,g),g.prevented)return void(b.prevented=!0)}c.call(this,a,b)},e.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},e.prototype.open=function(){this.isOpen()||this.trigger("query",{})},e.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},e.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},e.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},e.prototype.focus=function(a){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},e.prototype.enable=function(a){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),null!=a&&0!==a.length||(a=[!0]);var b=!a[0];this.$element.prop("disabled",b)},e.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var a=[];return this.dataAdapter.current(function(b){a=b}),a},e.prototype.val=function(b){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==b||0===b.length)return this.$element.val();var c=b[0];a.isArray(c)&&(c=a.map(c,function(a){return a.toString()})),this.$element.val(c).trigger("change")},e.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},e.prototype.render=function(){var b=a('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return b.attr("dir",this.options.get("dir")),this.$container=b,this.$container.addClass("select2-container--"+this.options.get("theme")),b.data("element",this.$element),b},e}),b.define("select2/compat/utils",["jquery"],function(a){function b(b,c,d){var e,g,f=[];e=a.trim(b.attr("class")),e&&(e=""+e,a(e.split(/\s+/)).each(function(){0===this.indexOf("select2-")&&f.push(this)})),e=a.trim(c.attr("class")),e&&(e=""+e,a(e.split(/\s+/)).each(function(){0!==this.indexOf("select2-")&&null!=(g=d(this))&&f.push(g)})),b.attr("class",f.join(" "))}return{syncCssClasses:b}}),b.define("select2/compat/containerCss",["jquery","./utils"],function(a,b){function c(a){return null}function d(){}return d.prototype.render=function(d){var e=d.call(this),f=this.options.get("containerCssClass")||"";a.isFunction(f)&&(f=f(this.$element));var g=this.options.get("adaptContainerCssClass");if(g=g||c,-1!==f.indexOf(":all:")){f=f.replace(":all:","");var h=g;g=function(a){var b=h(a);return null!=b?b+" "+a:a}}var i=this.options.get("containerCss")||{};return a.isFunction(i)&&(i=i(this.$element)),b.syncCssClasses(e,this.$element,g),e.css(i),e.addClass(f),e},d}),b.define("select2/compat/dropdownCss",["jquery","./utils"],function(a,b){function c(a){return null}function d(){}return d.prototype.render=function(d){var e=d.call(this),f=this.options.get("dropdownCssClass")||"";a.isFunction(f)&&(f=f(this.$element));var g=this.options.get("adaptDropdownCssClass");if(g=g||c,-1!==f.indexOf(":all:")){f=f.replace(":all:","");var h=g;g=function(a){var b=h(a);return null!=b?b+" "+a:a}}var i=this.options.get("dropdownCss")||{};return a.isFunction(i)&&(i=i(this.$element)),b.syncCssClasses(e,this.$element,g),e.css(i),e.addClass(f),e},d}),b.define("select2/compat/initSelection",["jquery"],function(a){function b(a,b,c){c.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `initSelection` option has been deprecated in favor of a custom data adapter that overrides the `current` method. This method is now called multiple times instead of a single time when the instance is initialized. Support will be removed for the `initSelection` option in future versions of Select2"),this.initSelection=c.get("initSelection"),this._isInitialized=!1,a.call(this,b,c)}return b.prototype.current=function(b,c){var d=this;if(this._isInitialized)return void b.call(this,c);this.initSelection.call(null,this.$element,function(b){d._isInitialized=!0,a.isArray(b)||(b=[b]),c(b)})},b}),b.define("select2/compat/inputData",["jquery"],function(a){function b(a,b,c){this._currentData=[],this._valueSeparator=c.get("valueSeparator")||",","hidden"===b.prop("type")&&c.get("debug")&&console&&console.warn&&console.warn("Select2: Using a hidden input with Select2 is no longer supported and may stop working in the future. It is recommended to use a `<select>` element instead."),a.call(this,b,c)}return b.prototype.current=function(b,c){function d(b,c){var e=[];return b.selected||-1!==a.inArray(b.id,c)?(b.selected=!0,e.push(b)):b.selected=!1,b.children&&e.push.apply(e,d(b.children,c)),e}for(var e=[],f=0;f<this._currentData.length;f++){var g=this._currentData[f];e.push.apply(e,d(g,this.$element.val().split(this._valueSeparator)))}c(e)},b.prototype.select=function(b,c){if(this.options.get("multiple")){var d=this.$element.val();d+=this._valueSeparator+c.id,this.$element.val(d),this.$element.trigger("change")}else this.current(function(b){a.map(b,function(a){a.selected=!1})}),this.$element.val(c.id),this.$element.trigger("change")},b.prototype.unselect=function(a,b){var c=this;b.selected=!1,this.current(function(a){for(var d=[],e=0;e<a.length;e++){var f=a[e];b.id!=f.id&&d.push(f.id)}c.$element.val(d.join(c._valueSeparator)),c.$element.trigger("change")})},b.prototype.query=function(a,b,c){for(var d=[],e=0;e<this._currentData.length;e++){var f=this._currentData[e],g=this.matches(b,f);null!==g&&d.push(g)}c({results:d})},b.prototype.addOptions=function(b,c){var d=a.map(c,function(b){return a.data(b[0],"data")});this._currentData.push.apply(this._currentData,d)},b}),b.define("select2/compat/matcher",["jquery"],function(a){function b(b){function c(c,d){var e=a.extend(!0,{},d);if(null==c.term||""===a.trim(c.term))return e;if(d.children){for(var f=d.children.length-1;f>=0;f--){var g=d.children[f];b(c.term,g.text,g)||e.children.splice(f,1)}if(e.children.length>0)return e}return b(c.term,d.text,d)?e:null}return c}return b}),b.define("select2/compat/query",[],function(){function a(a,b,c){c.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `query` option has been deprecated in favor of a custom data adapter that overrides the `query` method. Support will be removed for the `query` option in future versions of Select2."),a.call(this,b,c)}return a.prototype.query=function(a,b,c){b.callback=c,this.options.get("query").call(null,b)},a}),b.define("select2/dropdown/attachContainer",[],function(){function a(a,b,c){a.call(this,b,c)}return a.prototype.position=function(a,b,c){c.find(".dropdown-wrapper").append(b),b.addClass("select2-dropdown--below"),c.addClass("select2-container--below")},a}),b.define("select2/dropdown/stopPropagation",[],function(){function a(){}return a.prototype.bind=function(a,b,c){a.call(this,b,c);var d=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$dropdown.on(d.join(" "),function(a){a.stopPropagation()})},a}),b.define("select2/selection/stopPropagation",[],function(){function a(){}return a.prototype.bind=function(a,b,c){a.call(this,b,c);var d=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$selection.on(d.join(" "),function(a){a.stopPropagation()})},a}),function(c){"function"==typeof b.define&&b.define.amd?b.define("jquery-mousewheel",["jquery"],c):"object"==typeof exports?module.exports=c:c(a)}(function(a){function i(b){var c=b||window.event,g=d.call(arguments,1),i=0,l=0,m=0,n=0,o=0,p=0;if(b=a.event.fix(c),b.type="mousewheel","detail"in c&&(m=-1*c.detail),"wheelDelta"in c&&(m=c.wheelDelta),"wheelDeltaY"in c&&(m=c.wheelDeltaY),"wheelDeltaX"in c&&(l=-1*c.wheelDeltaX),"axis"in c&&c.axis===c.HORIZONTAL_AXIS&&(l=-1*m,m=0),i=0===m?l:m,"deltaY"in c&&(m=-1*c.deltaY,i=m),"deltaX"in c&&(l=c.deltaX,0===m&&(i=-1*l)),0!==m||0!==l){if(1===c.deltaMode){var q=a.data(this,"mousewheel-line-height");i*=q,m*=q,l*=q}else if(2===c.deltaMode){var r=a.data(this,"mousewheel-page-height");i*=r,m*=r,l*=r}if(n=Math.max(Math.abs(m),Math.abs(l)),(!f||n<f)&&(f=n,k(c,n)&&(f/=40)),k(c,n)&&(i/=40,l/=40,m/=40),i=Math[i>=1?"floor":"ceil"](i/f),l=Math[l>=1?"floor":"ceil"](l/f),m=Math[m>=1?"floor":"ceil"](m/f),h.settings.normalizeOffset&&this.getBoundingClientRect){var s=this.getBoundingClientRect();o=b.clientX-s.left,p=b.clientY-s.top}return b.deltaX=l,b.deltaY=m,b.deltaFactor=f,b.offsetX=o,b.offsetY=p,b.deltaMode=0,g.unshift(b,i,l,m),e&&clearTimeout(e),e=setTimeout(j,200),(a.event.dispatch||a.event.handle).apply(this,g)}}function j(){f=null}function k(a,b){return h.settings.adjustOldDeltas&&"mousewheel"===a.type&&b%120==0}var e,f,b=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],c="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],d=Array.prototype.slice;if(a.event.fixHooks)for(var g=b.length;g;)a.event.fixHooks[b[--g]]=a.event.mouseHooks;var h=a.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var b=c.length;b;)this.addEventListener(c[--b],i,!1);else this.onmousewheel=i;a.data(this,"mousewheel-line-height",h.getLineHeight(this)),a.data(this,"mousewheel-page-height",h.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var b=c.length;b;)this.removeEventListener(c[--b],i,!1);else this.onmousewheel=null;a.removeData(this,"mousewheel-line-height"),a.removeData(this,"mousewheel-page-height")},getLineHeight:function(b){var c=a(b),d=c["offsetParent"in a.fn?"offsetParent":"parent"]();return d.length||(d=a("body")),parseInt(d.css("fontSize"),10)||parseInt(c.css("fontSize"),10)||16},getPageHeight:function(b){return a(b).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})}),b.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function(a,b,c,d){if(null==a.fn.select2){var e=["open","close","destroy"];a.fn.select2=function(b){if("object"==typeof(b=b||{}))return this.each(function(){var d=a.extend(!0,{},b);new c(a(this),d)}),this;if("string"==typeof b){var d,f=Array.prototype.slice.call(arguments,1);return this.each(function(){var c=a(this).data("select2");null==c&&window.console&&console.error&&console.error("The select2('"+b+"') method was called on an element that is not using Select2."),d=c[b].apply(c,f)}),a.inArray(b,e)>-1?this:d}throw new Error("Invalid arguments for Select2: "+b)}}return null==a.fn.select2.defaults&&(a.fn.select2.defaults=d),c}),{define:b.define,require:b.require}}(),c=b.require("jquery.select2");return a.fn.select2.amd=b,c}),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)}(function(a,b){function c(){return new Date(Date.UTC.apply(Date,arguments))}function d(){var a=new Date;return c(a.getFullYear(),a.getMonth(),a.getDate())}function e(a,b){return a.getUTCFullYear()===b.getUTCFullYear()&&a.getUTCMonth()===b.getUTCMonth()&&a.getUTCDate()===b.getUTCDate()}function f(a){return function(){return this[a].apply(this,arguments)}}function g(a){return a&&!isNaN(a.getTime())}function k(b,c){function h(a,b){return b.toLowerCase()}var f,d=a(b).data(),e={},g=new RegExp("^"+c.toLowerCase()+"([A-Z])");c=new RegExp("^"+c.toLowerCase());for(var i in d)c.test(i)&&(f=i.replace(g,h),e[f]=d[i]);return e}function l(b){var c={};if(q[b]||(b=b.split("-")[0],q[b])){var d=q[b];return a.each(p,function(a,b){b in d&&(c[b]=d[b])}),c}}var h=function(){var b={get:function(a){return this.slice(a)[0]},contains:function(a){for(var b=a&&a.valueOf(),c=0,d=this.length;c<d;c++)if(this[c].valueOf()===b)return c;return-1},remove:function(a){this.splice(a,1)},replace:function(b){b&&(a.isArray(b)||(b=[b]),this.clear(),this.push.apply(this,b))},clear:function(){this.length=0},copy:function(){var a=new h;return a.replace(this),a}};return function(){var c=[];return c.push.apply(c,arguments),a.extend(c,b),c}}(),i=function(b,c){a(b).data("datepicker",this),this._process_options(c),this.dates=new h,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=a(b),this.isInput=this.element.is("input"),this.inputField=this.isInput?this.element:this.element.find("input"),this.component=!!this.element.hasClass("date")&&this.element.find(".add-on, .input-group-addon, .btn"),this.hasInput=this.component&&this.inputField.length,this.component&&0===this.component.length&&(this.component=!1),this.isInline=!this.component&&this.element.is("div"),this.picker=a(r.template),this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow),this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(a,b){return parseInt(b)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.setDaysOfWeekHighlighted(this.o.daysOfWeekHighlighted),this.setDatesDisabled(this.o.datesDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};i.prototype={constructor:i,_resolveViewName:function(a,c){return 0===a||"days"===a||"month"===a?0:1===a||"months"===a||"year"===a?1:2===a||"years"===a||"decade"===a?2:3===a||"decades"===a||"century"===a?3:4===a||"centuries"===a||"millennium"===a?4:c!==b&&c},_check_template:function(c){try{if(c===b||""===c)return!1;if((c.match(/[<>]/g)||[]).length<=0)return!0;return a(c).length>0}catch(a){return!1}},_process_options:function(b){this._o=a.extend({},this._o,b);var e=this.o=a.extend({},this._o),f=e.language;q[f]||(f=f.split("-")[0],q[f]||(f=o.language)),e.language=f,e.startView=this._resolveViewName(e.startView,0),e.minViewMode=this._resolveViewName(e.minViewMode,0),e.maxViewMode=this._resolveViewName(e.maxViewMode,4),e.startView=Math.min(e.startView,e.maxViewMode),e.startView=Math.max(e.startView,e.minViewMode),!0!==e.multidate&&(e.multidate=Number(e.multidate)||!1,!1!==e.multidate&&(e.multidate=Math.max(0,e.multidate))),e.multidateSeparator=String(e.multidateSeparator),e.weekStart%=7,e.weekEnd=(e.weekStart+6)%7;var g=r.parseFormat(e.format);e.startDate!==-1/0&&(e.startDate?e.startDate instanceof Date?e.startDate=this._local_to_utc(this._zero_time(e.startDate)):e.startDate=r.parseDate(e.startDate,g,e.language,e.assumeNearbyYear):e.startDate=-1/0),e.endDate!==1/0&&(e.endDate?e.endDate instanceof Date?e.endDate=this._local_to_utc(this._zero_time(e.endDate)):e.endDate=r.parseDate(e.endDate,g,e.language,e.assumeNearbyYear):e.endDate=1/0),e.daysOfWeekDisabled=e.daysOfWeekDisabled||[],a.isArray(e.daysOfWeekDisabled)||(e.daysOfWeekDisabled=e.daysOfWeekDisabled.split(/[,\s]*/)),e.daysOfWeekDisabled=a.map(e.daysOfWeekDisabled,function(a){return parseInt(a,10)}),e.daysOfWeekHighlighted=e.daysOfWeekHighlighted||[],a.isArray(e.daysOfWeekHighlighted)||(e.daysOfWeekHighlighted=e.daysOfWeekHighlighted.split(/[,\s]*/)),e.daysOfWeekHighlighted=a.map(e.daysOfWeekHighlighted,function(a){return parseInt(a,10)}),e.datesDisabled=e.datesDisabled||[],a.isArray(e.datesDisabled)||(e.datesDisabled=[e.datesDisabled]),e.datesDisabled=a.map(e.datesDisabled,function(a){return r.parseDate(a,g,e.language,e.assumeNearbyYear)});var h=String(e.orientation).toLowerCase().split(/\s+/g),i=e.orientation.toLowerCase();if(h=a.grep(h,function(a){return/^auto|left|right|top|bottom$/.test(a)}),e.orientation={x:"auto",y:"auto"},i&&"auto"!==i)if(1===h.length)switch(h[0]){case"top":case"bottom":e.orientation.y=h[0];break;case"left":case"right":e.orientation.x=h[0]}else i=a.grep(h,function(a){return/^left|right$/.test(a)}),e.orientation.x=i[0]||"auto",i=a.grep(h,function(a){return/^top|bottom$/.test(a)}),e.orientation.y=i[0]||"auto";else;if(e.defaultViewDate){var j=e.defaultViewDate.year||(new Date).getFullYear(),k=e.defaultViewDate.month||0,l=e.defaultViewDate.day||1;e.defaultViewDate=c(j,k,l)}else e.defaultViewDate=d()},_events:[],_secondaryEvents:[],_applyEvents:function(a){for(var d,e,f,c=0;c<a.length;c++)d=a[c][0],2===a[c].length?(e=b,f=a[c][1]):3===a[c].length&&(e=a[c][1],f=a[c][2]),d.on(f,e)},_unapplyEvents:function(a){for(var d,e,f,c=0;c<a.length;c++)d=a[c][0],2===a[c].length?(f=b,e=a[c][1]):3===a[c].length&&(f=a[c][1],e=a[c][2]),d.off(e,f)},_buildEvents:function(){var b={keyup:a.proxy(function(b){-1===a.inArray(b.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:a.proxy(this.keydown,this),paste:a.proxy(this.paste,this)};!0===this.o.showOnFocus&&(b.focus=a.proxy(this.show,this)),this.isInput?this._events=[[this.element,b]]:this.component&&this.hasInput?this._events=[[this.inputField,b],[this.component,{click:a.proxy(this.show,this)}]]:this._events=[[this.element,{click:a.proxy(this.show,this),keydown:a.proxy(this.keydown,this)}]],this._events.push([this.element,"*",{blur:a.proxy(function(a){this._focused_from=a.target},this)}],[this.element,{blur:a.proxy(function(a){this._focused_from=a.target},this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":a.proxy(function(a){this.update(a.date)},this)}]),this._secondaryEvents=[[this.picker,{click:a.proxy(this.click,this)}],[a(window),{resize:a.proxy(this.place,this)}],[a(document),{mousedown:a.proxy(function(a){this.element.is(a.target)||this.element.find(a.target).length||this.picker.is(a.target)||this.picker.find(a.target).length||this.isInline||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(b,c){var d=c||this.dates.get(-1),e=this._utc_to_local(d);this.element.trigger({type:b,date:e,dates:a.map(this.dates,this._utc_to_local),format:a.proxy(function(a,b){0===arguments.length?(a=this.dates.length-1,b=this.o.format):"string"==typeof a&&(b=a,a=this.dates.length-1),b=b||this.o.format;var c=this.dates.get(a);return r.formatDate(c,b,this.o.language)},this)})},show:function(){if(!(this.inputField.prop("disabled")||this.inputField.prop("readonly")&&!1===this.o.enableOnReadonly))return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&a(this.element).blur(),this},hide:function(){return this.isInline||!this.picker.is(":visible")?this:(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&this.inputField.val()&&this.setValue(),this._trigger("hide"),this)},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(b){var c;if(b.originalEvent.clipboardData&&b.originalEvent.clipboardData.types&&-1!==a.inArray("text/plain",b.originalEvent.clipboardData.types))c=b.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;c=window.clipboardData.getData("Text")}this.setDate(c),this.update(),b.preventDefault()},_utc_to_local:function(a){return a&&new Date(a.getTime()+6e4*a.getTimezoneOffset())},_local_to_utc:function(a){return a&&new Date(a.getTime()-6e4*a.getTimezoneOffset())},_zero_time:function(a){return a&&new Date(a.getFullYear(),a.getMonth(),a.getDate())},_zero_utc_time:function(a){return a&&new Date(Date.UTC(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()))},getDates:function(){return a.map(this.dates,this._utc_to_local)},getUTCDates:function(){return a.map(this.dates,function(a){return new Date(a)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var a=this.dates.get(-1);return void 0!==a?new Date(a):null},clearDates:function(){this.inputField&&this.inputField.val(""),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var b=a.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,b),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var b=a.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,a.map(b,this._utc_to_local)),this._trigger("changeDate"),this.setValue(),this},setDate:f("setDates"),setUTCDate:f("setUTCDates"),remove:f("destroy"),setValue:function(){var a=this.getFormattedDate();return this.inputField.val(a),this},getFormattedDate:function(c){c===b&&(c=this.o.format);var d=this.o.language;return a.map(this.dates,function(a){return r.formatDate(a,c,d)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(a){return this._process_options({startDate:a}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(a){return this._process_options({endDate:a}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(a){return this._process_options({daysOfWeekDisabled:a}),this.update(),this.updateNavArrows(),this},setDaysOfWeekHighlighted:function(a){return this._process_options({daysOfWeekHighlighted:a}),this.update(),this},setDatesDisabled:function(a){this._process_options({datesDisabled:a}),this.update(),this.updateNavArrows()},place:function(){if(this.isInline)return this;var b=this.picker.outerWidth(),c=this.picker.outerHeight(),d=10,e=a(this.o.container),f=e.width(),g="body"===this.o.container?a(document).scrollTop():e.scrollTop(),h=e.offset(),i=[];this.element.parents().each(function(){var b=a(this).css("z-index");"auto"!==b&&0!==b&&i.push(parseInt(b))});var j=Math.max.apply(Math,i)+this.o.zIndexOffset,k=this.component?this.component.parent().offset():this.element.offset(),l=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),m=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),n=k.left-h.left,o=k.top-h.top;"body"!==this.o.container&&(o+=g),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(n-=b-m)):k.left<0?(this.picker.addClass("datepicker-orient-left"),n-=k.left-d):n+b>f?(this.picker.addClass("datepicker-orient-right"),n+=m-b):this.picker.addClass("datepicker-orient-left");var q,p=this.o.orientation.y;if("auto"===p&&(q=-g+o-c,p=q<0?"bottom":"top"),this.picker.addClass("datepicker-orient-"+p),"top"===p?o-=c+parseInt(this.picker.css("padding-top")):o+=l,this.o.rtl){var r=f-(n+m);this.picker.css({top:o,right:r,zIndex:j})}else this.picker.css({top:o,left:n,zIndex:j});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var b=this.dates.copy(),c=[],d=!1;return arguments.length?(a.each(arguments,a.proxy(function(a,b){b instanceof Date&&(b=this._local_to_utc(b)),c.push(b)},this)),d=!0):(c=this.isInput?this.element.val():this.element.data("date")||this.inputField.val(),c=c&&this.o.multidate?c.split(this.o.multidateSeparator):[c],delete this.element.data().date),c=a.map(c,a.proxy(function(a){return r.parseDate(a,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),c=a.grep(c,a.proxy(function(a){return!this.dateWithinRange(a)||!a},this),!0),this.dates.replace(c),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=this.o.defaultViewDate,d?this.setValue():c.length&&String(b)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&b.length&&this._trigger("clearDate"),this.fill(),this.element.change(),this},fillDow:function(){var b=this.o.weekStart,c="<tr>";for(this.o.calendarWeeks&&(this.picker.find(".datepicker-days .datepicker-switch").attr("colspan",function(a,b){return parseInt(b)+1}),c+='<th class="cw">&#160;</th>');b<this.o.weekStart+7;)c+='<th class="dow',a.inArray(b,this.o.daysOfWeekDisabled)>-1&&(c+=" disabled"),c+='">'+q[this.o.language].daysMin[b++%7]+"</th>";c+="</tr>",this.picker.find(".datepicker-days thead").append(c)},fillMonths:function(){for(var a=this._utc_to_local(this.viewDate),b="",c=0;c<12;){b+='<span class="month'+(a&&a.getMonth()===c?" focused":"")+'">'+q[this.o.language].monthsShort[c++]+"</span>"}this.picker.find(".datepicker-months td").html(b)},setRange:function(b){b&&b.length?this.range=a.map(b,function(a){return a.valueOf()}):delete this.range,this.fill()},getClassNames:function(b){var c=[],d=this.viewDate.getUTCFullYear(),e=this.viewDate.getUTCMonth(),f=new Date;return b.getUTCFullYear()<d||b.getUTCFullYear()===d&&b.getUTCMonth()<e?c.push("old"):(b.getUTCFullYear()>d||b.getUTCFullYear()===d&&b.getUTCMonth()>e)&&c.push("new"),this.focusDate&&b.valueOf()===this.focusDate.valueOf()&&c.push("focused"),this.o.todayHighlight&&b.getUTCFullYear()===f.getFullYear()&&b.getUTCMonth()===f.getMonth()&&b.getUTCDate()===f.getDate()&&c.push("today"),-1!==this.dates.contains(b)&&c.push("active"),this.dateWithinRange(b)||c.push("disabled"),this.dateIsDisabled(b)&&c.push("disabled","disabled-date"),-1!==a.inArray(b.getUTCDay(),this.o.daysOfWeekHighlighted)&&c.push("highlighted"),this.range&&(b>this.range[0]&&b<this.range[this.range.length-1]&&c.push("range"),-1!==a.inArray(b.valueOf(),this.range)&&c.push("selected"),b.valueOf()===this.range[0]&&c.push("range-start"),b.valueOf()===this.range[this.range.length-1]&&c.push("range-end")),c},_fill_yearsView:function(c,d,e,f,g,h,i,j){var k,l,m,n,o,p,q,r,s,t,u;for(k="",l=this.picker.find(c),m=parseInt(g/e,10)*e,o=parseInt(h/f,10)*f,p=parseInt(i/f,10)*f,n=a.map(this.dates,function(a){return parseInt(a.getUTCFullYear()/f,10)*f}),l.find(".datepicker-switch").text(m+"-"+(m+9*f)),q=m-f,r=-1;r<11;r+=1)s=[d],t=null,-1===r?s.push("old"):10===r&&s.push("new"),-1!==a.inArray(q,n)&&s.push("active"),(q<o||q>p)&&s.push("disabled"),q===this.viewDate.getFullYear()&&s.push("focused"),j!==a.noop&&(u=j(new Date(q,0,1)),u===b?u={}:"boolean"==typeof u?u={enabled:u}:"string"==typeof u&&(u={classes:u}),!1===u.enabled&&s.push("disabled"),u.classes&&(s=s.concat(u.classes.split(/\s+/))),u.tooltip&&(t=u.tooltip)),k+='<span class="'+s.join(" ")+'"'+(t?' title="'+t+'"':"")+">"+q+"</span>",q+=f;l.find("td").html(k)},fill:function(){var n,o,d=new Date(this.viewDate),e=d.getUTCFullYear(),f=d.getUTCMonth(),g=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,h=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,i=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,j=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,k=q[this.o.language].today||q.en.today||"",l=q[this.o.language].clear||q.en.clear||"",m=q[this.o.language].titleFormat||q.en.titleFormat;if(!isNaN(e)&&!isNaN(f)){this.picker.find(".datepicker-days .datepicker-switch").text(r.formatDate(d,m,this.o.language)),this.picker.find("tfoot .today").text(k).toggle(!1!==this.o.todayBtn),this.picker.find("tfoot .clear").text(l).toggle(!1!==this.o.clearBtn),this.picker.find("thead .datepicker-title").text(this.o.title).toggle(""!==this.o.title),this.updateNavArrows(),this.fillMonths();var p=c(e,f-1,28),s=r.getDaysInMonth(p.getUTCFullYear(),p.getUTCMonth());p.setUTCDate(s),p.setUTCDate(s-(p.getUTCDay()-this.o.weekStart+7)%7);var t=new Date(p);p.getUTCFullYear()<100&&t.setUTCFullYear(p.getUTCFullYear()),t.setUTCDate(t.getUTCDate()+42),t=t.valueOf();for(var v,u=[];p.valueOf()<t;){if(p.getUTCDay()===this.o.weekStart&&(u.push("<tr>"),this.o.calendarWeeks)){var w=new Date(+p+(this.o.weekStart-p.getUTCDay()-7)%7*864e5),x=new Date(Number(w)+(11-w.getUTCDay())%7*864e5),y=new Date(Number(y=c(x.getUTCFullYear(),0,1))+(11-y.getUTCDay())%7*864e5),z=(x-y)/864e5/7+1;u.push('<td class="cw">'+z+"</td>")}v=this.getClassNames(p),v.push("day"),this.o.beforeShowDay!==a.noop&&(o=this.o.beforeShowDay(this._utc_to_local(p)),o===b?o={}:"boolean"==typeof o?o={enabled:o}:"string"==typeof o&&(o={classes:o}),!1===o.enabled&&v.push("disabled"),o.classes&&(v=v.concat(o.classes.split(/\s+/))),o.tooltip&&(n=o.tooltip)),v=a.isFunction(a.uniqueSort)?a.uniqueSort(v):a.unique(v),u.push('<td class="'+v.join(" ")+'"'+(n?' title="'+n+'"':"")+">"+p.getUTCDate()+"</td>"),n=null,p.getUTCDay()===this.o.weekEnd&&u.push("</tr>"),p.setUTCDate(p.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(u.join(""));var A=q[this.o.language].monthsTitle||q.en.monthsTitle||"Months",B=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?A:e).end().find("span").removeClass("active");if(a.each(this.dates,function(a,b){b.getUTCFullYear()===e&&B.eq(b.getUTCMonth()).addClass("active")}),(e<g||e>i)&&B.addClass("disabled"),e===g&&B.slice(0,h).addClass("disabled"),e===i&&B.slice(j+1).addClass("disabled"),this.o.beforeShowMonth!==a.noop){var C=this;a.each(B,function(c,d){var f=new Date(e,c,1),g=C.o.beforeShowMonth(f);g===b?g={}:"boolean"==typeof g?g={enabled:g}:"string"==typeof g&&(g={classes:g}),!1!==g.enabled||a(d).hasClass("disabled")||a(d).addClass("disabled"),g.classes&&a(d).addClass(g.classes),g.tooltip&&a(d).prop("title",g.tooltip)})}this._fill_yearsView(".datepicker-years","year",10,1,e,g,i,this.o.beforeShowYear),this._fill_yearsView(".datepicker-decades","decade",100,10,e,g,i,this.o.beforeShowDecade),this._fill_yearsView(".datepicker-centuries","century",1e3,100,e,g,i,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var a=new Date(this.viewDate),b=a.getUTCFullYear(),c=a.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-1/0&&b<=this.o.startDate.getUTCFullYear()&&c<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&b>=this.o.endDate.getUTCFullYear()&&c>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:case 3:case 4:this.o.startDate!==-1/0&&b<=this.o.startDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&b>=this.o.endDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(b){b.preventDefault(),b.stopPropagation();var e,f,g,h,i,j,k;e=a(b.target),e.hasClass("datepicker-switch")&&this.showMode(1);var l=e.closest(".prev, .next");l.length>0&&(f=r.modes[this.viewMode].navStep*(l.hasClass("prev")?-1:1),0===this.viewMode?(this.viewDate=this.moveMonth(this.viewDate,f),this._trigger("changeMonth",this.viewDate)):(this.viewDate=this.moveYear(this.viewDate,f),1===this.viewMode&&this._trigger("changeYear",this.viewDate)),this.fill()),e.hasClass("today")&&!e.hasClass("day")&&(this.showMode(-2),this._setDate(d(),"linked"===this.o.todayBtn?null:"view")),e.hasClass("clear")&&this.clearDates(),e.hasClass("disabled")||(e.hasClass("day")&&(g=parseInt(e.text(),10)||1,h=this.viewDate.getUTCFullYear(),i=this.viewDate.getUTCMonth(),e.hasClass("old")&&(0===i?(i=11,h-=1,j=!0,k=!0):(i-=1,j=!0)),e.hasClass("new")&&(11===i?(i=0,h+=1,j=!0,k=!0):(i+=1,j=!0)),this._setDate(c(h,i,g)),k&&this._trigger("changeYear",this.viewDate),j&&this._trigger("changeMonth",this.viewDate)),e.hasClass("month")&&(this.viewDate.setUTCDate(1),g=1,i=e.parent().find("span").index(e),h=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(i),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode?(this._setDate(c(h,i,g)),this.showMode()):this.showMode(-1),this.fill()),(e.hasClass("year")||e.hasClass("decade")||e.hasClass("century"))&&(this.viewDate.setUTCDate(1),g=1,i=0,h=parseInt(e.text(),10)||0,this.viewDate.setUTCFullYear(h),e.hasClass("year")&&(this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(c(h,i,g))),e.hasClass("decade")&&(this._trigger("changeDecade",this.viewDate),3===this.o.minViewMode&&this._setDate(c(h,i,g))),e.hasClass("century")&&(this._trigger("changeCentury",this.viewDate),4===this.o.minViewMode&&this._setDate(c(h,i,g))),this.showMode(-1),this.fill())),this.picker.is(":visible")&&this._focused_from&&a(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(a){var b=this.dates.contains(a);if(a||this.dates.clear(),-1!==b?(!0===this.o.multidate||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(b):!1===this.o.multidate?(this.dates.clear(),this.dates.push(a)):this.dates.push(a),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(a,b){b&&"date"!==b||this._toggle_multidate(a&&new Date(a)),b&&"view"!==b||(this.viewDate=a&&new Date(a)),this.fill(),this.setValue(),b&&"view"===b||this._trigger("changeDate"),this.inputField&&this.inputField.change(),!this.o.autoclose||b&&"date"!==b||this.hide()},moveDay:function(a,b){var c=new Date(a);return c.setUTCDate(a.getUTCDate()+b),c},moveWeek:function(a,b){return this.moveDay(a,7*b)},moveMonth:function(a,b){if(!g(a))return this.o.defaultViewDate;if(!b)return a;var h,i,c=new Date(a.valueOf()),d=c.getUTCDate(),e=c.getUTCMonth(),f=Math.abs(b);if(b=b>0?1:-1,1===f)i=-1===b?function(){return c.getUTCMonth()===e}:function(){return c.getUTCMonth()!==h},h=e+b,c.setUTCMonth(h),(h<0||h>11)&&(h=(h+12)%12);else{for(var j=0;j<f;j++)c=this.moveMonth(c,b);h=c.getUTCMonth(),c.setUTCDate(d),i=function(){return h!==c.getUTCMonth()}}for(;i();)c.setUTCDate(--d),c.setUTCMonth(h);return c},moveYear:function(a,b){return this.moveMonth(a,12*b)},moveAvailableDate:function(a,b,c){do{if(a=this[c](a,b),!this.dateWithinRange(a))return!1;c="moveDay"}while(this.dateIsDisabled(a));return a},weekOfDateIsDisabled:function(b){return-1!==a.inArray(b.getUTCDay(),this.o.daysOfWeekDisabled)},dateIsDisabled:function(b){return this.weekOfDateIsDisabled(b)||a.grep(this.o.datesDisabled,function(a){return e(b,a)}).length>0},dateWithinRange:function(a){return a>=this.o.startDate&&a<=this.o.endDate},keydown:function(a){if(!this.picker.is(":visible"))return void(40!==a.keyCode&&27!==a.keyCode||(this.show(),a.stopPropagation()));var c,d,b=!1,e=this.focusDate||this.viewDate;switch(a.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),a.preventDefault(),a.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;c=37===a.keyCode||38===a.keyCode?-1:1,0===this.viewMode?a.ctrlKey?(d=this.moveAvailableDate(e,c,"moveYear"))&&this._trigger("changeYear",this.viewDate):a.shiftKey?(d=this.moveAvailableDate(e,c,"moveMonth"))&&this._trigger("changeMonth",this.viewDate):37===a.keyCode||39===a.keyCode?d=this.moveAvailableDate(e,c,"moveDay"):this.weekOfDateIsDisabled(e)||(d=this.moveAvailableDate(e,c,"moveWeek")):1===this.viewMode?(38!==a.keyCode&&40!==a.keyCode||(c*=4),d=this.moveAvailableDate(e,c,"moveMonth")):2===this.viewMode&&(38!==a.keyCode&&40!==a.keyCode||(c*=4),d=this.moveAvailableDate(e,c,"moveYear")),d&&(this.focusDate=this.viewDate=d,this.setValue(),this.fill(),a.preventDefault());break;case 13:if(!this.o.forceParse)break;e=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(e),b=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(a.preventDefault(),a.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}b&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.inputField&&this.inputField.change())},showMode:function(a){a&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,this.viewMode+a))),this.picker.children("div").hide().filter(".datepicker-"+r.modes[this.viewMode].clsName).show(),this.updateNavArrows()}};var j=function(b,c){a(b).data("datepicker",this),this.element=a(b),this.inputs=a.map(c.inputs,function(a){return a.jquery?a[0]:a}),delete c.inputs,n.call(a(this.inputs),c).on("changeDate",a.proxy(this.dateUpdated,this)),this.pickers=a.map(this.inputs,function(b){return a(b).data("datepicker")}),this.updateDates()};j.prototype={updateDates:function(){this.dates=a.map(this.pickers,function(a){return a.getUTCDate()}),this.updateRanges()},updateRanges:function(){var b=a.map(this.dates,function(a){return a.valueOf()});a.each(this.pickers,function(a,c){c.setRange(b)})},dateUpdated:function(b){if(!this.updating){this.updating=!0;var c=a(b.target).data("datepicker");if(void 0!==c){var d=c.getUTCDate(),e=a.inArray(b.target,this.inputs),f=e-1,g=e+1,h=this.inputs.length;if(-1!==e){if(a.each(this.pickers,function(a,b){b.getUTCDate()||b.setUTCDate(d)}),d<this.dates[f])for(;f>=0&&d<this.dates[f];)this.pickers[f--].setUTCDate(d);else if(d>this.dates[g])for(;g<h&&d>this.dates[g];)this.pickers[g++].setUTCDate(d);this.updateDates(),delete this.updating}}}},remove:function(){a.map(this.pickers,function(a){a.remove()}),delete this.element.data().datepicker}};var m=a.fn.datepicker,n=function(c){var d=Array.apply(null,arguments);d.shift();var e;if(this.each(function(){var b=a(this),f=b.data("datepicker"),g="object"==typeof c&&c;if(!f){var h=k(this,"date"),m=a.extend({},o,h,g),n=l(m.language),p=a.extend({},o,n,h,g);b.hasClass("input-daterange")||p.inputs?(a.extend(p,{inputs:p.inputs||b.find("input").toArray()}),f=new j(this,p)):f=new i(this,p),b.data("datepicker",f)}"string"==typeof c&&"function"==typeof f[c]&&(e=f[c].apply(f,d))}),e===b||e instanceof i||e instanceof j)return this;if(this.length>1)throw new Error("Using only allowed for the collection of a single element ("+c+" function)");return e};a.fn.datepicker=n;var o=a.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:a.noop,beforeShowMonth:a.noop,beforeShowYear:a.noop,beforeShowDecade:a.noop,beforeShowCentury:a.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"&laquo;",rightArrow:"&raquo;"}},p=a.fn.datepicker.locale_opts=["format","rtl","weekStart"];a.fn.datepicker.Constructor=i;var q=a.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}},r={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10},{clsName:"decades",navFnc:"FullDecade",navStep:100},{clsName:"centuries",navFnc:"FullCentury",navStep:1e3}],isLeapYear:function(a){return a%4==0&&a%100!=0||a%400==0},getDaysInMonth:function(a,b){return[31,r.isLeapYear(a)?29:28,31,30,31,30,31,31,30,31,30,31][b]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(a){if("function"==typeof a.toValue&&"function"==typeof a.toDisplay)return a;var b=a.replace(this.validParts,"\0").split("\0"),c=a.match(this.validParts);if(!b||!b.length||!c||0===c.length)throw new Error("Invalid date format.");return{separators:b,parts:c}},parseDate:function(e,f,g,h){function t(a,b){return!0===b&&(b=10),a<100&&(a+=2e3)>(new Date).getFullYear()+b&&(a-=100),a}function A(){var a=this.slice(0,k[p].length),b=k[p].slice(0,a.length);return a.toLowerCase()===b.toLowerCase()}if(!e)return b;if(e instanceof Date)return e;if("string"==typeof f&&(f=r.parseFormat(f)),f.toValue)return f.toValue(e,f,g);var n,o,p,s,j=/([\-+]\d+)([dmwy])/,k=e.match(/([\-+]\d+)([dmwy])/g),l={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},m={yesterday:"-1d",today:"+0d",tomorrow:"+1d"};if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(e)){for(e=new Date,p=0;p<k.length;p++)n=j.exec(k[p]),o=parseInt(n[1]),s=l[n[2]],e=i.prototype[s](e,o);return c(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())}if(void 0!==m[e]&&(e=m[e],k=e.match(/([\-+]\d+)([dmwy])/g),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(e))){for(e=new Date,p=0;p<k.length;p++)n=j.exec(k[p]),o=parseInt(n[1]),s=l[n[2]],e=i.prototype[s](e,o);return c(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())}k=e&&e.match(this.nonpunctuation)||[],e=new Date;var x,y,u={},v=["yyyy","yy","M","MM","m","mm","d","dd"],w={yyyy:function(a,b){return a.setUTCFullYear(h?t(b,h):b)},yy:function(a,b){return a.setUTCFullYear(h?t(b,h):b)},m:function(a,b){if(isNaN(a))return a;for(b-=1;b<0;)b+=12;for(b%=12,a.setUTCMonth(b);a.getUTCMonth()!==b;)a.setUTCDate(a.getUTCDate()-1);return a},d:function(a,b){return a.setUTCDate(b)}};w.M=w.MM=w.mm=w.m,w.dd=w.d,e=d();var z=f.parts.slice();if(k.length!==z.length&&(z=a(z).filter(function(b,c){return-1!==a.inArray(c,v)}).toArray()),k.length===z.length){var B;for(p=0,B=z.length;p<B;p++){if(x=parseInt(k[p],10),n=z[p],isNaN(x))switch(n){case"MM":y=a(q[g].months).filter(A),x=a.inArray(y[0],q[g].months)+1;break;case"M":y=a(q[g].monthsShort).filter(A),x=a.inArray(y[0],q[g].monthsShort)+1}u[n]=x}var C,D;for(p=0;p<v.length;p++)(D=v[p])in u&&!isNaN(u[D])&&(C=new Date(e),w[D](C,u[D]),isNaN(C)||(e=C))}return e},formatDate:function(b,c,d){if(!b)return"";if("string"==typeof c&&(c=r.parseFormat(c)),c.toDisplay)return c.toDisplay(b,c,d);var e={d:b.getUTCDate(),D:q[d].daysShort[b.getUTCDay()],DD:q[d].days[b.getUTCDay()],m:b.getUTCMonth()+1,M:q[d].monthsShort[b.getUTCMonth()],MM:q[d].months[b.getUTCMonth()],yy:b.getUTCFullYear().toString().substring(2),yyyy:b.getUTCFullYear()};e.dd=(e.d<10?"0":"")+e.d,e.mm=(e.m<10?"0":"")+e.m,b=[];for(var f=a.extend([],c.separators),g=0,h=c.parts.length;g<=h;g++)f.length&&b.push(f.shift()),b.push(e[c.parts[g]]);return b.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};r.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+r.headTemplate+"<tbody></tbody>"+r.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+r.headTemplate+r.contTemplate+r.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+r.headTemplate+r.contTemplate+r.footTemplate+'</table></div><div class="datepicker-decades"><table class="table-condensed">'+r.headTemplate+r.contTemplate+r.footTemplate+'</table></div><div class="datepicker-centuries"><table class="table-condensed">'+r.headTemplate+r.contTemplate+r.footTemplate+"</table></div></div>",a.fn.datepicker.DPGlobal=r,a.fn.datepicker.noConflict=function(){return a.fn.datepicker=m,this},a.fn.datepicker.version="1.6.4",a(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(b){var c=a(this);c.data("datepicker")||(b.preventDefault(),n.call(c,"show"))}),a(function(){n.call(a('[data-provide="datepicker-inline"]'))})}),function(a){"use strict";if(!a.fn.datepicker)throw new Error("bootstrap-datepicker.js required.");var b=a.fn.datepicker.Constructor.prototype.place;a.fn.datepicker.Constructor.prototype.place=function(){if(b.call(this),!this.o.rtl)return this;var c=a(this.o.container),d=parseInt(this.picker.css("right"),10);if(d+=c.outerWidth()-c.width(),!this.picker.hasClass("datepicker-orient-left")){var e=this.picker.outerWidth();d+=2*(this.component?this.component.outerWidth(!0):this.element.outerWidth(!1))-2*e}return this.picker.css({right:d}),this},a.fn.datepicker.defaults.rtl="rtl"===a("html").attr("dir")}(jQuery),function(a,b,c){"use strict";var d=function(b,c){this.widget="",this.$element=a(b),this.defaultTime=c.defaultTime,this.disableFocus=c.disableFocus,this.disableMousewheel=c.disableMousewheel,this.isOpen=c.isOpen,this.minuteStep=c.minuteStep,this.modalBackdrop=c.modalBackdrop,this.orientation=c.orientation,this.secondStep=c.secondStep,this.snapToStep=c.snapToStep,this.showInputs=c.showInputs,this.showMeridian=c.showMeridian,this.showSeconds=c.showSeconds,this.template=c.template,this.appendWidgetTo=c.appendWidgetTo,this.showWidgetOnAddonClick=c.showWidgetOnAddonClick,this.icons=c.icons,this.maxHours=c.maxHours,this.explicitMode=c.explicitMode,this.handleDocumentClick=function(a){var b=a.data.scope;b.$element.parent().find(a.target).length||b.$widget.is(a.target)||b.$widget.find(a.target).length||b.hideWidget()},this._init()};d.prototype={constructor:d,_init:function(){var b=this;this.showWidgetOnAddonClick&&this.$element.parent().hasClass("input-group")&&this.$element.parent().hasClass("bootstrap-timepicker")?(this.$element.parent(".input-group.bootstrap-timepicker").find(".input-group-addon").on({"click.timepicker":a.proxy(this.showWidget,this)}),this.$element.on({"focus.timepicker":a.proxy(this.highlightUnit,this),"click.timepicker":a.proxy(this.highlightUnit,this),"keydown.timepicker":a.proxy(this.elementKeydown,this),"blur.timepicker":a.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":a.proxy(this.mousewheel,this)})):this.template?this.$element.on({"focus.timepicker":a.proxy(this.showWidget,this),"click.timepicker":a.proxy(this.showWidget,this),"blur.timepicker":a.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":a.proxy(this.mousewheel,this)}):this.$element.on({"focus.timepicker":a.proxy(this.highlightUnit,this),"click.timepicker":a.proxy(this.highlightUnit,this),"keydown.timepicker":a.proxy(this.elementKeydown,this),"blur.timepicker":a.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":a.proxy(this.mousewheel,this)}),!1!==this.template?this.$widget=a(this.getTemplate()).on("click",a.proxy(this.widgetClick,this)):this.$widget=!1,this.showInputs&&!1!==this.$widget&&this.$widget.find("input").each(function(){a(this).on({"click.timepicker":function(){a(this).select()},"keydown.timepicker":a.proxy(b.widgetKeydown,b),"keyup.timepicker":a.proxy(b.widgetKeyup,b)})}),this.setDefaultTime(this.defaultTime)},blurElement:function(){this.highlightedUnit=null,this.updateFromElementVal()},clear:function(){this.hour="",this.minute="",this.second="",this.meridian="",this.$element.val("")},decrementHour:function(){if(this.showMeridian)if(1===this.hour)this.hour=12;else{if(12===this.hour)return this.hour--,this.toggleMeridian();if(0===this.hour)return this.hour=11,this.toggleMeridian();this.hour--}else this.hour<=0?this.hour=this.maxHours-1:this.hour--},decrementMinute:function(a){var b;b=a?this.minute-a:this.minute-this.minuteStep,b<0?(this.decrementHour(),this.minute=b+60):this.minute=b},decrementSecond:function(){var a=this.second-this.secondStep;a<0?(this.decrementMinute(!0),this.second=a+60):this.second=a},elementKeydown:function(a){switch(a.which){case 9:if(a.shiftKey){if("hour"===this.highlightedUnit){this.hideWidget();break}this.highlightPrevUnit()}else{if(this.showMeridian&&"meridian"===this.highlightedUnit||this.showSeconds&&"second"===this.highlightedUnit||!this.showMeridian&&!this.showSeconds&&"minute"===this.highlightedUnit){this.hideWidget();break}this.highlightNextUnit()}a.preventDefault(),this.updateFromElementVal();break;case 27:this.updateFromElementVal();break;case 37:a.preventDefault(),this.highlightPrevUnit(),this.updateFromElementVal();break;case 38:switch(a.preventDefault(),this.highlightedUnit){case"hour":this.incrementHour(),this.highlightHour();break;case"minute":this.incrementMinute(),this.highlightMinute();break;case"second":this.incrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian()}this.update();break;case 39:a.preventDefault(),this.highlightNextUnit(),this.updateFromElementVal();break;case 40:switch(a.preventDefault(),this.highlightedUnit){case"hour":this.decrementHour(),this.highlightHour();break;case"minute":this.decrementMinute(),this.highlightMinute();break;case"second":this.decrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian()}this.update()}},getCursorPosition:function(){var a=this.$element.get(0);if("selectionStart"in a)return a.selectionStart;if(c.selection){a.focus();var b=c.selection.createRange(),d=c.selection.createRange().text.length;return b.moveStart("character",-a.value.length),b.text.length-d}},getTemplate:function(){var a,b,c,d,e,f;switch(this.showInputs?(b='<input type="text" class="bootstrap-timepicker-hour" maxlength="2"/>',c='<input type="text" class="bootstrap-timepicker-minute" maxlength="2"/>',d='<input type="text" class="bootstrap-timepicker-second" maxlength="2"/>',e='<input type="text" class="bootstrap-timepicker-meridian" maxlength="2"/>'):(b='<span class="bootstrap-timepicker-hour"></span>',c='<span class="bootstrap-timepicker-minute"></span>',d='<span class="bootstrap-timepicker-second"></span>',e='<span class="bootstrap-timepicker-meridian"></span>'),f='<table><tr><td><a href="#" data-action="incrementHour"><span class="'+this.icons.up+'"></span></a></td><td class="separator">&nbsp;</td><td><a href="#" data-action="incrementMinute"><span class="'+this.icons.up+'"></span></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="incrementSecond"><span class="'+this.icons.up+'"></span></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td class="meridian-column"><a href="#" data-action="toggleMeridian"><span class="'+this.icons.up+'"></span></a></td>':"")+"</tr><tr><td>"+b+'</td> <td class="separator">:</td><td>'+c+"</td> "+(this.showSeconds?'<td class="separator">:</td><td>'+d+"</td>":"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td>'+e+"</td>":"")+'</tr><tr><td><a href="#" data-action="decrementHour"><span class="'+this.icons.down+'"></span></a></td><td class="separator"></td><td><a href="#" data-action="decrementMinute"><span class="'+this.icons.down+'"></span></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="decrementSecond"><span class="'+this.icons.down+'"></span></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td><a href="#" data-action="toggleMeridian"><span class="'+this.icons.down+'"></span></a></td>':"")+"</tr></table>",this.template){case"modal":a='<div class="bootstrap-timepicker-widget modal hide fade in" data-backdrop="'+(this.modalBackdrop?"true":"false")+'"><div class="modal-header"><a href="#" class="close" data-dismiss="modal">&times;</a><h3>Pick a Time</h3></div><div class="modal-content">'+f+'</div><div class="modal-footer"><a href="#" class="btn btn-primary" data-dismiss="modal">OK</a></div></div>';break;case"dropdown":a='<div class="bootstrap-timepicker-widget dropdown-menu">'+f+"</div>"}return a},getTime:function(){return""===this.hour?"":this.hour+":"+(1===this.minute.toString().length?"0"+this.minute:this.minute)+(this.showSeconds?":"+(1===this.second.toString().length?"0"+this.second:this.second):"")+(this.showMeridian?" "+this.meridian:"")},hideWidget:function(){!1!==this.isOpen&&(this.$element.trigger({type:"hide.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),"modal"===this.template&&this.$widget.modal?this.$widget.modal("hide"):this.$widget.removeClass("open"),a(c).off("mousedown.timepicker, touchend.timepicker",this.handleDocumentClick),this.isOpen=!1,this.$widget.detach())},highlightUnit:function(){this.position=this.getCursorPosition(),this.position>=0&&this.position<=2?this.highlightHour():this.position>=3&&this.position<=5?this.highlightMinute():this.position>=6&&this.position<=8?this.showSeconds?this.highlightSecond():this.highlightMeridian():this.position>=9&&this.position<=11&&this.highlightMeridian()},highlightNextUnit:function(){switch(this.highlightedUnit){case"hour":this.highlightMinute();break;case"minute":this.showSeconds?this.highlightSecond():this.showMeridian?this.highlightMeridian():this.highlightHour();break;case"second":this.showMeridian?this.highlightMeridian():this.highlightHour();break;case"meridian":this.highlightHour()}},highlightPrevUnit:function(){switch(this.highlightedUnit){case"hour":this.showMeridian?this.highlightMeridian():this.showSeconds?this.highlightSecond():this.highlightMinute();break;case"minute":this.highlightHour();break;case"second":this.highlightMinute();break;case"meridian":this.showSeconds?this.highlightSecond():this.highlightMinute()}},highlightHour:function(){var a=this.$element.get(0),b=this;this.highlightedUnit="hour",a.setSelectionRange&&setTimeout(function(){b.hour<10?a.setSelectionRange(0,1):a.setSelectionRange(0,2)},0)},highlightMinute:function(){var a=this.$element.get(0),b=this;this.highlightedUnit="minute",a.setSelectionRange&&setTimeout(function(){b.hour<10?a.setSelectionRange(2,4):a.setSelectionRange(3,5)},0)},highlightSecond:function(){var a=this.$element.get(0),b=this;this.highlightedUnit="second",a.setSelectionRange&&setTimeout(function(){b.hour<10?a.setSelectionRange(5,7):a.setSelectionRange(6,8)},0)},highlightMeridian:function(){var a=this.$element.get(0),b=this;this.highlightedUnit="meridian",a.setSelectionRange&&(this.showSeconds?setTimeout(function(){b.hour<10?a.setSelectionRange(8,10):a.setSelectionRange(9,11)},0):setTimeout(function(){b.hour<10?a.setSelectionRange(5,7):a.setSelectionRange(6,8)},0))},incrementHour:function(){if(this.showMeridian){if(11===this.hour)return this.hour++,this.toggleMeridian();12===this.hour&&(this.hour=0)}if(this.hour===this.maxHours-1)return void(this.hour=0);this.hour++},incrementMinute:function(a){var b;b=a?this.minute+a:this.minute+this.minuteStep-this.minute%this.minuteStep,b>59?(this.incrementHour(),this.minute=b-60):this.minute=b},incrementSecond:function(){var a=this.second+this.secondStep-this.second%this.secondStep;a>59?(this.incrementMinute(!0),this.second=a-60):this.second=a},mousewheel:function(b){if(!this.disableMousewheel){b.preventDefault(),b.stopPropagation();var c=b.originalEvent.wheelDelta||-b.originalEvent.detail,d=null;switch("mousewheel"===b.type?d=-1*b.originalEvent.wheelDelta:"DOMMouseScroll"===b.type&&(d=40*b.originalEvent.detail),d&&(b.preventDefault(),a(this).scrollTop(d+a(this).scrollTop())),this.highlightedUnit){case"minute":c>0?this.incrementMinute():this.decrementMinute(),this.highlightMinute();break;case"second":c>0?this.incrementSecond():this.decrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian();break;default:c>0?this.incrementHour():this.decrementHour(),this.highlightHour()}return!1}},changeToNearestStep:function(a,b){return a%b==0?a:Math.round(a%b/b)?(a+(b-a%b))%60:a-a%b},place:function(){if(!this.isInline){var c=this.$widget.outerWidth(),d=this.$widget.outerHeight(),e=10,f=a(b).width(),g=a(b).height(),h=a(b).scrollTop(),i=parseInt(this.$element.parents().filter(function(){return"auto"!==a(this).css("z-index")}).first().css("z-index"),10)+10,j=this.component?this.component.parent().offset():this.$element.offset(),k=this.component?this.component.outerHeight(!0):this.$element.outerHeight(!1),l=this.component?this.component.outerWidth(!0):this.$element.outerWidth(!1),m=j.left,n=j.top;this.$widget.removeClass("timepicker-orient-top timepicker-orient-bottom timepicker-orient-right timepicker-orient-left"),"auto"!==this.orientation.x?(this.$widget.addClass("timepicker-orient-"+this.orientation.x),"right"===this.orientation.x&&(m-=c-l)):(this.$widget.addClass("timepicker-orient-left"),j.left<0?m-=j.left-e:j.left+c>f&&(m=f-c-e));var p,q,o=this.orientation.y;"auto"===o&&(p=-h+j.top-d,q=h+g-(j.top+k+d),o=Math.max(p,q)===q?"top":"bottom"),this.$widget.addClass("timepicker-orient-"+o),"top"===o?n+=k:n-=d+parseInt(this.$widget.css("padding-top"),10),this.$widget.css({top:n,left:m,zIndex:i})}},remove:function(){a("document").off(".timepicker"),this.$widget&&this.$widget.remove(),delete this.$element.data().timepicker},setDefaultTime:function(a){if(this.$element.val())this.updateFromElementVal();else if("current"===a){var b=new Date,c=b.getHours(),d=b.getMinutes(),e=b.getSeconds(),f="AM";0!==e&&60===(e=Math.ceil(b.getSeconds()/this.secondStep)*this.secondStep)&&(d+=1,e=0),0!==d&&60===(d=Math.ceil(b.getMinutes()/this.minuteStep)*this.minuteStep)&&(c+=1,d=0),this.showMeridian&&(0===c?c=12:c>=12?(c>12&&(c-=12),f="PM"):f="AM"),this.hour=c,this.minute=d,this.second=e,this.meridian=f,this.update()}else!1===a?(this.hour=0,this.minute=0,this.second=0,this.meridian="AM"):this.setTime(a)},setTime:function(a,b){if(!a)return void this.clear();var c,d,e,f,g,h;if("object"==typeof a&&a.getMonth)e=a.getHours(),f=a.getMinutes(),g=a.getSeconds(),this.showMeridian&&(h="AM",e>12&&(h="PM",e%=12),12===e&&(h="PM"));else{if((c=(/a/i.test(a)?1:0)+(/p/i.test(a)?2:0))>2)return void this.clear();if(d=a.replace(/[^0-9\:]/g,"").split(":"),e=d[0]?d[0].toString():d.toString(),this.explicitMode&&e.length>2&&e.length%2!=0)return void this.clear();f=d[1]?d[1].toString():"",g=d[2]?d[2].toString():"",e.length>4&&(g=e.slice(-2),e=e.slice(0,-2)),e.length>2&&(f=e.slice(-2),e=e.slice(0,-2)),f.length>2&&(g=f.slice(-2),f=f.slice(0,-2)),e=parseInt(e,10),f=parseInt(f,10),g=parseInt(g,10),isNaN(e)&&(e=0),isNaN(f)&&(f=0),isNaN(g)&&(g=0),g>59&&(g=59),f>59&&(f=59),e>=this.maxHours&&(e=this.maxHours-1),this.showMeridian?(e>12&&(c=2,e-=12),c||(c=1),0===e&&(e=12),h=1===c?"AM":"PM"):e<12&&2===c?e+=12:e>=this.maxHours?e=this.maxHours-1:(e<0||12===e&&1===c)&&(e=0)}this.hour=e,this.snapToStep?(this.minute=this.changeToNearestStep(f,this.minuteStep),this.second=this.changeToNearestStep(g,this.secondStep)):(this.minute=f,this.second=g),this.meridian=h,this.update(b)},showWidget:function(){this.isOpen||this.$element.is(":disabled")||(this.$widget.appendTo(this.appendWidgetTo),a(c).on("mousedown.timepicker, touchend.timepicker",{scope:this},this.handleDocumentClick),this.$element.trigger({type:"show.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),this.place(),this.disableFocus&&this.$element.blur(),""===this.hour&&(this.defaultTime?this.setDefaultTime(this.defaultTime):this.setTime("0:0:0")),"modal"===this.template&&this.$widget.modal?this.$widget.modal("show").on("hidden",a.proxy(this.hideWidget,this)):!1===this.isOpen&&this.$widget.addClass("open"),this.isOpen=!0)},toggleMeridian:function(){this.meridian="AM"===this.meridian?"PM":"AM"},update:function(a){this.updateElement(),a||this.updateWidget(),this.$element.trigger({type:"changeTime.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}})},updateElement:function(){this.$element.val(this.getTime()).change()},updateFromElementVal:function(){this.setTime(this.$element.val())},updateWidget:function(){if(!1!==this.$widget){var a=this.hour,b=1===this.minute.toString().length?"0"+this.minute:this.minute,c=1===this.second.toString().length?"0"+this.second:this.second;this.showInputs?(this.$widget.find("input.bootstrap-timepicker-hour").val(a),this.$widget.find("input.bootstrap-timepicker-minute").val(b),this.showSeconds&&this.$widget.find("input.bootstrap-timepicker-second").val(c),this.showMeridian&&this.$widget.find("input.bootstrap-timepicker-meridian").val(this.meridian)):(this.$widget.find("span.bootstrap-timepicker-hour").text(a),this.$widget.find("span.bootstrap-timepicker-minute").text(b),this.showSeconds&&this.$widget.find("span.bootstrap-timepicker-second").text(c),this.showMeridian&&this.$widget.find("span.bootstrap-timepicker-meridian").text(this.meridian))}},updateFromWidgetInputs:function(){if(!1!==this.$widget){var a=this.$widget.find("input.bootstrap-timepicker-hour").val()+":"+this.$widget.find("input.bootstrap-timepicker-minute").val()+(this.showSeconds?":"+this.$widget.find("input.bootstrap-timepicker-second").val():"")+(this.showMeridian?this.$widget.find("input.bootstrap-timepicker-meridian").val():"");this.setTime(a,!0)}},widgetClick:function(b){b.stopPropagation(),b.preventDefault();var c=a(b.target),d=c.closest("a").data("action");d&&this[d](),this.update(),c.is("input")&&c.get(0).setSelectionRange(0,2)},widgetKeydown:function(b){var c=a(b.target),d=c.attr("class").replace("bootstrap-timepicker-","");switch(b.which){case 9:if(b.shiftKey){if("hour"===d)return this.hideWidget()}else if(this.showMeridian&&"meridian"===d||this.showSeconds&&"second"===d||!this.showMeridian&&!this.showSeconds&&"minute"===d)return this.hideWidget();break;case 27:this.hideWidget();break;case 38:switch(b.preventDefault(),d){case"hour":this.incrementHour();break;case"minute":this.incrementMinute();break;case"second":this.incrementSecond();break;case"meridian":this.toggleMeridian()}this.setTime(this.getTime()),c.get(0).setSelectionRange(0,2);break;case 40:switch(b.preventDefault(),d){case"hour":this.decrementHour();break;case"minute":this.decrementMinute();break;case"second":this.decrementSecond();break;case"meridian":this.toggleMeridian()}this.setTime(this.getTime()),c.get(0).setSelectionRange(0,2)}},widgetKeyup:function(a){(65===a.which||77===a.which||80===a.which||46===a.which||8===a.which||a.which>=48&&a.which<=57||a.which>=96&&a.which<=105)&&this.updateFromWidgetInputs()}},a.fn.timepicker=function(b){var c=Array.apply(null,arguments);return c.shift(),this.each(function(){var e=a(this),f=e.data("timepicker"),g="object"==typeof b&&b;f||e.data("timepicker",f=new d(this,a.extend({},a.fn.timepicker.defaults,g,a(this).data()))),"string"==typeof b&&f[b].apply(f,c)})},a.fn.timepicker.defaults={defaultTime:"current",disableFocus:!1,disableMousewheel:!1,isOpen:!1,minuteStep:15,modalBackdrop:!1,orientation:{x:"auto",y:"auto"},secondStep:15,snapToStep:!1,showSeconds:!1,showInputs:!0,showMeridian:!0,template:"dropdown",appendWidgetTo:"body",showWidgetOnAddonClick:!0,icons:{up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down"},maxHours:24,explicitMode:!1},a.fn.timepicker.Constructor=d,a(c).on("focus.timepicker.data-api click.timepicker.data-api",'[data-provide="timepicker"]',function(b){var c=a(this);c.data("timepicker")||(b.preventDefault(),c.timepicker())})}(jQuery,window,document),function(a){"use strict";if(!a.fn.timepicker)throw new Error("bootstrap-timepicker.js required.");var b=a.fn.timepicker.Constructor.prototype._init,c=a.fn.timepicker.Constructor.prototype.place;a.fn.timepicker.Constructor.prototype._init=function(){this.$element.on({"focus.timepicker":a.proxy(this.highlightUnit,this),"click.timepicker":a.proxy(this.highlightUnit,this),"keydown.timepicker":a.proxy(this.elementKeydown,this),"blur.timepicker":a.proxy(this.blurElement,this)}),this.$element.parent(".input-group").find(".input-group-addon").addClass("bootstrap-timepicker-trigger").on("click.timepicker",a.proxy(this.showWidget,this)),b.call(this)},a.fn.timepicker.Constructor.prototype.place=function(){"dropdown"===this.template&&c.call(this)},a.fn.timepicker.Constructor.prototype.getTemplate=function(){var a=void 0,b=void 0,c=void 0,d=void 0;this.showInputs?(a='<input type="text" name="hour" class="bootstrap-timepicker-hour form-control timepicker-input" maxlength="2"/>',b='<input type="text" name="minute" class="bootstrap-timepicker-minute form-control timepicker-input" maxlength="2"/>',c='<input type="text" name="second" class="bootstrap-timepicker-second form-control timepicker-input" maxlength="2"/>',d='<input type="text" name="meridian" class="bootstrap-timepicker-meridian form-control timepicker-input" maxlength="2"/>'):(a='<span class="bootstrap-timepicker-hour timepicker-value"></span>',b='<span class="bootstrap-timepicker-minute timepicker-value"></span>',c='<span class="bootstrap-timepicker-second timepicker-value"></span>',d='<span class="bootstrap-timepicker-meridian timepicker-value"></span>');var e='\n<table class="table">\n<tr>\n  <td><a href="#" data-action="incrementHour" class="timepicker-increment">+</a></td>\n  <td class="separator">&nbsp;</td>\n  <td><a href="#" data-action="incrementMinute" class="timepicker-increment">+</a></td>\n  '+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="incrementSecond" class="timepicker-increment">+</a></td>':"")+"\n  "+(this.showMeridian?'<td class="separator">&nbsp;</td><td class="meridian-column"><a href="#" data-action="toggleMeridian" class="timepicker-increment">+</a></td>':"")+"\n</tr>\n<tr>\n  <td>"+a+'</td>\n  <td class="separator">:</td>\n  <td>'+b+"</td>\n  "+(this.showSeconds?'<td class="separator">:</td><td>'+c+"</td>":"")+"\n  "+(this.showMeridian?'<td class="separator">&nbsp;</td><td>'+d+"</td>":"")+'\n</tr>\n<tr>\n  <td><a href="#" data-action="decrementHour" class="timepicker-decrement">-</a></td>\n  <td class="separator"></td>\n  <td><a href="#" data-action="decrementMinute" class="timepicker-decrement">-</a></td>\n  '+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="decrementSecond" class="timepicker-decrement">-</a></td>':"")+"\n  "+(this.showMeridian?'<td class="separator">&nbsp;</td><td><a href="#" data-action="toggleMeridian" class="timepicker-decrement">-</a></td>':"")+"\n</tr>\n</table>";return"modal"!==this.template?'<div class="bootstrap-timepicker-widget dropdown-menu">'+e+"</div>":'\n<div class="bootstrap-timepicker-widget modal fade" tabindex="-1" role="dialog">\n<div class="modal-dialog modal-sm" role="document">\n  <div class="modal-content">\n    <div class="modal-header">\n      <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n        <span aria-hidden="true">&times;</span>\n      </button>\n      <h4 class="modal-title">Pick a Time</h4>\n    </div>\n    <div class="modal-body">\n      '+e+'\n    </div>\n    <div class="modal-footer">\n      <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>\n    </div>\n  </div>\n</div>\n</div>'}}(jQuery),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){"use strict";function b(b,c){var f,g,h,j,k,d=a('<div class="minicolors" />'),e=a.minicolors.defaults;if(!b.data("minicolors-initialized")){if(c=a.extend(!0,{},e,c),d.addClass("minicolors-theme-"+c.theme).toggleClass("minicolors-with-opacity",c.opacity).toggleClass("minicolors-no-data-uris",!0!==c.dataUris),void 0!==c.position&&a.each(c.position.split(" "),function(){d.addClass("minicolors-position-"+this)}),f="rgb"===c.format?c.opacity?"25":"20":c.keywords?"11":"7",b.addClass("minicolors-input").data("minicolors-initialized",!1).data("minicolors-settings",c).prop("size",f).wrap(d).after('<div class="minicolors-panel minicolors-slider-'+c.control+'"><div class="minicolors-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-opacity-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-grid minicolors-sprite"><div class="minicolors-grid-inner"></div><div class="minicolors-picker"><div></div></div></div></div>'),c.inline||(b.after('<span class="minicolors-swatch minicolors-sprite minicolors-input-swatch"><span class="minicolors-swatch-color"></span></span>'),b.next(".minicolors-input-swatch").on("click",function(a){a.preventDefault(),b.focus()})),j=b.parent().find(".minicolors-panel"),j.on("selectstart",function(){return!1}).end(),c.swatches&&0!==c.swatches.length)for(c.swatches.length>7&&(c.swatches.length=7),j.addClass("minicolors-with-swatches"),g=a('<ul class="minicolors-swatches"></ul>').appendTo(j),k=0;k<c.swatches.length;++k)h=c.swatches[k],h=r(h)?o(h,!0):z(n(h,!0)),a('<li class="minicolors-swatch minicolors-sprite"><span class="minicolors-swatch-color"></span></li>').appendTo(g).data("swatch-color",c.swatches[k]).find(".minicolors-swatch-color").css({backgroundColor:v(h),opacity:h.a}),c.swatches[k]=h;c.inline&&b.parent().addClass("minicolors-inline"),i(b,!1),b.data("minicolors-initialized",!0)}}function c(a){var b=a.parent();a.removeData("minicolors-initialized").removeData("minicolors-settings").removeProp("size").removeClass("minicolors-input"),b.before(a).remove()}function d(a){var b=a.parent(),c=b.find(".minicolors-panel"),d=a.data("minicolors-settings");!a.data("minicolors-initialized")||a.prop("disabled")||b.hasClass("minicolors-inline")||b.hasClass("minicolors-focus")||(e(),b.addClass("minicolors-focus"),c.stop(!0,!0).fadeIn(d.showSpeed,function(){d.show&&d.show.call(a.get(0))}))}function e(){a(".minicolors-focus").each(function(){var b=a(this),c=b.find(".minicolors-input"),d=b.find(".minicolors-panel"),e=c.data("minicolors-settings");d.fadeOut(e.hideSpeed,function(){e.hide&&e.hide.call(c.get(0)),b.removeClass("minicolors-focus")})})}function f(a,b,c){var m,n,o,p,d=a.parents(".minicolors").find(".minicolors-input"),e=d.data("minicolors-settings"),f=a.find("[class$=-picker]"),h=a.offset().left,i=a.offset().top,j=Math.round(b.pageX-h),k=Math.round(b.pageY-i),l=c?e.animationSpeed:0;b.originalEvent.changedTouches&&(j=b.originalEvent.changedTouches[0].pageX-h,k=b.originalEvent.changedTouches[0].pageY-i),j<0&&(j=0),k<0&&(k=0),j>a.width()&&(j=a.width()),k>a.height()&&(k=a.height()),a.parent().is(".minicolors-slider-wheel")&&f.parent().is(".minicolors-grid")&&(m=75-j,n=75-k,o=Math.sqrt(m*m+n*n),p=Math.atan2(n,m),p<0&&(p+=2*Math.PI),o>75&&(o=75,j=75-75*Math.cos(p),k=75-75*Math.sin(p)),j=Math.round(j),k=Math.round(k)),a.is(".minicolors-grid")?f.stop(!0).animate({top:k+"px",left:j+"px"},l,e.animationEasing,function(){g(d,a)}):f.stop(!0).animate({top:k+"px"},l,e.animationEasing,function(){g(d,a)})}function g(a,b){function c(a,b){var c,d;return a.length&&b?(c=a.offset().left,d=a.offset().top,{x:c-b.offset().left+a.outerWidth()/2,y:d-b.offset().top+a.outerHeight()/2}):null}var d,e,f,g,i,k,l,m=a.val(),n=a.attr("data-opacity"),o=a.parent(),p=a.data("minicolors-settings"),r=o.find(".minicolors-input-swatch"),s=o.find(".minicolors-grid"),t=o.find(".minicolors-slider"),u=o.find(".minicolors-opacity-slider"),v=s.find("[class$=-picker]"),x=t.find("[class$=-picker]"),y=u.find("[class$=-picker]"),z=c(v,s),A=c(x,t),B=c(y,u);if(b.is(".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider")){switch(p.control){case"wheel":g=s.width()/2-z.x,i=s.height()/2-z.y,k=Math.sqrt(g*g+i*i),l=Math.atan2(i,g),l<0&&(l+=2*Math.PI),k>75&&(k=75,z.x=69-75*Math.cos(l),z.y=69-75*Math.sin(l)),e=q(k/.75,0,100),d=q(180*l/Math.PI,0,360),f=q(100-Math.floor(A.y*(100/t.height())),0,100),m=w({h:d,s:e,b:f}),t.css("backgroundColor",w({h:d,s:e,b:100}));break;case"saturation":d=q(parseInt(z.x*(360/s.width()),10),0,360),e=q(100-Math.floor(A.y*(100/t.height())),0,100),f=q(100-Math.floor(z.y*(100/s.height())),0,100),m=w({h:d,s:e,b:f}),t.css("backgroundColor",w({h:d,s:100,b:f})),o.find(".minicolors-grid-inner").css("opacity",e/100);break;case"brightness":d=q(parseInt(z.x*(360/s.width()),10),0,360),e=q(100-Math.floor(z.y*(100/s.height())),0,100),f=q(100-Math.floor(A.y*(100/t.height())),0,100),m=w({h:d,s:e,b:f}),t.css("backgroundColor",w({h:d,s:e,b:100})),o.find(".minicolors-grid-inner").css("opacity",1-f/100);break;default:d=q(360-parseInt(A.y*(360/t.height()),10),0,360),e=q(Math.floor(z.x*(100/s.width())),0,100),f=q(100-Math.floor(z.y*(100/s.height())),0,100),m=w({h:d,s:e,b:f}),s.css("backgroundColor",w({h:d,s:100,b:100}))}n=p.opacity?parseFloat(1-B.y/u.height()).toFixed(2):1,h(a,m,n)}else r.find("span").css({backgroundColor:m,opacity:n}),j(a,m,n)}function h(a,b,c){var d,e=a.parent(),f=a.data("minicolors-settings"),g=e.find(".minicolors-input-swatch");f.opacity&&a.attr("data-opacity",c),"rgb"===f.format?(d=r(b)?o(b,!0):z(n(b,!0)),c=""===a.attr("data-opacity")?1:q(parseFloat(a.attr("data-opacity")).toFixed(2),0,1),!isNaN(c)&&f.opacity||(c=1),b=a.minicolors("rgbObject").a<=1&&d&&f.opacity?"rgba("+d.r+", "+d.g+", "+d.b+", "+parseFloat(c)+")":"rgb("+d.r+", "+d.g+", "+d.b+")"):(r(b)&&(b=u(b)),b=m(b,f.letterCase)),a.val(b),g.find("span").css({backgroundColor:b,opacity:c}),j(a,b,c)}function i(b,c){var d,e,f,g,h,i,k,l,t,v,y=b.parent(),z=b.data("minicolors-settings"),A=y.find(".minicolors-input-swatch"),B=y.find(".minicolors-grid"),C=y.find(".minicolors-slider"),D=y.find(".minicolors-opacity-slider"),E=B.find("[class$=-picker]"),F=C.find("[class$=-picker]"),G=D.find("[class$=-picker]");switch(r(b.val())?(d=u(b.val()),(h=q(parseFloat(s(b.val())).toFixed(2),0,1))&&b.attr("data-opacity",h)):d=m(n(b.val(),!0),z.letterCase),d||(d=m(p(z.defaultValue,!0),z.letterCase)),e=x(d),g=z.keywords?a.map(z.keywords.split(","),function(b){return a.trim(b.toLowerCase())}):[],i=""!==b.val()&&a.inArray(b.val().toLowerCase(),g)>-1?m(b.val()):r(b.val())?o(b.val()):d,c||b.val(i),z.opacity&&(f=""===b.attr("data-opacity")?1:q(parseFloat(b.attr("data-opacity")).toFixed(2),0,1),isNaN(f)&&(f=1),b.attr("data-opacity",f),A.find("span").css("opacity",f),l=q(D.height()-D.height()*f,0,D.height()),G.css("top",l+"px")),"transparent"===b.val().toLowerCase()&&A.find("span").css("opacity",0),A.find("span").css("backgroundColor",d),z.control){case"wheel":t=q(Math.ceil(.75*e.s),0,B.height()/2),v=e.h*Math.PI/180,k=q(75-Math.cos(v)*t,0,B.width()),l=q(75-Math.sin(v)*t,0,B.height()),E.css({top:l+"px",left:k+"px"}),l=150-e.b/(100/B.height()),""===d&&(l=0),F.css("top",l+"px"),C.css("backgroundColor",w({h:e.h,s:e.s,b:100}));break;case"saturation":k=q(5*e.h/12,0,150),l=q(B.height()-Math.ceil(e.b/(100/B.height())),0,B.height()),E.css({top:l+"px",left:k+"px"}),l=q(C.height()-e.s*(C.height()/100),0,C.height()),F.css("top",l+"px"),C.css("backgroundColor",w({h:e.h,s:100,b:e.b})),y.find(".minicolors-grid-inner").css("opacity",e.s/100);break;case"brightness":k=q(5*e.h/12,0,150),l=q(B.height()-Math.ceil(e.s/(100/B.height())),0,B.height()),E.css({top:l+"px",left:k+"px"}),l=q(C.height()-e.b*(C.height()/100),0,C.height()),F.css("top",l+"px"),C.css("backgroundColor",w({h:e.h,s:e.s,b:100})),y.find(".minicolors-grid-inner").css("opacity",1-e.b/100);break;default:k=q(Math.ceil(e.s/(100/B.width())),0,B.width()),l=q(B.height()-Math.ceil(e.b/(100/B.height())),0,B.height()),E.css({top:l+"px",left:k+"px"}),l=q(C.height()-e.h/(360/C.height()),0,C.height()),F.css("top",l+"px"),B.css("backgroundColor",w({h:e.h,s:100,b:100}))}b.data("minicolors-initialized")&&j(b,i,f)}function j(a,b,c){var f,h,d=a.data("minicolors-settings"),e=a.data("minicolors-lastChange");if(!e||e.value!==b||e.opacity!==c){if(a.data("minicolors-lastChange",{value:b,opacity:c}),d.swatches&&0!==d.swatches.length){for(f=r(b)?o(b,!0):z(b),-1,h=0;h<d.swatches.length;++h)if(f.r===d.swatches[h].r&&f.g===d.swatches[h].g&&f.b===d.swatches[h].b&&f.a===d.swatches[h].a){h;break}a.parent().find(".minicolors-swatches .minicolors-swatch").removeClass("selected"),-1!==h&&a.parent().find(".minicolors-swatches .minicolors-swatch").eq(h).addClass("selected")}d.change&&(d.changeDelay?(clearTimeout(a.data("minicolors-changeTimeout")),a.data("minicolors-changeTimeout",setTimeout(function(){d.change.call(a.get(0),b,c)},d.changeDelay))):d.change.call(a.get(0),b,c)),a.trigger("change").trigger("input")}}function k(b){var c=n(a(b).val(),!0),d=z(c),e=a(b).attr("data-opacity");return d?(void 0!==e&&a.extend(d,{a:parseFloat(e)}),d):null}function l(b,c){var d=n(a(b).val(),!0),e=z(d),f=a(b).attr("data-opacity");return e?(void 0===f&&(f=1),c?"rgba("+e.r+", "+e.g+", "+e.b+", "+parseFloat(f)+")":"rgb("+e.r+", "+e.g+", "+e.b+")"):null}function m(a,b){return"uppercase"===b?a.toUpperCase():a.toLowerCase()}function n(a,b){return a=a.replace(/^#/g,""),a.match(/^[A-F0-9]{3,6}/gi)?3!==a.length&&6!==a.length?"":(3===a.length&&b&&(a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]),"#"+a):""}function o(a,b){var c=a.replace(/[^\d,.]/g,""),d=c.split(",");return d[0]=q(parseInt(d[0],10),0,255),d[1]=q(parseInt(d[1],10),0,255),d[2]=q(parseInt(d[2],10),0,255),d[3]&&(d[3]=q(parseFloat(d[3],10),0,1)),b?{r:d[0],g:d[1],b:d[2],a:d[3]?d[3]:null}:void 0!==d[3]&&d[3]<=1?"rgba("+d[0]+", "+d[1]+", "+d[2]+", "+d[3]+")":"rgb("+d[0]+", "+d[1]+", "+d[2]+")"}function p(a,b){return r(a)?o(a):n(a,b)}function q(a,b,c){return a<b&&(a=b),a>c&&(a=c),a}function r(a){var b=a.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);return!(!b||4!==b.length)}function s(a){return a=a.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+(\.\d{1,2})?|\.\d{1,2})[\s+]?/i),a&&6===a.length?a[4]:"1"}function t(a){var b={},c=Math.round(a.h),d=Math.round(255*a.s/100),e=Math.round(255*a.b/100);if(0===d)b.r=b.g=b.b=e;else{var f=e,g=(255-d)*e/255,h=c%60*(f-g)/60;360===c&&(c=0),c<60?(b.r=f,b.b=g,b.g=g+h):c<120?(b.g=f,b.b=g,b.r=f-h):c<180?(b.g=f,b.r=g,b.b=g+h):c<240?(b.b=f,b.r=g,b.g=f-h):c<300?(b.b=f,b.g=g,b.r=g+h):c<360?(b.r=f,b.g=g,b.b=f-h):(b.r=0,b.g=0,b.b=0)}return{r:Math.round(b.r),g:Math.round(b.g),b:Math.round(b.b)}}function u(a){return a=a.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i),a&&4===a.length?"#"+("0"+parseInt(a[1],10).toString(16)).slice(-2)+("0"+parseInt(a[2],10).toString(16)).slice(-2)+("0"+parseInt(a[3],10).toString(16)).slice(-2):""}function v(b){var c=[b.r.toString(16),b.g.toString(16),b.b.toString(16)];return a.each(c,function(a,b){1===b.length&&(c[a]="0"+b)}),"#"+c.join("")}function w(a){return v(t(a))}function x(a){var b=y(z(a));return 0===b.s&&(b.h=360),b}function y(a){var b={h:0,s:0,b:0},c=Math.min(a.r,a.g,a.b),d=Math.max(a.r,a.g,a.b),e=d-c;return b.b=d,b.s=0!==d?255*e/d:0,0!==b.s?a.r===d?b.h=(a.g-a.b)/e:a.g===d?b.h=2+(a.b-a.r)/e:b.h=4+(a.r-a.g)/e:b.h=-1,b.h*=60,b.h<0&&(b.h+=360),b.s*=100/255,b.b*=100/255,b}function z(a){return a=parseInt(a.indexOf("#")>-1?a.substring(1):a,16),{r:a>>16,g:(65280&a)>>8,b:255&a}}a.minicolors={defaults:{animationSpeed:50,animationEasing:"swing",change:null,changeDelay:0,control:"hue",dataUris:!0,defaultValue:"",format:"hex",hide:null,hideSpeed:100,inline:!1,keywords:"",letterCase:"lowercase",opacity:!1,position:"bottom left",show:null,showSpeed:100,theme:"default",swatches:[]}},a.extend(a.fn,{minicolors:function(f,g){switch(f){case"destroy":return a(this).each(function(){c(a(this))}),a(this);case"hide":return e(),a(this);case"opacity":return void 0===g?a(this).attr("data-opacity"):(a(this).each(function(){i(a(this).attr("data-opacity",g))}),a(this));case"rgbObject":return k(a(this),"rgbaObject"===f);case"rgbString":case"rgbaString":return l(a(this),"rgbaString"===f);case"settings":return void 0===g?a(this).data("minicolors-settings"):(a(this).each(function(){var b=a(this).data("minicolors-settings")||{};c(a(this)),a(this).minicolors(a.extend(!0,b,g))}),a(this));case"show":return d(a(this).eq(0)),a(this);case"value":return void 0===g?a(this).val():(a(this).each(function(){"object"==typeof g?(g.opacity&&a(this).attr("data-opacity",q(g.opacity,0,1)),g.color&&a(this).val(g.color)):a(this).val(g),i(a(this))}),a(this));default:return"create"!==f&&(g=f),a(this).each(function(){b(a(this),g)}),a(this)}}}),a(document).on("mousedown.minicolors touchstart.minicolors",function(b){a(b.target).parents().add(b.target).hasClass("minicolors")||e()}).on("mousedown.minicolors touchstart.minicolors",".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider",function(b){var c=a(this);b.preventDefault(),a(document).data("minicolors-target",c),f(c,b,!0)}).on("mousemove.minicolors touchmove.minicolors",function(b){var c=a(document).data("minicolors-target");c&&f(c,b)}).on("mouseup.minicolors touchend.minicolors",function(){a(this).removeData("minicolors-target")}).on("click.minicolors",".minicolors-swatches li",function(b){b.preventDefault();var c=a(this),d=c.parents(".minicolors").find(".minicolors-input"),e=c.data("swatch-color");h(d,e,s(e)),i(d)}).on("mousedown.minicolors touchstart.minicolors",".minicolors-input-swatch",function(b){var c=a(this).parent().find(".minicolors-input");b.preventDefault(),d(c)}).on("focus.minicolors",".minicolors-input",function(){var b=a(this);b.data("minicolors-initialized")&&d(b)}).on("blur.minicolors",".minicolors-input",function(){var d,e,f,g,h,b=a(this),c=b.data("minicolors-settings");b.data("minicolors-initialized")&&(d=c.keywords?a.map(c.keywords.split(","),function(b){return a.trim(b.toLowerCase())}):[],""!==b.val()&&a.inArray(b.val().toLowerCase(),d)>-1?h=b.val():(r(b.val())?f=o(b.val(),!0):(e=n(b.val(),!0),f=e?z(e):null),h=null===f?c.defaultValue:"rgb"===c.format?o(c.opacity?"rgba("+f.r+","+f.g+","+f.b+","+b.attr("data-opacity")+")":"rgb("+f.r+","+f.g+","+f.b+")"):v(f)),g=c.opacity?b.attr("data-opacity"):1,"transparent"===h.toLowerCase()&&(g=0),b.closest(".minicolors").find(".minicolors-input-swatch > span").css("opacity",g),b.val(h),""===b.val()&&b.val(p(c.defaultValue,!0)),b.val(m(b.val(),c.letterCase)))}).on("keydown.minicolors",".minicolors-input",function(b){var c=a(this);if(c.data("minicolors-initialized"))switch(b.keyCode){case 9:e();break;case 13:case 27:e(),c.blur()}}).on("keyup.minicolors",".minicolors-input",function(){var b=a(this);b.data("minicolors-initialized")&&i(b,!0)}).on("paste.minicolors",".minicolors-input",function(){var b=a(this);b.data("minicolors-initialized")&&setTimeout(function(){i(b,!0)},1)})}),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)}(function(a){var b,c=navigator.userAgent,d=/iphone/i.test(c),e=/chrome/i.test(c),f=/android/i.test(c);a.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"},a.fn.extend({caret:function(a,b){var c;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof a?(b="number"==typeof b?b:a,this.each(function(){this.setSelectionRange?this.setSelectionRange(a,b):this.createTextRange&&(c=this.createTextRange(),c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",a),c.select())})):(this[0].setSelectionRange?(a=this[0].selectionStart,b=this[0].selectionEnd):document.selection&&document.selection.createRange&&(c=document.selection.createRange(),a=0-c.duplicate().moveStart("character",-1e5),b=a+c.text.length),{begin:a,end:b})},unmask:function(){return this.trigger("unmask")},mask:function(c,g){var h,i,j,k,l,m,n,o;if(!c&&this.length>0){h=a(this[0]);var p=h.data(a.mask.dataName);return p?p():void 0}return g=a.extend({autoclear:a.mask.autoclear,placeholder:a.mask.placeholder,completed:null},g),i=a.mask.definitions,j=[],k=n=c.length,l=null,a.each(c.split(""),function(a,b){"?"==b?(n--,k=a):i[b]?(j.push(new RegExp(i[b])),null===l&&(l=j.length-1),k>a&&(m=j.length-1)):j.push(null)}),this.trigger("unmask").each(function(){function h(){if(g.completed){for(var a=l;m>=a;a++)if(j[a]&&C[a]===p(a))return;g.completed.call(B)}}function p(a){return g.placeholder.charAt(a<g.placeholder.length?a:0)}function q(a){for(;++a<n&&!j[a];);return a}function r(a){for(;--a>=0&&!j[a];);return a}function s(a,b){var c,d;if(!(0>a)){for(c=a,d=q(b);n>c;c++)if(j[c]){if(!(n>d&&j[c].test(C[d])))break;C[c]=C[d],C[d]=p(d),d=q(d)}z(),B.caret(Math.max(l,a))}}function t(a){var b,c,d,e;for(b=a,c=p(a);n>b;b++)if(j[b]){if(d=q(b),e=C[b],C[b]=c,!(n>d&&j[d].test(e)))break;c=e}}function u(){var a=B.val(),b=B.caret();if(o&&o.length&&o.length>a.length){for(A(!0);b.begin>0&&!j[b.begin-1];)b.begin--;if(0===b.begin)for(;b.begin<l&&!j[b.begin];)b.begin++;B.caret(b.begin,b.begin)}else{for(A(!0);b.begin<n&&!j[b.begin];)b.begin++;B.caret(b.begin,b.begin)}h()}function v(){A(),B.val()!=E&&B.change()}function w(a){if(!B.prop("readonly")){var b,c,e,f=a.which||a.keyCode;o=B.val(),8===f||46===f||d&&127===f?(b=B.caret(),c=b.begin,e=b.end,e-c==0&&(c=46!==f?r(c):e=q(c-1),e=46===f?q(e):e),y(c,e),s(c,e-1),a.preventDefault()):13===f?v.call(this,a):27===f&&(B.val(E),B.caret(0,A()),a.preventDefault())}}function x(b){if(!B.prop("readonly")){var c,d,e,g=b.which||b.keyCode,i=B.caret();if(!(b.ctrlKey||b.altKey||b.metaKey||32>g)&&g&&13!==g){if(i.end-i.begin!=0&&(y(i.begin,i.end),s(i.begin,i.end-1)),c=q(i.begin-1),n>c&&(d=String.fromCharCode(g),j[c].test(d))){if(t(c),C[c]=d,z(),e=q(c),f){var k=function(){a.proxy(a.fn.caret,B,e)()};setTimeout(k,0)}else B.caret(e);i.begin<=m&&h()}b.preventDefault()}}}function y(a,b){var c;for(c=a;b>c&&n>c;c++)j[c]&&(C[c]=p(c))}function z(){B.val(C.join(""))}function A(a){var b,c,d,e=B.val(),f=-1;for(b=0,d=0;n>b;b++)if(j[b]){for(C[b]=p(b);d++<e.length;)if(c=e.charAt(d-1),j[b].test(c)){C[b]=c,f=b;break}if(d>e.length){y(b+1,n);break}}else C[b]===e.charAt(d)&&d++,k>b&&(f=b);return a?z():k>f+1?g.autoclear||C.join("")===D?(B.val()&&B.val(""),y(0,n)):z():(z(),B.val(B.val().substring(0,f+1))),k?b:l}var B=a(this),C=a.map(c.split(""),function(a,b){return"?"!=a?i[a]?p(b):a:void 0}),D=C.join(""),E=B.val();B.data(a.mask.dataName,function(){return a.map(C,function(a,b){return j[b]&&a!=p(b)?a:null}).join("")}),B.one("unmask",function(){B.off(".mask").removeData(a.mask.dataName)}).on("focus.mask",function(){if(!B.prop("readonly")){clearTimeout(b);var a;E=B.val(),a=A(),b=setTimeout(function(){B.get(0)===document.activeElement&&(z(),a==c.replace("?","").length?B.caret(0,a):B.caret(a))},10)}}).on("blur.mask",v).on("keydown.mask",w).on("keypress.mask",x).on("input.mask paste.mask",function(){B.prop("readonly")||setTimeout(function(){var a=A(!0);B.caret(a),h()},0)}),e&&f&&B.off("input.mask").on("input.mask",u),A()})}})}),function(a){var d,b={className:"autosizejs",id:"autosizejs",append:"\n",callback:!1,resizeDelay:10,placeholder:!0},c=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent","whiteSpace"],e=a('<textarea tabindex="-1"/>').data("autosize",!0)[0];e.style.cssText="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; padding: 0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;",e.style.lineHeight="99px","99px"===a(e).css("lineHeight")&&c.push("lineHeight"),e.style.lineHeight="",a.fn.autosize=function(f){return this.length?(f=a.extend({},b,f||{}),e.parentNode!==document.body&&a(document.body).append(e),this.each(function(){function p(){var c,d=window.getComputedStyle?window.getComputedStyle(b,null):null;d?(c=parseFloat(d.width),"border-box"!==d.boxSizing&&"border-box"!==d.webkitBoxSizing&&"border-box"!==d.mozBoxSizing||a.each(["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],function(a,b){c-=parseFloat(d[b])})):c=g.width(),e.style.width=Math.max(c,0)+"px"}function q(){var i={};if(d=b,e.className=f.className,e.id=f.id,h=parseFloat(g.css("maxHeight")),a.each(c,function(a,b){i[b]=g.css(b)}),a(e).css(i).attr("wrap",g.attr("wrap")),p(),window.chrome){var j=b.style.width;b.style.width="0px";b.offsetWidth;b.style.width=j}}function r(){var a,c;d!==b?q():p(),!b.value&&f.placeholder?e.value=g.attr("placeholder")||"":e.value=b.value,e.value+=f.append||"",e.style.overflowY=b.style.overflowY,c=parseFloat(b.style.height)||0,e.scrollTop=0,e.scrollTop=9e4,a=e.scrollTop,h&&a>h?(b.style.overflowY="scroll",a=h):(b.style.overflowY="hidden",a<i&&(a=i)),a+=j,Math.abs(c-a)>.01&&(b.style.height=a+"px",e.className=e.className,k&&f.callback.call(b,b),g.trigger("autosize.resized"))}function s(){clearTimeout(m),m=setTimeout(function(){var a=g.width();a!==n&&(n=a,r())},parseInt(f.resizeDelay,10))}var h,i,m,b=this,g=a(b),j=0,k=a.isFunction(f.callback),l={height:b.style.height,overflow:b.style.overflow,overflowY:b.style.overflowY,wordWrap:b.style.wordWrap,resize:b.style.resize},n=g.width(),o=g.css("resize");g.data("autosize")||(g.data("autosize",!0),"border-box"!==g.css("box-sizing")&&"border-box"!==g.css("-moz-box-sizing")&&"border-box"!==g.css("-webkit-box-sizing")||(j=g.outerHeight()-g.height()),i=Math.max(parseFloat(g.css("minHeight"))-j||0,g.height()),g.css({overflow:"hidden",overflowY:"hidden",wordWrap:"break-word"}),"vertical"===o?g.css("resize","none"):"both"===o&&g.css("resize","horizontal"),"onpropertychange"in b?"oninput"in b?g.on("input.autosize keyup.autosize",r):g.on("propertychange.autosize",function(){"value"===event.propertyName&&r()}):g.on("input.autosize",r),!1!==f.resizeDelay&&a(window).on("resize.autosize",s),g.on("autosize.resize",r),g.on("autosize.resizeIncludeStyle",function(){d=null,r()}),g.on("autosize.destroy",function(){d=null,clearTimeout(m),a(window).off("resize",s),g.off("autosize").off(".autosize").css(l).removeData("autosize")}),r())})):this}}(jQuery||$),function(a,b){"use strict";"function"==typeof define&&define.amd?define(["jquery"],b):"object"==typeof exports?module.exports=b(require("jquery")):a.bootbox=b(a.jQuery)}(this,function a(b,c){"use strict";function g(a){var b=q[e.locale];return b?b[a]:q.en[a]}function h(a,c,d){a.stopPropagation(),a.preventDefault(),b.isFunction(d)&&!1===d.call(c,a)||c.modal("hide")}function i(a){var b,c=0;for(b in a)c++;return c}function j(a,c){var d=0;b.each(a,function(a,b){c(a,b,d++)})}function k(a){var c,d;if("object"!=typeof a)throw new Error("Please supply an object of options");if(!a.message)throw new Error("Please specify a message");return a=b.extend({},e,a),a.buttons||(a.buttons={}),c=a.buttons,d=i(c),j(c,function(a,e,f){if(b.isFunction(e)&&(e=c[a]={callback:e}),"object"!==b.type(e))throw new Error("button with key "+a+" must be an object");e.label||(e.label=a),e.className||(e.className=d<=2&&f===d-1?"btn-primary":"btn-default")}),a}function l(a,b){var c=a.length,d={};if(c<1||c>2)throw new Error("Invalid argument length");return 2===c||"string"==typeof a[0]?(d[b[0]]=a[0],d[b[1]]=a[1]):d=a[0],d}function m(a,c,d){return b.extend(!0,{},a,l(c,d))}function n(a,b,c,d){return p(m({className:"bootbox-"+a,buttons:o.apply(null,b)},d,c),b)}function o(){for(var a={},b=0,c=arguments.length;b<c;b++){var d=arguments[b],e=d.toLowerCase(),f=d.toUpperCase();a[e]={label:g(f)}}return a}function p(a,b){var d={};return j(b,function(a,b){d[b]=!0}),j(a.buttons,function(a){if(d[a]===c)throw new Error("button key "+a+" is not allowed (options are "+b.join("\n")+")")}),a}var d={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;</button>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}},e={locale:"en",backdrop:"static",animate:!0,className:null,closeButton:!0,show:!0,container:"body"},f={};f.alert=function(){var a;if(a=n("alert",["ok"],["message","callback"],arguments),a.callback&&!b.isFunction(a.callback))throw new Error("alert requires callback property to be a function when provided");return a.buttons.ok.callback=a.onEscape=function(){return!b.isFunction(a.callback)||a.callback.call(this)},f.dialog(a)},f.confirm=function(){var a;if(a=n("confirm",["cancel","confirm"],["message","callback"],arguments),a.buttons.cancel.callback=a.onEscape=function(){return a.callback.call(this,!1)},a.buttons.confirm.callback=function(){return a.callback.call(this,!0)},!b.isFunction(a.callback))throw new Error("confirm requires a callback");return f.dialog(a)},f.prompt=function(){var a,e,g,h,i,k,l;if(h=b(d.form),e={className:"bootbox-prompt",buttons:o("cancel","confirm"),value:"",inputType:"text"},a=p(m(e,arguments,["title","callback"]),["cancel","confirm"]),k=a.show===c||a.show,a.message=h,a.buttons.cancel.callback=a.onEscape=function(){return a.callback.call(this,null)},a.buttons.confirm.callback=function(){var c;switch(a.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":c=i.val();break;case"checkbox":var d=i.find("input:checked");c=[],j(d,function(a,d){c.push(b(d).val())})}return a.callback.call(this,c)},a.show=!1,!a.title)throw new Error("prompt requires a title");if(!b.isFunction(a.callback))throw new Error("prompt requires a callback");if(!d.inputs[a.inputType])throw new Error("invalid prompt type");switch(i=b(d.inputs[a.inputType]),a.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":i.val(a.value);break;case"select":var n={};if(l=a.inputOptions||[],!b.isArray(l))throw new Error("Please pass an array of input options");if(!l.length)throw new Error("prompt with select requires options");j(l,function(a,d){var e=i;if(d.value===c||d.text===c)throw new Error("given options in wrong format");d.group&&(n[d.group]||(n[d.group]=b("<optgroup/>").attr("label",d.group)),e=n[d.group]),e.append("<option value='"+d.value+"'>"+d.text+"</option>")}),j(n,function(a,b){i.append(b)}),i.val(a.value);break;case"checkbox":var q=b.isArray(a.value)?a.value:[a.value];if(l=a.inputOptions||[],!l.length)throw new Error("prompt with checkbox requires options");if(!l[0].value||!l[0].text)throw new Error("given options in wrong format");i=b("<div/>"),j(l,function(c,e){var f=b(d.inputs[a.inputType]);f.find("input").attr("value",e.value),f.find("label").append(e.text),j(q,function(a,b){b===e.value&&f.find("input").prop("checked",!0)}),i.append(f)})}return a.placeholder&&i.attr("placeholder",a.placeholder),a.pattern&&i.attr("pattern",a.pattern),a.maxlength&&i.attr("maxlength",a.maxlength),h.append(i),h.on("submit",function(a){a.preventDefault(),a.stopPropagation(),g.find(".btn-primary").click()}),g=f.dialog(a),g.off("shown.bs.modal"),g.on("shown.bs.modal",function(){i.focus()}),!0===k&&g.modal("show"),g},f.dialog=function(a){a=k(a);var e=b(d.dialog),f=e.find(".modal-dialog"),g=e.find(".modal-body"),i=a.buttons,l="",m={onEscape:a.onEscape};if(b.fn.modal===c)throw new Error("$.fn.modal is not defined; please double check you have included the Bootstrap JavaScript library. See http://getbootstrap.com/javascript/ for more details.");if(j(i,function(a,b){l+="<button data-bb-handler='"+a+"' type='button' class='btn "+b.className+"'>"+b.label+"</button>",m[a]=b.callback}),g.find(".bootbox-body").html(a.message),!0===a.animate&&e.addClass("fade"),a.className&&e.addClass(a.className),"large"===a.size?f.addClass("modal-lg"):"small"===a.size&&f.addClass("modal-sm"),a.title&&g.before(d.header),a.closeButton){var n=b(d.closeButton);a.title?e.find(".modal-header").prepend(n):n.css("margin-top","-10px").prependTo(g)}return a.title&&e.find(".modal-title").html(a.title),l.length&&(g.after(d.footer),e.find(".modal-footer").html(l)),e.on("hidden.bs.modal",function(a){a.target===this&&e.remove()}),e.on("shown.bs.modal",function(){e.find(".btn-primary:first").focus()}),"static"!==a.backdrop&&e.on("click.dismiss.bs.modal",function(a){e.children(".modal-backdrop").length&&(a.currentTarget=e.children(".modal-backdrop").get(0)),a.target===a.currentTarget&&e.trigger("escape.close.bb")}),e.on("escape.close.bb",function(a){m.onEscape&&h(a,e,m.onEscape)}),e.on("click",".modal-footer button",function(a){var c=b(this).data("bb-handler");h(a,e,m[c])}),e.on("click",".bootbox-close-button",function(a){h(a,e,m.onEscape)}),e.on("keyup",function(a){27===a.which&&e.trigger("escape.close.bb")}),b(a.container).append(e),e.modal({backdrop:!!a.backdrop&&"static",keyboard:!1,show:!1}),a.show&&e.modal("show"),e},f.setDefaults=function(){var a={};2===arguments.length?a[arguments[0]]=arguments[1]:a=arguments[0],b.extend(e,a)},f.hideAll=function(){return b(".bootbox").modal("hide"),f};var q={bg_BG:{OK:"",CANCEL:"",CONFIRM:""},br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},cs:{OK:"OK",CANCEL:"Zruit",CONFIRM:"Potvrdit"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},el:{OK:"",CANCEL:"",CONFIRM:""},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},et:{OK:"OK",CANCEL:"Katkesta",CONFIRM:"OK"},fa:{OK:"",CANCEL:"",CONFIRM:""},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},he:{OK:"",CANCEL:"",CONFIRM:""},hu:{OK:"OK",CANCEL:"Mgsem",CONFIRM:"Megerst"},hr:{OK:"OK",CANCEL:"Odustani",CONFIRM:"Potvrdi"},id:{OK:"OK",CANCEL:"Batal",CONFIRM:"OK"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},ja:{OK:"OK",CANCEL:"",CONFIRM:""},lt:{OK:"Gerai",CANCEL:"Ataukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprint"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierd"},pt:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Confirmar"},ru:{OK:"OK",CANCEL:"",CONFIRM:""},sq:{OK:"OK",CANCEL:"Anulo",CONFIRM:"Prano"},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},th:{OK:"",CANCEL:"",CONFIRM:""},tr:{OK:"Tamam",CANCEL:"ptal",CONFIRM:"Onayla"},zh_CN:{OK:"OK",CANCEL:"",CONFIRM:""},zh_TW:{OK:"OK",CANCEL:"",CONFIRM:""}};return f.addLocale=function(a,c){return b.each(["OK","CANCEL","CONFIRM"],function(a,b){if(!c[b])throw new Error("Please supply a translation for '"+b+"'")}),q[a]={OK:c.OK,CANCEL:c.CANCEL,CONFIRM:c.CONFIRM},f},f.removeLocale=function(a){return delete q[a],f},f.setLocale=function(a){return f.setDefaults("locale",a)},f.init=function(c){return a(c||b)},f}),function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],function(b){return a(b,window,document)}):"object"==typeof exports?module.exports=function(b,c){return b||(b=window),c||(c="undefined"!=typeof window?require("jquery"):require("jquery")(b)),a(c,b,b.document)}:a(jQuery,window,document)}(function(a,b,c,d){"use strict";function B(b){var d,e,c="a aa ai ao as b fn i m o s ",f={};a.each(b,function(a,g){(d=a.match(/^([^A-Z]+?)([A-Z])/))&&-1!==c.indexOf(d[1]+" ")&&(e=a.replace(d[0],d[2].toLowerCase()),f[e]=a,"o"===d[1]&&B(b[a]))}),b._hungarianMap=f}function C(b,c,e){b._hungarianMap||B(b);var f;a.each(c,function(g,h){(f=b._hungarianMap[g])===d||!e&&c[f]!==d||("o"===f.charAt(0)?(c[f]||(c[f]={}),a.extend(!0,c[f],c[g]),C(b[f],c[f],e)):c[f]=c[g])})}function D(a){var b=e.defaults.oLanguage,c=a.sZeroRecords;!a.sEmptyTable&&c&&"No data available in table"===b.sEmptyTable&&kb(a,a,"sZeroRecords","sEmptyTable"),!a.sLoadingRecords&&c&&"Loading..."===b.sLoadingRecords&&kb(a,a,"sZeroRecords","sLoadingRecords"),a.sInfoThousands&&(a.sThousands=a.sInfoThousands);var d=a.sDecimal;d&&Rb(d)}function F(a){E(a,"ordering","bSort"),E(a,"orderMulti","bSortMulti"),E(a,"orderClasses","bSortClasses"),E(a,"orderCellsTop","bSortCellsTop"),E(a,"order","aaSorting"),E(a,"orderFixed","aaSortingFixed"),E(a,"paging","bPaginate"),E(a,"pagingType","sPaginationType"),E(a,"pageLength","iDisplayLength"),E(a,"searching","bFilter"),"boolean"==typeof a.sScrollX&&(a.sScrollX=a.sScrollX?"100%":""),"boolean"==typeof a.scrollX&&(a.scrollX=a.scrollX?"100%":"");var b=a.aoSearchCols;if(b)for(var c=0,d=b.length;c<d;c++)b[c]&&C(e.models.oSearch,b[c])}function G(b){E(b,"orderable","bSortable"),E(b,"orderData","aDataSort"),E(b,"orderSequence","asSorting"),E(b,"orderDataType","sortDataType");var c=b.aDataSort;c&&!a.isArray(c)&&(b.aDataSort=[c])}function H(c){if(!e.__browser){var d={};e.__browser=d;var f=a("<div/>").css({position:"fixed",top:0,left:-1*a(b).scrollLeft(),height:1,width:1,overflow:"hidden"}).append(a("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(a("<div/>").css({width:"100%",height:10}))).appendTo("body"),g=f.children(),h=g.children();d.barWidth=g[0].offsetWidth-g[0].clientWidth,d.bScrollOversize=100===h[0].offsetWidth&&100!==g[0].clientWidth,d.bScrollbarLeft=1!==Math.round(h.offset().left),d.bBounding=!!f[0].getBoundingClientRect().width,f.remove()}a.extend(c.oBrowser,e.__browser),c.oScroll.iBarWidth=e.__browser.barWidth}function I(a,b,c,e,f,g){var i,h=e,j=!1;for(c!==d&&(i=c,j=!0);h!==f;)a.hasOwnProperty(h)&&(i=j?b(i,a[h],h,a):a[h],j=!0,h+=g);return i}function J(b,d){var f=e.defaults.column,g=b.aoColumns.length,h=a.extend({},e.models.oColumn,f,{nTh:d||c.createElement("th"),sTitle:f.sTitle?f.sTitle:d?d.innerHTML:"",aDataSort:f.aDataSort?f.aDataSort:[g],mData:f.mData?f.mData:g,idx:g});b.aoColumns.push(h);var i=b.aoPreSearchCols;i[g]=a.extend({},e.models.oSearch,i[g]),K(b,g,a(d).data())}function K(b,c,f){var g=b.aoColumns[c],h=b.oClasses,i=a(g.nTh);if(!g.sWidthOrig){g.sWidthOrig=i.attr("width")||null;var j=(i.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);j&&(g.sWidthOrig=j[1])}f!==d&&null!==f&&(G(f),C(e.defaults.column,f),f.mDataProp===d||f.mData||(f.mData=f.mDataProp),f.sType&&(g._sManualType=f.sType),f.className&&!f.sClass&&(f.sClass=f.className),a.extend(g,f),kb(g,f,"sWidth","sWidthOrig"),f.iDataSort!==d&&(g.aDataSort=[f.iDataSort]),kb(g,f,"aDataSort"));var k=g.mData,l=_(k),m=g.mRender?_(g.mRender):null,n=function(a){return"string"==typeof a&&-1!==a.indexOf("@")};g._bAttrSrc=a.isPlainObject(k)&&(n(k.sort)||n(k.type)||n(k.filter)),g._setter=null,g.fnGetData=function(a,b,c){var e=l(a,b,d,c);return m&&b?m(e,b,a,c):e},g.fnSetData=function(a,b,c){return aa(k)(a,b,c)},"number"!=typeof k&&(b._rowReadObject=!0),b.oFeatures.bSort||(g.bSortable=!1,i.addClass(h.sSortableNone));var o=-1!==a.inArray("asc",g.asSorting),p=-1!==a.inArray("desc",g.asSorting);g.bSortable&&(o||p)?o&&!p?(g.sSortingClass=h.sSortableAsc,g.sSortingClassJUI=h.sSortJUIAscAllowed):!o&&p?(g.sSortingClass=h.sSortableDesc,g.sSortingClassJUI=h.sSortJUIDescAllowed):(g.sSortingClass=h.sSortable,g.sSortingClassJUI=h.sSortJUI):(g.sSortingClass=h.sSortableNone,g.sSortingClassJUI="")}function L(a){if(!1!==a.oFeatures.bAutoWidth){var b=a.aoColumns;Va(a);for(var c=0,d=b.length;c<d;c++)b[c].nTh.style.width=b[c].sWidth}var e=a.oScroll;""===e.sY&&""===e.sX||Sa(a),ob(a,null,"column-sizing",[a])}function M(a,b){var c=P(a,"bVisible");return"number"==typeof c[b]?c[b]:null}function N(b,c){var d=P(b,"bVisible"),e=a.inArray(c,d);return-1!==e?e:null}function O(b){var c=0;return a.each(b.aoColumns,function(b,d){d.bVisible&&"none"!==a(d.nTh).css("display")&&c++}),c}function P(b,c){var d=[];return a.map(b.aoColumns,function(a,b){a[c]&&d.push(b)}),d}function Q(a){var g,h,i,j,k,l,m,o,p,b=a.aoColumns,c=a.aoData,f=e.ext.type.detect;for(g=0,h=b.length;g<h;g++)if(m=b[g],p=[],!m.sType&&m._sManualType)m.sType=m._sManualType;else if(!m.sType){for(i=0,j=f.length;i<j;i++){for(k=0,l=c.length;k<l&&(p[k]===d&&(p[k]=W(a,k,g,"type")),(o=f[i](p[k],a))||i===f.length-1)&&"html"!==o;k++);if(o){m.sType=o;break}}m.sType||(m.sType="string")}}function R(b,c,e,f){var g,h,i,j,k,l,m,n=b.aoColumns;if(c)for(g=c.length-1;g>=0;g--){m=c[g];var o=m.targets!==d?m.targets:m.aTargets;for(a.isArray(o)||(o=[o]),i=0,j=o.length;i<j;i++)if("number"==typeof o[i]&&o[i]>=0){for(;n.length<=o[i];)J(b);f(o[i],m)}else if("number"==typeof o[i]&&o[i]<0)f(n.length+o[i],m);else if("string"==typeof o[i])for(k=0,l=n.length;k<l;k++)("_all"==o[i]||a(n[k].nTh).hasClass(o[i]))&&f(k,m)}if(e)for(g=0,h=e.length;g<h;g++)f(g,e[g])}function S(b,c,f,g){var h=b.aoData.length,i=a.extend(!0,{},e.models.oRow,{src:f?"dom":"data",idx:h});i._aData=c,b.aoData.push(i);for(var l=b.aoColumns,m=0,n=l.length;m<n;m++)l[m].sType=null;b.aiDisplayMaster.push(h);var o=b.rowIdFn(c);return o!==d&&(b.aIds[o]=i),!f&&b.oFeatures.bDeferRender||ga(b,h,f,g),h}function T(b,c){var d;return c instanceof a||(c=a(c)),c.map(function(a,c){return d=fa(b,c),S(b,d.data,c,d.cells)})}function U(a,b){return b._DT_RowIndex!==d?b._DT_RowIndex:null}function V(b,c,d){return a.inArray(d,b.aoData[c].anCells)}function W(a,b,c,e){var f=a.iDraw,g=a.aoColumns[c],h=a.aoData[b]._aData,i=g.sDefaultContent,j=g.fnGetData(h,e,{settings:a,row:b,col:c});if(j===d)return a.iDrawError!=f&&null===i&&(jb(a,0,"Requested unknown parameter "+("function"==typeof g.mData?"{function}":"'"+g.mData+"'")+" for row "+b+", column "+c,4),a.iDrawError=f),i;if(j!==h&&null!==j||null===i||e===d){if("function"==typeof j)return j.call(h)}else j=i;return null===j&&"display"==e?"":j}function X(a,b,c,d){var e=a.aoColumns[c],f=a.aoData[b]._aData;e.fnSetData(f,d,{settings:a,row:b,col:c})}function $(b){return a.map(b.match(/(\\.|[^\.])+/g)||[""],function(a){return a.replace(/\\\./g,".")})}function _(b){if(a.isPlainObject(b)){var c={};return a.each(b,function(a,b){b&&(c[a]=_(b))}),function(a,b,e,f){var g=c[b]||c._;return g!==d?g(a,b,e,f):a}}if(null===b)return function(a){return a};if("function"==typeof b)return function(a,c,d,e){return b(a,c,d,e)};if("string"!=typeof b||-1===b.indexOf(".")&&-1===b.indexOf("[")&&-1===b.indexOf("("))return function(a,c){return a[b]};var e=function(b,c,f){var g,h,i,j;if(""!==f)for(var k=$(f),l=0,m=k.length;l<m;l++){if(g=k[l].match(Y),h=k[l].match(Z),g){if(k[l]=k[l].replace(Y,""),""!==k[l]&&(b=b[k[l]]),i=[],k.splice(0,l+1),j=k.join("."),a.isArray(b))for(var n=0,o=b.length;n<o;n++)i.push(e(b[n],c,j));var p=g[0].substring(1,g[0].length-1);b=""===p?i:i.join(p);break}if(h)k[l]=k[l].replace(Z,""),b=b[k[l]]();else{if(null===b||b[k[l]]===d)return d;b=b[k[l]]}}return b};return function(a,c){return e(a,c,b)}}function aa(b){if(a.isPlainObject(b))return aa(b._);if(null===b)return function(){};if("function"==typeof b)return function(a,c,d){b(a,"set",c,d)};if("string"!=typeof b||-1===b.indexOf(".")&&-1===b.indexOf("[")&&-1===b.indexOf("("))return function(a,c){a[b]=c};var c=function(b,e,f){for(var h,j,k,l,m,g=$(f),i=g[g.length-1],n=0,o=g.length-1;n<o;n++){if(j=g[n].match(Y),k=g[n].match(Z),j){if(g[n]=g[n].replace(Y,""),b[g[n]]=[],h=g.slice(),h.splice(0,n+1),m=h.join("."),a.isArray(e))for(var p=0,q=e.length;p<q;p++)l={},c(l,e[p],m),b[g[n]].push(l);else b[g[n]]=e;return}k&&(g[n]=g[n].replace(Z,""),b=b[g[n]](e)),null!==b[g[n]]&&b[g[n]]!==d||(b[g[n]]={}),b=b[g[n]]}i.match(Z)?b=b[i.replace(Z,"")](e):b[i.replace(Y,"")]=e};return function(a,d){return c(a,d,b)}}function ba(a){return v(a.aoData,"_aData")}function ca(a){a.aoData.length=0,a.aiDisplayMaster.length=0,a.aiDisplay.length=0,a.aIds={}}function da(a,b,c){for(var e=-1,f=0,g=a.length;f<g;f++)a[f]==b?e=f:a[f]>b&&a[f]--;-1!=e&&c===d&&a.splice(e,1)}function ea(a,b,c,e){var g,h,f=a.aoData[b],i=function(c,d){for(;c.childNodes.length;)c.removeChild(c.firstChild);c.innerHTML=W(a,b,d,"display")};if("dom"!==c&&(c&&"auto"!==c||"dom"!==f.src)){var j=f.anCells;if(j)if(e!==d)i(j[e],e);else for(g=0,h=j.length;g<h;g++)i(j[g],g)}else f._aData=fa(a,f,e,e===d?d:f._aData).data;f._aSortData=null,f._aFilterData=null;var k=a.aoColumns;if(e!==d)k[e].sType=null;else{for(g=0,h=k.length;g<h;g++)k[g].sType=null;ha(a,f)}}function fa(b,c,e,f){var i,j,m,g=[],h=c.firstChild,l=0,n=b.aoColumns,o=b._rowReadObject;f=f!==d?f:o?{}:[];var p=function(a,b){if("string"==typeof a){var c=a.indexOf("@");if(-1!==c){var d=a.substring(c+1);aa(a)(f,b.getAttribute(d))}}},q=function(b){if(e===d||e===l)if(j=n[l],m=a.trim(b.innerHTML),j&&j._bAttrSrc){var c=aa(j.mData._);c(f,m),p(j.mData.sort,b),p(j.mData.type,b),p(j.mData.filter,b)}else o?(j._setter||(j._setter=aa(j.mData)),j._setter(f,m)):f[l]=m;l++};if(h)for(;h;)i=h.nodeName.toUpperCase(),"TD"!=i&&"TH"!=i||(q(h),g.push(h)),h=h.nextSibling;else{g=c.anCells;for(var r=0,s=g.length;r<s;r++)q(g[r])}var t=c.firstChild?c:c.nTr;if(t){var u=t.getAttribute("id");u&&aa(b.rowId)(f,u)}return{data:f,cells:g}}function ga(b,d,e,f){var j,k,l,m,n,g=b.aoData[d],h=g._aData,i=[];if(null===g.nTr){for(j=e||c.createElement("tr"),g.nTr=j,g.anCells=i,j._DT_RowIndex=d,ha(b,g),m=0,n=b.aoColumns.length;m<n;m++)l=b.aoColumns[m],k=e?f[m]:c.createElement(l.sCellType),k._DT_CellIndex={row:d,column:m},i.push(k),e&&!l.mRender&&l.mData===m||a.isPlainObject(l.mData)&&l.mData._===m+".display"||(k.innerHTML=W(b,d,m,"display")),l.sClass&&(k.className+=" "+l.sClass),l.bVisible&&!e?j.appendChild(k):!l.bVisible&&e&&k.parentNode.removeChild(k),l.fnCreatedCell&&l.fnCreatedCell.call(b.oInstance,k,W(b,d,m),h,d,m);ob(b,"aoRowCreatedCallback",null,[j,h,d])}g.nTr.setAttribute("role","row")}function ha(b,c){var d=c.nTr,e=c._aData;if(d){var f=b.rowIdFn(e);if(f&&(d.id=f),e.DT_RowClass){var g=e.DT_RowClass.split(" ");c.__rowc=c.__rowc?A(c.__rowc.concat(g)):g,a(d).removeClass(c.__rowc.join(" ")).addClass(e.DT_RowClass)}e.DT_RowAttr&&a(d).attr(e.DT_RowAttr),e.DT_RowData&&a(d).data(e.DT_RowData)}}function ia(b){var c,d,e,f,g,h=b.nTHead,i=b.nTFoot,j=0===a("th, td",h).length,k=b.oClasses,l=b.aoColumns;for(j&&(f=a("<tr/>").appendTo(h)),c=0,d=l.length;c<d;c++)g=l[c],e=a(g.nTh).addClass(g.sClass),j&&e.appendTo(f),b.oFeatures.bSort&&(e.addClass(g.sSortingClass),!1!==g.bSortable&&(e.attr("tabindex",b.iTabIndex).attr("aria-controls",b.sTableId),db(b,g.nTh,c))),g.sTitle!=e[0].innerHTML&&e.html(g.sTitle),qb(b,"header")(b,e,g,k);if(j&&na(b.aoHeader,h),a(h).find(">tr").attr("role","row"),a(h).find(">tr>th, >tr>td").addClass(k.sHeaderTH),a(i).find(">tr>th, >tr>td").addClass(k.sFooterTH),null!==i){var m=b.aoFooter[0];for(c=0,d=m.length;c<d;c++)g=l[c],g.nTf=m[c].cell,g.sClass&&a(g.nTf).addClass(g.sClass)}}function ja(b,c,e){var f,g,h,i,j,l,m,q,r,n=[],o=[],p=b.aoColumns.length;if(c){for(e===d&&(e=!1),f=0,g=c.length;f<g;f++){for(n[f]=c[f].slice(),n[f].nTr=c[f].nTr,h=p-1;h>=0;h--)b.aoColumns[h].bVisible||e||n[f].splice(h,1);o.push([])}for(f=0,g=n.length;f<g;f++){if(m=n[f].nTr)for(;l=m.firstChild;)m.removeChild(l);for(h=0,i=n[f].length;h<i;h++)if(q=1,r=1,o[f][h]===d){for(m.appendChild(n[f][h].cell),o[f][h]=1;n[f+q]!==d&&n[f][h].cell==n[f+q][h].cell;)o[f+q][h]=1,q++;for(;n[f][h+r]!==d&&n[f][h].cell==n[f][h+r].cell;){for(j=0;j<q;j++)o[f+j][h+r]=1;r++}a(n[f][h].cell).attr("rowspan",q).attr("colspan",r)}}}}function ka(b){var c=ob(b,"aoPreDrawCallback","preDraw",[b]);if(-1!==a.inArray(!1,c))return void Qa(b,!1);var h=[],i=0,j=b.asStripeClasses,k=j.length,m=(b.aoOpenRows.length,b.oLanguage),n=b.iInitDisplayStart,o="ssp"==rb(b),p=b.aiDisplay;b.bDrawing=!0,n!==d&&-1!==n&&(b._iDisplayStart=o?n:n>=b.fnRecordsDisplay()?0:n,b.iInitDisplayStart=-1);var q=b._iDisplayStart,r=b.fnDisplayEnd();if(b.bDeferLoading)b.bDeferLoading=!1,b.iDraw++,Qa(b,!1);else if(o){if(!b.bDestroying&&!qa(b))return}else b.iDraw++;if(0!==p.length)for(var s=o?0:q,t=o?b.aoData.length:r,u=s;u<t;u++){var v=p[u],w=b.aoData[v];null===w.nTr&&ga(b,v);var x=w.nTr;if(0!==k){var y=j[i%k];w._sRowStripe!=y&&(a(x).removeClass(w._sRowStripe).addClass(y),w._sRowStripe=y)}ob(b,"aoRowCallback",null,[x,w._aData,i,u]),h.push(x),i++}else{var z=m.sZeroRecords;1==b.iDraw&&"ajax"==rb(b)?z=m.sLoadingRecords:m.sEmptyTable&&0===b.fnRecordsTotal()&&(z=m.sEmptyTable),h[0]=a("<tr/>",{class:k?j[0]:""}).append(a("<td />",{valign:"top",colSpan:O(b),class:b.oClasses.sRowEmpty}).html(z))[0]}ob(b,"aoHeaderCallback","header",[a(b.nTHead).children("tr")[0],ba(b),q,r,p]),ob(b,"aoFooterCallback","footer",[a(b.nTFoot).children("tr")[0],ba(b),q,r,p]);var A=a(b.nTBody);A.children().detach(),A.append(a(h)),ob(b,"aoDrawCallback","draw",[b]),b.bSorted=!1,b.bFiltered=!1,b.bDrawing=!1}function la(a,b){var c=a.oFeatures,d=c.bSort,e=c.bFilter;d&&ab(a),e?va(a,a.oPreviousSearch):a.aiDisplay=a.aiDisplayMaster.slice(),!0!==b&&(a._iDisplayStart=0),a._drawHold=b,ka(a),a._drawHold=!1}function ma(b){var c=b.oClasses,d=a(b.nTable),f=a("<div/>").insertBefore(d),g=b.oFeatures,h=a("<div/>",{id:b.sTableId+"_wrapper",class:c.sWrapper+(b.nTFoot?"":" "+c.sNoFooter)});b.nHolding=f[0],b.nTableWrapper=h[0],b.nTableReinsertBefore=b.nTable.nextSibling;for(var j,k,l,m,n,o,i=b.sDom.split(""),p=0;p<i.length;p++){if(j=null,"<"==(k=i[p])){if(l=a("<div/>")[0],"'"==(m=i[p+1])||'"'==m){for(n="",o=2;i[p+o]!=m;)n+=i[p+o],o++;if("H"==n?n=c.sJUIHeader:"F"==n&&(n=c.sJUIFooter),-1!=n.indexOf(".")){var q=n.split(".");l.id=q[0].substr(1,q[0].length-1),l.className=q[1]}else"#"==n.charAt(0)?l.id=n.substr(1,n.length-1):l.className=n;p+=o}h.append(l),h=a(l)}else if(">"==k)h=h.parent();else if("l"==k&&g.bPaginate&&g.bLengthChange)j=Ma(b);else if("f"==k&&g.bFilter)j=ua(b);else if("r"==k&&g.bProcessing)j=Pa(b);else if("t"==k)j=Ra(b);else if("i"==k&&g.bInfo)j=Ga(b);else if("p"==k&&g.bPaginate)j=Na(b);else if(0!==e.ext.feature.length)for(var r=e.ext.feature,s=0,t=r.length;s<t;s++)if(k==r[s].cFeature){j=r[s].fnInit(b);break}if(j){var u=b.aanFeatures;u[k]||(u[k]=[]),u[k].push(j),h.append(j)}}f.replaceWith(h),b.nHolding=null}function na(b,c){var e,f,g,h,i,j,l,m,n,o,p,d=a(c).children("tr"),q=function(a,b,c){for(var d=a[b];d[c];)c++;return c};for(b.splice(0,b.length),g=0,j=d.length;g<j;g++)b.push([]);for(g=0,j=d.length;g<j;g++)for(e=d[g],m=0,f=e.firstChild;f;){if("TD"==f.nodeName.toUpperCase()||"TH"==f.nodeName.toUpperCase())for(n=1*f.getAttribute("colspan"),o=1*f.getAttribute("rowspan"),n=n&&0!==n&&1!==n?n:1,o=o&&0!==o&&1!==o?o:1,l=q(b,g,m),p=1===n,i=0;i<n;i++)for(h=0;h<o;h++)b[g+h][l+i]={cell:f,unique:p},b[g+h].nTr=e;f=f.nextSibling}}function oa(a,b,c){var d=[];c||(c=a.aoHeader,b&&(c=[],na(c,b)));for(var e=0,f=c.length;e<f;e++)for(var g=0,h=c[e].length;g<h;g++)!c[e][g].unique||d[g]&&a.bSortCellsTop||(d[g]=c[e][g].cell);return d}function pa(b,c,d){if(ob(b,"aoServerParams","serverParams",[c]),c&&a.isArray(c)){var e={},f=/(.*?)\[\]$/;a.each(c,function(a,b){var c=b.name.match(f);if(c){var d=c[0];e[d]||(e[d]=[]),e[d].push(b.value)}else e[b.name]=b.value}),c=e}var g,h=b.ajax,i=b.oInstance,j=function(a){ob(b,null,"xhr",[b,a,b.jqXHR]),d(a)};if(a.isPlainObject(h)&&h.data){g=h.data;var k=a.isFunction(g)?g(c,b):g;c=a.isFunction(g)&&k?k:a.extend(!0,c,k),delete h.data}var l={data:c,success:function(a){var c=a.error||a.sError;c&&jb(b,0,c),b.json=a,j(a)},dataType:"json",cache:!1,type:b.sServerMethod,error:function(c,d,e){var f=ob(b,null,"xhr",[b,null,b.jqXHR]);-1===a.inArray(!0,f)&&("parsererror"==d?jb(b,0,"Invalid JSON response",1):4===c.readyState&&jb(b,0,"Ajax error",7)),Qa(b,!1)}};b.oAjaxData=c,ob(b,null,"preXhr",[b,c]),b.fnServerData?b.fnServerData.call(i,b.sAjaxSource,a.map(c,function(a,b){return{name:b,value:a}}),j,b):b.sAjaxSource||"string"==typeof h?b.jqXHR=a.ajax(a.extend(l,{url:h||b.sAjaxSource})):a.isFunction(h)?b.jqXHR=h.call(i,c,j,b):(b.jqXHR=a.ajax(a.extend(l,h)),h.data=g)}function qa(a){return!a.bAjaxDataGet||(a.iDraw++,Qa(a,!0),pa(a,ra(a),function(b){sa(a,b)}),!1)}function ra(b){var i,k,l,m,c=b.aoColumns,d=c.length,f=b.oFeatures,g=b.oPreviousSearch,h=b.aoPreSearchCols,j=[],n=_a(b),o=b._iDisplayStart,p=!1!==f.bPaginate?b._iDisplayLength:-1,q=function(a,b){j.push({name:a,value:b})};q("sEcho",b.iDraw),q("iColumns",d),q("sColumns",v(c,"sName").join(",")),q("iDisplayStart",o),q("iDisplayLength",p);var r={draw:b.iDraw,columns:[],order:[],start:o,length:p,search:{value:g.sSearch,regex:g.bRegex}};for(i=0;i<d;i++)l=c[i],m=h[i],k="function"==typeof l.mData?"function":l.mData,r.columns.push({data:k,name:l.sName,searchable:l.bSearchable,orderable:l.bSortable,search:{value:m.sSearch,regex:m.bRegex}}),q("mDataProp_"+i,k),f.bFilter&&(q("sSearch_"+i,m.sSearch),q("bRegex_"+i,m.bRegex),q("bSearchable_"+i,l.bSearchable)),f.bSort&&q("bSortable_"+i,l.bSortable);f.bFilter&&(q("sSearch",g.sSearch),q("bRegex",g.bRegex)),f.bSort&&(a.each(n,function(a,b){r.order.push({column:b.col,dir:b.dir}),q("iSortCol_"+a,b.col),q("sSortDir_"+a,b.dir)}),q("iSortingCols",n.length));var s=e.ext.legacy.ajax;return null===s?b.sAjaxSource?j:r:s?j:r}function sa(a,b){var c=function(a,c){return b[a]!==d?b[a]:b[c]},e=ta(a,b),f=c("sEcho","draw"),g=c("iTotalRecords","recordsTotal"),h=c("iTotalDisplayRecords","recordsFiltered");if(f){if(1*f<a.iDraw)return;a.iDraw=1*f}ca(a),a._iRecordsTotal=parseInt(g,10),a._iRecordsDisplay=parseInt(h,10);for(var i=0,j=e.length;i<j;i++)S(a,e[i]);a.aiDisplay=a.aiDisplayMaster.slice(),a.bAjaxDataGet=!1,ka(a),a._bInitComplete||Ka(a,b),a.bAjaxDataGet=!0,Qa(a,!1)}function ta(b,c){var e=a.isPlainObject(b.ajax)&&b.ajax.dataSrc!==d?b.ajax.dataSrc:b.sAjaxDataProp;return"data"===e?c.aaData||c[e]:""!==e?_(e)(c):c}function ua(b){var d=b.oClasses,e=b.sTableId,f=b.oLanguage,g=b.oPreviousSearch,h=b.aanFeatures,i='<input type="search" class="'+d.sFilterInput+'"/>',j=f.sSearch;j=j.match(/_INPUT_/)?j.replace("_INPUT_",i):j+i;var k=a("<div/>",{id:h.f?null:e+"_filter",class:d.sFilter}).append(a("<label/>").append(j)),l=function(){var c=(h.f,this.value?this.value:"");c!=g.sSearch&&(va(b,{sSearch:c,bRegex:g.bRegex,bSmart:g.bSmart,bCaseInsensitive:g.bCaseInsensitive}),b._iDisplayStart=0,ka(b))},m=null!==b.searchDelay?b.searchDelay:"ssp"===rb(b)?400:0,n=a("input",k).val(g.sSearch).attr("placeholder",f.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",m?Wa(l,m):l).on("keypress.DT",function(a){if(13==a.keyCode)return!1}).attr("aria-controls",e);return a(b.nTable).on("search.dt.DT",function(a,d){if(b===d)try{n[0]!==c.activeElement&&n.val(g.sSearch)}catch(a){}}),k[0]}function va(a,b,c){var e=a.oPreviousSearch,f=a.aoPreSearchCols,g=function(a){e.sSearch=a.sSearch,e.bRegex=a.bRegex,e.bSmart=a.bSmart,e.bCaseInsensitive=a.bCaseInsensitive},h=function(a){return a.bEscapeRegex!==d?!a.bEscapeRegex:a.bRegex};if(Q(a),"ssp"!=rb(a)){ya(a,b.sSearch,c,h(b),b.bSmart,b.bCaseInsensitive),g(b);for(var i=0;i<f.length;i++)xa(a,f[i].sSearch,i,h(f[i]),f[i].bSmart,f[i].bCaseInsensitive);wa(a)}else g(b);a.bFiltered=!0,ob(a,null,"search",[a])}function wa(b){for(var f,g,c=e.ext.search,d=b.aiDisplay,h=0,i=c.length;h<i;h++){for(var j=[],k=0,l=d.length;k<l;k++)g=d[k],f=b.aoData[g],c[h](b,f._aFilterData,g,f._aData,k)&&j.push(g);d.length=0,a.merge(d,j)}}function xa(a,b,c,d,e,f){if(""!==b){for(var g,h=[],i=a.aiDisplay,j=za(b,d,e,f),k=0;k<i.length;k++)g=a.aoData[i[k]]._aFilterData[c],j.test(g)&&h.push(i[k]);a.aiDisplay=h}}function ya(a,b,c,d,f,g){var k,l,m,h=za(b,d,f,g),i=a.oPreviousSearch.sSearch,j=a.aiDisplayMaster,n=[];if(0!==e.ext.search.length&&(c=!0),l=Da(a),b.length<=0)a.aiDisplay=j.slice();else{for((l||c||i.length>b.length||0!==b.indexOf(i)||a.bSorted)&&(a.aiDisplay=j.slice()),k=a.aiDisplay,m=0;m<k.length;m++)h.test(a.aoData[k[m]]._sFilterRow)&&n.push(k[m]);a.aiDisplay=n}}function za(b,c,d,e){if(b=c?b:Aa(b),d){b="^(?=.*?"+a.map(b.match(/"[^"]+"|[^ ]+/g)||[""],function(a){if('"'===a.charAt(0)){var b=a.match(/^"(.*)"$/);a=b?b[1]:a}return a.replace('"',"")}).join(")(?=.*?")+").*$"}return new RegExp(b,e?"i":"")}function Da(a){var c,d,f,g,h,i,j,k,b=a.aoColumns,l=e.ext.type.search,m=!1;for(d=0,g=a.aoData.length;d<g;d++)if(k=a.aoData[d],!k._aFilterData){for(i=[],f=0,h=b.length;f<h;f++)c=b[f],c.bSearchable?(j=W(a,d,f,"filter"),l[c.sType]&&(j=l[c.sType](j)),null===j&&(j=""),"string"!=typeof j&&j.toString&&(j=j.toString())):j="",j.indexOf&&-1!==j.indexOf("&")&&(Ba.innerHTML=j,j=Ca?Ba.textContent:Ba.innerText),j.replace&&(j=j.replace(/[\r\n]/g,"")),i.push(j);k._aFilterData=i,k._sFilterRow=i.join("  "),m=!0}return m}function Ea(a){return{search:a.sSearch,smart:a.bSmart,regex:a.bRegex,caseInsensitive:a.bCaseInsensitive}}function Fa(a){return{sSearch:a.search,bSmart:a.smart,bRegex:a.regex,bCaseInsensitive:a.caseInsensitive}}function Ga(b){var c=b.sTableId,d=b.aanFeatures.i,e=a("<div/>",{class:b.oClasses.sInfo,id:d?null:c+"_info"});return d||(b.aoDrawCallback.push({fn:Ha,sName:"information"}),e.attr("role","status").attr("aria-live","polite"),a(b.nTable).attr("aria-describedby",c+"_info")),e[0]}function Ha(b){var c=b.aanFeatures.i;if(0!==c.length){var d=b.oLanguage,e=b._iDisplayStart+1,f=b.fnDisplayEnd(),g=b.fnRecordsTotal(),h=b.fnRecordsDisplay(),i=h?d.sInfo:d.sInfoEmpty;h!==g&&(i+=" "+d.sInfoFiltered),i+=d.sInfoPostFix,i=Ia(b,i);var j=d.fnInfoCallback;null!==j&&(i=j.call(b.oInstance,b,e,f,g,h,i)),a(c).html(i)}}function Ia(a,b){var c=a.fnFormatNumber,d=a._iDisplayStart+1,e=a._iDisplayLength,f=a.fnRecordsDisplay(),g=-1===e;return b.replace(/_START_/g,c.call(a,d)).replace(/_END_/g,c.call(a,a.fnDisplayEnd())).replace(/_MAX_/g,c.call(a,a.fnRecordsTotal())).replace(/_TOTAL_/g,c.call(a,f)).replace(/_PAGE_/g,c.call(a,g?1:Math.ceil(d/e))).replace(/_PAGES_/g,c.call(a,g?1:Math.ceil(f/e)))}function Ja(a){var b,c,f,d=a.iInitDisplayStart,e=a.aoColumns,g=a.oFeatures,h=a.bDeferLoading;if(!a.bInitialised)return void setTimeout(function(){Ja(a)},200);for(ma(a),ia(a),ja(a,a.aoHeader),ja(a,a.aoFooter),Qa(a,!0),g.bAutoWidth&&Va(a),b=0,c=e.length;b<c;b++)f=e[b],f.sWidth&&(f.nTh.style.width=$a(f.sWidth));ob(a,null,"preInit",[a]),la(a);var i=rb(a);("ssp"!=i||h)&&("ajax"==i?pa(a,[],function(c){var e=ta(a,c);for(b=0;b<e.length;b++)S(a,e[b]);a.iInitDisplayStart=d,la(a),Qa(a,!1),Ka(a,c)},a):(Qa(a,!1),Ka(a)))}function Ka(a,b){a._bInitComplete=!0,(b||a.oInit.aaData)&&L(a),ob(a,null,"plugin-init",[a,b]),ob(a,"aoInitComplete","init",[a,b])}function La(a,b){var c=parseInt(b,10);a._iDisplayLength=c,pb(a),ob(a,null,"length",[a,c])}function Ma(b){for(var c=b.oClasses,d=b.sTableId,e=b.aLengthMenu,f=a.isArray(e[0]),g=f?e[0]:e,h=f?e[1]:e,i=a("<select/>",{name:d+"_length","aria-controls":d,class:c.sLengthSelect}),j=0,k=g.length;j<k;j++)i[0][j]=new Option(h[j],g[j]);var l=a("<div><label/></div>").addClass(c.sLength);return b.aanFeatures.l||(l[0].id=d+"_length"),l.children().append(b.oLanguage.sLengthMenu.replace("_MENU_",i[0].outerHTML)),a("select",l).val(b._iDisplayLength).on("change.DT",function(c){La(b,a(this).val()),ka(b)}),a(b.nTable).on("length.dt.DT",function(c,d,e){b===d&&a("select",l).val(e)}),l[0]}function Na(b){var c=b.sPaginationType,d=e.ext.pager[c],f="function"==typeof d,g=function(a){ka(a)},h=a("<div/>").addClass(b.oClasses.sPaging+c)[0],i=b.aanFeatures;return f||d.fnInit(b,h,g),i.p||(h.id=b.sTableId+"_paginate",b.aoDrawCallback.push({fn:function(a){if(f){var m,n,b=a._iDisplayStart,c=a._iDisplayLength,e=a.fnRecordsDisplay(),h=-1===c,j=h?0:Math.ceil(b/c),k=h?1:Math.ceil(e/c),l=d(j,k);for(m=0,n=i.p.length;m<n;m++)qb(a,"pageButton")(a,i.p[m],m,l,j,k)}else d.fnUpdate(a,g)},sName:"pagination"})),h}function Oa(a,b,c){var d=a._iDisplayStart,e=a._iDisplayLength,f=a.fnRecordsDisplay();0===f||-1===e?d=0:"number"==typeof b?(d=b*e)>f&&(d=0):"first"==b?d=0:"previous"==b?(d=e>=0?d-e:0)<0&&(d=0):"next"==b?d+e<f&&(d+=e):"last"==b?d=Math.floor((f-1)/e)*e:jb(a,0,"Unknown paging action: "+b,5);var g=a._iDisplayStart!==d;return a._iDisplayStart=d,g&&(ob(a,null,"page",[a]),c&&ka(a)),g}function Pa(b){return a("<div/>",{id:b.aanFeatures.r?null:b.sTableId+"_processing",class:b.oClasses.sProcessing}).html(b.oLanguage.sProcessing).insertBefore(b.nTable)[0]}function Qa(b,c){b.oFeatures.bProcessing&&a(b.aanFeatures.r).css("display",c?"block":"none"),ob(b,null,"processing",[b,c])}function Ra(b){var c=a(b.nTable);c.attr("role","grid");var d=b.oScroll;if(""===d.sX&&""===d.sY)return b.nTable;var e=d.sX,f=d.sY,g=b.oClasses,h=c.children("caption"),i=h.length?h[0]._captionSide:null,j=a(c[0].cloneNode(!1)),k=a(c[0].cloneNode(!1)),l=c.children("tfoot"),m="<div/>",n=function(a){return a?$a(a):null};l.length||(l=null);var o=a(m,{class:g.sScrollWrapper}).append(a(m,{class:g.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:e?n(e):"100%"}).append(a(m,{class:g.sScrollHeadInner}).css({"box-sizing":"content-box",width:d.sXInner||"100%"}).append(j.removeAttr("id").css("margin-left",0).append("top"===i?h:null).append(c.children("thead"))))).append(a(m,{class:g.sScrollBody}).css({position:"relative",overflow:"auto",width:n(e)}).append(c));l&&o.append(a(m,{class:g.sScrollFoot}).css({overflow:"hidden",border:0,width:e?n(e):"100%"}).append(a(m,{class:g.sScrollFootInner}).append(k.removeAttr("id").css("margin-left",0).append("bottom"===i?h:null).append(c.children("tfoot")))));var p=o.children(),q=p[0],r=p[1],s=l?p[2]:null;return e&&a(r).on("scroll.DT",function(a){var b=this.scrollLeft;q.scrollLeft=b,l&&(s.scrollLeft=b)}),a(r).css(f&&d.bCollapse?"max-height":"height",f),b.nScrollHead=q,b.nScrollBody=r,b.nScrollFoot=s,b.aoDrawCallback.push({fn:Sa,sName:"scrolling"}),o[0]}function Sa(b){var C,D,E,F,G,H,O,P,Q,c=b.oScroll,e=c.sX,f=c.sXInner,g=c.sY,h=c.iBarWidth,i=a(b.nScrollHead),j=i[0].style,k=i.children("div"),l=k[0].style,m=k.children("table"),n=b.nScrollBody,o=a(n),p=n.style,q=a(b.nScrollFoot),r=q.children("div"),s=r.children("table"),t=a(b.nTHead),u=a(b.nTable),w=u[0],x=w.style,y=b.nTFoot?a(b.nTFoot):null,z=b.oBrowser,A=z.bScrollOversize,B=v(b.aoColumns,"nTh"),I=[],J=[],K=[],N=[],R=function(a){var b=a.style;b.paddingTop="0",b.paddingBottom="0",b.borderTopWidth="0",b.borderBottomWidth="0",b.height=0},S=n.scrollHeight>n.clientHeight;if(b.scrollBarVis!==S&&b.scrollBarVis!==d)return b.scrollBarVis=S,void L(b);b.scrollBarVis=S,u.children("thead, tfoot").remove(),y&&(H=y.clone().prependTo(u),D=y.find("tr"),F=H.find("tr")),G=t.clone().prependTo(u),C=t.find("tr"),E=G.find("tr"),G.find("th, td").removeAttr("tabindex"),e||(p.width="100%",i[0].style.width="100%"),a.each(oa(b,G),function(a,c){O=M(b,a),c.style.width=b.aoColumns[O].sWidth}),y&&Ta(function(a){a.style.width=""},F),Q=u.outerWidth(),""===e?(x.width="100%",A&&(u.find("tbody").height()>n.offsetHeight||"scroll"==o.css("overflow-y"))&&(x.width=$a(u.outerWidth()-h)),Q=u.outerWidth()):""!==f&&(x.width=$a(f),Q=u.outerWidth()),Ta(R,E),Ta(function(b){K.push(b.innerHTML),I.push($a(a(b).css("width")))},E),Ta(function(b,c){-1!==a.inArray(b,B)&&(b.style.width=I[c])},C),a(E).height(0),y&&(Ta(R,F),Ta(function(b){N.push(b.innerHTML),J.push($a(a(b).css("width")))},F),Ta(function(a,b){a.style.width=J[b]},D),a(F).height(0)),Ta(function(a,b){a.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+K[b]+"</div>",a.style.width=I[b]},E),y&&Ta(function(a,b){a.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+N[b]+"</div>",a.style.width=J[b]},F),u.outerWidth()<Q?(P=n.scrollHeight>n.offsetHeight||"scroll"==o.css("overflow-y")?Q+h:Q,A&&(n.scrollHeight>n.offsetHeight||"scroll"==o.css("overflow-y"))&&(x.width=$a(P-h)),""!==e&&""===f||jb(b,1,"Possible column misalignment",6)):P="100%",p.width=$a(P),j.width=$a(P),y&&(b.nScrollFoot.style.width=$a(P)),g||A&&(p.height=$a(w.offsetHeight+h));var T=u.outerWidth();m[0].style.width=$a(T),l.width=$a(T);var U=u.height()>n.clientHeight||"scroll"==o.css("overflow-y"),V="padding"+(z.bScrollbarLeft?"Left":"Right");l[V]=U?h+"px":"0px",y&&(s[0].style.width=$a(T),r[0].style.width=$a(T),r[0].style[V]=U?h+"px":"0px"),u.children("colgroup").insertBefore(u.children("thead")),o.scroll(),!b.bSorted&&!b.bFiltered||b._drawHold||(n.scrollTop=0)}function Ta(a,b,c){for(var g,h,d=0,e=0,f=b.length;e<f;){for(g=b[e].firstChild,h=c?c[e].firstChild:null;g;)1===g.nodeType&&(c?a(g,h,d):a(g,d),d++),g=g.nextSibling,h=c?h.nextSibling:null;e++}}function Va(c){var p,q,r,d=c.nTable,e=c.aoColumns,f=c.oScroll,g=f.sY,h=f.sX,i=f.sXInner,j=e.length,k=P(c,"bVisible"),l=a("th",c.nTHead),m=d.getAttribute("width"),n=d.parentNode,o=!1,u=c.oBrowser,v=u.bScrollOversize,w=d.style.width;for(w&&-1!==w.indexOf("%")&&(m=w),p=0;p<k.length;p++)q=e[k[p]],null!==q.sWidth&&(q.sWidth=Xa(q.sWidthOrig,n),o=!0);if(v||!o&&!h&&!g&&j==O(c)&&j==l.length)for(p=0;p<j;p++){var x=M(c,p);null!==x&&(e[x].sWidth=$a(l.eq(p).width()))}else{var y=a(d).clone().css("visibility","hidden").removeAttr("id");y.find("tbody tr").remove();var z=a("<tr/>").appendTo(y.find("tbody"));for(y.find("thead, tfoot").remove(),y.append(a(c.nTHead).clone()).append(a(c.nTFoot).clone()),y.find("tfoot th, tfoot td").css("width",""),l=oa(c,y.find("thead")[0]),p=0;p<k.length;p++)q=e[k[p]],l[p].style.width=null!==q.sWidthOrig&&""!==q.sWidthOrig?$a(q.sWidthOrig):"",q.sWidthOrig&&h&&a(l[p]).append(a("<div/>").css({width:q.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(c.aoData.length)for(p=0;p<k.length;p++)r=k[p],q=e[r],a(Ya(c,r)).clone(!1).append(q.sContentPadding).appendTo(z);a("[name]",y).removeAttr("name");var A=a("<div/>").css(h||g?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(y).appendTo(n);h&&i?y.width(i):h?(y.css("width","auto"),y.removeAttr("width"),y.width()<n.clientWidth&&m&&y.width(n.clientWidth)):g?y.width(n.clientWidth):m&&y.width(m);var B=0;for(p=0;p<k.length;p++){var C=a(l[p]),D=C.outerWidth()-C.width(),E=u.bBounding?Math.ceil(l[p].getBoundingClientRect().width):C.outerWidth();B+=E,e[k[p]].sWidth=$a(E-D)}d.style.width=$a(B),A.remove()}if(m&&(d.style.width=$a(m)),(m||h)&&!c._reszEvt){var F=function(){a(b).on("resize.DT-"+c.sInstance,Wa(function(){L(c)}))};v?setTimeout(F,1e3):F(),c._reszEvt=!0}}function Xa(b,d){if(!b)return 0;var e=a("<div/>").css("width",$a(b)).appendTo(d||c.body),f=e[0].offsetWidth;return e.remove(),f}function Ya(b,c){var d=Za(b,c);if(d<0)return null;var e=b.aoData[d];return e.nTr?e.anCells[c]:a("<td/>").html(W(b,d,c,"display"))[0]}function Za(a,b){for(var c,d=-1,e=-1,f=0,g=a.aoData.length;f<g;f++)c=W(a,f,b,"display")+"",c=c.replace(Ua,""),c=c.replace(/&nbsp;/g," "),c.length>d&&(d=c.length,e=f);return e}function $a(a){return null===a?"0px":"number"==typeof a?a<0?"0px":a+"px":a.match(/\d$/)?a+"px":a}function _a(b){var c,g,h,l,m,n,o,i=[],k=b.aoColumns,p=b.aaSortingFixed,q=a.isPlainObject(p),r=[],s=function(b){b.length&&!a.isArray(b[0])?r.push(b):a.merge(r,b)};for(a.isArray(p)&&s(p),q&&p.pre&&s(p.pre),s(b.aaSorting),q&&p.post&&s(p.post),c=0;c<r.length;c++)for(o=r[c][0],l=k[o].aDataSort,g=0,h=l.length;g<h;g++)m=l[g],n=k[m].sType||"string",r[c]._idx===d&&(r[c]._idx=a.inArray(r[c][1],k[m].asSorting)),i.push({src:o,col:m,dir:r[c][1],index:r[c]._idx,type:n,formatter:e.ext.type.order[n+"-pre"]});return i}function ab(a){var b,c,d,v,x,l=[],m=e.ext.type.order,n=a.aoData,u=(a.aoColumns,0),w=a.aiDisplayMaster;for(Q(a),x=_a(a),b=0,c=x.length;b<c;b++)v=x[b],v.formatter&&u++,fb(a,v.col);if("ssp"!=rb(a)&&0!==x.length){for(b=0,d=w.length;b<d;b++)l[w[b]]=b;u===x.length?w.sort(function(a,b){var c,d,e,f,g,h=x.length,i=n[a]._aSortData,j=n[b]._aSortData;for(e=0;e<h;e++)if(g=x[e],c=i[g.col],d=j[g.col],0!==(f=c<d?-1:c>d?1:0))return"asc"===g.dir?f:-f;return c=l[a],d=l[b],c<d?-1:c>d?1:0}):w.sort(function(a,b){var c,d,e,g,h,i,j=x.length,k=n[a]._aSortData,o=n[b]._aSortData;for(e=0;e<j;e++)if(h=x[e],c=k[h.col],d=o[h.col],i=m[h.type+"-"+h.dir]||m["string-"+h.dir],0!==(g=i(c,d)))return g;return c=l[a],d=l[b],c<d?-1:c>d?1:0})}a.bSorted=!0}function bb(a){for(var b,c,d=a.aoColumns,e=_a(a),f=a.oLanguage.oAria,g=0,h=d.length;g<h;g++){var i=d[g],j=i.asSorting,k=i.sTitle.replace(/<.*?>/g,""),l=i.nTh;l.removeAttribute("aria-sort"),i.bSortable?(e.length>0&&e[0].col==g?(l.setAttribute("aria-sort","asc"==e[0].dir?"ascending":"descending"),c=j[e[0].index+1]||j[0]):c=j[0],b=k+("asc"===c?f.sSortAscending:f.sSortDescending)):b=k,l.setAttribute("aria-label",b)}}function cb(b,c,e,f){var j,g=b.aoColumns[c],h=b.aaSorting,i=g.asSorting,k=function(b,c){var e=b._idx;return e===d&&(e=a.inArray(b[1],i)),e+1<i.length?e+1:c?null:0};if("number"==typeof h[0]&&(h=b.aaSorting=[h]),e&&b.oFeatures.bSortMulti){var l=a.inArray(c,v(h,"0"));-1!==l?(j=k(h[l],!0),null===j&&1===h.length&&(j=0),null===j?h.splice(l,1):(h[l][1]=i[j],h[l]._idx=j)):(h.push([c,i[0],0]),h[h.length-1]._idx=0)}else h.length&&h[0][0]==c?(j=k(h[0]),h.length=1,h[0][1]=i[j],h[0]._idx=j):(h.length=0,h.push([c,i[0]]),h[0]._idx=0);la(b),"function"==typeof f&&f(b)}function db(a,b,c,d){var e=a.aoColumns[c];mb(b,{},function(b){!1!==e.bSortable&&(a.oFeatures.bProcessing?(Qa(a,!0),setTimeout(function(){cb(a,c,b.shiftKey,d),"ssp"!==rb(a)&&Qa(a,!1)},0)):cb(a,c,b.shiftKey,d))})}function eb(b){var g,h,i,c=b.aLastSort,d=b.oClasses.sSortColumn,e=_a(b),f=b.oFeatures;if(f.bSort&&f.bSortClasses){for(g=0,h=c.length;g<h;g++)i=c[g].src,a(v(b.aoData,"anCells",i)).removeClass(d+(g<2?g+1:3));for(g=0,h=e.length;g<h;g++)i=e[g].src,a(v(b.aoData,"anCells",i)).addClass(d+(g<2?g+1:3))}b.aLastSort=e}function fb(a,b){var f,c=a.aoColumns[b],d=e.ext.order[c.sSortDataType];d&&(f=d.call(a.oInstance,a,b,N(a,b)));for(var g,h,i=e.ext.type.order[c.sType+"-pre"],j=0,k=a.aoData.length;j<k;j++)g=a.aoData[j],g._aSortData||(g._aSortData=[]),g._aSortData[b]&&!d||(h=d?f[j]:W(a,j,b,"sort"),g._aSortData[b]=i?i(h):h)}function gb(b){if(b.oFeatures.bStateSave&&!b.bDestroying){var c={time:+new Date,start:b._iDisplayStart,length:b._iDisplayLength,order:a.extend(!0,[],b.aaSorting),search:Ea(b.oPreviousSearch),columns:a.map(b.aoColumns,function(a,c){return{visible:a.bVisible,search:Ea(b.aoPreSearchCols[c])}})};ob(b,"aoStateSaveParams","stateSaveParams",[b,c]),b.oSavedState=c,b.fnStateSaveCallback.call(b.oInstance,b,c)}}function hb(b,c,e){var f,g,h=b.aoColumns,i=function(c){if(!c||!c.time)return void e();var i=ob(b,"aoStateLoadParams","stateLoadParams",[b,j]);if(-1!==a.inArray(!1,i))return void e();var k=b.iStateDuration;if(k>0&&c.time<+new Date-1e3*k)return void e();if(c.columns&&h.length!==c.columns.length)return void e();if(b.oLoadedState=a.extend(!0,{},j),c.start!==d&&(b._iDisplayStart=c.start,b.iInitDisplayStart=c.start),c.length!==d&&(b._iDisplayLength=c.length),c.order!==d&&(b.aaSorting=[],a.each(c.order,function(a,c){b.aaSorting.push(c[0]>=h.length?[0,c[1]]:c)})),c.search!==d&&a.extend(b.oPreviousSearch,Fa(c.search)),c.columns)for(f=0,g=c.columns.length;f<g;f++){var l=c.columns[f];l.visible!==d&&(h[f].bVisible=l.visible),l.search!==d&&a.extend(b.aoPreSearchCols[f],Fa(l.search))}ob(b,"aoStateLoaded","stateLoaded",[b,j]),e()};if(!b.oFeatures.bStateSave)return void e();var j=b.fnStateLoadCallback.call(b.oInstance,b,i);j!==d&&i(j)}function ib(b){var c=e.settings,d=a.inArray(b,v(c,"nTable"));return-1!==d?c[d]:null}function jb(a,c,d,f){if(d="DataTables warning: "+(a?"table id="+a.sTableId+" - ":"")+d,f&&(d+=". For more information about this error, please see http://datatables.net/tn/"+f),c)b.console&&console.log&&console.log(d);else{var g=e.ext,h=g.sErrMode||g.errMode;if(a&&ob(a,null,"error",[a,f,d]),"alert"==h)alert(d);else{if("throw"==h)throw new Error(d);"function"==typeof h&&h(a,f,d)}}}function kb(b,c,e,f){if(a.isArray(e))return void a.each(e,function(d,e){a.isArray(e)?kb(b,c,e[0],e[1]):kb(b,c,e)});f===d&&(f=e),c[e]!==d&&(b[f]=c[e])}function lb(b,c,d){var e;for(var f in c)c.hasOwnProperty(f)&&(e=c[f],a.isPlainObject(e)?(a.isPlainObject(b[f])||(b[f]={}),a.extend(!0,b[f],e)):d&&"data"!==f&&"aaData"!==f&&a.isArray(e)?b[f]=e.slice():b[f]=e);return b}function mb(b,c,d){a(b).on("click.DT",c,function(a){b.blur(),d(a)}).on("keypress.DT",c,function(a){13===a.which&&(a.preventDefault(),d(a))}).on("selectstart.DT",function(){return!1})}function nb(a,b,c,d){c&&a[b].push({fn:c,sName:d})}function ob(b,c,d,e){var f=[];if(c&&(f=a.map(b[c].slice().reverse(),function(a,c){return a.fn.apply(b.oInstance,e)})),null!==d){var g=a.Event(d+".dt");a(b.nTable).trigger(g,e),f.push(g.result)}return f}function pb(a){var b=a._iDisplayStart,c=a.fnDisplayEnd(),d=a._iDisplayLength;b>=c&&(b=c-d),b-=b%d,(-1===d||b<0)&&(b=0),a._iDisplayStart=b}function qb(b,c){var d=b.renderer,f=e.ext.renderer[c];return a.isPlainObject(d)&&d[c]?f[d[c]]||f._:"string"==typeof d?f[d]||f._:f._}function rb(a){return a.oFeatures.bServerSide?"ssp":a.ajax||a.sAjaxSource?"ajax":"dom"}function Pb(a,b){var c=[],d=Ob.numbers_length,e=Math.floor(d/2);return b<=d?c=x(0,b):a<=e?(c=x(0,d-2),c.push("ellipsis"),c.push(b-1)):a>=b-1-e?(c=x(b-(d-2),b),c.splice(0,0,"ellipsis"),c.splice(0,0,0)):(c=x(a-e+2,a+e-1),c.push("ellipsis"),c.push(b-1),c.splice(0,0,"ellipsis"),c.splice(0,0,0)),c.DT_el="span",c}function Rb(b){a.each({num:function(a){return Qb(a,b)},"num-fmt":function(a){return Qb(a,b,o)},"html-num":function(a){return Qb(a,b,l)},"html-num-fmt":function(a){return Qb(a,b,l,o)}},function(a,c){f.type.order[a+b+"-pre"]=c,a.match(/^html\-/)&&(f.type.search[a+b]=f.type.search.html)})}function Tb(a){return function(){var b=[ib(this[e.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return e.ext.internal[a].apply(this,b)}}var f,g,h,i,e=function(b){this.$=function(a,b){return this.api(!0).$(a,b)},this._=function(a,b){return this.api(!0).rows(a,b).data()},this.api=function(a){return new g(a?ib(this[f.iApiIndex]):this)},this.fnAddData=function(b,c){var e=this.api(!0),f=a.isArray(b)&&(a.isArray(b[0])||a.isPlainObject(b[0]))?e.rows.add(b):e.row.add(b);return(c===d||c)&&e.draw(),f.flatten().toArray()},this.fnAdjustColumnSizing=function(a){var b=this.api(!0).columns.adjust(),c=b.settings()[0],e=c.oScroll;a===d||a?b.draw(!1):""===e.sX&&""===e.sY||Sa(c)},this.fnClearTable=function(a){var b=this.api(!0).clear();(a===d||a)&&b.draw()},this.fnClose=function(a){this.api(!0).row(a).child.hide()},this.fnDeleteRow=function(a,b,c){var e=this.api(!0),f=e.rows(a),g=f.settings()[0],h=g.aoData[f[0][0]];return f.remove(),b&&b.call(this,g,h),(c===d||c)&&e.draw(),h},this.fnDestroy=function(a){this.api(!0).destroy(a)},this.fnDraw=function(a){this.api(!0).draw(a)},this.fnFilter=function(a,b,c,e,f,g){var h=this.api(!0);null===b||b===d?h.search(a,c,e,g):h.column(b).search(a,c,e,g),h.draw()},this.fnGetData=function(a,b){var c=this.api(!0);if(a!==d){var e=a.nodeName?a.nodeName.toLowerCase():"";return b!==d||"td"==e||"th"==e?c.cell(a,b).data():c.row(a).data()||null}return c.data().toArray()},this.fnGetNodes=function(a){var b=this.api(!0);return a!==d?b.row(a).node():b.rows().nodes().flatten().toArray()},this.fnGetPosition=function(a){var b=this.api(!0),c=a.nodeName.toUpperCase();if("TR"==c)return b.row(a).index();if("TD"==c||"TH"==c){var d=b.cell(a).index();return[d.row,d.columnVisible,d.column]}return null},this.fnIsOpen=function(a){return this.api(!0).row(a).child.isShown()},this.fnOpen=function(a,b,c){return this.api(!0).row(a).child(b,c).show().child()[0]},this.fnPageChange=function(a,b){var c=this.api(!0).page(a);(b===d||b)&&c.draw(!1)},this.fnSetColumnVis=function(a,b,c){var e=this.api(!0).column(a).visible(b);(c===d||c)&&e.columns.adjust().draw()},this.fnSettings=function(){return ib(this[f.iApiIndex])},this.fnSort=function(a){this.api(!0).order(a).draw()},this.fnSortListener=function(a,b,c){this.api(!0).order.listener(a,b,c)},this.fnUpdate=function(a,b,c,e,f){var g=this.api(!0);return c===d||null===c?g.row(b).data(a):g.cell(b,c).data(a),(f===d||f)&&g.columns.adjust(),(e===d||e)&&g.draw(),0},this.fnVersionCheck=f.fnVersionCheck;var c=this,h=b===d,i=this.length;h&&(b={}),this.oApi=this.internal=f.internal;for(var j in e.ext.internal)j&&(this[j]=Tb(j));return this.each(function(){var k,f={},g=i>1?lb(f,b,!0):b,j=0,p=this.getAttribute("id"),q=!1,r=e.defaults,s=a(this);if("table"!=this.nodeName.toLowerCase())return void jb(null,0,"Non-table node initialisation ("+this.nodeName+")",2);F(r),G(r.column),C(r,r,!0),C(r.column,r.column,!0),C(r,a.extend(g,s.data()));var t=e.settings;for(j=0,k=t.length;j<k;j++){var u=t[j];if(u.nTable==this||u.nTHead.parentNode==this||u.nTFoot&&u.nTFoot.parentNode==this){var v=g.bRetrieve!==d?g.bRetrieve:r.bRetrieve,w=g.bDestroy!==d?g.bDestroy:r.bDestroy;if(h||v)return u.oInstance;if(w){u.oInstance.fnDestroy();break}return void jb(u,0,"Cannot reinitialise DataTable",3)}if(u.sTableId==this.id){t.splice(j,1);break}}null!==p&&""!==p||(p="DataTables_Table_"+e.ext._unique++,this.id=p);var x=a.extend(!0,{},e.models.oSettings,{sDestroyWidth:s[0].style.width,sInstance:p,sTableId:p});x.nTable=this,x.oApi=c.internal,x.oInit=g,t.push(x),x.oInstance=1===c.length?c:s.dataTable(),F(g),g.oLanguage&&D(g.oLanguage),g.aLengthMenu&&!g.iDisplayLength&&(g.iDisplayLength=a.isArray(g.aLengthMenu[0])?g.aLengthMenu[0][0]:g.aLengthMenu[0]),g=lb(a.extend(!0,{},r),g),kb(x.oFeatures,g,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),kb(x,g,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]),kb(x.oScroll,g,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),kb(x.oLanguage,g,"fnInfoCallback"),nb(x,"aoDrawCallback",g.fnDrawCallback,"user"),nb(x,"aoServerParams",g.fnServerParams,"user"),nb(x,"aoStateSaveParams",g.fnStateSaveParams,"user"),nb(x,"aoStateLoadParams",g.fnStateLoadParams,"user"),nb(x,"aoStateLoaded",g.fnStateLoaded,"user"),nb(x,"aoRowCallback",g.fnRowCallback,"user"),nb(x,"aoRowCreatedCallback",g.fnCreatedRow,"user"),nb(x,"aoHeaderCallback",g.fnHeaderCallback,"user"),nb(x,"aoFooterCallback",g.fnFooterCallback,"user"),nb(x,"aoInitComplete",g.fnInitComplete,"user"),nb(x,"aoPreDrawCallback",g.fnPreDrawCallback,"user"),x.rowIdFn=_(g.rowId),H(x);var y=x.oClasses;if(g.bJQueryUI?(a.extend(y,e.ext.oJUIClasses,g.oClasses),g.sDom===r.sDom&&"lfrtip"===r.sDom&&(x.sDom='<"H"lfr>t<"F"ip>'),x.renderer?a.isPlainObject(x.renderer)&&!x.renderer.header&&(x.renderer.header="jqueryui"):x.renderer="jqueryui"):a.extend(y,e.ext.classes,g.oClasses),s.addClass(y.sTable),x.iInitDisplayStart===d&&(x.iInitDisplayStart=g.iDisplayStart,x._iDisplayStart=g.iDisplayStart),null!==g.iDeferLoading){x.bDeferLoading=!0;var z=a.isArray(g.iDeferLoading);x._iRecordsDisplay=z?g.iDeferLoading[0]:g.iDeferLoading,x._iRecordsTotal=z?g.iDeferLoading[1]:g.iDeferLoading}var A=x.oLanguage;a.extend(!0,A,g.oLanguage),A.sUrl&&(a.ajax({dataType:"json",url:A.sUrl,success:function(b){D(b),C(r.oLanguage,b),a.extend(!0,A,b),Ja(x)},error:function(){Ja(x)}}),q=!0),null===g.asStripeClasses&&(x.asStripeClasses=[y.sStripeOdd,y.sStripeEven]);var B=x.asStripeClasses,E=s.children("tbody").find("tr").eq(0);-1!==a.inArray(!0,a.map(B,function(a,b){return E.hasClass(a)}))&&(a("tbody tr",this).removeClass(B.join(" ")),x.asDestroyStripes=B.slice());var L,I=[],M=this.getElementsByTagName("thead");if(0!==M.length&&(na(x.aoHeader,M[0]),I=oa(x)),null===g.aoColumns)for(L=[],j=0,k=I.length;j<k;j++)L.push(null);else L=g.aoColumns;for(j=0,k=L.length;j<k;j++)J(x,I?I[j]:null);if(R(x,g.aoColumnDefs,L,function(a,b){K(x,a,b)}),E.length){var N=function(a,b){return null!==a.getAttribute("data-"+b)?b:null};a(E[0]).children("th, td").each(function(a,b){var c=x.aoColumns[a];if(c.mData===a){var e=N(b,"sort")||N(b,"order"),f=N(b,"filter")||N(b,"search");null===e&&null===f||(c.mData={_:a+".display",sort:null!==e?a+".@data-"+e:d,type:null!==e?a+".@data-"+e:d,filter:null!==f?a+".@data-"+f:d},K(x,a))}})}var O=x.oFeatures,P=function(){if(g.aaSorting===d){var b=x.aaSorting;for(j=0,k=b.length;j<k;j++)b[j][1]=x.aoColumns[j].asSorting[0]}eb(x),O.bSort&&nb(x,"aoDrawCallback",function(){if(x.bSorted){var b=_a(x),c={};a.each(b,function(a,b){c[b.src]=b.dir}),ob(x,null,"order",[x,b,c]),bb(x)}}),nb(x,"aoDrawCallback",function(){(x.bSorted||"ssp"===rb(x)||O.bDeferRender)&&eb(x)},"sc");var c=s.children("caption").each(function(){this._captionSide=a(this).css("caption-side")}),e=s.children("thead");0===e.length&&(e=a("<thead/>").appendTo(s)),x.nTHead=e[0];var f=s.children("tbody");0===f.length&&(f=a("<tbody/>").appendTo(s)),x.nTBody=f[0];var h=s.children("tfoot");if(0===h.length&&c.length>0&&(""!==x.oScroll.sX||""!==x.oScroll.sY)&&(h=a("<tfoot/>").appendTo(s)),0===h.length||0===h.children().length?s.addClass(y.sNoFooter):h.length>0&&(x.nTFoot=h[0],na(x.aoFooter,x.nTFoot)),g.aaData)for(j=0;j<g.aaData.length;j++)S(x,g.aaData[j]);else(x.bDeferLoading||"dom"==rb(x))&&T(x,a(x.nTBody).children("tr"));x.aiDisplay=x.aiDisplayMaster.slice(),x.bInitialised=!0,!1===q&&Ja(x)};g.bStateSave?(O.bStateSave=!0,nb(x,"aoDrawCallback",gb,"state_save"),hb(x,g,P)):P()}),c=null,this},j={},k=/[\r\n]/g,l=/<.*?>/g,m=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/,n=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g"),o=/[',$%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,p=function(a){return!a||!0===a||"-"===a},q=function(a){var b=parseInt(a,10);return!isNaN(b)&&isFinite(a)?b:null},r=function(a,b){return j[b]||(j[b]=new RegExp(Aa(b),"g")),"string"==typeof a&&"."!==b?a.replace(/\./g,"").replace(j[b],"."):a},s=function(a,b,c){var d="string"==typeof a;return!!p(a)||(b&&d&&(a=r(a,b)),c&&d&&(a=a.replace(o,"")),!isNaN(parseFloat(a))&&isFinite(a))},t=function(a){return p(a)||"string"==typeof a},u=function(a,b,c){return!!p(a)||(t(a)?!!s(z(a),b,c)||null:null)},v=function(a,b,c){var e=[],f=0,g=a.length;if(c!==d)for(;f<g;f++)a[f]&&a[f][b]&&e.push(a[f][b][c]);else for(;f<g;f++)a[f]&&e.push(a[f][b]);return e},w=function(a,b,c,e){var f=[],g=0,h=b.length;if(e!==d)for(;g<h;g++)a[b[g]][c]&&f.push(a[b[g]][c][e]);else for(;g<h;g++)f.push(a[b[g]][c]);return f},x=function(a,b){var e,c=[];b===d?(b=0,e=a):(e=b,b=a);for(var f=b;f<e;f++)c.push(f);return c},y=function(a){for(var b=[],c=0,d=a.length;c<d;c++)a[c]&&b.push(a[c]);return b},z=function(a){return a.replace(l,"")},A=function(a){var c,d,f,b=[],e=a.length,g=0;a:for(d=0;d<e;d++){for(c=a[d],f=0;f<g;f++)if(b[f]===c)continue a;b.push(c),g++}return b};e.util={throttle:function(a,b){var e,f,c=b!==d?b:200;return function(){var b=this,g=+new Date,h=arguments;e&&g<e+c?(clearTimeout(f),f=setTimeout(function(){e=d,a.apply(b,h)},c)):(e=g,a.apply(b,h))}},escapeRegex:function(a){return a.replace(n,"\\$1")}};var E=function(a,b,c){a[b]!==d&&(a[c]=a[b])},Y=/\[.*?\]$/,Z=/\(\)$/,Aa=e.util.escapeRegex,Ba=a("<div>")[0],Ca=Ba.textContent!==d,Ua=/<.*?>/g,Wa=e.util.throttle,sb=[],tb=Array.prototype,ub=function(b){var c,d,f=e.settings,g=a.map(f,function(a,b){return a.nTable});return b?b.nTable&&b.oApi?[b]:b.nodeName&&"table"===b.nodeName.toLowerCase()?(c=a.inArray(b,g),-1!==c?[f[c]]:null):b&&"function"==typeof b.settings?b.settings().toArray():("string"==typeof b?d=a(b):b instanceof a&&(d=b),d?d.map(function(b){return c=a.inArray(this,g),-1!==c?f[c]:null}).toArray():void 0):[]};g=function(b,c){if(!(this instanceof g))return new g(b,c);var d=[],e=function(a){var b=ub(a);b&&(d=d.concat(b))};if(a.isArray(b))for(var f=0,h=b.length;f<h;f++)e(b[f]);else e(b);this.context=A(d),c&&a.merge(this,c),this.selector={rows:null,cols:null,opts:null},g.extend(this,this,sb)},e.Api=g,a.extend(g.prototype,{any:function(){return 0!==this.count()},concat:tb.concat,context:[],count:function(){return this.flatten().length},each:function(a){for(var b=0,c=this.length;b<c;b++)a.call(this,this[b],b,this);return this},eq:function(a){var b=this.context;return b.length>a?new g(b[a],this[a]):null},filter:function(a){var b=[];if(tb.filter)b=tb.filter.call(this,a,this);else for(var c=0,d=this.length;c<d;c++)a.call(this,this[c],c,this)&&b.push(this[c]);return new g(this.context,b)},flatten:function(){var a=[];return new g(this.context,a.concat.apply(a,this.toArray()))},join:tb.join,indexOf:tb.indexOf||function(a,b){for(var c=b||0,d=this.length;c<d;c++)if(this[c]===a)return c;return-1},iterator:function(a,b,c,e){var h,i,j,k,l,n,o,p,f=[],m=this.context,q=this.selector;for("string"==typeof a&&(e=c,c=b,b=a,a=!1),i=0,j=m.length;i<j;i++){var r=new g(m[i]);if("table"===b)(h=c.call(r,m[i],i))!==d&&f.push(h);else if("columns"===b||"rows"===b)(h=c.call(r,m[i],this[i],i))!==d&&f.push(h);else if("column"===b||"column-rows"===b||"row"===b||"cell"===b)for(o=this[i],"column-rows"===b&&(n=Ab(m[i],q.opts)),k=0,l=o.length;k<l;k++)p=o[k],(h="cell"===b?c.call(r,m[i],p.row,p.column,i,k):c.call(r,m[i],p,i,k,n))!==d&&f.push(h)}if(f.length||e){var s=new g(m,a?f.concat.apply([],f):f),t=s.selector;return t.rows=q.rows,t.cols=q.cols,t.opts=q.opts,s}return this},lastIndexOf:tb.lastIndexOf||function(a,b){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(a){var b=[];if(tb.map)b=tb.map.call(this,a,this);else for(var c=0,d=this.length;c<d;c++)b.push(a.call(this,this[c],c));return new g(this.context,b)},pluck:function(a){return this.map(function(b){return b[a]})},pop:tb.pop,push:tb.push,reduce:tb.reduce||function(a,b){return I(this,a,b,0,this.length,1)},reduceRight:tb.reduceRight||function(a,b){return I(this,a,b,this.length-1,-1,-1)},reverse:tb.reverse,selector:null,shift:tb.shift,sort:tb.sort,splice:tb.splice,toArray:function(){return tb.slice.call(this)},to$:function(){return a(this)},toJQuery:function(){return a(this)},unique:function(){return new g(this.context,A(this))},unshift:tb.unshift}),g.extend=function(b,c,d){if(d.length&&c&&(c instanceof g||c.__dt_wrapper)){var e,f,j,l=function(a,b,c){return function(){var d=b.apply(a,arguments);return g.extend(d,d,c.methodExt),d}};for(e=0,f=d.length;e<f;e++)j=d[e],c[j.name]="function"==typeof j.val?l(b,j.val,j):a.isPlainObject(j.val)?{}:j.val,c[j.name].__dt_wrapper=!0,g.extend(b,c[j.name],j.propExt)}},g.register=h=function(b,c){if(a.isArray(b))for(var d=0,e=b.length;d<e;d++)g.register(b[d],c);else{var f,h,k,l,i=b.split("."),j=sb,m=function(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c].name===b)return a[c];return null};for(f=0,h=i.length;f<h;f++){l=-1!==i[f].indexOf("()"),k=l?i[f].replace("()",""):i[f];var n=m(j,k);n||(n={name:k,val:{},methodExt:[],propExt:[]},j.push(n)),f===h-1?n.val=c:j=l?n.methodExt:n.propExt}}},g.registerPlural=i=function(b,c,e){g.register(b,e),g.register(c,function(){var b=e.apply(this,arguments);return b===this?this:b instanceof g?b.length?a.isArray(b[0])?new g(b.context,b[0]):b[0]:d:b})};var vb=function(b,c){if("number"==typeof b)return[c[b]];var d=a.map(c,function(a,b){return a.nTable});return a(d).filter(b).map(function(b){var e=a.inArray(this,d);return c[e]}).toArray()};h("tables()",function(a){return a?new g(vb(a,this.context)):this}),h("table()",function(a){var b=this.tables(a),c=b.context;return c.length?new g(c[0]):b}),i("tables().nodes()","table().node()",function(){return this.iterator("table",function(a){return a.nTable},1)}),i("tables().body()","table().body()",function(){return this.iterator("table",function(a){return a.nTBody},1)}),i("tables().header()","table().header()",function(){return this.iterator("table",function(a){return a.nTHead},1)}),i("tables().footer()","table().footer()",function(){return this.iterator("table",function(a){return a.nTFoot},1)}),i("tables().containers()","table().container()",function(){return this.iterator("table",function(a){return a.nTableWrapper},1)}),h("draw()",function(a){return this.iterator("table",function(b){"page"===a?ka(b):("string"==typeof a&&(a="full-hold"!==a),la(b,!1===a))})}),h("page()",function(a){return a===d?this.page.info().page:this.iterator("table",function(b){Oa(b,a)})}),h("page.info()",function(a){if(0===this.context.length)return d;var b=this.context[0],c=b._iDisplayStart,e=b.oFeatures.bPaginate?b._iDisplayLength:-1,f=b.fnRecordsDisplay(),g=-1===e;return{page:g?0:Math.floor(c/e),pages:g?1:Math.ceil(f/e),start:c,end:b.fnDisplayEnd(),length:e,recordsTotal:b.fnRecordsTotal(),recordsDisplay:f,serverSide:"ssp"===rb(b)}}),h("page.len()",function(a){return a===d?0!==this.context.length?this.context[0]._iDisplayLength:d:this.iterator("table",function(b){La(b,a)})});var wb=function(a,b,c){if(c){var d=new g(a);d.one("draw",function(){c(d.ajax.json())})}if("ssp"==rb(a))la(a,b);else{Qa(a,!0);var e=a.jqXHR;e&&4!==e.readyState&&e.abort(),pa(a,[],function(c){ca(a);for(var d=ta(a,c),e=0,f=d.length;e<f;e++)S(a,d[e]);la(a,b),Qa(a,!1)})}};h("ajax.json()",function(){var a=this.context;if(a.length>0)return a[0].json}),h("ajax.params()",function(){var a=this.context;if(a.length>0)return a[0].oAjaxData}),h("ajax.reload()",function(a,b){return this.iterator("table",function(c){wb(c,!1===b,a)})}),h("ajax.url()",function(b){var c=this.context;return b===d?0===c.length?d:(c=c[0],c.ajax?a.isPlainObject(c.ajax)?c.ajax.url:c.ajax:c.sAjaxSource):this.iterator("table",function(c){a.isPlainObject(c.ajax)?c.ajax.url=b:c.ajax=b})}),h("ajax.url().load()",function(a,b){return this.iterator("table",function(c){wb(c,!1===b,a)})});var xb=function(b,c,e,g,h){var j,k,l,m,n,o,i=[],p=typeof c;for(c&&"string"!==p&&"function"!==p&&c.length!==d||(c=[c]),l=0,m=c.length;l<m;l++)for(k=c[l]&&c[l].split&&!c[l].match(/[\[\(:]/)?c[l].split(","):[c[l]],n=0,o=k.length;n<o;n++)(j=e("string"==typeof k[n]?a.trim(k[n]):k[n]))&&j.length&&(i=i.concat(j));var q=f.selector[b];if(q.length)for(l=0,m=q.length;l<m;l++)i=q[l](g,h,i);return A(i)},yb=function(b){return b||(b={}),b.filter&&b.search===d&&(b.search=b.filter),a.extend({search:"none",order:"current",page:"all"},b)},zb=function(a){for(var b=0,c=a.length;b<c;b++)if(a[b].length>0)return a[0]=a[b],a[0].length=1,a.length=1,a.context=[a.context[b]],a;return a.length=0,a},Ab=function(b,c){var d,e,f,g=[],h=b.aiDisplay,i=b.aiDisplayMaster,j=c.search,k=c.order,l=c.page;if("ssp"==rb(b))return"removed"===j?[]:x(0,i.length);if("current"==l)for(d=b._iDisplayStart,e=b.fnDisplayEnd();d<e;d++)g.push(h[d]);else if("current"==k||"applied"==k)g="none"==j?i.slice():"applied"==j?h.slice():a.map(i,function(b,c){return-1===a.inArray(b,h)?b:null});else if("index"==k||"original"==k)for(d=0,e=b.aoData.length;d<e;d++)"none"==j?g.push(d):(-1===(f=a.inArray(d,h))&&"removed"==j||f>=0&&"applied"==j)&&g.push(d);return g},Bb=function(b,c,e){var f;return xb("row",c,function(c){var g=q(c);if(null!==g&&!e)return[g];if(f||(f=Ab(b,e)),null!==g&&-1!==a.inArray(g,f))return[g];if(null===c||c===d||""===c)return f;if("function"==typeof c)return a.map(f,function(a){var d=b.aoData[a];return c(a,d._aData,d.nTr)?a:null});var j=y(w(b.aoData,f,"nTr"));if(c.nodeName){if(c._DT_RowIndex!==d)return[c._DT_RowIndex];if(c._DT_CellIndex)return[c._DT_CellIndex.row];var k=a(c).closest("*[data-dt-row]");return k.length?[k.data("dt-row")]:[]}if("string"==typeof c&&"#"===c.charAt(0)){var l=b.aIds[c.replace(/^#/,"")];if(l!==d)return[l.idx]}return a(j).filter(c).map(function(){return this._DT_RowIndex}).toArray()},b,e)};h("rows()",function(b,c){b===d?b="":a.isPlainObject(b)&&(c=b,b=""),c=yb(c);var e=this.iterator("table",function(a){return Bb(a,b,c)},1);return e.selector.rows=b,e.selector.opts=c,e}),h("rows().nodes()",function(){return this.iterator("row",function(a,b){return a.aoData[b].nTr||d},1)}),h("rows().data()",function(){return this.iterator(!0,"rows",function(a,b){return w(a.aoData,b,"_aData")},1)}),i("rows().cache()","row().cache()",function(a){return this.iterator("row",function(b,c){var d=b.aoData[c];return"search"===a?d._aFilterData:d._aSortData},1)}),i("rows().invalidate()","row().invalidate()",function(a){return this.iterator("row",function(b,c){ea(b,c,a)})}),i("rows().indexes()","row().index()",function(){return this.iterator("row",function(a,b){return b},1)}),i("rows().ids()","row().id()",function(a){for(var b=[],c=this.context,d=0,e=c.length;d<e;d++)for(var f=0,h=this[d].length;f<h;f++){var i=c[d].rowIdFn(c[d].aoData[this[d][f]]._aData);b.push((!0===a?"#":"")+i)}return new g(c,b)}),i("rows().remove()","row().remove()",function(){var a=this;return this.iterator("row",function(b,c,e){var h,i,j,k,l,m,f=b.aoData,g=f[c];for(f.splice(c,1),h=0,i=f.length;h<i;h++)if(l=f[h],m=l.anCells,null!==l.nTr&&(l.nTr._DT_RowIndex=h),null!==m)for(j=0,k=m.length;j<k;j++)m[j]._DT_CellIndex.row=h;da(b.aiDisplayMaster,c),da(b.aiDisplay,c),da(a[e],c,!1),pb(b);var n=b.rowIdFn(g._aData);n!==d&&delete b.aIds[n]}),this.iterator("table",function(a){for(var b=0,c=a.aoData.length;b<c;b++)a.aoData[b].idx=b}),this}),h("rows.add()",function(b){var c=this.iterator("table",function(a){var c,d,e,f=[];for(d=0,e=b.length;d<e;d++)c=b[d],c.nodeName&&"TR"===c.nodeName.toUpperCase()?f.push(T(a,c)[0]):f.push(S(a,c));return f},1),d=this.rows(-1);return d.pop(),a.merge(d,c),d}),h("row()",function(a,b){return zb(this.rows(a,b))}),h("row().data()",function(a){var b=this.context;return a===d?b.length&&this.length?b[0].aoData[this[0]]._aData:d:(b[0].aoData[this[0]]._aData=a,ea(b[0],this[0],"data"),this)}),h("row().node()",function(){var a=this.context;return a.length&&this.length?a[0].aoData[this[0]].nTr||null:null}),h("row.add()",function(b){b instanceof a&&b.length&&(b=b[0]);var c=this.iterator("table",function(a){return b.nodeName&&"TR"===b.nodeName.toUpperCase()?T(a,b)[0]:S(a,b)});return this.row(c[0])});var Cb=function(b,c,d,e){var f=[],g=function(c,d){if(a.isArray(c)||c instanceof a)for(var e=0,h=c.length;e<h;e++)g(c[e],d);else if(c.nodeName&&"tr"===c.nodeName.toLowerCase())f.push(c);else{var i=a("<tr><td/></tr>").addClass(d);a("td",i).addClass(d).html(c)[0].colSpan=O(b),f.push(i[0])}};g(d,e),c._details&&c._details.detach(),c._details=a(f),c._detailsShow&&c._details.insertAfter(c.nTr)},Db=function(a,b){var c=a.context;if(c.length){var e=c[0].aoData[b!==d?b:a[0]];e&&e._details&&(e._details.remove(),e._detailsShow=d,e._details=d)}},Eb=function(a,b){var c=a.context;if(c.length&&a.length){var d=c[0].aoData[a[0]];d._details&&(d._detailsShow=b,b?d._details.insertAfter(d.nTr):d._details.detach(),Fb(c[0]))}},Fb=function(a){var b=new g(a),c=".dt.DT_details",d="draw"+c,e="column-visibility"+c,f="destroy"+c,h=a.aoData;b.off(d+" "+e+" "+f),v(h,"_details").length>0&&(b.on(d,function(c,d){a===d&&b.rows({page:"current"}).eq(0).each(function(a){var b=h[a];b._detailsShow&&b._details.insertAfter(b.nTr)})}),b.on(e,function(b,c,d,e){if(a===c)for(var f,g=O(c),i=0,j=h.length;i<j;i++)f=h[i],f._details&&f._details.children("td[colspan]").attr("colspan",g)}),b.on(f,function(c,d){if(a===d)for(var e=0,f=h.length;e<f;e++)h[e]._details&&Db(b,e)}))},Gb="",Hb=Gb+"row().child",Ib=Hb+"()";h(Ib,function(a,b){var c=this.context;return a===d?c.length&&this.length?c[0].aoData[this[0]]._details:d:(!0===a?this.child.show():!1===a?Db(this):c.length&&this.length&&Cb(c[0],c[0].aoData[this[0]],a,b),this)}),h([Hb+".show()",Ib+".show()"],function(a){return Eb(this,!0),this}),h([Hb+".hide()",Ib+".hide()"],function(){return Eb(this,!1),this}),h([Hb+".remove()",Ib+".remove()"],function(){return Db(this),this}),h(Hb+".isShown()",function(){var a=this.context;return!(!a.length||!this.length)&&(a[0].aoData[this[0]]._detailsShow||!1)});var Jb=/^([^:]+):(name|visIdx|visible)$/,Kb=function(a,b,c,d,e){for(var f=[],g=0,h=e.length;g<h;g++)f.push(W(a,e[g],b));return f},Lb=function(b,c,d){var e=b.aoColumns,f=v(e,"sName"),g=v(e,"nTh");return xb("column",c,function(c){var h=q(c);if(""===c)return x(e.length);if(null!==h)return[h>=0?h:e.length+h];if("function"==typeof c){var i=Ab(b,d);return a.map(e,function(a,d){return c(d,Kb(b,d,0,0,i),g[d])?d:null})}var j="string"==typeof c?c.match(Jb):"";if(j)switch(j[2]){case"visIdx":case"visible":var k=parseInt(j[1],10);if(k<0){var l=a.map(e,function(a,b){return a.bVisible?b:null});return[l[l.length+k]]}return[M(b,k)];case"name":return a.map(f,function(a,b){return a===j[1]?b:null});default:return[]}if(c.nodeName&&c._DT_CellIndex)return[c._DT_CellIndex.column];var m=a(g).filter(c).map(function(){return a.inArray(this,g)}).toArray();if(m.length||!c.nodeName)return m;var n=a(c).closest("*[data-dt-column]");return n.length?[n.data("dt-column")]:[]},b,d)},Mb=function(b,c,e){var j,k,l,m,f=b.aoColumns,g=f[c],h=b.aoData;if(e===d)return g.bVisible;if(g.bVisible!==e){if(e){var n=a.inArray(!0,v(f,"bVisible"),c+1);for(k=0,l=h.length;k<l;k++)m=h[k].nTr,j=h[k].anCells,m&&m.insertBefore(j[c],j[n]||null)}else a(v(b.aoData,"anCells",c)).detach();g.bVisible=e,ja(b,b.aoHeader),ja(b,b.aoFooter),gb(b)}};h("columns()",function(b,c){b===d?b="":a.isPlainObject(b)&&(c=b,b=""),c=yb(c);var e=this.iterator("table",function(a){return Lb(a,b,c)},1);return e.selector.cols=b,e.selector.opts=c,e}),i("columns().header()","column().header()",function(a,b){return this.iterator("column",function(a,b){return a.aoColumns[b].nTh},1)}),i("columns().footer()","column().footer()",function(a,b){return this.iterator("column",function(a,b){return a.aoColumns[b].nTf},1)}),i("columns().data()","column().data()",function(){return this.iterator("column-rows",Kb,1)}),i("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(a,b){return a.aoColumns[b].mData},1)}),i("columns().cache()","column().cache()",function(a){return this.iterator("column-rows",function(b,c,d,e,f){return w(b.aoData,f,"search"===a?"_aFilterData":"_aSortData",c)},1)}),i("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(a,b,c,d,e){return w(a.aoData,e,"anCells",b)},1)}),i("columns().visible()","column().visible()",function(a,b){var c=this.iterator("column",function(b,c){if(a===d)return b.aoColumns[c].bVisible;Mb(b,c,a)});return a!==d&&(this.iterator("column",function(c,d){ob(c,null,"column-visibility",[c,d,a,b])}),(b===d||b)&&this.columns.adjust()),c}),i("columns().indexes()","column().index()",function(a){return this.iterator("column",function(b,c){return"visible"===a?N(b,c):c},1)}),h("columns.adjust()",function(){return this.iterator("table",function(a){L(a)},1)}),h("column.index()",function(a,b){if(0!==this.context.length){var c=this.context[0];if("fromVisible"===a||"toData"===a)return M(c,b);if("fromData"===a||"toVisible"===a)return N(c,b)}}),h("column()",function(a,b){return zb(this.columns(a,b))});var Nb=function(b,c,e){var j,l,m,n,o,p,q,f=b.aoData,g=Ab(b,e),h=y(w(f,g,"anCells")),i=a([].concat.apply([],h)),k=b.aoColumns.length;return xb("cell",c,function(c){var e="function"==typeof c;if(null===c||c===d||e){for(l=[],m=0,n=g.length;m<n;m++)for(j=g[m],o=0;o<k;o++)p={row:j,column:o},e?(q=f[j],c(p,W(b,j,o),q.anCells?q.anCells[o]:null)&&l.push(p)):l.push(p);return l}if(a.isPlainObject(c))return[c];var h=i.filter(c).map(function(a,b){return{row:b._DT_CellIndex.row,column:b._DT_CellIndex.column}}).toArray();return h.length||!c.nodeName?h:(q=a(c).closest("*[data-dt-row]"),q.length?[{row:q.data("dt-row"),column:q.data("dt-column")}]:[])},b,e)};h("cells()",function(b,c,e){if(a.isPlainObject(b)&&(b.row===d?(e=b,b=null):(e=c,c=null)),a.isPlainObject(c)&&(e=c,c=null),null===c||c===d)return this.iterator("table",function(a){return Nb(a,b,yb(e))});var h,i,j,k,l,f=this.columns(c,e),g=this.rows(b,e),m=this.iterator("table",function(a,b){for(h=[],i=0,j=g[b].length;i<j;i++)for(k=0,l=f[b].length;k<l;k++)h.push({row:g[b][i],column:f[b][k]});return h},1);return a.extend(m.selector,{cols:c,rows:b,opts:e}),m}),i("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(a,b,c){var e=a.aoData[b];return e&&e.anCells?e.anCells[c]:d},1)}),h("cells().data()",function(){return this.iterator("cell",function(a,b,c){return W(a,b,c)},1)}),i("cells().cache()","cell().cache()",function(a){return a="search"===a?"_aFilterData":"_aSortData",this.iterator("cell",function(b,c,d){return b.aoData[c][a][d]},1)}),i("cells().render()","cell().render()",function(a){return this.iterator("cell",function(b,c,d){return W(b,c,d,a)},1)}),i("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(a,b,c){return{row:b,column:c,columnVisible:N(a,c)}},1)}),i("cells().invalidate()","cell().invalidate()",function(a){return this.iterator("cell",function(b,c,d){ea(b,c,a,d)})}),h("cell()",function(a,b,c){return zb(this.cells(a,b,c))}),h("cell().data()",function(a){var b=this.context,c=this[0];return a===d?b.length&&c.length?W(b[0],c[0].row,c[0].column):d:(X(b[0],c[0].row,c[0].column,a),ea(b[0],c[0].row,"data",c[0].column),this)}),h("order()",function(b,c){var e=this.context;return b===d?0!==e.length?e[0].aaSorting:d:("number"==typeof b?b=[[b,c]]:b.length&&!a.isArray(b[0])&&(b=Array.prototype.slice.call(arguments)),this.iterator("table",function(a){a.aaSorting=b.slice()}))}),h("order.listener()",function(a,b,c){return this.iterator("table",function(d){db(d,a,b,c)})}),h("order.fixed()",function(b){if(!b){var c=this.context,e=c.length?c[0].aaSortingFixed:d;return a.isArray(e)?{pre:e}:e}return this.iterator("table",function(c){c.aaSortingFixed=a.extend(!0,{},b)})}),h(["columns().order()","column().order()"],function(b){var c=this;return this.iterator("table",function(d,e){var f=[];a.each(c[e],function(a,c){f.push([c,b])}),d.aaSorting=f})}),h("search()",function(b,c,e,f){var g=this.context;return b===d?0!==g.length?g[0].oPreviousSearch.sSearch:d:this.iterator("table",function(d){d.oFeatures.bFilter&&va(d,a.extend({},d.oPreviousSearch,{sSearch:b+"",bRegex:null!==c&&c,bSmart:null===e||e,bCaseInsensitive:null===f||f}),1)})}),i("columns().search()","column().search()",function(b,c,e,f){return this.iterator("column",function(g,h){var i=g.aoPreSearchCols;if(b===d)return i[h].sSearch;g.oFeatures.bFilter&&(a.extend(i[h],{sSearch:b+"",bRegex:null!==c&&c,bSmart:null===e||e,bCaseInsensitive:null===f||f}),va(g,g.oPreviousSearch,1))})}),h("state()",function(){return this.context.length?this.context[0].oSavedState:null}),h("state.clear()",function(){return this.iterator("table",function(a){a.fnStateSaveCallback.call(a.oInstance,a,{})})}),h("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),h("state.save()",function(){return this.iterator("table",function(a){gb(a)})}),e.versionCheck=e.fnVersionCheck=function(a){for(var d,f,b=e.version.split("."),c=a.split("."),g=0,h=c.length;g<h;g++)if(d=parseInt(b[g],10)||0,f=parseInt(c[g],10)||0,d!==f)return d>f;return!0},e.isDataTable=e.fnIsDataTable=function(b){var c=a(b).get(0),d=!1;return b instanceof e.Api||(a.each(e.settings,function(b,e){var f=e.nScrollHead?a("table",e.nScrollHead)[0]:null,g=e.nScrollFoot?a("table",e.nScrollFoot)[0]:null;e.nTable!==c&&f!==c&&g!==c||(d=!0)}),d)},e.tables=e.fnTables=function(b){var c=!1;a.isPlainObject(b)&&(c=b.api,b=b.visible);var d=a.map(e.settings,function(c){if(!b||b&&a(c.nTable).is(":visible"))return c.nTable});return c?new g(d):d},e.camelToHungarian=C,h("$()",function(b,c){var d=this.rows(c).nodes(),e=a(d);return a([].concat(e.filter(b).toArray(),e.find(b).toArray()))}),a.each(["on","one","off"],function(b,c){h(c+"()",function(){var b=Array.prototype.slice.call(arguments);b[0]=a.map(b[0].split(/\s/),function(a){return a.match(/\.dt\b/)?a:a+".dt"}).join(" ");var d=a(this.tables().nodes());return d[c].apply(d,b),this})}),h("clear()",function(){return this.iterator("table",function(a){ca(a)})}),h("settings()",function(){return new g(this.context,this.context)}),h("init()",function(){var a=this.context;return a.length?a[0].oInit:null}),h("data()",function(){return this.iterator("table",function(a){return v(a.aoData,"_aData")}).flatten()}),h("destroy()",function(c){return c=c||!1,this.iterator("table",function(d){var r,f=d.nTableWrapper.parentNode,h=d.oClasses,i=d.nTable,j=d.nTBody,k=d.nTHead,l=d.nTFoot,m=a(i),n=a(j),o=a(d.nTableWrapper),p=a.map(d.aoData,function(a){return a.nTr});d.bDestroying=!0,ob(d,"aoDestroyCallback","destroy",[d]),c||new g(d).columns().visible(!0),o.off(".DT").find(":not(tbody *)").off(".DT"),a(b).off(".DT-"+d.sInstance),i!=k.parentNode&&(m.children("thead").detach(),m.append(k)),l&&i!=l.parentNode&&(m.children("tfoot").detach(),m.append(l)),d.aaSorting=[],d.aaSortingFixed=[],eb(d),a(p).removeClass(d.asStripeClasses.join(" ")),a("th, td",k).removeClass(h.sSortable+" "+h.sSortableAsc+" "+h.sSortableDesc+" "+h.sSortableNone),d.bJUI&&(a("th span."+h.sSortIcon+", td span."+h.sSortIcon,k).detach(),a("th, td",k).each(function(){var b=a("div."+h.sSortJUIWrapper,this);a(this).append(b.contents()),b.detach()})),n.children().detach(),n.append(p);var s=c?"remove":"detach";m[s](),o[s](),!c&&f&&(f.insertBefore(i,d.nTableReinsertBefore),m.css("width",d.sDestroyWidth).removeClass(h.sTable),(r=d.asDestroyStripes.length)&&n.children().each(function(b){a(this).addClass(d.asDestroyStripes[b%r])}));var t=a.inArray(d,e.settings);-1!==t&&e.settings.splice(t,1)})}),a.each(["column","row","cell"],function(a,b){h(b+"s().every()",function(a){var c=this.selector.opts,e=this;return this.iterator(b,function(f,g,h,i,j){a.call(e[b](g,"cell"===b?h:c,"cell"===b?c:d),g,h,i,j)})})}),h("i18n()",function(b,c,e){var f=this.context[0],g=_(b)(f.oLanguage);return g===d&&(g=c),e!==d&&a.isPlainObject(g)&&(g=g[e]!==d?g[e]:g._),g.replace("%d",e)}),e.version="1.10.13",e.settings=[],e.models={},e.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},e.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},e.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},e.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(a){return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(a){try{return JSON.parse((-1===a.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+a.sInstance+"_"+location.pathname))}catch(a){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(a,b){try{(-1===a.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+a.sInstance+"_"+location.pathname,JSON.stringify(b))}catch(a){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:a.extend({},e.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},B(e.defaults),e.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},B(e.defaults.column),e.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:d,oAjaxData:d,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==rb(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==rb(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var a=this._iDisplayLength,b=this._iDisplayStart,c=b+a,d=this.aiDisplay.length,e=this.oFeatures,f=e.bPaginate;return e.bServerSide?!1===f||-1===a?b+d:Math.min(b+a,this._iRecordsDisplay):!f||c>d||-1===a?d:c},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},e.ext=f={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:e.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:e.version},a.extend(f,{afnFiltering:f.search,aTypes:f.type.detect,ofnSearch:f.type.search,oSort:f.type.order,afnSortData:f.order,aoFeatures:f.feature,oApi:f.internal,oStdClasses:f.classes,oPagination:f.pager}),a.extend(e.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""}),function(){var b="";b="";var c=b+"ui-state-default",d=b+"css_right ui-icon ui-icon-",f=b+"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";a.extend(e.ext.oJUIClasses,e.ext.classes,{sPageButton:"fg-button ui-button "+c,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:c+" sorting_asc",sSortDesc:c+" sorting_desc",sSortable:c+" sorting",sSortableAsc:c+" sorting_asc_disabled",sSortableDesc:c+" sorting_desc_disabled",sSortableNone:c+" sorting_disabled",sSortJUIAsc:d+"triangle-1-n",sSortJUIDesc:d+"triangle-1-s",sSortJUI:d+"carat-2-n-s",sSortJUIAscAllowed:d+"carat-1-n",sSortJUIDescAllowed:d+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+c,sScrollFoot:"dataTables_scrollFoot "+c,sHeaderTH:c,sFooterTH:c,sJUIHeader:f+" ui-corner-tl ui-corner-tr",sJUIFooter:f+" ui-corner-bl ui-corner-br"})}();var Ob=e.ext.pager;a.extend(Ob,{simple:function(a,b){return["previous","next"]},full:function(a,b){return["first","previous","next","last"]},numbers:function(a,b){return[Pb(a,b)]},simple_numbers:function(a,b){return["previous",Pb(a,b),"next"]},full_numbers:function(a,b){return["first","previous",Pb(a,b),"next","last"]},first_last_numbers:function(a,b){return["first",Pb(a,b),"last"]},_numbers:Pb,numbers_length:7}),a.extend(!0,e.ext.renderer,{pageButton:{_:function(b,e,f,g,h,i){var m,n,q,j=b.oClasses,k=b.oLanguage.oPaginate,l=b.oLanguage.oAria.paginate||{},o=0,p=function(c,d){var e,g,q,r,s=function(a){Oa(b,a.data.action,!0)};for(e=0,g=d.length;e<g;e++)if(r=d[e],a.isArray(r)){var t=a("<"+(r.DT_el||"div")+"/>").appendTo(c);p(t,r)}else{switch(m=null,n="",r){case"ellipsis":c.append('<span class="ellipsis">&#x2026;</span>');break;case"first":m=k.sFirst,n=r+(h>0?"":" "+j.sPageButtonDisabled);break;case"previous":m=k.sPrevious,n=r+(h>0?"":" "+j.sPageButtonDisabled);break;case"next":m=k.sNext,n=r+(h<i-1?"":" "+j.sPageButtonDisabled);break;case"last":m=k.sLast,n=r+(h<i-1?"":" "+j.sPageButtonDisabled);break;default:m=r+1,n=h===r?j.sPageButtonActive:""}null!==m&&(q=a("<a>",{class:j.sPageButton+" "+n,"aria-controls":b.sTableId,"aria-label":l[r],"data-dt-idx":o,tabindex:b.iTabIndex,id:0===f&&"string"==typeof r?b.sTableId+"_"+r:null}).html(m).appendTo(c),mb(q,{action:r},s),o++)}};try{q=a(e).find(c.activeElement).data("dt-idx")}catch(a){}p(a(e).empty(),g),q!==d&&a(e).find("[data-dt-idx="+q+"]").focus()}}}),a.extend(e.ext.type.detect,[function(a,b){var c=b.oLanguage.sDecimal;return s(a,c)?"num"+c:null},function(a,b){if(a&&!(a instanceof Date)&&!m.test(a))return null;var c=Date.parse(a);return null!==c&&!isNaN(c)||p(a)?"date":null},function(a,b){var c=b.oLanguage.sDecimal;return s(a,c,!0)?"num-fmt"+c:null},function(a,b){var c=b.oLanguage.sDecimal;return u(a,c)?"html-num"+c:null},function(a,b){var c=b.oLanguage.sDecimal;return u(a,c,!0)?"html-num-fmt"+c:null},function(a,b){return p(a)||"string"==typeof a&&-1!==a.indexOf("<")?"html":null}]),a.extend(e.ext.type.search,{html:function(a){return p(a)?a:"string"==typeof a?a.replace(k," ").replace(l,""):""},string:function(a){return p(a)?a:"string"==typeof a?a.replace(k," "):a}});var Qb=function(a,b,c,d){return 0===a||a&&"-"!==a?(b&&(a=r(a,b)),a.replace&&(c&&(a=a.replace(c,"")),d&&(a=a.replace(d,""))),1*a):-1/0};a.extend(f.type.order,{"date-pre":function(a){return Date.parse(a)||-1/0},"html-pre":function(a){return p(a)?"":a.replace?a.replace(/<.*?>/g,"").toLowerCase():a+""},"string-pre":function(a){return p(a)?"":"string"==typeof a?a.toLowerCase():a.toString?a.toString():""},"string-asc":function(a,b){return a<b?-1:a>b?1:0},"string-desc":function(a,b){return a<b?1:a>b?-1:0}}),Rb(""),a.extend(!0,e.ext.renderer,{header:{_:function(b,c,d,e){a(b.nTable).on("order.dt.DT",function(a,f,g,h){if(b===f){var i=d.idx;c.removeClass(d.sSortingClass+" "+e.sSortAsc+" "+e.sSortDesc).addClass("asc"==h[i]?e.sSortAsc:"desc"==h[i]?e.sSortDesc:d.sSortingClass)}})},jqueryui:function(b,c,d,e){a("<div/>").addClass(e.sSortJUIWrapper).append(c.contents()).append(a("<span/>").addClass(e.sSortIcon+" "+d.sSortingClassJUI)).appendTo(c),a(b.nTable).on("order.dt.DT",function(a,f,g,h){if(b===f){var i=d.idx;c.removeClass(e.sSortAsc+" "+e.sSortDesc).addClass("asc"==h[i]?e.sSortAsc:"desc"==h[i]?e.sSortDesc:d.sSortingClass),c.find("span."+e.sSortIcon).removeClass(e.sSortJUIAsc+" "+e.sSortJUIDesc+" "+e.sSortJUI+" "+e.sSortJUIAscAllowed+" "+e.sSortJUIDescAllowed).addClass("asc"==h[i]?e.sSortJUIAsc:"desc"==h[i]?e.sSortJUIDesc:d.sSortingClassJUI)}})}}});var Sb=function(a){return"string"==typeof a?a.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):a};return e.render={number:function(a,b,c,d,e){return{display:function(f){if("number"!=typeof f&&"string"!=typeof f)return f;var g=f<0?"-":"",h=parseFloat(f);if(isNaN(h))return Sb(f);h=h.toFixed(c),f=Math.abs(h);var i=parseInt(f,10),j=c?b+(f-i).toFixed(c).substring(2):"";return g+(d||"")+i.toString().replace(/\B(?=(\d{3})+(?!\d))/g,a)+j+(e||"")}}},text:function(){return{display:Sb}}},a.extend(e.ext.internal,{_fnExternApiFunc:Tb,_fnBuildAjax:pa,_fnAjaxUpdate:qa,_fnAjaxParameters:ra,_fnAjaxUpdateDraw:sa,_fnAjaxDataSrc:ta,_fnAddColumn:J,_fnColumnOptions:K,_fnAdjustColumnSizing:L,_fnVisibleToColumnIndex:M,_fnColumnIndexToVisible:N,_fnVisbleColumns:O,_fnGetColumns:P,_fnColumnTypes:Q,_fnApplyColumnDefs:R,_fnHungarianMap:B,_fnCamelToHungarian:C,_fnLanguageCompat:D,_fnBrowserDetect:H,_fnAddData:S,_fnAddTr:T,_fnNodeToDataIndex:U,_fnNodeToColumnIndex:V,_fnGetCellData:W,_fnSetCellData:X,_fnSplitObjNotation:$,_fnGetObjectDataFn:_,_fnSetObjectDataFn:aa,_fnGetDataMaster:ba,_fnClearTable:ca,_fnDeleteIndex:da,_fnInvalidate:ea,_fnGetRowElements:fa,_fnCreateTr:ga,_fnBuildHead:ia,_fnDrawHead:ja,_fnDraw:ka,_fnReDraw:la,_fnAddOptionsHtml:ma,_fnDetectHeader:na,_fnGetUniqueThs:oa,_fnFeatureHtmlFilter:ua,_fnFilterComplete:va,_fnFilterCustom:wa,_fnFilterColumn:xa,_fnFilter:ya,_fnFilterCreateSearch:za,_fnEscapeRegex:Aa,_fnFilterData:Da,_fnFeatureHtmlInfo:Ga,_fnUpdateInfo:Ha,_fnInfoMacros:Ia,_fnInitialise:Ja,_fnInitComplete:Ka,_fnLengthChange:La,_fnFeatureHtmlLength:Ma,_fnFeatureHtmlPaginate:Na,_fnPageChange:Oa,_fnFeatureHtmlProcessing:Pa,_fnProcessingDisplay:Qa,_fnFeatureHtmlTable:Ra,_fnScrollDraw:Sa,_fnApplyToChildren:Ta,_fnCalculateColumnWidths:Va,_fnThrottle:Wa,_fnConvertToWidth:Xa,_fnGetWidestNode:Ya,_fnGetMaxLenString:Za,_fnStringToCss:$a,_fnSortFlatten:_a,_fnSort:ab,_fnSortAria:bb,_fnSortListener:cb,_fnSortAttachListener:db,_fnSortingClasses:eb,_fnSortData:fb,_fnSaveState:gb,_fnLoadState:hb,_fnSettingsFromNode:ib,_fnLog:jb,_fnMap:kb,_fnBindAction:mb,_fnCallbackReg:nb,_fnCallbackFire:ob,_fnLengthOverflow:pb,_fnRenderer:qb,_fnDataSource:rb,_fnRowAttributes:ha,_fnCalculateEnd:function(){}}),a.fn.dataTable=e,e.$=a,a.fn.dataTableSettings=e.settings,a.fn.dataTableExt=e.ext,a.fn.DataTable=function(b){return a(this).dataTable(b).api()},a.each(e,function(b,c){a.fn.DataTable[b]=c}),a.fn.dataTable}),function(a){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(b){return a(b,window,document)}):"object"==typeof exports?module.exports=function(b,c){return b||(b=window),c&&c.fn.dataTable||(c=require("datatables.net")(b,c).$),a(c,b,b.document)}:a(jQuery,window,document)}(function(a,b,c,d){"use strict";var e=a.fn.dataTable;return a.extend(!0,e.defaults,{dom:"<'row'<'col-sm-6'l><'col-sm-6'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",renderer:"bootstrap"}),a.extend(e.ext.classes,{sWrapper:"dataTables_wrapper form-inline dt-bootstrap",sFilterInput:"form-control input-sm",sLengthSelect:"form-control input-sm",sProcessing:"dataTables_processing panel panel-default"}),e.ext.renderer.pageButton.bootstrap=function(b,f,g,h,i,j){var o,p,s,k=new e.Api(b),l=b.oClasses,m=b.oLanguage.oPaginate,n=b.oLanguage.oAria.paginate||{},q=0,r=function(c,d){var e,f,h,s,t=function(b){b.preventDefault(),a(b.currentTarget).hasClass("disabled")||k.page()==b.data.action||k.page(b.data.action).draw("page")};for(e=0,f=d.length;e<f;e++)if(s=d[e],a.isArray(s))r(c,s);else{switch(o="",p="",s){case"ellipsis":o="&#x2026;",p="disabled";break;case"first":o=m.sFirst,p=s+(i>0?"":" disabled");break;case"previous":o=m.sPrevious,p=s+(i>0?"":" disabled");break;case"next":o=m.sNext,p=s+(i<j-1?"":" disabled");break;case"last":o=m.sLast,p=s+(i<j-1?"":" disabled");break;default:o=s+1,p=i===s?"active":""}o&&(h=a("<li>",{class:l.sPageButton+" "+p,id:0===g&&"string"==typeof s?b.sTableId+"_"+s:null}).append(a("<a>",{href:"#","aria-controls":b.sTableId,"aria-label":n[s],"data-dt-idx":q,tabindex:b.iTabIndex}).html(o)).appendTo(c),b.oApi._fnBindAction(h,{action:s},t),q++)}};try{s=a(f).find(c.activeElement).data("dt-idx")}catch(a){}r(a(f).empty().html('<ul class="pagination"/>').children("ul"),h),s!==d&&a(f).find("[data-dt-idx="+s+"]").focus()},e}),function(a){"use strict";if(!a.fn.dataTable)throw new Error("jquery.dataTables.js required.");a.extend(!0,a.fn.dataTable.defaults,{dom:"<'table-header clearfix'<'table-caption'><'DT-lf-right'<'DT-per-page'l><'DT-search'f>>><'dataTables_table_wrapper't><r><'table-footer clearfix'<'DT-label'i><'DT-pagination'p>>",oLanguage:{sLengthMenu:"Per page: _MENU_",sSearch:""}}),a.extend(!0,a.fn.dataTable.ext.classes,{sProcessing:"dataTables_processing bg-primary darker"})}(jQuery),function(){"use strict";var a,b,c,d=function(a,b){return function(){return a.apply(b,arguments)}};a=jQuery,b=function(){function a(){}return a.transitions={webkitTransition:"webkitTransitionEnd",mozTransition:"mozTransitionEnd",oTransition:"oTransitionEnd",transition:"transitionend"},a.transition=function(a){var b,c,d,e;b=a[0],c=this.transitions;for(e in c)if(d=c[e],null!=b.style[e])return d},a}(),c=function(){function c(b){null==b&&(b={}),this.container=d(this.container,this),this.content=d(this.content,this),this.html=d(this.html,this),this.$growl=d(this.$growl,this),this.$growls=d(this.$growls,this),this.animate=d(this.animate,this),this.remove=d(this.remove,this),this.dismiss=d(this.dismiss,this),this.present=d(this.present,this),this.waitAndDismiss=d(this.waitAndDismiss,this),this.cycle=d(this.cycle,this),this.close=d(this.close,this),this.click=d(this.click,this),this.mouseLeave=d(this.mouseLeave,this),this.mouseEnter=d(this.mouseEnter,this),this.unbind=d(this.unbind,this),this.bind=d(this.bind,this),this.render=d(this.render,this),this.settings=a.extend({},c.settings,b),this.$growls().attr("class",this.settings.location),this.render()}return c.settings={namespace:"growl",duration:3200,close:"&#215;",location:"default",style:"default",size:"medium",delayOnHover:!0},c.growl=function(a){return null==a&&(a={}),this.initialize(),new c(a)},c.initialize=function(){return a("body:not(:has(#growls))").append('<div id="growls" />')},c.prototype.render=function(){var a;a=this.$growl(),this.$growls().append(a),this.settings.fixed?this.present():this.cycle()},c.prototype.bind=function(a){return null==a&&(a=this.$growl()),a.on("click",this.click),this.settings.delayOnHover&&(a.on("mouseenter",this.mouseEnter),a.on("mouseleave",this.mouseLeave)),a.on("contextmenu",this.close).find("."+this.settings.namespace+"-close").on("click",this.close)},c.prototype.unbind=function(a){return null==a&&(a=this.$growl()),a.off("click",this.click),this.settings.delayOnHover&&(a.off("mouseenter",this.mouseEnter),a.off("mouseleave",this.mouseLeave)),a.off("contextmenu",this.close).find("."+this.settings.namespace+"-close").off("click",this.close)},c.prototype.mouseEnter=function(a){var b;return b=this.$growl(),b.stop(!0,!0)},c.prototype.mouseLeave=function(a){return this.waitAndDismiss()},c.prototype.click=function(a){if(null!=this.settings.url)return a.preventDefault(),a.stopPropagation(),window.open(this.settings.url)},c.prototype.close=function(a){var b;return a.preventDefault(),a.stopPropagation(),b=this.$growl(),b.stop().queue(this.dismiss).queue(this.remove)},c.prototype.cycle=function(){var a;return a=this.$growl(),a.queue(this.present).queue(this.waitAndDismiss())},c.prototype.waitAndDismiss=function(){var a;return a=this.$growl(),a.delay(this.settings.duration).queue(this.dismiss).queue(this.remove)},c.prototype.present=function(a){var b;return b=this.$growl(),this.bind(b),this.animate(b,this.settings.namespace+"-incoming","out",a)},c.prototype.dismiss=function(a){var b;return b=this.$growl(),this.unbind(b),this.animate(b,this.settings.namespace+"-outgoing","in",a)},c.prototype.remove=function(a){return this.$growl().remove(),"function"==typeof a?a():void 0},c.prototype.animate=function(a,c,d,e){var f;null==d&&(d="in"),f=b.transition(a),a["in"===d?"removeClass":"addClass"](c),a.offset().position,a["in"===d?"addClass":"removeClass"](c),null!=e&&(null!=f?a.one(f,e):e())},c.prototype.$growls=function(){return null!=this.$_growls?this.$_growls:this.$_growls=a("#growls")},c.prototype.$growl=function(){return null!=this.$_growl?this.$_growl:this.$_growl=a(this.html())},c.prototype.html=function(){return this.container(this.content())},c.prototype.content=function(){return"<div class='"+this.settings.namespace+"-close'>"+this.settings.close+"</div>\n<div class='"+this.settings.namespace+"-title'>"+this.settings.title+"</div>\n<div class='"+this.settings.namespace+"-message'>"+this.settings.message+"</div>"},c.prototype.container=function(a){return"<div class='"+this.settings.namespace+" "+this.settings.namespace+"-"+this.settings.style+" "+this.settings.namespace+"-"+this.settings.size+"'>\n  "+a+"\n</div>"},c}(),this.Growl=c,a.growl=function(a){return null==a&&(a={}),c.growl(a)},a.growl.error=function(b){var c;return null==b&&(b={}),c={title:"Error!",style:"error"},a.growl(a.extend(c,b))},a.growl.notice=function(b){var c;return null==b&&(b={}),c={title:"Notice!",style:"notice"},a.growl(a.extend(c,b))},a.growl.warning=function(b){var c;return null==b&&(b={}),c={title:"Warning!",style:"warning"},a.growl(a.extend(c,b))}}.call(this),function(a){"use strict";if(!a.growl)throw new Error("jquery.growl.js required.");a.growl.success=function(b){return a.growl(a.extend({title:"Success!",style:"success"},b||{}))}}(jQuery),function(){var a,b,c,d,e,f,g,h,i=[].slice,j={}.hasOwnProperty,k=function(a,b){function d(){this.constructor=a}for(var c in b)j.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};g=function(){},b=function(){function a(){}return a.prototype.addEventListener=a.prototype.on,a.prototype.on=function(a,b){return this._callbacks=this._callbacks||{},this._callbacks[a]||(this._callbacks[a]=[]),this._callbacks[a].push(b),this},a.prototype.emit=function(){var a,b,c,d,e,f;if(d=arguments[0],a=2<=arguments.length?i.call(arguments,1):[],this._callbacks=this._callbacks||{},c=this._callbacks[d])for(e=0,f=c.length;e<f;e++)b=c[e],b.apply(this,a);return this},a.prototype.removeListener=a.prototype.off,a.prototype.removeAllListeners=a.prototype.off,a.prototype.removeEventListener=a.prototype.off,a.prototype.off=function(a,b){var d,e,f,g;if(!this._callbacks||0===arguments.length)return this._callbacks={},this;if(!(d=this._callbacks[a]))return this;if(1===arguments.length)return delete this._callbacks[a],this;for(e=f=0,g=d.length;f<g;e=++f)if(d[e]===b){d.splice(e,1);break}return this},a}(),a=function(a){function e(a,b){var d,f,g;if(this.element=a,this.version=e.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(e.instances.push(this),this.element.dropzone=this,d=null!=(g=e.optionsForElement(this.element))?g:{},this.options=c({},this.defaultOptions,d,null!=b?b:{}),this.options.forceFallback||!e.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(f=this.getExistingFallback())&&f.parentNode&&f.parentNode.removeChild(f),!1!==this.options.previewsContainer&&(this.options.previewsContainer?this.previewsContainer=e.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(!0===this.options.clickable?this.clickableElements=[this.element]:this.clickableElements=e.getElements(this.options.clickable,"clickable")),this.init()}var c,d;return k(e,a),e.prototype.Emitter=b,e.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],e.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1e3,maxFiles:null,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(a,b){return b()},init:function(){return g},forceFallback:!1,fallback:function(){var a,b,c,d,f,g;for(this.element.className=this.element.className+" dz-browser-not-supported",g=this.element.getElementsByTagName("div"),d=0,f=g.length;d<f;d++)a=g[d],/(^| )dz-message($| )/.test(a.className)&&(b=a,a.className="dz-message");return b||(b=e.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(b)),c=b.getElementsByTagName("span")[0],c&&(null!=c.textContent?c.textContent=this.options.dictFallbackMessage:null!=c.innerText&&(c.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(a){var b,c,d;return b={srcX:0,srcY:0,srcWidth:a.width,srcHeight:a.height},c=a.width/a.height,b.optWidth=this.options.thumbnailWidth,b.optHeight=this.options.thumbnailHeight,null==b.optWidth&&null==b.optHeight?(b.optWidth=b.srcWidth,b.optHeight=b.srcHeight):null==b.optWidth?b.optWidth=c*b.optHeight:null==b.optHeight&&(b.optHeight=1/c*b.optWidth),d=b.optWidth/b.optHeight,a.height<b.optHeight||a.width<b.optWidth?(b.trgHeight=b.srcHeight,b.trgWidth=b.srcWidth):c>d?(b.srcHeight=a.height,b.srcWidth=b.srcHeight*d):(b.srcWidth=a.width,b.srcHeight=b.srcWidth/d),b.srcX=(a.width-b.srcWidth)/2,b.srcY=(a.height-b.srcHeight)/2,b},drop:function(a){return this.element.classList.remove("dz-drag-hover")},dragstart:g,dragend:function(a){return this.element.classList.remove("dz-drag-hover")},dragenter:function(a){return this.element.classList.add("dz-drag-hover")},dragover:function(a){return this.element.classList.add("dz-drag-hover")},dragleave:function(a){return this.element.classList.remove("dz-drag-hover")},paste:g,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(a){var b,c,d,f,g,h,i,j,k,l,m,n,o;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){for(a.previewElement=e.createElement(this.options.previewTemplate.trim()),a.previewTemplate=a.previewElement,this.previewsContainer.appendChild(a.previewElement),l=a.previewElement.querySelectorAll("[data-dz-name]"),f=0,i=l.length;f<i;f++)b=l[f],b.textContent=this._renameFilename(a.name);for(m=a.previewElement.querySelectorAll("[data-dz-size]"),g=0,j=m.length;g<j;g++)b=m[g],b.innerHTML=this.filesize(a.size);for(this.options.addRemoveLinks&&(a._removeLink=e.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),a.previewElement.appendChild(a._removeLink)),c=function(b){return function(c){return c.preventDefault(),c.stopPropagation(),a.status===e.UPLOADING?e.confirm(b.options.dictCancelUploadConfirmation,function(){return b.removeFile(a)}):b.options.dictRemoveFileConfirmation?e.confirm(b.options.dictRemoveFileConfirmation,function(){return b.removeFile(a)}):b.removeFile(a)}}(this),n=a.previewElement.querySelectorAll("[data-dz-remove]"),o=[],h=0,k=n.length;h<k;h++)d=n[h],o.push(d.addEventListener("click",c));return o}},removedfile:function(a){var b;return a.previewElement&&null!=(b=a.previewElement)&&b.parentNode.removeChild(a.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(a,b){var c,d,e,f;if(a.previewElement){for(a.previewElement.classList.remove("dz-file-preview"),f=a.previewElement.querySelectorAll("[data-dz-thumbnail]"),d=0,e=f.length;d<e;d++)c=f[d],c.alt=a.name,c.src=b;return setTimeout(function(b){return function(){return a.previewElement.classList.add("dz-image-preview")}}(),1)}},error:function(a,b){var c,d,e,f,g;if(a.previewElement){for(a.previewElement.classList.add("dz-error"),"String"!=typeof b&&b.error&&(b=b.error),f=a.previewElement.querySelectorAll("[data-dz-errormessage]"),g=[],d=0,e=f.length;d<e;d++)c=f[d],g.push(c.textContent=b);return g}},errormultiple:g,processing:function(a){if(a.previewElement&&(a.previewElement.classList.add("dz-processing"),a._removeLink))return a._removeLink.textContent=this.options.dictCancelUpload},processingmultiple:g,uploadprogress:function(a,b,c){var d,e,f,g,h;if(a.previewElement){for(g=a.previewElement.querySelectorAll("[data-dz-uploadprogress]"),h=[],e=0,f=g.length;e<f;e++)d=g[e],"PROGRESS"===d.nodeName?h.push(d.value=b):h.push(d.style.width=b+"%");return h}},totaluploadprogress:g,sending:g,sendingmultiple:g,success:function(a){if(a.previewElement)return a.previewElement.classList.add("dz-success")},successmultiple:g,canceled:function(a){return this.emit("error",a,"Upload canceled.")},canceledmultiple:g,complete:function(a){if(a._removeLink&&(a._removeLink.textContent=this.options.dictRemoveFile),a.previewElement)return a.previewElement.classList.add("dz-complete")},completemultiple:g,maxfilesexceeded:g,maxfilesreached:g,queuecomplete:g,addedfiles:g,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>'},c=function(){var a,b,c,d,e,f,g;for(d=arguments[0],c=2<=arguments.length?i.call(arguments,1):[],f=0,g=c.length;f<g;f++){b=c[f];for(a in b)e=b[a],d[a]=e}return d},e.prototype.getAcceptedFiles=function(){var a,b,c,d,e;for(d=this.files,e=[],b=0,c=d.length;b<c;b++)a=d[b],a.accepted&&e.push(a);return e},e.prototype.getRejectedFiles=function(){var a,b,c,d,e;for(d=this.files,e=[],b=0,c=d.length;b<c;b++)a=d[b],a.accepted||e.push(a);return e},e.prototype.getFilesWithStatus=function(a){var b,c,d,e,f;for(e=this.files,f=[],c=0,d=e.length;c<d;c++)b=e[c],b.status===a&&f.push(b);return f},e.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(e.QUEUED)},e.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(e.UPLOADING)},e.prototype.getAddedFiles=function(){return this.getFilesWithStatus(e.ADDED)},e.prototype.getActiveFiles=function(){var a,b,c,d,f;for(d=this.files,f=[],b=0,c=d.length;b<c;b++)a=d[b],a.status!==e.UPLOADING&&a.status!==e.QUEUED||f.push(a);return f},e.prototype.init=function(){var a,b,c,d,f,g,h;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(e.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(c=function(a){return function(){return a.hiddenFileInput&&a.hiddenFileInput.parentNode.removeChild(a.hiddenFileInput),a.hiddenFileInput=document.createElement("input"),a.hiddenFileInput.setAttribute("type","file"),(null==a.options.maxFiles||a.options.maxFiles>1)&&a.hiddenFileInput.setAttribute("multiple","multiple"),a.hiddenFileInput.className="dz-hidden-input",null!=a.options.acceptedFiles&&a.hiddenFileInput.setAttribute("accept",a.options.acceptedFiles),null!=a.options.capture&&a.hiddenFileInput.setAttribute("capture",a.options.capture),a.hiddenFileInput.style.visibility="hidden",a.hiddenFileInput.style.position="absolute",a.hiddenFileInput.style.top="0",a.hiddenFileInput.style.left="0",a.hiddenFileInput.style.height="0",a.hiddenFileInput.style.width="0",document.querySelector(a.options.hiddenInputContainer).appendChild(a.hiddenFileInput),a.hiddenFileInput.addEventListener("change",function(){var b,d,e,f;if(d=a.hiddenFileInput.files,d.length)for(e=0,f=d.length;e<f;e++)b=d[e],a.addFile(b);return a.emit("addedfiles",d),c()})}}(this))(),this.URL=null!=(g=window.URL)?g:window.webkitURL,h=this.events,d=0,f=h.length;d<f;d++)a=h[d],this.on(a,this.options[a]);return this.on("uploadprogress",function(a){return function(){return a.updateTotalUploadProgress()}}(this)),this.on("removedfile",function(a){return function(){return a.updateTotalUploadProgress()}}(this)),this.on("canceled",function(a){return function(b){return a.emit("complete",b)}}(this)),this.on("complete",function(a){return function(b){if(0===a.getAddedFiles().length&&0===a.getUploadingFiles().length&&0===a.getQueuedFiles().length)return setTimeout(function(){return a.emit("queuecomplete")},0)}}(this)),b=function(a){return a.stopPropagation(),a.preventDefault?a.preventDefault():a.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(a){return function(b){return a.emit("dragstart",b)}}(this),dragenter:function(a){return function(c){return b(c),a.emit("dragenter",c)}}(this),dragover:function(a){return function(c){var d;try{d=c.dataTransfer.effectAllowed}catch(a){}return c.dataTransfer.dropEffect="move"===d||"linkMove"===d?"move":"copy",b(c),a.emit("dragover",c)}}(this),dragleave:function(a){return function(b){return a.emit("dragleave",b)}}(this),drop:function(a){return function(c){return b(c),a.drop(c)}}(this),dragend:function(a){return function(b){return a.emit("dragend",b)}}(this)}}],this.clickableElements.forEach(function(a){return function(b){return a.listeners.push({element:b,events:{click:function(c){return(b!==a.element||c.target===a.element||e.elementInside(c.target,a.element.querySelector(".dz-message")))&&a.hiddenFileInput.click(),!0}}})}}(this)),this.enable(),this.options.init.call(this)},e.prototype.destroy=function(){var a;return this.disable(),this.removeAllFiles(!0),(null!=(a=this.hiddenFileInput)?a.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,e.instances.splice(e.instances.indexOf(this),1)},e.prototype.updateTotalUploadProgress=function(){var a,b,c,d,e,f,g,h;if(d=0,c=0,a=this.getActiveFiles(),a.length){for(h=this.getActiveFiles(),f=0,g=h.length;f<g;f++)b=h[f],d+=b.upload.bytesSent,c+=b.upload.total;e=100*d/c}else e=100;return this.emit("totaluploadprogress",e,c,d)},e.prototype._getParamName=function(a){return"function"==typeof this.options.paramName?this.options.paramName(a):this.options.paramName+(this.options.uploadMultiple?"["+a+"]":"")},e.prototype._renameFilename=function(a){return"function"!=typeof this.options.renameFilename?a:this.options.renameFilename(a)},e.prototype.getFallbackForm=function(){var a,b,c,d;return(a=this.getExistingFallback())?a:(c='<div class="dz-fallback">',this.options.dictFallbackText&&(c+="<p>"+this.options.dictFallbackText+"</p>"),c+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',b=e.createElement(c),"FORM"!==this.element.tagName?(d=e.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>'),d.appendChild(b)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=d?d:b)},e.prototype.getExistingFallback=function(){var a,b,c,d,e,f;for(b=function(a){var b,c,d;for(c=0,d=a.length;c<d;c++)if(b=a[c],/(^| )fallback($| )/.test(b.className))return b},f=["div","form"],d=0,e=f.length;d<e;d++)if(c=f[d],a=b(this.element.getElementsByTagName(c)))return a},e.prototype.setupEventListeners=function(){var a,b,c,d,e,f,g;for(f=this.listeners,g=[],d=0,e=f.length;d<e;d++)a=f[d],g.push(function(){var d,e;d=a.events,e=[];for(b in d)c=d[b],e.push(a.element.addEventListener(b,c,!1));return e}());return g},e.prototype.removeEventListeners=function(){var a,b,c,d,e,f,g;for(f=this.listeners,g=[],d=0,e=f.length;d<e;d++)a=f[d],g.push(function(){var d,e;d=a.events,e=[];for(b in d)c=d[b],e.push(a.element.removeEventListener(b,c,!1));return e}());return g},e.prototype.disable=function(){var a,b,c,d,e;for(this.clickableElements.forEach(function(a){return a.classList.remove("dz-clickable")}),this.removeEventListeners(),d=this.files,e=[],b=0,c=d.length;b<c;b++)a=d[b],e.push(this.cancelUpload(a));return e},e.prototype.enable=function(){return this.clickableElements.forEach(function(a){return a.classList.add("dz-clickable")}),this.setupEventListeners()},e.prototype.filesize=function(a){var b,c,d,e,f,g,h,i;if(d=0,e="b",a>0){for(g=["TB","GB","MB","KB","b"],c=h=0,i=g.length;h<i;c=++h)if(f=g[c],b=Math.pow(this.options.filesizeBase,4-c)/10,a>=b){d=a/Math.pow(this.options.filesizeBase,4-c),e=f;break}d=Math.round(10*d)/10}return"<strong>"+d+"</strong> "+e},e.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},e.prototype.drop=function(a){var b,c;a.dataTransfer&&(this.emit("drop",a),b=a.dataTransfer.files,this.emit("addedfiles",b),b.length&&(c=a.dataTransfer.items,c&&c.length&&null!=c[0].webkitGetAsEntry?this._addFilesFromItems(c):this.handleFiles(b)))},e.prototype.paste=function(a){var b,c;if(null!=(null!=a&&null!=(c=a.clipboardData)?c.items:void 0))return this.emit("paste",a),b=a.clipboardData.items,b.length?this._addFilesFromItems(b):void 0},e.prototype.handleFiles=function(a){var b,c,d,e;for(e=[],c=0,d=a.length;c<d;c++)b=a[c],e.push(this.addFile(b));return e},e.prototype._addFilesFromItems=function(a){var b,c,d,e,f;for(f=[],d=0,e=a.length;d<e;d++)c=a[d],null!=c.webkitGetAsEntry&&(b=c.webkitGetAsEntry())?b.isFile?f.push(this.addFile(c.getAsFile())):b.isDirectory?f.push(this._addFilesFromDirectory(b,b.name)):f.push(void 0):null!=c.getAsFile&&(null==c.kind||"file"===c.kind)?f.push(this.addFile(c.getAsFile())):f.push(void 0);return f},e.prototype._addFilesFromDirectory=function(a,b){var c,d,e;return c=a.createReader(),d=function(a){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(a):void 0},(e=function(a){return function(){return c.readEntries(function(c){var d,f,g;if(c.length>0){for(f=0,g=c.length;f<g;f++)d=c[f],d.isFile?d.file(function(c){if(!a.options.ignoreHiddenFiles||"."!==c.name.substring(0,1))return c.fullPath=b+"/"+c.name,a.addFile(c)}):d.isDirectory&&a._addFilesFromDirectory(d,b+"/"+d.name);e()}return null},d)}}(this))()},e.prototype.accept=function(a,b){return a.size>1024*this.options.maxFilesize*1024?b(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(a.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):e.isValidFile(a,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(b(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",a)):this.options.accept.call(this,a,b):b(this.options.dictInvalidFileType)},e.prototype.addFile=function(a){return a.upload={progress:0,total:a.size,bytesSent:0},this.files.push(a),a.status=e.ADDED,this.emit("addedfile",a),this._enqueueThumbnail(a),this.accept(a,function(b){return function(c){return c?(a.accepted=!1,b._errorProcessing([a],c)):(a.accepted=!0,b.options.autoQueue&&b.enqueueFile(a)),b._updateMaxFilesReachedClass()}}(this))},e.prototype.enqueueFiles=function(a){var b,c,d;for(c=0,d=a.length;c<d;c++)b=a[c],this.enqueueFile(b);return null},e.prototype.enqueueFile=function(a){if(a.status!==e.ADDED||!0!==a.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(a.status=e.QUEUED,this.options.autoProcessQueue)return setTimeout(function(a){return function(){return a.processQueue()}}(this),0)},e.prototype._thumbnailQueue=[],e.prototype._processingThumbnail=!1,e.prototype._enqueueThumbnail=function(a){if(this.options.createImageThumbnails&&a.type.match(/image.*/)&&a.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(a),setTimeout(function(a){return function(){return a._processThumbnailQueue()}}(this),0)},e.prototype._processThumbnailQueue=function(){if(!this._processingThumbnail&&0!==this._thumbnailQueue.length)return this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),function(a){return function(){return a._processingThumbnail=!1,a._processThumbnailQueue()}}(this))},e.prototype.removeFile=function(a){if(a.status===e.UPLOADING&&this.cancelUpload(a),this.files=h(this.files,a),this.emit("removedfile",a),0===this.files.length)return this.emit("reset")},e.prototype.removeAllFiles=function(a){var b,c,d,f;for(null==a&&(a=!1),f=this.files.slice(),c=0,d=f.length;c<d;c++)b=f[c],(b.status!==e.UPLOADING||a)&&this.removeFile(b);return null},e.prototype.createThumbnail=function(a,b){var c;return c=new FileReader,c.onload=function(d){return function(){return"image/svg+xml"===a.type?(d.emit("thumbnail",a,c.result),void(null!=b&&b())):d.createThumbnailFromUrl(a,c.result,b)}}(this),c.readAsDataURL(a)},e.prototype.createThumbnailFromUrl=function(a,b,c,d){var e;return e=document.createElement("img"),d&&(e.crossOrigin=d),e.onload=function(b){return function(){var d,g,h,i,j,k,l,m;if(a.width=e.width,a.height=e.height,h=b.options.resize.call(b,a),null==h.trgWidth&&(h.trgWidth=h.optWidth),null==h.trgHeight&&(h.trgHeight=h.optHeight),d=document.createElement("canvas"),g=d.getContext("2d"),d.width=h.trgWidth,d.height=h.trgHeight,f(g,e,null!=(j=h.srcX)?j:0,null!=(k=h.srcY)?k:0,h.srcWidth,h.srcHeight,null!=(l=h.trgX)?l:0,null!=(m=h.trgY)?m:0,h.trgWidth,h.trgHeight),i=d.toDataURL("image/png"),b.emit("thumbnail",a,i),null!=c)return c()}}(this),null!=c&&(e.onerror=c),e.src=b},e.prototype.processQueue=function(){var a,b,c,d;if(b=this.options.parallelUploads,c=this.getUploadingFiles().length,a=c,!(c>=b)&&(d=this.getQueuedFiles(),d.length>0)){if(this.options.uploadMultiple)return this.processFiles(d.slice(0,b-c));for(;a<b;){if(!d.length)return;this.processFile(d.shift()),a++}}},e.prototype.processFile=function(a){return this.processFiles([a])},e.prototype.processFiles=function(a){var b,c,d;for(c=0,d=a.length;c<d;c++)b=a[c],b.processing=!0,b.status=e.UPLOADING,this.emit("processing",b);return this.options.uploadMultiple&&this.emit("processingmultiple",a),this.uploadFiles(a)},e.prototype._getFilesWithXhr=function(a){var b;return function(){var c,d,e,f;for(e=this.files,f=[],c=0,d=e.length;c<d;c++)b=e[c],b.xhr===a&&f.push(b);return f}.call(this)},e.prototype.cancelUpload=function(a){var b,c,d,f,g,h,i;if(a.status===e.UPLOADING){for(c=this._getFilesWithXhr(a.xhr),d=0,g=c.length;d<g;d++)b=c[d],b.status=e.CANCELED;for(a.xhr.abort(),f=0,h=c.length;f<h;f++)b=c[f],this.emit("canceled",b);this.options.uploadMultiple&&this.emit("canceledmultiple",c)}else(i=a.status)!==e.ADDED&&i!==e.QUEUED||(a.status=e.CANCELED,this.emit("canceled",a),this.options.uploadMultiple&&this.emit("canceledmultiple",[a]));if(this.options.autoProcessQueue)return this.processQueue()},d=function(){var a,b;return b=arguments[0],a=2<=arguments.length?i.call(arguments,1):[],"function"==typeof b?b.apply(this,a):b},e.prototype.uploadFile=function(a){return this.uploadFiles([a])},e.prototype.uploadFiles=function(a){var b,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L;for(w=new XMLHttpRequest,x=0,B=a.length;x<B;x++)b=a[x],b.xhr=w;p=d(this.options.method,a),u=d(this.options.url,a),w.open(p,u,!0),w.withCredentials=!!this.options.withCredentials,s=null,g=function(c){return function(){var d,e,f;for(f=[],d=0,e=a.length;d<e;d++)b=a[d],f.push(c._errorProcessing(a,s||c.options.dictResponseError.replace("{{statusCode}}",w.status),w));return f}}(this),t=function(c){return function(d){var e,f,g,h,i,j,k,l,m;if(null!=d)for(f=100*d.loaded/d.total,g=0,j=a.length;g<j;g++)b=a[g],b.upload={progress:f,total:d.total,bytesSent:d.loaded};else{for(e=!0,f=100,h=0,k=a.length;h<k;h++)b=a[h],100===b.upload.progress&&b.upload.bytesSent===b.upload.total||(e=!1),b.upload.progress=f,b.upload.bytesSent=b.upload.total;if(e)return}for(m=[],i=0,l=a.length;i<l;i++)b=a[i],m.push(c.emit("uploadprogress",b,f,b.upload.bytesSent));return m}}(this),w.onload=function(b){return function(c){var d;if(a[0].status!==e.CANCELED&&4===w.readyState){if(s=w.responseText,w.getResponseHeader("content-type")&&~w.getResponseHeader("content-type").indexOf("application/json"))try{s=JSON.parse(s)}catch(a){c=a,s="Invalid JSON response from server."}return t(),200<=(d=w.status)&&d<300?b._finished(a,s,c):g()}}}(this),w.onerror=function(b){return function(){if(a[0].status!==e.CANCELED)return g()}}(),r=null!=(G=w.upload)?G:w,r.onprogress=t,j={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&c(j,this.options.headers);for(h in j)(i=j[h])&&w.setRequestHeader(h,i);if(f=new FormData,this.options.params){H=this.options.params;for(o in H)v=H[o],f.append(o,v)}for(y=0,C=a.length;y<C;y++)b=a[y],this.emit("sending",b,w,f);if(this.options.uploadMultiple&&this.emit("sendingmultiple",a,w,f),"FORM"===this.element.tagName)for(I=this.element.querySelectorAll("input, textarea, select, button"),z=0,D=I.length;z<D;z++)if(l=I[z],m=l.getAttribute("name"),n=l.getAttribute("type"),"SELECT"===l.tagName&&l.hasAttribute("multiple"))for(J=l.options,A=0,E=J.length;A<E;A++)q=J[A],q.selected&&f.append(m,q.value);else(!n||"checkbox"!==(K=n.toLowerCase())&&"radio"!==K||l.checked)&&f.append(m,l.value);for(k=F=0,L=a.length-1;0<=L?F<=L:F>=L;k=0<=L?++F:--F)f.append(this._getParamName(k),a[k],this._renameFilename(a[k].name));return this.submitRequest(w,f,a)},e.prototype.submitRequest=function(a,b,c){return a.send(b)},e.prototype._finished=function(a,b,c){var d,f,g;for(f=0,g=a.length;f<g;f++)d=a[f],d.status=e.SUCCESS,this.emit("success",d,b,c),this.emit("complete",d);if(this.options.uploadMultiple&&(this.emit("successmultiple",a,b,c),this.emit("completemultiple",a)),this.options.autoProcessQueue)return this.processQueue()},e.prototype._errorProcessing=function(a,b,c){var d,f,g;for(f=0,g=a.length;f<g;f++)d=a[f],d.status=e.ERROR,this.emit("error",d,b,c),this.emit("complete",d);if(this.options.uploadMultiple&&(this.emit("errormultiple",a,b,c),this.emit("completemultiple",a)),this.options.autoProcessQueue)return this.processQueue()},e}(b),a.version="4.3.0",a.options={},a.optionsForElement=function(b){return b.getAttribute("id")?a.options[c(b.getAttribute("id"))]:void 0},a.instances=[],a.forElement=function(a){if("string"==typeof a&&(a=document.querySelector(a)),null==(null!=a?a.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return a.dropzone},a.autoDiscover=!0,a.discover=function(){var b,c,d,e,f,g;for(document.querySelectorAll?d=document.querySelectorAll(".dropzone"):(d=[],b=function(a){var b,c,e,f;for(f=[],c=0,e=a.length;c<e;c++)b=a[c],/(^| )dropzone($| )/.test(b.className)?f.push(d.push(b)):f.push(void 0);return f},b(document.getElementsByTagName("div")),b(document.getElementsByTagName("form"))),g=[],e=0,f=d.length;e<f;e++)c=d[e],!1!==a.optionsForElement(c)?g.push(new a(c)):g.push(void 0);return g},a.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],a.isBrowserSupported=function(){var b,c,d,e,f;if(b=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(f=a.blacklistedBrowsers,d=0,e=f.length;d<e;d++)c=f[d],c.test(navigator.userAgent)&&(b=!1);else b=!1;else b=!1;return b},h=function(a,b){var c,d,e,f;for(f=[],d=0,e=a.length;d<e;d++)(c=a[d])!==b&&f.push(c);return f},c=function(a){return a.replace(/[\-_](\w)/g,function(a){return a.charAt(1).toUpperCase()})},a.createElement=function(a){var b;return b=document.createElement("div"),b.innerHTML=a,b.childNodes[0]},a.elementInside=function(a,b){if(a===b)return!0;for(;a=a.parentNode;)if(a===b)return!0;return!1},a.getElement=function(a,b){var c;if("string"==typeof a?c=document.querySelector(a):null!=a.nodeType&&(c=a),null==c)throw new Error("Invalid `"+b+"` option provided. Please provide a CSS selector or a plain HTML element.");return c},a.getElements=function(a,b){var d,e,f,g,h,i,j;if(a instanceof Array){e=[];try{for(f=0,h=a.length;f<h;f++)d=a[f],e.push(this.getElement(d,b))}catch(a){a,e=null}}else if("string"==typeof a)for(e=[],j=document.querySelectorAll(a),g=0,i=j.length;g<i;g++)d=j[g],e.push(d);else null!=a.nodeType&&(e=[a]);if(null==e||!e.length)throw new Error("Invalid `"+b+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return e},a.confirm=function(a,b,c){return window.confirm(a)?b():null!=c?c():void 0},a.isValidFile=function(a,b){var c,d,e,f,g;if(!b)return!0;for(b=b.split(","),d=a.type,c=d.replace(/\/.*$/,""),f=0,g=b.length;f<g;f++)if(e=b[f],e=e.trim(),"."===e.charAt(0)){if(-1!==a.name.toLowerCase().indexOf(e.toLowerCase(),a.name.length-e.length))return!0}else if(/\/\*$/.test(e)){if(c===e.replace(/\/.*$/,""))return!0}else if(d===e)return!0;return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(b){return this.each(function(){return new a(this,b)})}),"undefined"!=typeof module&&null!==module?module.exports=a:window.Dropzone=a,a.ADDED="added",a.QUEUED="queued",a.ACCEPTED=a.QUEUED,a.UPLOADING="uploading",a.PROCESSING=a.UPLOADING,a.CANCELED="canceled",a.ERROR="error",a.SUCCESS="success",e=function(a){var b,c,d,e,f,g,i,j,k;for(a.naturalWidth,g=a.naturalHeight,c=document.createElement("canvas"),c.width=1,c.height=g,d=c.getContext("2d"),d.drawImage(a,0,0),e=d.getImageData(0,0,1,g).data,k=0,f=g,i=g;i>k;)b=e[4*(i-1)+3],0===b?f=i:k=i,i=f+k>>1;return j=i/g,0===j?1:j},f=function(a,b,c,d,f,g,h,i,j,k){var l;return l=e(b),a.drawImage(b,c,d,f,g,h,i,j,k/l)},d=function(a,b){var c,d,e,f,g,h,i,j,k;if(e=!1,k=!0,d=a.document,j=d.documentElement,c=d.addEventListener?"addEventListener":"attachEvent",i=d.addEventListener?"removeEventListener":"detachEvent",h=d.addEventListener?"":"on",f=function(c){if("readystatechange"!==c.type||"complete"===d.readyState)return("load"===c.type?a:d)[i](h+c.type,f,!1),!e&&(e=!0)?b.call(a,c.type||c):void 0},g=function(){try{j.doScroll("left")}catch(b){return b,void setTimeout(g,50)}return f("poll")},"complete"!==d.readyState){if(d.createEventObject&&j.doScroll){try{k=!a.frameElement}catch(a){}k&&g()}return d[c](h+"DOMContentLoaded",f,!1),d[c](h+"readystatechange",f,!1),a[c](h+"load",f,!1)}},a._autoDiscoverFunction=function(){if(a.autoDiscover)return a.discover()},d(window,a._autoDiscoverFunction)}.call(this);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(a,b){"use strict";if(!b)throw new Error("dropzone.js required.");var c=b.prototype.defaultOptions.error;b.prototype.defaultOptions=a.extend({},b.prototype.defaultOptions,{previewTemplate:'\n<div class="dz-preview dz-file-preview">\n  <div class="dz-details">\n    <div class="dz-filename" data-dz-name></div>\n    <div class="dz-size" data-dz-size></div>\n    <div class="dz-thumbnail">\n      <img data-dz-thumbnail>\n      <span class="dz-nopreview">No preview</span>\n      <div class="dz-success-mark"></div>\n      <div class="dz-error-mark"></div>\n      <div class="dz-error-message"><span data-dz-errormessage></span></div>\n    </div>\n  </div>\n  <div class="progress">\n    <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" data-dz-uploadprogress></div>\n  </div>\n</div>',addRemoveLinks:!0,error:function(d,e){var f=c.call(this,d,e);return d.previewElement&&a(d.previewElement).find(".progress-bar-success").removeClass("progress-bar-success").addClass("progress-bar-danger"),f}}),a.fn.dropzone=function(c){for(var d=arguments.length,e=Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];var g=void 0,h=this.each(function(){var d=a(this).data("dropzone"),f="object"===(void 0===c?"undefined":_typeof(c))?c:null;if(d||(d=new b(this,f),a(this).data("dropzone",d)),"string"==typeof c){var h;if(!d[c])throw new Error('No method named "'+c+'".');g=(h=d)[c].apply(h,e)}});return void 0!==g?g:h}}(jQuery,window.Dropzone),function(a){"object"==typeof exports?module.exports=a(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){"use strict";var b={},c=Math.max,d=Math.min;b.c={},b.c.d=a(document),b.c.t=function(a){return a.originalEvent.touches.length-1},b.o=function(){var c=this;this.o=null,this.$=null,this.i=null,this.g=null,this.v=null,this.cv=null,this.x=0,this.y=0,this.w=0,this.h=0,this.$c=null,this.c=null,this.t=0,this.isInit=!1,this.fgColor=null,this.pColor=null,this.dH=null,this.cH=null,this.eH=null,this.rH=null,this.scale=1,this.relative=!1,this.relativeWidth=!1,this.relativeHeight=!1,this.$div=null,this.run=function(){var b=function(a,b){var d;for(d in b)c.o[d]=b[d];c._carve().init(),c._configure()._draw()};if(!this.$.data("kontroled")){if(this.$.data("kontroled",!0),this.extend(),this.o=a.extend({min:void 0!==this.$.data("min")?this.$.data("min"):0,max:void 0!==this.$.data("max")?this.$.data("max"):100,stopper:!0,readOnly:this.$.data("readonly")||"readonly"===this.$.attr("readonly"),cursor:!0===this.$.data("cursor")&&30||this.$.data("cursor")||0,thickness:this.$.data("thickness")&&Math.max(Math.min(this.$.data("thickness"),1),.01)||.35,lineCap:this.$.data("linecap")||"butt",width:this.$.data("width")||200,height:this.$.data("height")||200,displayInput:null==this.$.data("displayinput")||this.$.data("displayinput"),displayPrevious:this.$.data("displayprevious"),fgColor:this.$.data("fgcolor")||"#87CEEB",inputColor:this.$.data("inputcolor"),font:this.$.data("font")||"Arial",fontWeight:this.$.data("font-weight")||"bold",inline:!1,step:this.$.data("step")||1,rotation:this.$.data("rotation"),draw:null,change:null,cancel:null,release:null,format:function(a){return a},parse:function(a){return parseFloat(a)}},this.o),this.o.flip="anticlockwise"===this.o.rotation||"acw"===this.o.rotation,this.o.inputColor||(this.o.inputColor=this.o.fgColor),this.$.is("fieldset")?(this.v={},this.i=this.$.find("input"),this.i.each(function(b){var d=a(this);c.i[b]=d,c.v[b]=c.o.parse(d.val()),d.bind("change blur",function(){var a={};a[b]=d.val(),c.val(c._validate(a))})}),this.$.find("legend").remove()):(this.i=this.$,this.v=this.o.parse(this.$.val()),""===this.v&&(this.v=this.o.min),this.$.bind("change blur",function(){c.val(c._validate(c.o.parse(c.$.val())))})),!this.o.displayInput&&this.$.hide(),this.$c=a(document.createElement("canvas")).attr({width:this.o.width,height:this.o.height}),this.$div=a('<div style="'+(this.o.inline?"display:inline;":"")+"width:"+this.o.width+"px;height:"+this.o.height+'px;"></div>'),this.$.wrap(this.$div).before(this.$c),this.$div=this.$.parent(),"undefined"!=typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(this.$c[0]),this.c=this.$c[0].getContext?this.$c[0].getContext("2d"):null,!this.c)throw{name:"CanvasNotSupportedException",message:"Canvas not supported. Please use excanvas on IE8.0.",toString:function(){return this.name+": "+this.message}};return this.scale=(window.devicePixelRatio||1)/(this.c.webkitBackingStorePixelRatio||this.c.mozBackingStorePixelRatio||this.c.msBackingStorePixelRatio||this.c.oBackingStorePixelRatio||this.c.backingStorePixelRatio||1),this.relativeWidth=this.o.width%1!=0&&this.o.width.indexOf("%"),this.relativeHeight=this.o.height%1!=0&&this.o.height.indexOf("%"),this.relative=this.relativeWidth||this.relativeHeight,this._carve(),this.v instanceof Object?(this.cv={},this.copy(this.v,this.cv)):this.cv=this.v,this.$.bind("configure",b).parent().bind("configure",b),this._listen()._configure()._xy().init(),this.isInit=!0,this.$.val(this.o.format(this.v)),this._draw(),this}},this._carve=function(){if(this.relative){var a=this.relativeWidth?this.$div.parent().width()*parseInt(this.o.width)/100:this.$div.parent().width(),b=this.relativeHeight?this.$div.parent().height()*parseInt(this.o.height)/100:this.$div.parent().height();this.w=this.h=Math.min(a,b)}else this.w=this.o.width,this.h=this.o.height;return this.$div.css({width:this.w+"px",height:this.h+"px"}),this.$c.attr({width:this.w,height:this.h}),1!==this.scale&&(this.$c[0].width=this.$c[0].width*this.scale,this.$c[0].height=this.$c[0].height*this.scale,this.$c.width(this.w),this.$c.height(this.h)),this},this._draw=function(){var a=!0;c.g=c.c,c.clear(),c.dH&&(a=c.dH()),!1!==a&&c.draw()},this._touch=function(a){var d=function(a){var b=c.xy2val(a.originalEvent.touches[c.t].pageX,a.originalEvent.touches[c.t].pageY);b!=c.cv&&(c.cH&&!1===c.cH(b)||(c.change(c._validate(b)),c._draw()))};return this.t=b.c.t(a),d(a),b.c.d.bind("touchmove.k",d).bind("touchend.k",function(){b.c.d.unbind("touchmove.k touchend.k"),c.val(c.cv)}),this},this._mouse=function(a){var d=function(a){var b=c.xy2val(a.pageX,a.pageY);b!=c.cv&&(c.cH&&!1===c.cH(b)||(c.change(c._validate(b)),c._draw()))};return d(a),b.c.d.bind("mousemove.k",d).bind("keyup.k",function(a){if(27===a.keyCode){if(b.c.d.unbind("mouseup.k mousemove.k keyup.k"),c.eH&&!1===c.eH())return;c.cancel()}}).bind("mouseup.k",function(a){b.c.d.unbind("mousemove.k mouseup.k keyup.k"),c.val(c.cv)}),this},this._xy=function(){var a=this.$c.offset();return this.x=a.left,this.y=a.top,this},this._listen=function(){return this.o.readOnly?this.$.attr("readonly","readonly"):(this.$c.bind("mousedown",function(a){a.preventDefault(),c._xy()._mouse(a)}).bind("touchstart",function(a){a.preventDefault(),c._xy()._touch(a)}),this.listen()),this.relative&&a(window).resize(function(){c._carve().init(),c._draw()}),this},this._configure=function(){return this.o.draw&&(this.dH=this.o.draw),this.o.change&&(this.cH=this.o.change),this.o.cancel&&(this.eH=this.o.cancel),this.o.release&&(this.rH=this.o.release),this.o.displayPrevious?(this.pColor=this.h2rgba(this.o.fgColor,"0.4"),this.fgColor=this.h2rgba(this.o.fgColor,"0.6")):this.fgColor=this.o.fgColor,this},this._clear=function(){this.$c[0].width=this.$c[0].width},this._validate=function(a){var b=~~((a<0?-.5:.5)+a/this.o.step)*this.o.step;return Math.round(100*b)/100},this.listen=function(){},this.extend=function(){},this.init=function(){},this.change=function(a){},this.val=function(a){},this.xy2val=function(a,b){},this.draw=function(){},this.clear=function(){this._clear()},this.h2rgba=function(a,b){var c;return a=a.substring(1,7),c=[parseInt(a.substring(0,2),16),parseInt(a.substring(2,4),16),parseInt(a.substring(4,6),16)],"rgba("+c[0]+","+c[1]+","+c[2]+","+b+")"},this.copy=function(a,b){for(var c in a)b[c]=a[c]}},b.Dial=function(){b.o.call(this),this.startAngle=null,this.xy=null,this.radius=null,this.lineWidth=null,this.cursorExt=null,this.w2=null,this.PI2=2*Math.PI,this.extend=function(){this.o=a.extend({bgColor:this.$.data("bgcolor")||"#EEEEEE",angleOffset:this.$.data("angleoffset")||0,angleArc:this.$.data("anglearc")||360,inline:!0},this.o)},this.val=function(a,b){if(null==a)return this.v;a=this.o.parse(a),!1!==b&&a!=this.v&&this.rH&&!1===this.rH(a)||(this.cv=this.o.stopper?c(d(a,this.o.max),this.o.min):a,this.v=this.cv,this.$.val(this.o.format(this.v)),this._draw())},this.xy2val=function(a,b){var e,f;return e=Math.atan2(a-(this.x+this.w2),-(b-this.y-this.w2))-this.angleOffset,this.o.flip&&(e=this.angleArc-e-this.PI2),this.angleArc!=this.PI2&&e<0&&e>-.5?e=0:e<0&&(e+=this.PI2),f=e*(this.o.max-this.o.min)/this.angleArc+this.o.min,this.o.stopper&&(f=c(d(f,this.o.max),this.o.min)),f},this.listen=function(){var e,f,h,i,b=this,g=function(a){a.preventDefault();var g=a.originalEvent,h=g.detail||g.wheelDeltaX,i=g.detail||g.wheelDeltaY,j=b._validate(b.o.parse(b.$.val()))+(h>0||i>0?b.o.step:h<0||i<0?-b.o.step:0);j=c(d(j,b.o.max),b.o.min),b.val(j,!1),b.rH&&(clearTimeout(e),e=setTimeout(function(){b.rH(j),e=null},100),f||(f=setTimeout(function(){e&&b.rH(j),f=null},200)))},j=1,k={37:-b.o.step,38:b.o.step,39:b.o.step,40:-b.o.step};this.$.bind("keydown",function(e){var f=e.keyCode;if(f>=96&&f<=105&&(f=e.keyCode=f-48),h=parseInt(String.fromCharCode(f)),isNaN(h)&&(13!==f&&8!==f&&9!==f&&189!==f&&(190!==f||b.$.val().match(/\./))&&e.preventDefault(),a.inArray(f,[37,38,39,40])>-1)){e.preventDefault();var g=b.o.parse(b.$.val())+k[f]*j;b.o.stopper&&(g=c(d(g,b.o.max),b.o.min)),b.change(b._validate(g)),b._draw(),i=window.setTimeout(function(){j*=2},30)}}).bind("keyup",function(a){isNaN(h)?i&&(window.clearTimeout(i),i=null,j=1,b.val(b.$.val())):b.$.val()>b.o.max&&b.$.val(b.o.max)||b.$.val()<b.o.min&&b.$.val(b.o.min)}),this.$c.bind("mousewheel DOMMouseScroll",g),this.$.bind("mousewheel DOMMouseScroll",g)},this.init=function(){(this.v<this.o.min||this.v>this.o.max)&&(this.v=this.o.min),this.$.val(this.v),this.w2=this.w/2,this.cursorExt=this.o.cursor/100,this.xy=this.w2*this.scale,this.lineWidth=this.xy*this.o.thickness,this.lineCap=this.o.lineCap,this.radius=this.xy-this.lineWidth/2,this.o.angleOffset&&(this.o.angleOffset=isNaN(this.o.angleOffset)?0:this.o.angleOffset),this.o.angleArc&&(this.o.angleArc=isNaN(this.o.angleArc)?this.PI2:this.o.angleArc),this.angleOffset=this.o.angleOffset*Math.PI/180,this.angleArc=this.o.angleArc*Math.PI/180,this.startAngle=1.5*Math.PI+this.angleOffset,this.endAngle=1.5*Math.PI+this.angleOffset+this.angleArc;var a=c(String(Math.abs(this.o.max)).length,String(Math.abs(this.o.min)).length,2)+2;this.o.displayInput&&this.i.css({width:(this.w/2+4>>0)+"px",height:(this.w/3>>0)+"px",position:"absolute","vertical-align":"middle","margin-top":(this.w/3>>0)+"px","margin-left":"-"+(3*this.w/4+2>>0)+"px",border:0,background:"none",font:this.o.fontWeight+" "+(this.w/a>>0)+"px "+this.o.font,"text-align":"center",color:this.o.inputColor||this.o.fgColor,padding:"0px","-webkit-appearance":"none"})||this.i.css({width:"0px",visibility:"hidden"})},this.change=function(a){this.cv=a,this.$.val(this.o.format(a))},this.angle=function(a){return(a-this.o.min)*this.angleArc/(this.o.max-this.o.min)},this.arc=function(a){var b,c;return a=this.angle(a),this.o.flip?(b=this.endAngle+1e-5,c=b-a-1e-5):(b=this.startAngle-1e-5,c=b+a+1e-5),this.o.cursor&&(b=c-this.cursorExt)&&(c+=this.cursorExt),{s:b,e:c,d:this.o.flip&&!this.o.cursor}},this.draw=function(){var c,a=this.g,b=this.arc(this.cv),d=1;a.lineWidth=this.lineWidth,a.lineCap=this.lineCap,"none"!==this.o.bgColor&&(a.beginPath(),a.strokeStyle=this.o.bgColor,a.arc(this.xy,this.xy,this.radius,this.endAngle-1e-5,this.startAngle+1e-5,!0),a.stroke()),this.o.displayPrevious&&(c=this.arc(this.v),a.beginPath(),a.strokeStyle=this.pColor,a.arc(this.xy,this.xy,this.radius,c.s,c.e,c.d),a.stroke(),d=this.cv==this.v),a.beginPath(),a.strokeStyle=d?this.o.fgColor:this.fgColor,a.arc(this.xy,this.xy,this.radius,b.s,b.e,b.d),a.stroke()},this.cancel=function(){this.val(this.v)}},a.fn.dial=a.fn.knob=function(c){return this.each(function(){var d=new b.Dial;d.o=c,d.$=a(this),d.run()}).parent()}}),function(a){"use strict";if(!a.fn.knob)throw new Error("jquery.knob.js required.");var b=a.fn.knob;a.fn.knob=function(c){var d=b.call(this,c);return"rtl"===a("html").attr("dir")?d.each(function(){var b=a(this).find("input");b.css({"margin-left":0,"margin-right":b.css("margin-left")})}):d}}(jQuery),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=a(require("jquery")):a(window.jQuery)}(function($){"use strict";var func=function(){var a=function(a){return function(b){return a===b}},b=function(a,b){return a===b},c=function(a){return function(b,c){return b[a]===c[a]}},d=function(){return!0},e=function(){return!1},f=function(a){return function(){return!a.apply(a,arguments)}},g=function(a,b){return function(c){return a(c)&&b(c)}},j=0;return{eq:a,eq2:b,peq2:c,ok:d,fail:e,self:function(a){return a},not:f,and:g,invoke:function(a,b){return function(){return a[b].apply(a,arguments)}},uniqueId:function(a){var b=++j+"";return a?a+b:b},rect2bnd:function(a){var b=$(document);return{top:a.top+b.scrollTop(),left:a.left+b.scrollLeft(),width:a.right-a.left,height:a.bottom-a.top}},invertObject:function(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[a[c]]=c);return b},namespaceToCamel:function(a,b){return(b=b||"")+a.split(".").map(function(a){return a.substring(0,1).toUpperCase()+a.substring(1)}).join("")},debounce:function(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f)}}}}(),list=function(){var a=function(a){return a[0]},b=function(a){return a[a.length-1]},c=function(a){return a.slice(0,a.length-1)},d=function(a){return a.slice(1)},e=function(a,b){for(var c=0,d=a.length;c<d;c++){var e=a[c];if(b(e))return e}},f=function(a,b){for(var c=0,d=a.length;c<d;c++)if(!b(a[c]))return!1;return!0},g=function(a,b){return $.inArray(b,a)},h=function(a,b){return-1!==g(a,b)},i=function(a,b){return b=b||func.self,a.reduce(function(a,c){return a+b(c)},0)},j=function(a){for(var b=[],c=-1,d=a.length;++c<d;)b[c]=a[c];return b},k=function(a){return!a||!a.length},l=function(c,e){return c.length?d(c).reduce(function(a,c){var d=b(a);return e(b(d),c)?d[d.length]=c:a[a.length]=[c],a},[[a(c)]]):[]},m=function(a){for(var b=[],c=0,d=a.length;c<d;c++)a[c]&&b.push(a[c]);return b},n=function(a){for(var b=[],c=0,d=a.length;c<d;c++)h(b,a[c])||b.push(a[c]);return b},o=function(a,b){var c=g(a,b);return-1===c?null:a[c+1]};return{head:a,last:b,initial:c,tail:d,prev:function(a,b){var c=g(a,b);return-1===c?null:a[c-1]},next:o,find:e,contains:h,all:f,sum:i,from:j,isEmpty:k,clusterBy:l,compact:m,unique:n}}(),isSupportAmd="function"==typeof define&&define.amd,isFontInstalled=function(a){var b="Comic Sans MS"===a?"Courier New":"Comic Sans MS",c=$("<div>").css({position:"absolute",left:"-9999px",top:"-9999px",fontSize:"200px"}).text("mmmmmmmmmwwwwwww").appendTo(document.body),d=c.css("fontFamily",b).width(),e=c.css("fontFamily",a+","+b).width();return c.remove(),d!==e},userAgent=navigator.userAgent,isMSIE=/MSIE|Trident/i.test(userAgent),browserVersion;if(isMSIE){var matches=/MSIE (\d+[.]\d+)/.exec(userAgent);matches&&(browserVersion=parseFloat(matches[1])),matches=/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(userAgent),matches&&(browserVersion=parseFloat(matches[1]))}var isEdge=/Edge\/\d+/.test(userAgent),hasCodeMirror=!!window.CodeMirror;if(!hasCodeMirror&&isSupportAmd&&"undefined"!=typeof require)if(void 0!==require.resolve)try{require.resolve("codemirror"),hasCodeMirror=!0}catch(a){}else void 0!==eval("require").specified&&(hasCodeMirror=eval("require").specified("codemirror"));var agent={isMac:navigator.appVersion.indexOf("Mac")>-1,isMSIE:isMSIE,isEdge:isEdge,isFF:!isEdge&&/firefox/i.test(userAgent),isPhantom:/PhantomJS/i.test(userAgent),isWebkit:!isEdge&&/webkit/i.test(userAgent),isChrome:!isEdge&&/chrome/i.test(userAgent),isSafari:!isEdge&&/safari/i.test(userAgent),browserVersion:browserVersion,jqueryVersion:parseFloat($.fn.jquery),isSupportAmd:isSupportAmd,hasCodeMirror:hasCodeMirror,isFontInstalled:isFontInstalled,isW3CRangeSupport:!!document.createRange},NBSP_CHAR=String.fromCharCode(160),ZERO_WIDTH_NBSP_CHAR="\ufeff",dom=function(){var a=function(a){return a&&$(a).hasClass("note-editable")},b=function(a){return a&&$(a).hasClass("note-control-sizing")},c=function(a){return a=a.toUpperCase(),function(b){return b&&b.nodeName.toUpperCase()===a}},d=function(a){return a&&3===a.nodeType},e=function(a){return a&&1===a.nodeType},f=function(a){return a&&/^BR|^IMG|^HR|^IFRAME|^BUTTON/.test(a.nodeName.toUpperCase())},g=function(b){return!a(b)&&(b&&/^DIV|^P|^LI|^H[1-7]/.test(b.nodeName.toUpperCase()))},h=function(a){return a&&/^H[1-7]/.test(a.nodeName.toUpperCase())},i=c("PRE"),j=c("LI"),k=function(a){return g(a)&&!j(a)},l=c("TABLE"),m=c("DATA"),n=function(a){return!(s(a)||o(a)||p(a)||g(a)||l(a)||r(a)||m(a))},o=function(a){return a&&/^UL|^OL/.test(a.nodeName.toUpperCase())},p=c("HR"),q=function(a){return a&&/^TD|^TH/.test(a.nodeName.toUpperCase())},r=c("BLOCKQUOTE"),s=function(b){return q(b)||r(b)||a(b)},t=c("A"),u=function(a){return n(a)&&!!D(a,g)},v=function(a){return n(a)&&!D(a,g)},w=c("BODY"),x=function(a,b){return a.nextSibling===b||a.previousSibling===b},y=function(a,b){b=b||func.ok;var c=[];return a.previousSibling&&b(a.previousSibling)&&c.push(a.previousSibling),c.push(a),a.nextSibling&&b(a.nextSibling)&&c.push(a.nextSibling),c},z=agent.isMSIE&&agent.browserVersion<11?"&nbsp;":"<br>",A=function(a){return d(a)?a.nodeValue.length:a?a.childNodes.length:0},B=function(a){var b=A(a);return 0===b||(!d(a)&&1===b&&a.innerHTML===z||!(!list.all(a.childNodes,d)||""!==a.innerHTML))},C=function(a){f(a)||A(a)||(a.innerHTML=z)},D=function(b,c){for(;b;){if(c(b))return b;if(a(b))break;b=b.parentNode}return null},E=function(b,c){for(b=b.parentNode;b&&1===A(b);){if(c(b))return b;if(a(b))break;b=b.parentNode}return null},F=function(b,c){c=c||func.fail;var d=[];return D(b,function(b){return a(b)||d.push(b),c(b)}),d},G=function(a,b){var c=F(a);return list.last(c.filter(b))},H=function(a,b){for(var c=F(a),d=b;d;d=d.parentNode)if($.inArray(d,c)>-1)return d;return null},I=function(a,b){b=b||func.fail;for(var c=[];a&&!b(a);)c.push(a),a=a.previousSibling;return c},J=function(a,b){b=b||func.fail;for(var c=[];a&&!b(a);)c.push(a),a=a.nextSibling;return c},K=function(a,b){var c=[];return b=b||func.ok,function d(e){a!==e&&b(e)&&c.push(e);for(var f=0,g=e.childNodes.length;f<g;f++)d(e.childNodes[f])}(a),c},L=function(a,b){var c=a.parentNode,d=$("<"+b+">")[0];return c.insertBefore(d,a),d.appendChild(a),d},M=function(a,b){var c=b.nextSibling,d=b.parentNode;return c?d.insertBefore(a,c):d.appendChild(a),a},N=function(a,b){return $.each(b,function(b,c){a.appendChild(c)}),a},O=function(a){return 0===a.offset},P=function(a){return a.offset===A(a.node)},Q=function(a){return O(a)||P(a)},R=function(a,b){for(;a&&a!==b;){if(0!==V(a))return!1;a=a.parentNode}return!0},S=function(a,b){if(!b)return!1;for(;a&&a!==b;){if(V(a)!==A(a.parentNode)-1)return!1;a=a.parentNode}return!0},T=function(a,b){return O(a)&&R(a.node,b)},U=function(a,b){return P(a)&&S(a.node,b)},V=function(a){for(var b=0;a=a.previousSibling;)b+=1;return b},W=function(a){return!!(a&&a.childNodes&&a.childNodes.length)},X=function(b,c){var d,e;if(0===b.offset){if(a(b.node))return null;d=b.node.parentNode,e=V(b.node)}else W(b.node)?(d=b.node.childNodes[b.offset-1],e=A(d)):(d=b.node,e=c?0:b.offset-1);return{node:d,offset:e}},Y=function(b,c){var d,e;if(A(b.node)===b.offset){if(a(b.node))return null;d=b.node.parentNode,e=V(b.node)+1}else W(b.node)?(d=b.node.childNodes[b.offset],e=0):(d=b.node,e=c?A(b.node):b.offset+1);return{node:d,offset:e}},Z=function(a,b){return a.node===b.node&&a.offset===b.offset},_=function(a){if(d(a.node)||!W(a.node)||B(a.node))return!0;var b=a.node.childNodes[a.offset-1],c=a.node.childNodes[a.offset];return!(b&&!f(b)||c&&!f(c))},aa=function(a,b){for(;a;){if(b(a))return a;a=X(a)}return null},ba=function(a,b){for(;a;){if(b(a))return a;a=Y(a)}return null},ca=function(a){if(!d(a.node))return!1;var b=a.node.nodeValue.charAt(a.offset-1);return b&&" "!==b&&b!==NBSP_CHAR},da=function(a,b,c,d){for(var e=a;e&&(c(e),!Z(e,b));){var f=d&&a.node!==e.node&&b.node!==e.node;e=Y(e,f)}},ea=function(a,b){return F(b,func.eq(a)).map(V).reverse()},fa=function(a,b){for(var c=a,d=0,e=b.length;d<e;d++)c=c.childNodes.length<=b[d]?c.childNodes[c.childNodes.length-1]:c.childNodes[b[d]];return c},ga=function(a,b){var c=b&&b.isSkipPaddingBlankHTML,e=b&&b.isNotSplitEdgePoint;if(Q(a)&&(d(a.node)||e)){if(O(a))return a.node;if(P(a))return a.node.nextSibling}if(d(a.node))return a.node.splitText(a.offset);var f=a.node.childNodes[a.offset],g=M(a.node.cloneNode(!1),a.node);return N(g,J(f)),c||(C(a.node),C(g)),g},ha=function(a,b,c){var d=F(b.node,func.eq(a));return d.length?1===d.length?ga(b,c):d.reduce(function(a,d){return a===b.node&&(a=ga(b,c)),ga({node:d,offset:a?dom.position(a):A(d)},c)}):null},ia=function(a,b){var f,h,c=b?g:s,d=F(a.node,c),e=list.last(d)||a.node;c(e)?(f=d[d.length-2],h=e):(f=e,h=f.parentNode);var i=f&&ha(f,a,{isSkipPaddingBlankHTML:b,isNotSplitEdgePoint:b});return i||h!==a.node||(i=a.node.childNodes[a.offset]),{rightNode:i,container:h}},ja=function(a){return document.createElement(a)},ka=function(a){return document.createTextNode(a)},la=function(a,b){if(a&&a.parentNode){if(a.removeNode)return a.removeNode(b);var c=a.parentNode;if(!b){var e,f,d=[];for(e=0,f=a.childNodes.length;e<f;e++)d.push(a.childNodes[e]);for(e=0,f=d.length;e<f;e++)c.insertBefore(d[e],a)}c.removeChild(a)}},ma=function(b,c){for(;b&&!a(b)&&c(b);){var d=b.parentNode;la(b),b=d}},na=function(a,b){if(a.nodeName.toUpperCase()===b.toUpperCase())return a;var c=ja(b);return a.style.cssText&&(c.style.cssText=a.style.cssText),N(c,list.from(a.childNodes)),M(c,a),la(a),c},oa=c("TEXTAREA"),pa=function(a,b){var c=oa(a[0])?a.val():a.html();return b?c.replace(/[\n\r]/g,""):c},qa=function(a,b){var c=pa(a);if(b){var d=/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g;c=c.replace(d,function(a,b,c){c=c.toUpperCase();var d=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(c)&&!!b,e=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(c);return a+(d||e?"\n":"")}),c=$.trim(c)}return c},ra=function(a){var b=$(a),c=b.offset(),d=b.outerHeight(!0);return{left:c.left,top:c.top+d}},sa=function(a,b){Object.keys(b).forEach(function(c){a.on(c,b[c])})},ta=function(a,b){Object.keys(b).forEach(function(c){a.off(c,b[c])})};return{NBSP_CHAR:NBSP_CHAR,ZERO_WIDTH_NBSP_CHAR:ZERO_WIDTH_NBSP_CHAR,blank:z,emptyPara:"<p>"+z+"</p>",makePredByNodeName:c,isEditable:a,isControlSizing:b,isText:d,isElement:e,isVoid:f,isPara:g,isPurePara:k,isHeading:h,isInline:n,isBlock:func.not(n),isBodyInline:v,isBody:w,isParaInline:u,isPre:i,isList:o,isTable:l,isData:m,isCell:q,isBlockquote:r,isBodyContainer:s,isAnchor:t,isDiv:c("DIV"),isLi:j,isBR:c("BR"),isSpan:c("SPAN"),isB:c("B"),isU:c("U"),isS:c("S"),isI:c("I"),isImg:c("IMG"),isTextarea:oa,isEmpty:B,isEmptyAnchor:func.and(t,B),isClosestSibling:x,withClosestSiblings:y,nodeLength:A,isLeftEdgePoint:O,isRightEdgePoint:P,isEdgePoint:Q,isLeftEdgeOf:R,isRightEdgeOf:S,isLeftEdgePointOf:T,isRightEdgePointOf:U,prevPoint:X,nextPoint:Y,isSamePoint:Z,isVisiblePoint:_,prevPointUntil:aa,nextPointUntil:ba,isCharPoint:ca,walkPoint:da,ancestor:D,singleChildAncestor:E,listAncestor:F,lastAncestor:G,listNext:J,listPrev:I,listDescendant:K,commonAncestor:H,wrap:L,insertAfter:M,appendChildNodes:N,position:V,hasChildren:W,makeOffsetPath:ea,fromOffsetPath:fa,splitTree:ha,splitPoint:ia,create:ja,createText:ka,remove:la,removeWhile:ma,replace:na,html:qa,value:pa,posFromPlaceholder:ra,attachEvents:sa,detachEvents:ta}}(),Context=function(a,b){var c=this,d=$.summernote.ui;return this.memos={},this.modules={},this.layoutInfo={},this.options=b,this.initialize=function(){return this.layoutInfo=d.createLayout(a,b),this._initialize(),a.hide(),this},this.destroy=function(){this._destroy(),a.removeData("summernote"),d.removeLayout(a,this.layoutInfo)},this.reset=function(){var a=c.isDisabled();this.code(dom.emptyPara),this._destroy(),this._initialize(),a&&c.disable()},this._initialize=function(){var a=$.extend({},this.options.buttons);Object.keys(a).forEach(function(b){c.memo("button."+b,a[b])});var b=$.extend({},this.options.modules,$.summernote.plugins||{});Object.keys(b).forEach(function(a){c.module(a,b[a],!0)}),Object.keys(this.modules).forEach(function(a){c.initializeModule(a)})},this._destroy=function(){Object.keys(this.modules).reverse().forEach(function(a){c.removeModule(a)}),Object.keys(this.memos).forEach(function(a){c.removeMemo(a)})},this.code=function(b){var c=this.invoke("codeview.isActivated");if(void 0===b)return this.invoke("codeview.sync"),c?this.layoutInfo.codable.val():this.layoutInfo.editable.html();c?this.layoutInfo.codable.val(b):this.layoutInfo.editable.html(b),a.val(b),this.triggerEvent("change",b)},this.isDisabled=function(){return"false"===this.layoutInfo.editable.attr("contenteditable")},this.enable=function(){this.layoutInfo.editable.attr("contenteditable",!0),this.invoke("toolbar.activate",!0)},this.disable=function(){this.invoke("codeview.isActivated")&&this.invoke("codeview.deactivate"),this.layoutInfo.editable.attr("contenteditable",!1),this.invoke("toolbar.deactivate",!0)},this.triggerEvent=function(){var b=list.head(arguments),c=list.tail(list.from(arguments)),d=this.options.callbacks[func.namespaceToCamel(b,"on")];d&&d.apply(a[0],c),a.trigger("summernote."+b,c)},this.initializeModule=function(b){var c=this.modules[b];c.shouldInitialize=c.shouldInitialize||func.ok,c.shouldInitialize()&&(c.initialize&&c.initialize(),c.events&&dom.attachEvents(a,c.events))},this.module=function(a,b,c){if(1===arguments.length)return this.modules[a];this.modules[a]=new b(this),c||this.initializeModule(a)},this.removeModule=function(b){var c=this.modules[b];c.shouldInitialize()&&(c.events&&dom.detachEvents(a,c.events),c.destroy&&c.destroy()),delete this.modules[b]},this.memo=function(a,b){if(1===arguments.length)return this.memos[a];this.memos[a]=b},this.removeMemo=function(a){this.memos[a]&&this.memos[a].destroy&&this.memos[a].destroy(),delete this.memos[a]},this.createInvokeHandler=function(a,b){return function(d){d.preventDefault(),c.invoke(a,b||$(d.target).closest("[data-value]").data("value"))}},this.invoke=function(){var a=list.head(arguments),b=list.tail(list.from(arguments)),c=a.split("."),d=c.length>1,e=d&&list.head(c),f=d?list.last(c):list.head(c),g=this.modules[e||"editor"];return!e&&this[f]?this[f].apply(this,b):g&&g[f]&&g.shouldInitialize()?g[f].apply(g,b):void 0},this.initialize()};$.fn.extend({summernote:function(){var a=$.type(list.head(arguments)),b="string"===a,c="object"===a,d=c?list.head(arguments):{};d=$.extend({},$.summernote.options,d),d.langInfo=$.extend(!0,{},$.summernote.lang["en-US"],$.summernote.lang[d.lang]),d.icons=$.extend(!0,{},$.summernote.options.icons,d.icons),this.each(function(a,b){var c=$(b);if(!c.data("summernote")){var e=new Context(c,d);c.data("summernote",e),c.data("summernote").triggerEvent("init",e.layoutInfo)}});var e=this.first();if(e.length){var f=e.data("summernote");if(b)return f.invoke.apply(f,list.from(arguments));d.focus&&f.invoke("editor.focus")}return this}});var Renderer=function(a,b,c,d){this.render=function(e){var f=$(a);if(c&&c.contents&&f.html(c.contents),c&&c.className&&f.addClass(c.className),c&&c.data&&$.each(c.data,function(a,b){f.attr("data-"+a,b)}),c&&c.click&&f.on("click",c.click),b){var g=f.find(".note-children-container");b.forEach(function(a){a.render(g.length?g:f)})}return d&&d(f,c),c&&c.callback&&c.callback(f),e&&e.append(f),f}},renderer={create:function(a,b){return function(){var c=$.isArray(arguments[0])?arguments[0]:[],d="object"==typeof arguments[1]?arguments[1]:arguments[0];return d&&d.children&&(c=d.children),new Renderer(a,c,d,b)}}},editor=renderer.create('<div class="note-editor note-frame panel panel-default"/>'),toolbar=renderer.create('<div class="note-toolbar panel-heading"/>'),editingArea=renderer.create('<div class="note-editing-area"/>'),codable=renderer.create('<textarea class="note-codable"/>'),editable=renderer.create('<div class="note-editable panel-body" contentEditable="true"/>'),statusbar=renderer.create(['<div class="note-statusbar">','  <div class="note-resizebar">','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>',"  </div>","</div>"].join("")),airEditor=renderer.create('<div class="note-editor"/>'),airEditable=renderer.create('<div class="note-editable" contentEditable="true"/>'),buttonGroup=renderer.create('<div class="note-btn-group btn-group">'),button=renderer.create('<button type="button" class="note-btn btn btn-default btn-sm" tabindex="-1">',function(a,b){b&&b.tooltip&&a.attr({title:b.tooltip}).tooltip({container:"body",trigger:"hover",placement:"bottom"})}),dropdown=renderer.create('<div class="dropdown-menu">',function(a,b){var c=$.isArray(b.items)?b.items.map(function(a){return'<li><a href="#" data-value="'+("string"==typeof a?a:a.value||"")+'">'+(b.template?b.template(a):a)+"</a></li>"}).join(""):b.items;a.html(c)}),dropdownCheck=renderer.create('<div class="dropdown-menu note-check">',function(a,b){var c=$.isArray(b.items)?b.items.map(function(a){var c="string"==typeof a?a:a.value||"",d=b.template?b.template(a):a;return'<li><a href="#" data-value="'+c+'">'+icon(b.checkClassName)+" "+d+"</a></li>"}).join(""):b.items;a.html(c)}),palette=renderer.create('<div class="note-color-palette"/>',function(a,b){for(var c=[],d=0,e=b.colors.length;d<e;d++){for(var f=b.eventName,g=b.colors[d],h=[],i=0,j=g.length;i<j;i++){var k=g[i];h.push(['<button type="button" class="note-color-btn"','style="background-color:',k,'" ','data-event="',f,'" ','data-value="',k,'" ','title="',k,'" ','data-toggle="button" tabindex="-1"></button>'].join(""))}c.push('<div class="note-color-row">'+h.join("")+"</div>")}a.html(c.join("")),a.find(".note-color-btn").tooltip({container:"body",trigger:"hover",placement:"bottom"})}),dialog=renderer.create('<div class="modal" aria-hidden="false" tabindex="-1"/>',function(a,b){b.fade&&a.addClass("fade"),a.html(['<div class="modal-dialog">','  <div class="modal-content">',b.title?'    <div class="modal-header">      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>      <h4 class="modal-title">'+b.title+"</h4>    </div>":"",'    <div class="modal-body">'+b.body+"</div>",b.footer?'    <div class="modal-footer">'+b.footer+"</div>":"","  </div>","</div>"].join(""))}),popover=renderer.create(['<div class="note-popover popover in">','  <div class="arrow"/>','  <div class="popover-content note-children-container"/>',"</div>"].join(""),function(a,b){var c=void 0!==b.direction?b.direction:"bottom";a.addClass(c),b.hideArrow&&a.find(".arrow").hide()}),icon=function(a,b){return"<"+(b=b||"i")+' class="'+a+'"/>'},ui={editor:editor,toolbar:toolbar,editingArea:editingArea,codable:codable,editable:editable,statusbar:statusbar,airEditor:airEditor,airEditable:airEditable,buttonGroup:buttonGroup,button:button,dropdown:dropdown,dropdownCheck:dropdownCheck,palette:palette,dialog:dialog,popover:popover,icon:icon,toggleBtn:function(a,b){a.toggleClass("disabled",!b),a.attr("disabled",!b)},toggleBtnActive:function(a,b){a.toggleClass("active",b)},onDialogShown:function(a,b){a.one("shown.bs.modal",b)},onDialogHidden:function(a,b){a.one("hidden.bs.modal",b)},showDialog:function(a){a.modal("show")},hideDialog:function(a){a.modal("hide")},createLayout:function(a,b){var c=(b.airMode?ui.airEditor([ui.editingArea([ui.airEditable()])]):ui.editor([ui.toolbar(),ui.editingArea([ui.codable(),ui.editable()]),ui.statusbar()])).render();return c.insertAfter(a),{note:a,editor:c,toolbar:c.find(".note-toolbar"),editingArea:c.find(".note-editing-area"),editable:c.find(".note-editable"),codable:c.find(".note-codable"),statusbar:c.find(".note-statusbar")}},removeLayout:function(a,b){a.html(b.editable.html()),b.editor.remove(),a.show()}};$.summernote=$.summernote||{lang:{}},$.extend($.summernote.lang,{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",normal:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Undo",redo:"Redo"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}});var key=function(){var a={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221};return{isEdit:function(b){return list.contains([a.BACKSPACE,a.TAB,a.ENTER,a.SPACE],b)},isMove:function(b){return list.contains([a.LEFT,a.UP,a.RIGHT,a.DOWN],b)},nameFromCode:func.invertObject(a),code:a}}(),range=function(){var a=function(a,b){var d,f,c=a.parentElement(),e=document.body.createTextRange(),g=list.from(c.childNodes);for(d=0;d<g.length;d++)if(!dom.isText(g[d])){if(e.moveToElementText(g[d]),e.compareEndPoints("StartToStart",a)>=0)break;f=g[d]}if(0!==d&&dom.isText(g[d-1])){var h=document.body.createTextRange(),i=null;h.moveToElementText(f||c),h.collapse(!f),i=f?f.nextSibling:c.firstChild;var j=a.duplicate();j.setEndPoint("StartToStart",h);for(var k=j.text.replace(/[\r\n]/g,"").length;k>i.nodeValue.length&&i.nextSibling;)k-=i.nodeValue.length,i=i.nextSibling;i.nodeValue;b&&i.nextSibling&&dom.isText(i.nextSibling)&&k===i.nodeValue.length&&(k-=i.nodeValue.length,i=i.nextSibling),c=i,d=k}return{cont:c,offset:d}},b=function(a){var b=function(a,c){var d,e;if(dom.isText(a)){var f=dom.listPrev(a,func.not(dom.isText)),g=list.last(f).previousSibling;d=g||a.parentNode,c+=list.sum(list.tail(f),dom.nodeLength),e=!g}else{if(d=a.childNodes[c]||a,dom.isText(d))return b(d,0);c=0,e=!1}return{node:d,collapseToStart:e,offset:c}},c=document.body.createTextRange(),d=b(a.node,a.offset);return c.moveToElementText(d.node),c.collapse(d.collapseToStart),c.moveStart("character",d.offset),c},c=function(a,d,e,f){this.sc=a,this.so=d,this.ec=e,this.eo=f;var g=function(){if(agent.isW3CRangeSupport){var c=document.createRange();return c.setStart(a,d),c.setEnd(e,f),c}var g=b({node:a,offset:d});return g.setEndPoint("EndToEnd",b({node:e,offset:f})),g};this.getPoints=function(){return{sc:a,so:d,ec:e,eo:f}},this.getStartPoint=function(){return{node:a,offset:d}},this.getEndPoint=function(){return{node:e,offset:f}},this.select=function(){var a=g();if(agent.isW3CRangeSupport){var b=document.getSelection();b.rangeCount>0&&b.removeAllRanges(),b.addRange(a)}else a.select();return this},this.scrollIntoView=function(a){var b=$(a).height();return a.scrollTop+b<this.sc.offsetTop&&(a.scrollTop+=Math.abs(a.scrollTop+b-this.sc.offsetTop)),this},this.normalize=function(){var a=function(a,b){if(dom.isVisiblePoint(a)&&!dom.isEdgePoint(a)||dom.isVisiblePoint(a)&&dom.isRightEdgePoint(a)&&!b||dom.isVisiblePoint(a)&&dom.isLeftEdgePoint(a)&&b||dom.isVisiblePoint(a)&&dom.isBlock(a.node)&&dom.isEmpty(a.node))return a;var c=dom.ancestor(a.node,dom.isBlock);if((dom.isLeftEdgePointOf(a,c)||dom.isVoid(dom.prevPoint(a).node))&&!b||(dom.isRightEdgePointOf(a,c)||dom.isVoid(dom.nextPoint(a).node))&&b){if(dom.isVisiblePoint(a))return a;b=!b}return(b?dom.nextPointUntil(dom.nextPoint(a),dom.isVisiblePoint):dom.prevPointUntil(dom.prevPoint(a),dom.isVisiblePoint))||a},b=a(this.getEndPoint(),!1),d=this.isCollapsed()?b:a(this.getStartPoint(),!0);return new c(d.node,d.offset,b.node,b.offset)},this.nodes=function(a,b){a=a||func.ok;var c=b&&b.includeAncestor,d=b&&b.fullyContains,e=this.getStartPoint(),f=this.getEndPoint(),g=[],h=[];return dom.walkPoint(e,f,function(b){if(!dom.isEditable(b.node)){var e;d?(dom.isLeftEdgePoint(b)&&h.push(b.node),dom.isRightEdgePoint(b)&&list.contains(h,b.node)&&(e=b.node)):e=c?dom.ancestor(b.node,a):b.node,e&&a(e)&&g.push(e)}},!0),list.unique(g)},this.commonAncestor=function(){return dom.commonAncestor(a,e)},this.expand=function(b){var g=dom.ancestor(a,b),h=dom.ancestor(e,b);if(!g&&!h)return new c(a,d,e,f);var i=this.getPoints();return g&&(i.sc=g,i.so=0),h&&(i.ec=h,i.eo=dom.nodeLength(h)),new c(i.sc,i.so,i.ec,i.eo)},this.collapse=function(b){return b?new c(a,d,a,d):new c(e,f,e,f)},this.splitText=function(){var b=a===e,g=this.getPoints();return dom.isText(e)&&!dom.isEdgePoint(this.getEndPoint())&&e.splitText(f),dom.isText(a)&&!dom.isEdgePoint(this.getStartPoint())&&(g.sc=a.splitText(d),g.so=0,b&&(g.ec=g.sc,g.eo=f-d)),new c(g.sc,g.so,g.ec,g.eo)},this.deleteContents=function(){if(this.isCollapsed())return this;var a=this.splitText(),b=a.nodes(null,{fullyContains:!0}),d=dom.prevPointUntil(a.getStartPoint(),function(a){return!list.contains(b,a.node)}),e=[];return $.each(b,function(a,b){var c=b.parentNode;d.node!==c&&1===dom.nodeLength(c)&&e.push(c),dom.remove(b,!1)}),$.each(e,function(a,b){dom.remove(b,!1)}),new c(d.node,d.offset,d.node,d.offset).normalize()};var h=function(b){return function(){var c=dom.ancestor(a,b);return!!c&&c===dom.ancestor(e,b)}};this.isOnEditable=h(dom.isEditable),this.isOnList=h(dom.isList),this.isOnAnchor=h(dom.isAnchor),this.isOnCell=h(dom.isCell),this.isOnData=h(dom.isData),this.isLeftEdgeOf=function(a){if(!dom.isLeftEdgePoint(this.getStartPoint()))return!1;var b=dom.ancestor(this.sc,a);return b&&dom.isLeftEdgeOf(this.sc,b)},this.isCollapsed=function(){return a===e&&d===f},this.wrapBodyInlineWithPara=function(){if(dom.isBodyContainer(a)&&dom.isEmpty(a))return a.innerHTML=dom.emptyPara,new c(a.firstChild,0,a.firstChild,0);var b=this.normalize();if(dom.isParaInline(a)||dom.isPara(a))return b;var d;if(dom.isInline(b.sc)){var e=dom.listAncestor(b.sc,func.not(dom.isInline));d=list.last(e),dom.isInline(d)||(d=e[e.length-2]||b.sc.childNodes[b.so])}else d=b.sc.childNodes[b.so>0?b.so-1:0];var f=dom.listPrev(d,dom.isParaInline).reverse();if(f=f.concat(dom.listNext(d.nextSibling,dom.isParaInline)),f.length){var g=dom.wrap(list.head(f),"p");dom.appendChildNodes(g,list.tail(f))}return this.normalize()},this.insertNode=function(a){var b=this.wrapBodyInlineWithPara().deleteContents(),c=dom.splitPoint(b.getStartPoint(),dom.isInline(a));return c.rightNode?c.rightNode.parentNode.insertBefore(a,c.rightNode):c.container.appendChild(a),a},this.pasteHTML=function(a){var b=$("<div></div>").html(a)[0],c=list.from(b.childNodes),d=this.wrapBodyInlineWithPara().deleteContents();return c.reverse().map(function(a){return d.insertNode(a)}).reverse()},this.toString=function(){var a=g();return agent.isW3CRangeSupport?a.toString():a.text},this.getWordRange=function(a){var b=this.getEndPoint();if(!dom.isCharPoint(b))return this;var d=dom.prevPointUntil(b,function(a){return!dom.isCharPoint(a)});return a&&(b=dom.nextPointUntil(b,function(a){return!dom.isCharPoint(a)})),new c(d.node,d.offset,b.node,b.offset)},this.bookmark=function(b){return{s:{path:dom.makeOffsetPath(b,a),offset:d},e:{path:dom.makeOffsetPath(b,e),offset:f}}},this.paraBookmark=function(b){return{s:{path:list.tail(dom.makeOffsetPath(list.head(b),a)),offset:d},e:{path:list.tail(dom.makeOffsetPath(list.last(b),e)),offset:f}}},this.getClientRects=function(){return g().getClientRects()}};return{create:function(a,b,d,e){if(4===arguments.length)return new c(a,b,d,e);if(2===arguments.length)return d=a,e=b,new c(a,b,d,e);var f=this.createFromSelection();return f||1!==arguments.length?f:(f=this.createFromNode(arguments[0]),f.collapse(dom.emptyPara===arguments[0].innerHTML))},createFromSelection:function(){var b,d,e,f;if(agent.isW3CRangeSupport){var g=document.getSelection();if(!g||0===g.rangeCount)return null;if(dom.isBody(g.anchorNode))return null;var h=g.getRangeAt(0);b=h.startContainer,d=h.startOffset,e=h.endContainer,f=h.endOffset}else{var i=document.selection.createRange(),j=i.duplicate();j.collapse(!1);var k=i;k.collapse(!0);var l=a(k,!0),m=a(j,!1);dom.isText(l.node)&&dom.isLeftEdgePoint(l)&&dom.isTextNode(m.node)&&dom.isRightEdgePoint(m)&&m.node.nextSibling===l.node&&(l=m),b=l.cont,d=l.offset,e=m.cont,f=m.offset}return new c(b,d,e,f)},createFromNode:function(a){var b=a,c=0,d=a,e=dom.nodeLength(d);return dom.isVoid(b)&&(c=dom.listPrev(b).length-1,b=b.parentNode),dom.isBR(d)?(e=dom.listPrev(d).length-1,d=d.parentNode):dom.isVoid(d)&&(e=dom.listPrev(d).length,d=d.parentNode),this.create(b,c,d,e)},createFromNodeBefore:function(a){return this.createFromNode(a).collapse(!0)},createFromNodeAfter:function(a){return this.createFromNode(a).collapse()},createFromBookmark:function(a,b){var d=dom.fromOffsetPath(a,b.s.path),e=b.s.offset,f=dom.fromOffsetPath(a,b.e.path),g=b.e.offset;return new c(d,e,f,g)},createFromParaBookmark:function(a,b){var d=a.s.offset,e=a.e.offset,f=dom.fromOffsetPath(list.head(b),a.s.path),g=dom.fromOffsetPath(list.last(b),a.e.path);return new c(f,d,g,e)}}}(),async=function(){return{readFileAsDataURL:function(a){return $.Deferred(function(b){$.extend(new FileReader,{onload:function(a){var c=a.target.result;b.resolve(c)},onerror:function(){b.reject(this)}}).readAsDataURL(a)}).promise()},createImage:function(a){return $.Deferred(function(b){var c=$("<img>");c.one("load",function(){c.off("error abort"),b.resolve(c)}).one("error abort",function(){c.off("load").detach(),b.reject(c)}).css({display:"none"}).appendTo(document.body).attr("src",a)}).promise()}}}(),History=function(a){var b=[],c=-1,d=a[0],e=function(){var b=range.create(d),c={s:{path:[],offset:0},e:{path:[],offset:0}};return{contents:a.html(),bookmark:b?b.bookmark(d):c}},f=function(b){null!==b.contents&&a.html(b.contents),null!==b.bookmark&&range.createFromBookmark(d,b.bookmark).select()};this.rewind=function(){a.html()!==b[c].contents&&this.recordUndo(),c=0,f(b[c])},this.reset=function(){b=[],c=-1,a.html(""),this.recordUndo()},this.undo=function(){a.html()!==b[c].contents&&this.recordUndo(),0<c&&(c--,f(b[c]))},this.redo=function(){b.length-1>c&&(c++,f(b[c]))},this.recordUndo=function(){c++,b.length>c&&(b=b.slice(0,c)),b.push(e())}},Style=function(){var a=function(a,b){if(agent.jqueryVersion<1.9){var c={};return $.each(b,function(b,d){c[d]=a.css(d)}),c}return a.css.call(a,b)};this.fromNode=function(b){var c=["font-family","font-size","text-align","list-style-type","line-height"],d=a(b,c)||{};return d["font-size"]=parseInt(d["font-size"],10),d},this.stylePara=function(a,b){$.each(a.nodes(dom.isPara,{includeAncestor:!0}),function(a,c){$(c).css(b)})},this.styleNodes=function(a,b){a=a.splitText();var c=b&&b.nodeName||"SPAN",d=!(!b||!b.expandClosestSibling),e=!(!b||!b.onlyPartialContains);if(a.isCollapsed())return[a.insertNode(dom.create(c))];var f=dom.makePredByNodeName(c),g=a.nodes(dom.isText,{fullyContains:!0}).map(function(a){return dom.singleChildAncestor(a,f)||dom.wrap(a,c)});if(d){if(e){var h=a.nodes();f=func.and(f,function(a){return list.contains(h,a)})}return g.map(function(a){var b=dom.withClosestSiblings(a,f),c=list.head(b),d=list.tail(b);return $.each(d,function(a,b){dom.appendChildNodes(c,b.childNodes),dom.remove(b)}),list.head(b)})}return g},this.current=function(a){var b=$(dom.isElement(a.sc)?a.sc:a.sc.parentNode),c=this.fromNode(b);try{c=$.extend(c,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal"})}catch(a){}if(a.isOnList()){var d=["circle","disc","disc-leading-zero","square"],e=$.inArray(c["list-style-type"],d)>-1;c["list-style"]=e?"unordered":"ordered"}else c["list-style"]="none";var f=dom.ancestor(a.sc,dom.isPara);if(f&&f.style["line-height"])c["line-height"]=f.style.lineHeight;else{var g=parseInt(c["line-height"],10)/parseInt(c["font-size"],10);c["line-height"]=g.toFixed(1)}return c.anchor=a.isOnAnchor()&&dom.ancestor(a.sc,dom.isAnchor),c.ancestors=dom.listAncestor(a.sc,dom.isEditable),c.range=a,c}},Bullet=function(){var a=this;this.insertOrderedList=function(a){this.toggleList("OL",a)},this.insertUnorderedList=function(a){this.toggleList("UL",a)},this.indent=function(a){var b=this,c=range.create(a).wrapBodyInlineWithPara(),d=c.nodes(dom.isPara,{includeAncestor:!0}),e=list.clusterBy(d,func.peq2("parentNode"));$.each(e,function(a,c){var d=list.head(c);dom.isLi(d)?b.wrapList(c,d.parentNode.nodeName):$.each(c,function(a,b){$(b).css("marginLeft",function(a,b){return(parseInt(b,10)||0)+25})})}),c.select()},this.outdent=function(a){var b=this,c=range.create(a).wrapBodyInlineWithPara(),d=c.nodes(dom.isPara,{includeAncestor:!0}),e=list.clusterBy(d,func.peq2("parentNode"));$.each(e,function(a,c){var d=list.head(c);dom.isLi(d)?b.releaseList([c]):$.each(c,function(a,b){$(b).css("marginLeft",function(a,b){return b=parseInt(b,10)||0,b>25?b-25:""})})}),c.select()},this.toggleList=function(b,c){var d=range.create(c).wrapBodyInlineWithPara(),e=d.nodes(dom.isPara,{includeAncestor:!0}),f=d.paraBookmark(e),g=list.clusterBy(e,func.peq2("parentNode"));if(list.find(e,dom.isPurePara)){var h=[];$.each(g,function(c,d){h=h.concat(a.wrapList(d,b))}),e=h}else{var i=d.nodes(dom.isList,{includeAncestor:!0}).filter(function(a){return!$.nodeName(a,b)});i.length?$.each(i,function(a,c){dom.replace(c,b)}):e=this.releaseList(g,!0)}range.createFromParaBookmark(f,e).select()},this.wrapList=function(a,b){var c=list.head(a),d=list.last(a),e=dom.isList(c.previousSibling)&&c.previousSibling,f=dom.isList(d.nextSibling)&&d.nextSibling,g=e||dom.insertAfter(dom.create(b||"UL"),d);return a=a.map(function(a){return dom.isPurePara(a)?dom.replace(a,"LI"):a}),dom.appendChildNodes(g,a),f&&(dom.appendChildNodes(g,list.from(f.childNodes)),dom.remove(f)),a},this.releaseList=function(a,b){var c=[];return $.each(a,function(a,d){var e=list.head(d),f=list.last(d),g=b?dom.lastAncestor(e,dom.isList):e.parentNode,h=g.childNodes.length>1?dom.splitTree(g,{node:f.parentNode,offset:dom.position(f)+1},{isSkipPaddingBlankHTML:!0}):null,i=dom.splitTree(g,{node:e.parentNode,offset:dom.position(e)},{isSkipPaddingBlankHTML:!0});d=b?dom.listDescendant(i,dom.isLi):list.from(i.childNodes).filter(dom.isLi),!b&&dom.isList(g.parentNode)||(d=d.map(function(a){return dom.replace(a,"P")})),$.each(list.from(d).reverse(),function(a,b){dom.insertAfter(b,g)});var j=list.compact([g,i,h]);$.each(j,function(a,b){var c=[b].concat(dom.listDescendant(b,dom.isList));$.each(c.reverse(),function(a,b){dom.nodeLength(b)||dom.remove(b,!0)})}),c=c.concat(d)}),c}},Typing=function(){var a=new Bullet;this.insertTab=function(a,b){var c=dom.createText(new Array(b+1).join(dom.NBSP_CHAR));a=a.deleteContents(),a.insertNode(c,!0),a=range.create(c,b),a.select()},this.insertParagraph=function(b){var c=range.create(b);c=c.deleteContents(),c=c.wrapBodyInlineWithPara();var e,d=dom.ancestor(c.sc,dom.isPara);if(d){if(dom.isEmpty(d)&&dom.isLi(d))return void a.toggleList(d.parentNode.nodeName);if(dom.isEmpty(d)&&dom.isPara(d)&&dom.isBlockquote(d.parentNode))dom.insertAfter(d,d.parentNode),e=d;else{e=dom.splitTree(d,c.getStartPoint());var f=dom.listDescendant(d,dom.isEmptyAnchor);f=f.concat(dom.listDescendant(e,dom.isEmptyAnchor)),$.each(f,function(a,b){dom.remove(b)}),(dom.isHeading(e)||dom.isPre(e))&&dom.isEmpty(e)&&(e=dom.replace(e,"p"))}}else{var g=c.sc.childNodes[c.so];e=$(dom.emptyPara)[0],g?c.sc.insertBefore(e,g):c.sc.appendChild(e)}range.create(e,0).normalize().select().scrollIntoView(b)}},Table=function(){this.tab=function(a,b){var c=dom.ancestor(a.commonAncestor(),dom.isCell),d=dom.ancestor(c,dom.isTable),e=dom.listDescendant(d,dom.isCell),f=list[b?"prev":"next"](e,c);f&&range.create(f,0).select()},this.createTable=function(a,b,c){for(var e,d=[],f=0;f<a;f++)d.push("<td>"+dom.blank+"</td>");e=d.join("");for(var h,g=[],i=0;i<b;i++)g.push("<tr>"+e+"</tr>");h=g.join("");var j=$("<table>"+h+"</table>");return c&&c.tableClassName&&j.addClass(c.tableClassName),j[0]}},KEY_BOGUS="bogus",Editor=function(a){var b=this,c=a.layoutInfo.note,d=a.layoutInfo.editor,e=a.layoutInfo.editable,f=a.options,g=f.langInfo,h=e[0],i=null,j=new Style,k=new Table,l=new Typing,m=new Bullet,n=new History(e);this.initialize=function(){e.on("keydown",function(c){c.keyCode===key.code.ENTER&&a.triggerEvent("enter",c),a.triggerEvent("keydown",c),c.isDefaultPrevented()||(f.shortcuts?b.handleKeyMap(c):b.preventDefaultEditableShortCuts(c))}).on("keyup",function(b){a.triggerEvent("keyup",b)}).on("focus",function(b){a.triggerEvent("focus",b)}).on("blur",function(b){a.triggerEvent("blur",b)}).on("mousedown",function(b){a.triggerEvent("mousedown",b)}).on("mouseup",function(b){a.triggerEvent("mouseup",b)}).on("scroll",function(b){a.triggerEvent("scroll",b)}).on("paste",function(b){a.triggerEvent("paste",b)}),e.html(dom.html(c)||dom.emptyPara);var g=agent.isMSIE?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input";e.on(g,func.debounce(function(){a.triggerEvent("change",e.html())},250)),d.on("focusin",function(b){a.triggerEvent("focusin",b)}).on("focusout",function(b){a.triggerEvent("focusout",b)}),f.airMode||(f.width&&d.outerWidth(f.width),f.height&&e.outerHeight(f.height),f.maxHeight&&e.css("max-height",f.maxHeight),f.minHeight&&e.css("min-height",f.minHeight)),n.recordUndo()},this.destroy=function(){e.off()},this.handleKeyMap=function(b){var c=f.keyMap[agent.isMac?"mac":"pc"],d=[];b.metaKey&&d.push("CMD"),b.ctrlKey&&!b.altKey&&d.push("CTRL"),b.shiftKey&&d.push("SHIFT");var e=key.nameFromCode[b.keyCode];e&&d.push(e);var g=c[d.join("+")];g?(b.preventDefault(),a.invoke(g)):key.isEdit(b.keyCode)&&this.afterCommand()},this.preventDefaultEditableShortCuts=function(a){(a.ctrlKey||a.metaKey)&&list.contains([66,73,85],a.keyCode)&&a.preventDefault()},this.createRange=function(){return this.focus(),range.create(h)},this.saveRange=function(a){i=this.createRange(),a&&i.collapse().select()},this.restoreRange=function(){i&&(i.select(),this.focus())},this.saveTarget=function(a){e.data("target",a)},this.clearTarget=function(){e.removeData("target")},this.restoreTarget=function(){return e.data("target")},this.currentStyle=function(){var a=range.create();return a&&(a=a.normalize()),a?j.current(a):j.fromNode(e)},this.styleFromNode=function(a){return j.fromNode(a)},this.undo=function(){a.triggerEvent("before.command",e.html()),n.undo(),a.triggerEvent("change",e.html())},a.memo("help.undo",g.help.undo),this.redo=function(){a.triggerEvent("before.command",e.html()),n.redo(),a.triggerEvent("change",e.html())},a.memo("help.redo",g.help.redo);for(var o=this.beforeCommand=function(){a.triggerEvent("before.command",e.html()),b.focus()},p=this.afterCommand=function(b){n.recordUndo(),b||a.triggerEvent("change",e.html())},q=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor","foreColor","fontName"],r=0,s=q.length;r<s;r++)this[q[r]]=function(a){return function(b){o(),document.execCommand(a,!1,b),p(!0)}}(q[r]),a.memo("help."+q[r],g.help[q[r]]);this.tab=function(){var a=this.createRange();a.isCollapsed()&&a.isOnCell()?k.tab(a):(o(),l.insertTab(a,f.tabSize),p())},a.memo("help.tab",g.help.tab),this.untab=function(){var a=this.createRange();a.isCollapsed()&&a.isOnCell()&&k.tab(a,!0)},a.memo("help.untab",g.help.untab),this.wrapCommand=function(a){return function(){o(),a.apply(b,arguments),p()}},this.insertParagraph=this.wrapCommand(function(){l.insertParagraph(h)}),a.memo("help.insertParagraph",g.help.insertParagraph),this.insertOrderedList=this.wrapCommand(function(){m.insertOrderedList(h)}),a.memo("help.insertOrderedList",g.help.insertOrderedList),this.insertUnorderedList=this.wrapCommand(function(){m.insertUnorderedList(h)}),a.memo("help.insertUnorderedList",g.help.insertUnorderedList),this.indent=this.wrapCommand(function(){m.indent(h)}),a.memo("help.indent",g.help.indent),this.outdent=this.wrapCommand(function(){m.outdent(h)}),a.memo("help.outdent",g.help.outdent),this.insertImage=function(b,c){return async.createImage(b,c).then(function(a){o(),"function"==typeof c?c(a):("string"==typeof c&&a.attr("data-filename",c),a.css("width",Math.min(e.width(),a.width()))),a.show(),range.create(h).insertNode(a[0]),range.createFromNodeAfter(a[0]).select(),p()}).fail(function(b){a.triggerEvent("image.upload.error",b)})},this.insertImages=function(c){$.each(c,function(c,d){var e=d.name;f.maximumImageFileSize&&f.maximumImageFileSize<d.size?a.triggerEvent("image.upload.error",g.image.maximumFileSizeError):async.readFileAsDataURL(d).then(function(a){return b.insertImage(a,e)}).fail(function(){a.triggerEvent("image.upload.error")})})},this.insertImagesOrCallback=function(b){f.callbacks.onImageUpload?a.triggerEvent("image.upload",b):this.insertImages(b)},this.insertNode=this.wrapCommand(function(a){this.createRange().insertNode(a),range.createFromNodeAfter(a).select()}),this.insertText=this.wrapCommand(function(a){var b=this.createRange(),c=b.insertNode(dom.createText(a));range.create(c,dom.nodeLength(c)).select()}),this.getSelectedText=function(){var a=this.createRange();return a.isOnAnchor()&&(a=range.createFromNode(dom.ancestor(a.sc,dom.isAnchor))),a.toString()},this.pasteHTML=this.wrapCommand(function(a){var b=this.createRange().pasteHTML(a);range.createFromNodeAfter(list.last(b)).select()}),this.formatBlock=this.wrapCommand(function(a){a=agent.isMSIE?"<"+a+">":a,document.execCommand("FormatBlock",!1,a)}),this.formatPara=function(){this.formatBlock("P")},a.memo("help.formatPara",g.help.formatPara);for(var r=1;r<=6;r++)this["formatH"+r]=function(a){return function(){this.formatBlock("H"+a)}}(r),a.memo("help.formatH"+r,g.help["formatH"+r]);this.fontSize=function(a){var b=this.createRange();if(b&&b.isCollapsed()){var c=j.styleNodes(b),d=list.head(c);$(c).css({"font-size":a+"px"}),d&&!dom.nodeLength(d)&&(d.innerHTML=dom.ZERO_WIDTH_NBSP_CHAR,range.createFromNodeAfter(d.firstChild).select(),e.data(KEY_BOGUS,d))}else o(),$(j.styleNodes(b)).css({"font-size":a+"px"}),p()},this.insertHorizontalRule=this.wrapCommand(function(){var a=this.createRange().insertNode(dom.create("HR"));a.nextSibling&&range.create(a.nextSibling,0).normalize().select()}),a.memo("help.insertHorizontalRule",g.help.insertHorizontalRule),this.removeBogus=function(){var a=e.data(KEY_BOGUS);if(a){var b=list.find(list.from(a.childNodes),dom.isText),c=b.nodeValue.indexOf(dom.ZERO_WIDTH_NBSP_CHAR);-1!==c&&b.deleteData(c,1),dom.isEmpty(a)&&dom.remove(a),e.removeData(KEY_BOGUS)}},this.lineHeight=this.wrapCommand(function(a){j.stylePara(this.createRange(),{lineHeight:a})}),this.unlink=function(){var a=this.createRange();if(a.isOnAnchor()){var b=dom.ancestor(a.sc,dom.isAnchor);a=range.createFromNode(b),a.select(),o(),document.execCommand("unlink"),p()}},this.createLink=this.wrapCommand(function(a){var b=a.url,c=a.text,d=a.isNewWindow,e=a.range||this.createRange(),g=e.toString()!==c;"string"==typeof b&&(b=b.trim()),f.onCreateLink&&(b=f.onCreateLink(b));var h=[];if(g){e=e.deleteContents();var i=e.insertNode($("<A>"+c+"</A>")[0]);h.push(i)}else h=j.styleNodes(e,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0});$.each(h,function(a,c){b=/^[A-Za-z][A-Za-z0-9+-.]*\:[\/\/]?/.test(b)?b:"http://"+b,$(c).attr("href",b),d?$(c).attr("target","_blank"):$(c).removeAttr("target")});var k=range.createFromNodeBefore(list.head(h)),l=k.getStartPoint(),m=range.createFromNodeAfter(list.last(h)),n=m.getEndPoint();range.create(l.node,l.offset,n.node,n.offset).select()}),this.getLinkInfo=function(){var a=this.createRange().expand(dom.isAnchor),b=$(list.head(a.nodes(dom.isAnchor)));return{range:a,text:a.toString(),isNewWindow:!!b.length&&"_blank"===b.attr("target"),url:b.length?b.attr("href"):""}},this.color=this.wrapCommand(function(a){var b=a.foreColor,c=a.backColor;b&&document.execCommand("foreColor",!1,b),c&&document.execCommand("backColor",!1,c)}),this.insertTable=this.wrapCommand(function(a){var b=a.split("x");this.createRange().deleteContents().insertNode(k.createTable(b[0],b[1],f))}),this.floatMe=this.wrapCommand(function(a){$(this.restoreTarget()).css("float",a)}),this.resize=this.wrapCommand(function(a){$(this.restoreTarget()).css({width:100*a+"%",height:""})}),this.resizeTo=function(a,b,c){var d;if(c){var e=a.y/a.x,f=b.data("ratio");d={width:f>e?a.x:a.y/f,height:f>e?a.x*f:a.y}}else d={width:a.x,height:a.y};b.css(d)},this.removeMedia=this.wrapCommand(function(){var b=$(this.restoreTarget()).detach();a.triggerEvent("media.delete",b,e)}),this.hasFocus=function(){return e.is(":focus")},this.focus=function(){this.hasFocus()||e.focus()},this.isEmpty=function(){return dom.isEmpty(e[0])||dom.emptyPara===e.html()},this.empty=function(){a.invoke("code",dom.emptyPara)}},Clipboard=function(a){var b=this,c=a.layoutInfo.editable;this.events={"summernote.keydown":function(c,d){b.needKeydownHook()&&(d.ctrlKey||d.metaKey)&&d.keyCode===key.code.V&&(a.invoke("editor.saveRange"),b.$paste.focus(),setTimeout(function(){b.pasteByHook()},0))}},this.needKeydownHook=function(){return agent.isMSIE&&agent.browserVersion>10||agent.isFF},this.initialize=function(){this.needKeydownHook()?(this.$paste=$('<div tabindex="-1" />').attr("contenteditable",!0).css({position:"absolute",left:-1e5,opacity:0}),c.before(this.$paste),this.$paste.on("paste",function(b){a.triggerEvent("paste",b)})):c.on("paste",this.pasteByEvent)},this.destroy=function(){this.needKeydownHook()&&(this.$paste.remove(),this.$paste=null)},this.pasteByHook=function(){var b=this.$paste[0].firstChild;if(dom.isImg(b)){for(var c=b.src,d=atob(c.split(",")[1]),e=new Uint8Array(d.length),f=0;f<d.length;f++)e[f]=d.charCodeAt(f);var g=new Blob([e],{type:"image/png"});g.name="clipboard.png",a.invoke("editor.restoreRange"),a.invoke("editor.focus"),a.invoke("editor.insertImagesOrCallback",[g])}else{var h=$("<div />").html(this.$paste.html()).html();a.invoke("editor.restoreRange"),a.invoke("editor.focus"),h&&a.invoke("editor.pasteHTML",h)}this.$paste.empty()},this.pasteByEvent=function(b){var c=b.originalEvent.clipboardData;if(c&&c.items&&c.items.length){var d=list.head(c.items);"file"===d.kind&&-1!==d.type.indexOf("image/")&&a.invoke("editor.insertImagesOrCallback",[d.getAsFile()]),a.invoke("editor.afterCommand")}}},Dropzone=function(a){var b=$(document),c=a.layoutInfo.editor,d=a.layoutInfo.editable,e=a.options,f=e.langInfo,g={},h=$(['<div class="note-dropzone">','  <div class="note-dropzone-message"/>',"</div>"].join("")).prependTo(c),i=function(){Object.keys(g).forEach(function(a){b.off(a.substr(2).toLowerCase(),g[a])}),g={}};this.initialize=function(){e.disableDragAndDrop?(g.onDrop=function(a){a.preventDefault()},b.on("drop",g.onDrop)):this.attachDragAndDropEvent()},this.attachDragAndDropEvent=function(){var e=$(),i=h.find(".note-dropzone-message");g.onDragenter=function(b){var d=a.invoke("codeview.isActivated"),g=c.width()>0&&c.height()>0;d||e.length||!g||(c.addClass("dragover"),h.width(c.width()),h.height(c.height()),i.text(f.image.dragImageHere)),e=e.add(b.target)},g.onDragleave=function(a){e=e.not(a.target),e.length||c.removeClass("dragover")},g.onDrop=function(){e=$(),c.removeClass("dragover")},b.on("dragenter",g.onDragenter).on("dragleave",g.onDragleave).on("drop",g.onDrop),h.on("dragenter",function(){h.addClass("hover"),i.text(f.image.dropImage)}).on("dragleave",function(){h.removeClass("hover"),i.text(f.image.dragImageHere)}),h.on("drop",function(b){var c=b.originalEvent.dataTransfer;c&&c.files&&c.files.length?(b.preventDefault(),d.focus(),a.invoke("editor.insertImagesOrCallback",c.files)):$.each(c.types,function(b,d){var e=c.getData(d);d.toLowerCase().indexOf("text")>-1?a.invoke("editor.pasteHTML",e):$(e).each(function(){a.invoke("editor.insertNode",this)})})}).on("dragover",!1)},this.destroy=function(){i()}},CodeMirror;agent.hasCodeMirror&&(agent.isSupportAmd?require(["codemirror"],function(a){CodeMirror=a}):CodeMirror=window.CodeMirror);var Codeview=function(a){var b=a.layoutInfo.editor,c=a.layoutInfo.editable,d=a.layoutInfo.codable,e=a.options;this.sync=function(){this.isActivated()&&agent.hasCodeMirror&&d.data("cmEditor").save()},this.isActivated=function(){return b.hasClass("codeview")},this.toggle=function(){this.isActivated()?this.deactivate():this.activate(),a.triggerEvent("codeview.toggled")},this.activate=function(){if(d.val(dom.html(c,e.prettifyHtml)),d.height(c.height()),a.invoke("toolbar.updateCodeview",!0),b.addClass("codeview"),d.focus(),agent.hasCodeMirror){var f=CodeMirror.fromTextArea(d[0],e.codemirror);if(e.codemirror.tern){var g=new CodeMirror.TernServer(e.codemirror.tern);f.ternServer=g,f.on("cursorActivity",function(a){g.updateArgHints(a)})}f.setSize(null,c.outerHeight()),d.data("cmEditor",f)}},this.deactivate=function(){if(agent.hasCodeMirror){var f=d.data("cmEditor");d.val(f.getValue()),f.toTextArea()}var g=dom.value(d,e.prettifyHtml)||dom.emptyPara,h=c.html()!==g;c.html(g),c.height(e.height?d.height():"auto"),b.removeClass("codeview"),h&&a.triggerEvent("change",c.html(),c),c.focus(),a.invoke("toolbar.updateCodeview",!1)},this.destroy=function(){this.isActivated()&&this.deactivate()}},EDITABLE_PADDING=24,Statusbar=function(a){var b=$(document),c=a.layoutInfo.statusbar,d=a.layoutInfo.editable,e=a.options;this.initialize=function(){e.airMode||e.disableResizeEditor||c.on("mousedown",function(a){a.preventDefault(),a.stopPropagation();var c=d.offset().top-b.scrollTop();b.on("mousemove",function(a){var b=a.clientY-(c+EDITABLE_PADDING);b=e.minheight>0?Math.max(b,e.minheight):b,b=e.maxHeight>0?Math.min(b,e.maxHeight):b,d.height(b)}).one("mouseup",function(){b.off("mousemove")})})},this.destroy=function(){c.off(),c.remove()}},Fullscreen=function(a){var b=a.layoutInfo.editor,c=a.layoutInfo.toolbar,d=a.layoutInfo.editable,e=a.layoutInfo.codable,f=$(window),g=$("html, body");this.toggle=function(){var h=function(a){d.css("height",a.h),e.css("height",a.h),e.data("cmeditor")&&e.data("cmeditor").setsize(null,a.h)};b.toggleClass("fullscreen"),this.isFullscreen()?(d.data("orgHeight",d.css("height")),f.on("resize",function(){h({h:f.height()-c.outerHeight()})}).trigger("resize"),g.css("overflow","hidden")):(f.off("resize"),h({h:d.data("orgHeight")}),g.css("overflow","visible")),a.invoke("toolbar.updateFullscreen",this.isFullscreen())},this.isFullscreen=function(){return b.hasClass("fullscreen")}},Handle=function(a){var b=this,c=$(document),d=a.layoutInfo.editingArea,e=a.options;this.events={"summernote.mousedown":function(a,c){b.update(c.target)&&c.preventDefault()},"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown":function(){b.update()}},this.initialize=function(){this.$handle=$(['<div class="note-handle">','<div class="note-control-selection">','<div class="note-control-selection-bg"></div>','<div class="note-control-holder note-control-nw"></div>','<div class="note-control-holder note-control-ne"></div>','<div class="note-control-holder note-control-sw"></div>','<div class="',e.disableResizeImage?"note-control-holder":"note-control-sizing",' note-control-se"></div>',e.disableResizeImage?"":'<div class="note-control-selection-info"></div>',"</div>","</div>"].join("")).prependTo(d),this.$handle.on("mousedown",function(d){if(dom.isControlSizing(d.target)){d.preventDefault(),d.stopPropagation();var e=b.$handle.find(".note-control-selection").data("target"),f=e.offset(),g=c.scrollTop();c.on("mousemove",function(c){a.invoke("editor.resizeTo",{x:c.clientX-f.left,y:c.clientY-(f.top-g)},e,!c.shiftKey),b.update(e[0])}).one("mouseup",function(b){b.preventDefault(),c.off("mousemove"),a.invoke("editor.afterCommand")}),e.data("ratio")||e.data("ratio",e.height()/e.width())}})},this.destroy=function(){this.$handle.remove()},this.update=function(b){var c=dom.isImg(b),d=this.$handle.find(".note-control-selection");if(a.invoke("imagePopover.update",b),c){var e=$(b),f=e.position(),g={w:e.outerWidth(!0),h:e.outerHeight(!0)};d.css({display:"block",left:f.left,top:f.top,width:g.w,height:g.h}).data("target",e);var h=g.w+"x"+g.h;d.find(".note-control-selection-info").text(h),a.invoke("editor.saveTarget",b)}else this.hide();return c},this.hide=function(){a.invoke("editor.clearTarget"),this.$handle.children().hide()}},AutoLink=function(a){var b=this,d=/^([A-Za-z][A-Za-z0-9+-.]*\:[\/\/]?|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i;this.events={"summernote.keyup":function(a,c){c.isDefaultPrevented()||b.handleKeyup(c)},"summernote.keydown":function(a,c){b.handleKeydown(c)}},this.initialize=function(){this.lastWordRange=null},this.destroy=function(){this.lastWordRange=null},this.replace=function(){if(this.lastWordRange){var b=this.lastWordRange.toString(),e=b.match(d);if(e&&(e[1]||e[2])){var f=e[1]?b:"http://"+b,g=$("<a />").html(b).attr("href",f)[0];this.lastWordRange.insertNode(g),this.lastWordRange=null,a.invoke("editor.focus")}}},this.handleKeydown=function(b){if(list.contains([key.code.ENTER,key.code.SPACE],b.keyCode)){var c=a.invoke("editor.createRange").getWordRange();this.lastWordRange=c}},this.handleKeyup=function(a){list.contains([key.code.ENTER,key.code.SPACE],a.keyCode)&&this.replace()}},AutoSync=function(a){var b=a.layoutInfo.note;this.events={"summernote.change":function(){b.val(a.invoke("code"))}},this.shouldInitialize=function(){return dom.isTextarea(b[0])}},Placeholder=function(a){var b=this,c=a.layoutInfo.editingArea,d=a.options;this.events={"summernote.init summernote.change":function(){b.update()},"summernote.codeview.toggled":function(){b.update()}},this.shouldInitialize=function(){return!!d.placeholder},this.initialize=function(){this.$placeholder=$('<div class="note-placeholder">'),this.$placeholder.on("click",function(){a.invoke("focus")}).text(d.placeholder).prependTo(c)},this.destroy=function(){this.$placeholder.remove()},this.update=function(){var b=!a.invoke("codeview.isActivated")&&a.invoke("editor.isEmpty");this.$placeholder.toggle(b)}},Buttons=function(a){var b=this,c=$.summernote.ui,d=a.layoutInfo.toolbar,e=a.options,f=e.langInfo,g=func.invertObject(e.keyMap[agent.isMac?"mac":"pc"]),h=this.representShortcut=function(a){var b=g[a];return e.shortcuts&&b?(agent.isMac&&(b=b.replace("CMD","").replace("SHIFT",""))," ("+(b=b.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]"))+")"):""};this.initialize=function(){this.addToolbarButtons(),this.addImagePopoverButtons(),this.addLinkPopoverButtons(),this.fontInstalledMap={}},this.destroy=function(){delete this.fontInstalledMap},this.isFontInstalled=function(a){return b.fontInstalledMap.hasOwnProperty(a)||(b.fontInstalledMap[a]=agent.isFontInstalled(a)||list.contains(e.fontNamesIgnoreCheck,a)),b.fontInstalledMap[a]},this.addToolbarButtons=function(){a.memo("button.style",function(){return c.buttonGroup([c.button({className:"dropdown-toggle",contents:c.icon(e.icons.magic)+" "+c.icon(e.icons.caret,"span"),tooltip:f.style.style,data:{toggle:"dropdown"}}),c.dropdown({className:"dropdown-style",items:a.options.styleTags,template:function(a){"string"==typeof a&&(a={tag:a,title:f.style.hasOwnProperty(a)?f.style[a]:a});var b=a.tag,c=a.title;return"<"+b+(a.style?' style="'+a.style+'" ':"")+(a.className?' class="'+a.className+'"':"")+">"+c+"</"+b+">"},click:a.createInvokeHandler("editor.formatBlock")})]).render()}),a.memo("button.bold",function(){return c.button({className:"note-btn-bold",contents:c.icon(e.icons.bold),tooltip:f.font.bold+h("bold"),click:a.createInvokeHandler("editor.bold")}).render()}),a.memo("button.italic",function(){return c.button({className:"note-btn-italic",contents:c.icon(e.icons.italic),tooltip:f.font.italic+h("italic"),click:a.createInvokeHandler("editor.italic")}).render()}),a.memo("button.underline",function(){return c.button({className:"note-btn-underline",contents:c.icon(e.icons.underline),tooltip:f.font.underline+h("underline"),click:a.createInvokeHandler("editor.underline")}).render()}),a.memo("button.clear",function(){return c.button({contents:c.icon(e.icons.eraser),tooltip:f.font.clear+h("removeFormat"),click:a.createInvokeHandler("editor.removeFormat")}).render()}),a.memo("button.strikethrough",function(){return c.button({className:"note-btn-strikethrough",contents:c.icon(e.icons.strikethrough),tooltip:f.font.strikethrough+h("strikethrough"),click:a.createInvokeHandler("editor.strikethrough")}).render()}),a.memo("button.superscript",function(){return c.button({className:"note-btn-superscript",contents:c.icon(e.icons.superscript),tooltip:f.font.superscript,click:a.createInvokeHandler("editor.superscript")}).render()}),a.memo("button.subscript",function(){return c.button({className:"note-btn-subscript",contents:c.icon(e.icons.subscript),tooltip:f.font.subscript,click:a.createInvokeHandler("editor.subscript")}).render()}),a.memo("button.fontname",function(){return c.buttonGroup([c.button({className:"dropdown-toggle",contents:'<span class="note-current-fontname"/> '+c.icon(e.icons.caret,"span"),tooltip:f.font.name,data:{toggle:"dropdown"}}),c.dropdownCheck({className:"dropdown-fontname",checkClassName:e.icons.menuCheck,items:e.fontNames.filter(b.isFontInstalled),template:function(a){return'<span style="font-family:'+a+'">'+a+"</span>"},click:a.createInvokeHandler("editor.fontName")})]).render()}),a.memo("button.fontsize",function(){return c.buttonGroup([c.button({className:"dropdown-toggle",contents:'<span class="note-current-fontsize"/>'+c.icon(e.icons.caret,"span"),tooltip:f.font.size,data:{toggle:"dropdown"}}),c.dropdownCheck({className:"dropdown-fontsize",checkClassName:e.icons.menuCheck,items:e.fontSizes,click:a.createInvokeHandler("editor.fontSize")})]).render()}),a.memo("button.color",function(){return c.buttonGroup({className:"note-color",children:[c.button({className:"note-current-color-button",contents:c.icon(e.icons.font+" note-recent-color"),tooltip:f.color.recent,click:function(b){var c=$(b.currentTarget);a.invoke("editor.color",{backColor:c.attr("data-backColor"),foreColor:c.attr("data-foreColor")})},callback:function(a){a.find(".note-recent-color").css("background-color","#FFFF00"),a.attr("data-backColor","#FFFF00")}}),c.button({className:"dropdown-toggle",contents:c.icon(e.icons.caret,"span"),tooltip:f.color.more,data:{toggle:"dropdown"}}),c.dropdown({items:["<li>",'<div class="btn-group">','  <div class="note-palette-title">'+f.color.background+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-default" data-event="backColor" data-value="inherit">',f.color.transparent,"    </button>","  </div>",'  <div class="note-holder" data-event="backColor"/>',"</div>",'<div class="btn-group">','  <div class="note-palette-title">'+f.color.foreground+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-default" data-event="removeFormat" data-value="foreColor">',f.color.resetToDefault,"    </button>","  </div>",'  <div class="note-holder" data-event="foreColor"/>',"</div>","</li>"].join(""),callback:function(a){a.find(".note-holder").each(function(){var a=$(this);a.append(c.palette({colors:e.colors,eventName:a.data("event")}).render())})},click:function(b){var c=$(b.target),d=c.data("event"),e=c.data("value");if(d&&e){var f="backColor"===d?"background-color":"color",g=c.closest(".note-color").find(".note-recent-color"),h=c.closest(".note-color").find(".note-current-color-button");g.css(f,e),h.attr("data-"+d,e),a.invoke("editor."+d,e)}}})]}).render()}),a.memo("button.ul",function(){return c.button({contents:c.icon(e.icons.unorderedlist),tooltip:f.lists.unordered+h("insertUnorderedList"),click:a.createInvokeHandler("editor.insertUnorderedList")}).render()}),a.memo("button.ol",function(){return c.button({contents:c.icon(e.icons.orderedlist),tooltip:f.lists.ordered+h("insertOrderedList"),click:a.createInvokeHandler("editor.insertOrderedList")}).render()});var d=c.button({contents:c.icon(e.icons.alignLeft),tooltip:f.paragraph.left+h("justifyLeft"),click:a.createInvokeHandler("editor.justifyLeft")}),g=c.button({contents:c.icon(e.icons.alignCenter),tooltip:f.paragraph.center+h("justifyCenter"),click:a.createInvokeHandler("editor.justifyCenter")}),i=c.button({contents:c.icon(e.icons.alignRight),tooltip:f.paragraph.right+h("justifyRight"),click:a.createInvokeHandler("editor.justifyRight")}),j=c.button({contents:c.icon(e.icons.alignJustify),tooltip:f.paragraph.justify+h("justifyFull"),click:a.createInvokeHandler("editor.justifyFull")}),k=c.button({contents:c.icon(e.icons.outdent),tooltip:f.paragraph.outdent+h("outdent"),click:a.createInvokeHandler("editor.outdent")}),l=c.button({contents:c.icon(e.icons.indent),tooltip:f.paragraph.indent+h("indent"),click:a.createInvokeHandler("editor.indent")});a.memo("button.justifyLeft",func.invoke(d,"render")),a.memo("button.justifyCenter",func.invoke(g,"render")),a.memo("button.justifyRight",func.invoke(i,"render")),a.memo("button.justifyFull",func.invoke(j,"render")),a.memo("button.outdent",func.invoke(k,"render")),a.memo("button.indent",func.invoke(l,"render")),a.memo("button.paragraph",function(){return c.buttonGroup([c.button({className:"dropdown-toggle",contents:c.icon(e.icons.alignLeft)+" "+c.icon(e.icons.caret,"span"),tooltip:f.paragraph.paragraph,data:{toggle:"dropdown"}}),c.dropdown([c.buttonGroup({className:"note-align",children:[d,g,i,j]}),c.buttonGroup({className:"note-list",children:[k,l]})])]).render()}),a.memo("button.height",function(){return c.buttonGroup([c.button({className:"dropdown-toggle",contents:c.icon(e.icons.textHeight)+" "+c.icon(e.icons.caret,"span"),tooltip:f.font.height,data:{toggle:"dropdown"}}),c.dropdownCheck({items:e.lineHeights,checkClassName:e.icons.menuCheck,className:"dropdown-line-height",click:a.createInvokeHandler("editor.lineHeight")})]).render()}),a.memo("button.table",function(){return c.buttonGroup([c.button({className:"dropdown-toggle",contents:c.icon(e.icons.table)+" "+c.icon(e.icons.caret,"span"),tooltip:f.table.table,data:{toggle:"dropdown"}}),c.dropdown({className:"note-table",items:['<div class="note-dimension-picker">','  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>','  <div class="note-dimension-picker-highlighted"/>','  <div class="note-dimension-picker-unhighlighted"/>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(c){c.find(".note-dimension-picker-mousecatcher").css({width:e.insertTableMaxSize.col+"em",height:e.insertTableMaxSize.row+"em"}).mousedown(a.createInvokeHandler("editor.insertTable")).on("mousemove",b.tableMoveHandler)}}).render()}),a.memo("button.link",function(){return c.button({contents:c.icon(e.icons.link),tooltip:f.link.link+h("linkDialog.show"),click:a.createInvokeHandler("linkDialog.show")}).render()}),a.memo("button.picture",function(){return c.button({contents:c.icon(e.icons.picture),tooltip:f.image.image,click:a.createInvokeHandler("imageDialog.show")}).render()}),a.memo("button.video",function(){return c.button({contents:c.icon(e.icons.video),tooltip:f.video.video,click:a.createInvokeHandler("videoDialog.show")}).render()}),a.memo("button.hr",function(){return c.button({contents:c.icon(e.icons.minus),tooltip:f.hr.insert+h("insertHorizontalRule"),click:a.createInvokeHandler("editor.insertHorizontalRule")}).render()}),a.memo("button.fullscreen",function(){return c.button({className:"btn-fullscreen",contents:c.icon(e.icons.arrowsAlt),tooltip:f.options.fullscreen,click:a.createInvokeHandler("fullscreen.toggle")}).render()}),a.memo("button.codeview",function(){return c.button({className:"btn-codeview",contents:c.icon(e.icons.code),tooltip:f.options.codeview,click:a.createInvokeHandler("codeview.toggle")}).render()}),a.memo("button.redo",function(){return c.button({contents:c.icon(e.icons.redo),tooltip:f.history.redo+h("redo"),click:a.createInvokeHandler("editor.redo")}).render()}),a.memo("button.undo",function(){return c.button({contents:c.icon(e.icons.undo),tooltip:f.history.undo+h("undo"),click:a.createInvokeHandler("editor.undo")}).render()}),a.memo("button.help",function(){return c.button({contents:c.icon(e.icons.question),tooltip:f.options.help,click:a.createInvokeHandler("helpDialog.show")}).render()})},this.addImagePopoverButtons=function(){a.memo("button.imageSize100",function(){return c.button({contents:'<span class="note-fontsize-10">100%</span>',tooltip:f.image.resizeFull,click:a.createInvokeHandler("editor.resize","1")}).render()}),a.memo("button.imageSize50",function(){return c.button({contents:'<span class="note-fontsize-10">50%</span>',tooltip:f.image.resizeHalf,click:a.createInvokeHandler("editor.resize","0.5")}).render()}),a.memo("button.imageSize25",function(){return c.button({contents:'<span class="note-fontsize-10">25%</span>',tooltip:f.image.resizeQuarter,click:a.createInvokeHandler("editor.resize","0.25")}).render()}),a.memo("button.floatLeft",function(){return c.button({contents:c.icon(e.icons.alignLeft),tooltip:f.image.floatLeft,click:a.createInvokeHandler("editor.floatMe","left")}).render()}),a.memo("button.floatRight",function(){return c.button({contents:c.icon(e.icons.alignRight),tooltip:f.image.floatRight,click:a.createInvokeHandler("editor.floatMe","right")}).render()}),a.memo("button.floatNone",function(){return c.button({contents:c.icon(e.icons.alignJustify),tooltip:f.image.floatNone,click:a.createInvokeHandler("editor.floatMe","none")}).render()}),a.memo("button.removeMedia",function(){return c.button({contents:c.icon(e.icons.trash),tooltip:f.image.remove,click:a.createInvokeHandler("editor.removeMedia")}).render()})},this.addLinkPopoverButtons=function(){a.memo("button.linkDialogShow",function(){return c.button({contents:c.icon(e.icons.link),tooltip:f.link.edit,click:a.createInvokeHandler("linkDialog.show")}).render()}),a.memo("button.unlink",function(){return c.button({contents:c.icon(e.icons.unlink),tooltip:f.link.unlink,click:a.createInvokeHandler("editor.unlink")}).render()})},this.build=function(b,d){for(var e=0,f=d.length;e<f;e++){for(var g=d[e],h=g[0],i=g[1],j=c.buttonGroup({className:"note-"+h}).render(),k=0,l=i.length;k<l;k++){var m=a.memo("button."+i[k]);m&&j.append("function"==typeof m?m(a):m)}j.appendTo(b)}},this.updateCurrentStyle=function(){var c=a.invoke("editor.currentStyle");if(this.updateBtnStates({".note-btn-bold":function(){return"bold"===c["font-bold"]},".note-btn-italic":function(){return"italic"===c["font-italic"]},".note-btn-underline":function(){return"underline"===c["font-underline"]},".note-btn-subscript":function(){return"subscript"===c["font-subscript"]},".note-btn-superscript":function(){return"superscript"===c["font-superscript"]},".note-btn-strikethrough":function(){return"strikethrough"===c["font-strikethrough"]}}),c["font-family"]){var e=c["font-family"].split(",").map(function(a){return a.replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"")}),f=list.find(e,b.isFontInstalled);d.find(".dropdown-fontname li a").each(function(){var a=$(this).data("value")+""==f+"";this.className=a?"checked":""}),d.find(".note-current-fontname").text(f)}if(c["font-size"]){var g=c["font-size"];d.find(".dropdown-fontsize li a").each(function(){var a=$(this).data("value")+""==g+"";this.className=a?"checked":""}),d.find(".note-current-fontsize").text(g)}if(c["line-height"]){var h=c["line-height"];d.find(".dropdown-line-height li a").each(function(){var a=$(this).data("value")+""==h+"";this.className=a?"checked":""})}},this.updateBtnStates=function(a){$.each(a,function(a,b){c.toggleBtnActive(d.find(a),b())})},this.tableMoveHandler=function(a){var i,b=18,c=$(a.target.parentNode),d=c.next(),f=c.find(".note-dimension-picker-mousecatcher"),g=c.find(".note-dimension-picker-highlighted"),h=c.find(".note-dimension-picker-unhighlighted");if(void 0===a.offsetX){var j=$(a.target).offset();i={x:a.pageX-j.left,y:a.pageY-j.top}}else i={x:a.offsetX,y:a.offsetY};var k={c:Math.ceil(i.x/b)||1,r:Math.ceil(i.y/b)||1};g.css({width:k.c+"em",height:k.r+"em"}),f.data("value",k.c+"x"+k.r),3<k.c&&k.c<e.insertTableMaxSize.col&&h.css({width:k.c+1+"em"}),3<k.r&&k.r<e.insertTableMaxSize.row&&h.css({height:k.r+1+"em"}),d.html(k.c+" x "+k.r)}},Toolbar=function(a){var b=$.summernote.ui,c=a.layoutInfo.note,d=a.layoutInfo.toolbar,e=a.options;this.shouldInitialize=function(){return!e.airMode},this.initialize=function(){e.toolbar=e.toolbar||[],e.toolbar.length?a.invoke("buttons.build",d,e.toolbar):d.hide(),e.toolbarContainer&&d.appendTo(e.toolbarContainer),c.on("summernote.keyup summernote.mouseup summernote.change",function(){a.invoke("buttons.updateCurrentStyle")}),a.invoke("buttons.updateCurrentStyle")},this.destroy=function(){d.children().remove()},this.updateFullscreen=function(a){b.toggleBtnActive(d.find(".btn-fullscreen"),a)},this.updateCodeview=function(a){b.toggleBtnActive(d.find(".btn-codeview"),a),a?this.deactivate():this.activate()},this.activate=function(a){var c=d.find("button");a||(c=c.not(".btn-codeview")),b.toggleBtn(c,!0)},this.deactivate=function(a){var c=d.find("button");a||(c=c.not(".btn-codeview")),b.toggleBtn(c,!1)}},LinkDialog=function(a){var b=this,c=$.summernote.ui,d=a.layoutInfo.editor,e=a.options,f=e.langInfo;this.initialize=function(){var a=e.dialogsInBody?$(document.body):d,b='<div class="form-group"><label>'+f.link.textToDisplay+'</label><input class="note-link-text form-control" type="text" /></div><div class="form-group"><label>'+f.link.url+'</label><input class="note-link-url form-control" type="text" value="http://" /></div>'+(e.disableLinkTarget?"":'<div class="checkbox"><label><input type="checkbox" checked> '+f.link.openInNewWindow+"</label></div>"),g='<button href="#" class="btn btn-primary note-link-btn disabled" disabled>'+f.link.insert+"</button>";this.$dialog=c.dialog({className:"link-dialog",title:f.link.insert,fade:e.dialogsFade,body:b,footer:g}).render().appendTo(a)},this.destroy=function(){c.hideDialog(this.$dialog),this.$dialog.remove()},this.bindEnterKey=function(a,b){a.on("keypress",function(a){a.keyCode===key.code.ENTER&&b.trigger("click")})},this.toggleLinkBtn=function(a,b,d){c.toggleBtn(a,b.val()&&d.val())},this.showLinkDialog=function(d){return $.Deferred(function(e){var f=b.$dialog.find(".note-link-text"),g=b.$dialog.find(".note-link-url"),h=b.$dialog.find(".note-link-btn"),i=b.$dialog.find("input[type=checkbox]");c.onDialogShown(b.$dialog,function(){a.triggerEvent("dialog.shown"),d.url||(d.url=d.text),f.val(d.text);var c=function(){b.toggleLinkBtn(h,f,g),d.text=f.val()};f.on("input",c).on("paste",function(){setTimeout(c,0)});var j=function(){b.toggleLinkBtn(h,f,g),d.text||f.val(g.val())};g.on("input",j).on("paste",function(){setTimeout(j,0)}).val(d.url).trigger("focus"),b.toggleLinkBtn(h,f,g),b.bindEnterKey(g,h),b.bindEnterKey(f,h),i.prop("checked",d.isNewWindow),h.one("click",function(a){a.preventDefault(),e.resolve({range:d.range,url:g.val(),text:f.val(),isNewWindow:i.is(":checked")}),b.$dialog.modal("hide")})}),c.onDialogHidden(b.$dialog,function(){f.off("input paste keypress"),g.off("input paste keypress"),h.off("click"),"pending"===e.state()&&e.reject()}),c.showDialog(b.$dialog)}).promise()},this.show=function(){var b=a.invoke("editor.getLinkInfo");a.invoke("editor.saveRange"),this.showLinkDialog(b).then(function(b){a.invoke("editor.restoreRange"),a.invoke("editor.createLink",b)}).fail(function(){a.invoke("editor.restoreRange")})},a.memo("help.linkDialog.show",e.langInfo.help["linkDialog.show"])},LinkPopover=function(a){var b=this,c=$.summernote.ui,d=a.options;this.events={"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){b.update()},"summernote.dialog.shown":function(){b.hide()}},this.shouldInitialize=function(){return!list.isEmpty(d.popover.link)},this.initialize=function(){this.$popover=c.popover({className:"note-link-popover",callback:function(a){a.find(".popover-content").prepend('<span><a target="_blank"></a>&nbsp;</span>')}}).render().appendTo("body");var b=this.$popover.find(".popover-content");a.invoke("buttons.build",b,d.popover.link)},this.destroy=function(){this.$popover.remove()},this.update=function(){if(!a.invoke("editor.hasFocus"))return void this.hide();var b=a.invoke("editor.createRange");if(b.isCollapsed()&&b.isOnAnchor()){var c=dom.ancestor(b.sc,dom.isAnchor),d=$(c).attr("href");this.$popover.find("a").attr("href",d).html(d);var e=dom.posFromPlaceholder(c);this.$popover.css({display:"block",left:e.left,top:e.top})}else this.hide()},this.hide=function(){this.$popover.hide()}},ImageDialog=function(a){var b=this,c=$.summernote.ui,d=a.layoutInfo.editor,e=a.options,f=e.langInfo;this.initialize=function(){var a=e.dialogsInBody?$(document.body):d,b="";if(e.maximumImageFileSize){var g=Math.floor(Math.log(e.maximumImageFileSize)/Math.log(1024)),h=1*(e.maximumImageFileSize/Math.pow(1024,g)).toFixed(2)+" "+" KMGTP"[g]+"B";b="<small>"+f.image.maximumFileSize+" : "+h+"</small>"}var i='<div class="form-group note-group-select-from-files"><label>'+f.image.selectFromFiles+'</label><input class="note-image-input form-control" type="file" name="files" accept="image/*" multiple="multiple" />'+b+'</div><div class="form-group note-group-image-url" style="overflow:auto;"><label>'+f.image.url+'</label><input class="note-image-url form-control col-md-12" type="text" /></div>',j='<button href="#" class="btn btn-primary note-image-btn disabled" disabled>'+f.image.insert+"</button>";this.$dialog=c.dialog({title:f.image.insert,fade:e.dialogsFade,body:i,footer:j}).render().appendTo(a)},this.destroy=function(){c.hideDialog(this.$dialog),this.$dialog.remove()},this.bindEnterKey=function(a,b){a.on("keypress",function(a){a.keyCode===key.code.ENTER&&b.trigger("click")})},this.show=function(){a.invoke("editor.saveRange"),this.showImageDialog().then(function(d){c.hideDialog(b.$dialog),a.invoke("editor.restoreRange"),"string"==typeof d?a.invoke("editor.insertImage",d):a.invoke("editor.insertImagesOrCallback",d)}).fail(function(){a.invoke("editor.restoreRange")})},this.showImageDialog=function(){return $.Deferred(function(d){var e=b.$dialog.find(".note-image-input"),f=b.$dialog.find(".note-image-url"),g=b.$dialog.find(".note-image-btn");c.onDialogShown(b.$dialog,function(){a.triggerEvent("dialog.shown"),e.replaceWith(e.clone().on("change",function(){d.resolve(this.files||this.value)}).val("")),g.click(function(a){a.preventDefault(),d.resolve(f.val())}),f.on("keyup paste",function(){var a=f.val();c.toggleBtn(g,a)}).val("").trigger("focus"),b.bindEnterKey(f,g)}),c.onDialogHidden(b.$dialog,function(){e.off("change"),f.off("keyup paste keypress"),g.off("click"),"pending"===d.state()&&d.reject()}),c.showDialog(b.$dialog)})}},ImagePopover=function(a){var b=$.summernote.ui,c=a.options;this.shouldInitialize=function(){return!list.isEmpty(c.popover.image)},this.initialize=function(){this.$popover=b.popover({className:"note-image-popover"}).render().appendTo("body");var d=this.$popover.find(".popover-content");a.invoke("buttons.build",d,c.popover.image)},this.destroy=function(){this.$popover.remove()},this.update=function(a){if(dom.isImg(a)){var b=dom.posFromPlaceholder(a);this.$popover.css({display:"block",left:b.left,top:b.top})}else this.hide()},this.hide=function(){this.$popover.hide()}},VideoDialog=function(a){var b=this,c=$.summernote.ui,d=a.layoutInfo.editor,e=a.options,f=e.langInfo;this.initialize=function(){var a=e.dialogsInBody?$(document.body):d,b='<div class="form-group row-fluid"><label>'+f.video.url+' <small class="text-muted">'+f.video.providers+'</small></label><input class="note-video-url form-control span12" type="text" /></div>',g='<button href="#" class="btn btn-primary note-video-btn disabled" disabled>'+f.video.insert+"</button>";this.$dialog=c.dialog({title:f.video.insert,fade:e.dialogsFade,body:b,footer:g}).render().appendTo(a)},this.destroy=function(){c.hideDialog(this.$dialog),this.$dialog.remove()},this.bindEnterKey=function(a,b){a.on("keypress",function(a){a.keyCode===key.code.ENTER&&b.trigger("click")})},this.createVideoNode=function(a){var t,b=/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/,c=a.match(b),d=/(?:www\.|\/\/)instagram\.com\/p\/(.[a-zA-Z0-9_-]*)/,e=a.match(d),f=/\/\/vine\.co\/v\/([a-zA-Z0-9]+)/,g=a.match(f),h=/\/\/(player\.)?vimeo\.com\/([a-z]*\/)*([0-9]{6,11})[?]?.*/,i=a.match(h),j=/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/,k=a.match(j),l=/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/,m=a.match(l),n=/^.+.(mp4|m4v)$/,o=a.match(n),p=/^.+.(ogg|ogv)$/,q=a.match(p),r=/^.+.(webm)$/,s=a.match(r);if(c&&11===c[1].length){var u=c[1];t=$("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+u).attr("width","640").attr("height","360")}else if(e&&e[0].length)t=$("<iframe>").attr("frameborder",0).attr("src","https://instagram.com/p/"+e[1]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true");else if(g&&g[0].length)t=$("<iframe>").attr("frameborder",0).attr("src",g[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed");else if(i&&i[3].length)t=$("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+i[3]).attr("width","640").attr("height","360");else if(k&&k[2].length)t=$("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+k[2]).attr("width","640").attr("height","360");else if(m&&m[1].length)t=$("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+m[1]);else{if(!(o||q||s))return!1;t=$("<video controls>").attr("src",a).attr("width","640").attr("height","360")}return t.addClass("note-video-clip"),t[0]},this.show=function(){var d=a.invoke("editor.getSelectedText");a.invoke("editor.saveRange"),this.showVideoDialog(d).then(function(d){c.hideDialog(b.$dialog),a.invoke("editor.restoreRange");var e=b.createVideoNode(d);e&&a.invoke("editor.insertNode",e)}).fail(function(){a.invoke("editor.restoreRange")})},this.showVideoDialog=function(d){return $.Deferred(function(e){var f=b.$dialog.find(".note-video-url"),g=b.$dialog.find(".note-video-btn");c.onDialogShown(b.$dialog,function(){a.triggerEvent("dialog.shown"),f.val(d).on("input",function(){c.toggleBtn(g,f.val())}).trigger("focus"),g.click(function(a){a.preventDefault(),e.resolve(f.val())}),b.bindEnterKey(f,g)}),c.onDialogHidden(b.$dialog,function(){f.off("input"),g.off("click"),"pending"===e.state()&&e.reject()}),c.showDialog(b.$dialog)})}},HelpDialog=function(a){var b=this,c=$.summernote.ui,d=a.layoutInfo.editor,e=a.options,f=e.langInfo;this.createShortCutList=function(){var b=e.keyMap[agent.isMac?"mac":"pc"];return Object.keys(b).map(function(c){var d=b[c],e=$('<div><div class="help-list-item"/></div>');return e.append($("<label><kbd>"+c+"</kdb></label>").css({width:180,"margin-right":10})).append($("<span/>").html(a.memo("help."+d)||d)),e.html()}).join("")},this.initialize=function(){var a=e.dialogsInBody?$(document.body):d,b=['<p class="text-center">','<a href="http://summernote.org/" target="_blank">Summernote 0.8.2</a>  ','<a href="https://github.com/summernote/summernote" target="_blank">Project</a>  ','<a href="https://github.com/summernote/summernote/issues" target="_blank">Issues</a>',"</p>"].join("");this.$dialog=c.dialog({title:f.options.help,fade:e.dialogsFade,body:this.createShortCutList(),footer:b,callback:function(a){a.find(".modal-body").css({"max-height":300,overflow:"scroll"})}}).render().appendTo(a)},this.destroy=function(){c.hideDialog(this.$dialog),this.$dialog.remove()},this.showHelpDialog=function(){return $.Deferred(function(d){c.onDialogShown(b.$dialog,function(){a.triggerEvent("dialog.shown"),d.resolve()}),c.showDialog(b.$dialog)}).promise()},this.show=function(){a.invoke("editor.saveRange"),this.showHelpDialog().then(function(){a.invoke("editor.restoreRange")})}},AirPopover=function(a){var b=this,c=$.summernote.ui,d=a.options;this.events={"summernote.keyup summernote.mouseup summernote.scroll":function(){b.update()},"summernote.change summernote.dialog.shown":function(){b.hide()},"summernote.focusout":function(a,c){agent.isFF||c.relatedTarget&&dom.ancestor(c.relatedTarget,func.eq(b.$popover[0]))||b.hide()}},this.shouldInitialize=function(){return d.airMode&&!list.isEmpty(d.popover.air)},this.initialize=function(){this.$popover=c.popover({className:"note-air-popover"}).render().appendTo("body");var b=this.$popover.find(".popover-content");a.invoke("buttons.build",b,d.popover.air)},this.destroy=function(){this.$popover.remove()},this.update=function(){var b=a.invoke("editor.currentStyle");if(b.range&&!b.range.isCollapsed()){var c=list.last(b.range.getClientRects());if(c){var d=func.rect2bnd(c);this.$popover.css({display:"block",left:Math.max(d.left+d.width/2,0)-20,top:d.top+d.height})}}else this.hide()},this.hide=function(){this.$popover.hide()}},HintPopover=function(a){var b=this,c=$.summernote.ui,d=5,e=a.options.hint||[],f=a.options.hintDirection||"bottom",g=$.isArray(e)?e:[e];this.events={"summernote.keyup":function(a,c){c.isDefaultPrevented()||b.handleKeyup(c)},"summernote.keydown":function(a,c){b.handleKeydown(c)},"summernote.dialog.shown":function(){b.hide()}},this.shouldInitialize=function(){return g.length>0},this.initialize=function(){this.lastWordRange=null,this.$popover=c.popover({className:"note-hint-popover",hideArrow:!0,direction:""}).render().appendTo("body"),this.$popover.hide(),this.$content=this.$popover.find(".popover-content"),this.$content.on("click",".note-hint-item",function(){b.$content.find(".active").removeClass("active"),$(this).addClass("active"),b.replace()})},this.destroy=function(){this.$popover.remove()},this.selectItem=function(a){this.$content.find(".active").removeClass("active"),a.addClass("active"),this.$content[0].scrollTop=a[0].offsetTop-this.$content.innerHeight()/2},this.moveDown=function(){var a=this.$content.find(".note-hint-item.active"),b=a.next();if(b.length)this.selectItem(b);else{var c=a.parent().next();c.length||(c=this.$content.find(".note-hint-group").first()),this.selectItem(c.find(".note-hint-item").first())}},this.moveUp=function(){var a=this.$content.find(".note-hint-item.active"),b=a.prev();if(b.length)this.selectItem(b);else{var c=a.parent().prev();c.length||(c=this.$content.find(".note-hint-group").last()),this.selectItem(c.find(".note-hint-item").last())}},this.replace=function(){var b=this.$content.find(".note-hint-item.active");if(b.length){var c=this.nodeFromItem(b);this.lastWordRange.insertNode(c),range.createFromNode(c).collapse().select(),this.lastWordRange=null,this.hide(),a.invoke("editor.focus")}},this.nodeFromItem=function(a){var b=g[a.data("index")],c=a.data("item"),d=b.content?b.content(c):c;return"string"==typeof d&&(d=dom.createText(d)),d},this.createItemTemplates=function(a,b){var c=g[a];return b.map(function(b,d){var e=$('<div class="note-hint-item"/>');return e.append(c.template?c.template(b):b+""),e.data({index:a,item:b}),0===a&&0===d&&e.addClass("active"),e})},this.handleKeydown=function(a){this.$popover.is(":visible")&&(a.keyCode===key.code.ENTER?(a.preventDefault(),this.replace()):a.keyCode===key.code.UP?(a.preventDefault(),this.moveUp()):a.keyCode===key.code.DOWN&&(a.preventDefault(),this.moveDown()))},this.searchKeyword=function(a,b,c){var d=g[a];if(d&&d.match.test(b)&&d.search){var e=d.match.exec(b);d.search(e[1],c)}else c()},this.createGroup=function(a,c){var d=$('<div class="note-hint-group note-hint-group-'+a+'"/>');return this.searchKeyword(a,c,function(c){c=c||[],c.length&&(d.html(b.createItemTemplates(a,c)),b.show())}),d},this.handleKeyup=function(c){if(list.contains([key.code.ENTER,key.code.UP,key.code.DOWN],c.keyCode)){if(c.keyCode===key.code.ENTER&&this.$popover.is(":visible"))return}else{var e=a.invoke("editor.createRange").getWordRange(),h=e.toString();if(g.length&&h){this.$content.empty();var i=func.rect2bnd(list.last(e.getClientRects()));i&&(this.$popover.hide(),this.lastWordRange=e,g.forEach(function(a,c){a.match.test(h)&&b.createGroup(c,h).appendTo(b.$content)}),"top"===f?this.$popover.css({left:i.left,top:i.top-this.$popover.outerHeight()-d}):this.$popover.css({left:i.left,top:i.top+i.height+d}))}else this.hide()}},this.show=function(){this.$popover.show()},this.hide=function(){this.$popover.hide()}};$.summernote=$.extend($.summernote,{version:"0.8.2",ui:ui,dom:dom,plugins:{},options:{modules:{editor:Editor,clipboard:Clipboard,dropzone:Dropzone,codeview:Codeview,statusbar:Statusbar,fullscreen:Fullscreen,handle:Handle,hintPopover:HintPopover,autoLink:AutoLink,autoSync:AutoSync,placeholder:Placeholder,buttons:Buttons,toolbar:Toolbar,linkDialog:LinkDialog,linkPopover:LinkPopover,imageDialog:ImageDialog,imagePopover:ImagePopover,videoDialog:VideoDialog,helpDialog:HelpDialog,airPopover:AirPopover},buttons:{},lang:"en-US",toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],popover:{image:[["imagesize",["imageSize100","imageSize50","imageSize25"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]]},airMode:!1,width:null,height:null,focus:!1,tabSize:4,styleWithSpan:!0,shortcuts:!0,textareaAutoSync:!0,direction:null,styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontSizes:["8","9","10","11","12","14","18","24","36"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],tableClassName:"table table-bordered",insertTableMaxSize:{col:10,row:10},dialogsInBody:!1,dialogsFade:!1,maximumImageFileSize:null,callbacks:{onInit:null,onFocus:null,onBlur:null,onEnter:null,onKeyup:null,onKeydown:null,onImageUpload:null,onImageUploadError:null},codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}},icons:{align:"note-icon-align",alignCenter:"note-icon-align-center",alignJustify:"note-icon-align-justify",alignLeft:"note-icon-align-left",alignRight:"note-icon-align-right",indent:"note-icon-align-indent",outdent:"note-icon-align-outdent",arrowsAlt:"note-icon-arrows-alt",bold:"note-icon-bold",caret:"note-icon-caret",circle:"note-icon-circle",close:"note-icon-close",code:"note-icon-code",eraser:"note-icon-eraser",font:"note-icon-font",frame:"note-icon-frame",italic:"note-icon-italic",link:"note-icon-link",unlink:"note-icon-chain-broken",magic:"note-icon-magic",menuCheck:"note-icon-check",minus:"note-icon-minus",orderedlist:"note-icon-orderedlist",pencil:"note-icon-pencil",picture:"note-icon-picture",question:"note-icon-question",redo:"note-icon-redo",square:"note-icon-square",strikethrough:"note-icon-strikethrough",subscript:"note-icon-subscript",superscript:"note-icon-superscript",table:"note-icon-table",textHeight:"note-icon-text-height",trash:"note-icon-trash",underline:"note-icon-underline",undo:"note-icon-undo",unorderedlist:"note-icon-unorderedlist",video:"note-icon-video"}}})}),function(a){"use strict";function b(b){var c=b.layoutInfo.editor,d=b.layoutInfo.toolbar,e=b.layoutInfo.editable,f=b.layoutInfo.codable,g=a(window),h=a("html, body");this.toggle=function(){function a(a){e.css("height",a.h),f.css("height",a.h),f.data("cmeditor")&&f.data("cmeditor").setsize(null,a.h)}c.toggleClass("fullscreen"),this.isFullscreen()?(e.data("orgHeight",e.css("height")),g.on("resize.px.summernote",function(){a({h:g.height()-d.outerHeight()})}).trigger("resize"),h.addClass("summernote-fullscreen")):(g.off("resize.px.summernote"),a({h:e.data("orgHeight")}),h.removeClass("summernote-fullscreen")),b.invoke("toolbar.updateFullscreen",this.isFullscreen())},this.isFullscreen=function(){return c.hasClass("fullscreen")}}if(!a.summernote)throw new Error("summernote.js required.");var c=a.summernote.options.icons;a.summernote.options=a.extend(a.summernote.options,{defaultIcons:c,icons:{align:"fa fa-align-left",alignCenter:"fa fa-align-center",alignJustify:"fa fa-align-justify",alignLeft:"fa fa-align-left",alignRight:"fa fa-align-right",indent:"fa fa-indent",outdent:"fa fa-outdent",arrowsAlt:"fa fa-arrows-alt",bold:"fa fa-bold",caret:"fa fa-caret-down",circle:"fa fa-circle-o",close:"fa fa-close",code:"fa fa-code",eraser:"fa fa-eraser",font:"fa fa-font",frame:"fa fa-",italic:"fa fa-italic",link:"fa fa-link",unlink:"fa fa-unlink",magic:"fa fa-magic",menuCheck:"fa fa-check",minus:"fa fa-minus",orderedlist:"fa fa-list-ol",pencil:"fa fa-pencil",picture:"fa fa-picture-o",question:"fa fa-question",redo:"fa fa-repeat",square:"fa fa-square-o",strikethrough:"fa fa-strikethrough",subscript:"fa fa-subscript",superscript:"fa fa-superscript",table:"fa fa-table",textHeight:"fa fa-text-height",trash:"fa fa-trash",underline:"fa fa-underline",undo:"fa fa-undo",unorderedlist:"fa fa-list-ul",video:"fa fa-video-camera"}}),a.summernote.options.modules=a.extend(a.summernote.options.modules,{fullscreen:b})}(jQuery),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)}(function(a){"use strict";var b=function(b,c){var d=["autofocus","savable","hideable","width","height","resize","iconlibrary","language","footer","fullscreen","hiddenButtons","disabledButtons"];a.each(d,function(d,e){void 0!==a(b).data(e)&&(c="object"==typeof c?c:{},c[e]=a(b).data(e))}),this.$ns="bootstrap-markdown",this.$element=a(b),this.$editable={el:null,type:null,attrKeys:[],attrValues:[],content:null},this.$options=a.extend(!0,{},a.fn.markdown.defaults,c,this.$element.data("options")),this.$oldContent=null,this.$isPreview=!1,this.$isFullscreen=!1,this.$editor=null,this.$textarea=null,this.$handler=[],this.$callback=[],this.$nextTab=[],this.showEditor()};b.prototype={constructor:b,__alterButtons:function(b,c){var d=this.$handler,e="all"==b,f=this;a.each(d,function(a,d){var g=!0;!1===(g=!e&&d.indexOf(b)<0)&&c(f.$editor.find('button[data-handler="'+d+'"]'))})},__buildButtons:function(b,c){var d,e=this.$ns,f=this.$handler,g=this.$callback;for(d=0;d<b.length;d++){var h,i=b[d];for(h=0;h<i.length;h++){var j,k=i[h].data,l=a("<div/>",{class:"btn-group"});for(j=0;j<k.length;j++){var n,o,m=k[j],p=e+"-"+m.name,q=this.__getIcon(m.icon),r=m.btnText?m.btnText:"",s=m.btnClass?m.btnClass:"btn",t=m.tabIndex?m.tabIndex:"-1",u=void 0!==m.hotkey?m.hotkey:"",v=void 0!==jQuery.hotkeys&&""!==u?" ("+u+")":"";n=a("<button></button>"),n.text(" "+this.__localize(r)).addClass("btn-default btn-sm").addClass(s),s.match(/btn\-(primary|success|info|warning|danger|link)/)&&n.removeClass("btn-default"),n.attr({type:"button",title:this.__localize(m.title)+v,tabindex:t,"data-provider":e,"data-handler":p,"data-hotkey":u}),!0===m.toggle&&n.attr("data-toggle","button"),o=a("<span/>"),o.addClass(q),o.prependTo(n),l.append(n),f.push(p),g.push(m.callback)}c.append(l)}}return c},__setListener:function(){var b=void 0!==this.$textarea.attr("rows"),c=this.$textarea.val().split("\n").length>5?this.$textarea.val().split("\n").length:"5",d=b?this.$textarea.attr("rows"):c;this.$textarea.attr("rows",d),this.$options.resize&&this.$textarea.css("resize",this.$options.resize),this.$textarea.on({focus:a.proxy(this.focus,this),keyup:a.proxy(this.keyup,this),change:a.proxy(this.change,this),select:a.proxy(this.select,this)}),this.eventSupported("keydown")&&this.$textarea.on("keydown",a.proxy(this.keydown,this)),this.eventSupported("keypress")&&this.$textarea.on("keypress",a.proxy(this.keypress,this)),this.$textarea.data("markdown",this)},__handle:function(b){var c=a(b.currentTarget),d=this.$handler,e=this.$callback,f=c.attr("data-handler"),g=d.indexOf(f),h=e[g];a(b.currentTarget).focus(),h(this),this.change(this),f.indexOf("cmdSave")<0&&this.$textarea.focus(),b.preventDefault()},__localize:function(b){var c=a.fn.markdown.messages,d=this.$options.language;return void 0!==c&&void 0!==c[d]&&void 0!==c[d][b]?c[d][b]:b},__getIcon:function(a){return"object"==typeof a?a[this.$options.iconlibrary]:a},setFullscreen:function(b){var c=this.$editor,d=this.$textarea;!0===b?(c.addClass("md-fullscreen-mode"),a("body").addClass("md-nooverflow"),this.$options.onFullscreen(this)):(c.removeClass("md-fullscreen-mode"),a("body").removeClass("md-nooverflow"),1==this.$isPreview&&this.hidePreview().showPreview()),this.$isFullscreen=b,d.focus()},showEditor:function(){var c,b=this,d=this.$ns,e=this.$element,h=(e.css("height"),e.css("width"),this.$editable),i=this.$handler,j=this.$callback,k=this.$options,l=a("<div/>",{class:"md-editor",click:function(){b.focus()}});if(null===this.$editor){var m=a("<div/>",{class:"md-header btn-toolbar"}),n=[];if(k.buttons.length>0&&(n=n.concat(k.buttons[0])),k.additionalButtons.length>0&&a.each(k.additionalButtons[0],function(b,c){var d=a.grep(n,function(a,b){return a.name===c.name});d.length>0?d[0].data=d[0].data.concat(c.data):n.push(k.additionalButtons[0][b])}),k.reorderButtonGroups.length>0&&(n=n.filter(function(a){return k.reorderButtonGroups.indexOf(a.name)>-1}).sort(function(a,b){return k.reorderButtonGroups.indexOf(a.name)<k.reorderButtonGroups.indexOf(b.name)?-1:k.reorderButtonGroups.indexOf(a.name)>k.reorderButtonGroups.indexOf(b.name)?1:0})),n.length>0&&(m=this.__buildButtons([n],m)),k.fullscreen.enable&&m.append('<div class="md-controls"><a class="md-control md-control-fullscreen" href="#"><span class="'+this.__getIcon(k.fullscreen.icons.fullscreenOn)+'"></span></a></div>').on("click",".md-control-fullscreen",function(a){a.preventDefault(),b.setFullscreen(!0)}),l.append(m),e.is("textarea"))e.before(l),c=e,c.addClass("md-input"),l.append(c);else{var o="function"==typeof toMarkdown?toMarkdown(e.html()):e.html(),p=a.trim(o);c=a("<textarea/>",{class:"md-input",val:p}),l.append(c),h.el=e,h.type=e.prop("tagName").toLowerCase(),h.content=e.html(),a(e[0].attributes).each(function(){h.attrKeys.push(this.nodeName),h.attrValues.push(this.nodeValue)}),e.replaceWith(l)}var q=a("<div/>",{class:"md-footer"}),r=!1,s="";if(k.savable){r=!0;var t="cmdSave";i.push(t),j.push(k.onSave),q.append('<button class="btn btn-success" data-provider="'+d+'" data-handler="'+t+'"><i class="icon icon-white icon-ok"></i> '+this.__localize("Save")+"</button>")}if(s="function"==typeof k.footer?k.footer(this):k.footer,""!==a.trim(s)&&(r=!0,q.append(s)),r&&l.append(q),k.width&&"inherit"!==k.width&&(jQuery.isNumeric(k.width)?(l.css("display","table"),c.css("width",k.width+"px")):l.addClass(k.width)),k.height&&"inherit"!==k.height)if(jQuery.isNumeric(k.height)){var u=k.height;m&&(u=Math.max(0,u-m.outerHeight())),q&&(u=Math.max(0,u-q.outerHeight())),c.css("height",u+"px")}else l.addClass(k.height);this.$editor=l,this.$textarea=c,this.$editable=h,this.$oldContent=this.getContent(),this.__setListener(),this.$editor.attr("id",(new Date).getTime()),this.$editor.on("click",'[data-provider="bootstrap-markdown"]',a.proxy(this.__handle,this)),(this.$element.is(":disabled")||this.$element.is("[readonly]"))&&(this.$editor.addClass("md-editor-disabled"),this.disableButtons("all")),this.eventSupported("keydown")&&"object"==typeof jQuery.hotkeys&&m.find('[data-provider="bootstrap-markdown"]').each(function(){var b=a(this),d=b.attr("data-hotkey");""!==d.toLowerCase()&&c.bind("keydown",d,function(){return b.trigger("click"),!1})}),"preview"===k.initialstate?this.showPreview():"fullscreen"===k.initialstate&&k.fullscreen.enable&&this.setFullscreen(!0)}else this.$editor.show();return k.autofocus&&(this.$textarea.focus(),this.$editor.addClass("active")),k.fullscreen.enable&&!1!==k.fullscreen&&(this.$editor.append('<div class="md-fullscreen-controls"><a href="#" class="exit-fullscreen" title="Exit fullscreen"><span class="'+this.__getIcon(k.fullscreen.icons.fullscreenOff)+'"></span></a></div>'),this.$editor.on("click",".exit-fullscreen",function(a){a.preventDefault(),b.setFullscreen(!1)})),this.hideButtons(k.hiddenButtons),this.disableButtons(k.disabledButtons),k.onShow(this),this},parseContent:function(a){var a=a||this.$textarea.val();return this.$options.parser?this.$options.parser(a):"object"==typeof markdown?markdown.toHTML(a):"function"==typeof marked?marked(a):a},showPreview:function(){var f,g,b=this.$options,c=this.$textarea,d=c.next(),e=a("<div/>",{class:"md-preview","data-provider":"markdown-preview"});return 1==this.$isPreview?this:(this.$isPreview=!0,this.disableButtons("all").enableButtons("cmdPreview"),g=b.onPreview(this),f="string"==typeof g?g:this.parseContent(),e.html(f),d&&"md-footer"==d.attr("class")?e.insertBefore(d):c.parent().append(e),e.css({width:c.outerWidth()+"px",height:c.outerHeight()+"px"}),this.$options.resize&&e.css("resize",this.$options.resize),c.hide(),e.data("markdown",this),(this.$element.is(":disabled")||this.$element.is("[readonly]"))&&(this.$editor.addClass("md-editor-disabled"),this.disableButtons("all")),this)},hidePreview:function(){return this.$isPreview=!1,this.$editor.find('div[data-provider="markdown-preview"]').remove(),this.enableButtons("all"),this.disableButtons(this.$options.disabledButtons),this.$textarea.show(),this.__setListener(),this},isDirty:function(){return this.$oldContent!=this.getContent()},getContent:function(){return this.$textarea.val()},setContent:function(a){return this.$textarea.val(a),this},findSelection:function(a){var c,b=this.getContent();if((c=b.indexOf(a))>=0&&a.length>0){var e,d=this.getSelection();return this.setSelection(c,c+a.length),e=this.getSelection(),this.setSelection(d.start,d.end),e}return null},getSelection:function(){var a=this.$textarea[0];return("selectionStart"in a&&function(){var b=a.selectionEnd-a.selectionStart;return{start:a.selectionStart,end:a.selectionEnd,length:b,text:a.value.substr(a.selectionStart,b)}}||function(){return null})()},setSelection:function(a,b){var c=this.$textarea[0];return("selectionStart"in c&&function(){c.selectionStart=a,c.selectionEnd=b}||function(){return null})()},replaceSelection:function(a){var b=this.$textarea[0];return("selectionStart"in b&&function(){return b.value=b.value.substr(0,b.selectionStart)+a+b.value.substr(b.selectionEnd,b.value.length),b.selectionStart=b.value.length,this}||function(){return b.value+=a,jQuery(b)})()},getNextTab:function(){if(0===this.$nextTab.length)return null;var a,b=this.$nextTab.shift();return"function"==typeof b?a=b():"object"==typeof b&&b.length>0&&(a=b),a},setNextTab:function(a,b){if("string"==typeof a){var c=this;this.$nextTab.push(function(){return c.findSelection(a)})}else if("number"==typeof a&&"number"==typeof b){var d=this.getSelection();this.setSelection(a,b),this.$nextTab.push(this.getSelection()),this.setSelection(d.start,d.end)}},__parseButtonNameParam:function(a){return"string"==typeof a?a.split(" "):a},enableButtons:function(b){var c=this.__parseButtonNameParam(b),d=this;return a.each(c,function(a,b){d.__alterButtons(c[a],function(a){a.removeAttr("disabled")})}),this},disableButtons:function(b){var c=this.__parseButtonNameParam(b),d=this;return a.each(c,function(a,b){d.__alterButtons(c[a],function(a){a.attr("disabled","disabled")})}),this},hideButtons:function(b){var c=this.__parseButtonNameParam(b),d=this;return a.each(c,function(a,b){d.__alterButtons(c[a],function(a){a.addClass("hidden")})}),this},showButtons:function(b){var c=this.__parseButtonNameParam(b),d=this;return a.each(c,function(a,b){d.__alterButtons(c[a],function(a){a.removeClass("hidden")})}),this},eventSupported:function(a){var b=a in this.$element;return b||(this.$element.setAttribute(a,"return;"),b="function"==typeof this.$element[a]),b},keyup:function(a){var b=!1;switch(a.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:var c;if(null!==(c=this.getNextTab())){var d=this;setTimeout(function(){d.setSelection(c.start,c.end)},500),b=!0}else{var e=this.getSelection();e.start==e.end&&e.end==this.getContent().length?b=!1:(this.setSelection(this.getContent().length,this.getContent().length),b=!0)}break;case 13:b=!1;break;case 27:this.$isFullscreen&&this.setFullscreen(!1),b=!1;break;default:b=!1}b&&(a.stopPropagation(),a.preventDefault()),this.$options.onChange(this)},change:function(a){return this.$options.onChange(this),this},select:function(a){return this.$options.onSelect(this),this},focus:function(b){var c=this.$options,e=(c.hideable,this.$editor);return e.addClass("active"),a(document).find(".md-editor").each(function(){if(a(this).attr("id")!==e.attr("id")){var b;null===(b=a(this).find("textarea").data("markdown"))&&(b=a(this).find('div[data-provider="markdown-preview"]').data("markdown")),b&&b.blur()}}),c.onFocus(this),this},blur:function(b){var c=this.$options,d=c.hideable,e=this.$editor,f=this.$editable;if(e.hasClass("active")||0===this.$element.parent().length){if(e.removeClass("active"),d)if(null!==f.el){var g=a("<"+f.type+"/>"),h=this.getContent(),i=this.parseContent(h);a(f.attrKeys).each(function(a,b){g.attr(f.attrKeys[a],f.attrValues[a])}),g.html(i),e.replaceWith(g)}else e.hide();c.onBlur(this)}return this}};var c=a.fn.markdown;a.fn.markdown=function(c){return this.each(function(){var d=a(this),e=d.data("markdown"),f="object"==typeof c&&c;e||d.data("markdown",e=new b(this,f))})},a.fn.markdown.messages={},a.fn.markdown.defaults={autofocus:!1,hideable:!1,savable:!1,width:"inherit",height:"inherit",resize:"none",iconlibrary:"glyph",language:"en",initialstate:"editor",parser:null,buttons:[[{name:"groupFont",data:[{name:"cmdBold",hotkey:"Ctrl+B",title:"Bold",icon:{glyph:"glyphicon glyphicon-bold",fa:"fa fa-bold","fa-3":"icon-bold"},callback:function(a){var b,c,d=a.getSelection(),e=a.getContent();b=0===d.length?a.__localize("strong text"):d.text,"**"===e.substr(d.start-2,2)&&"**"===e.substr(d.end,2)?(a.setSelection(d.start-2,d.end+2),a.replaceSelection(b),c=d.start-2):(a.replaceSelection("**"+b+"**"),c=d.start+2),a.setSelection(c,c+b.length)}},{name:"cmdItalic",title:"Italic",hotkey:"Ctrl+I",icon:{glyph:"glyphicon glyphicon-italic",fa:"fa fa-italic","fa-3":"icon-italic"},callback:function(a){var b,c,d=a.getSelection(),e=a.getContent();b=0===d.length?a.__localize("emphasized text"):d.text,"_"===e.substr(d.start-1,1)&&"_"===e.substr(d.end,1)?(a.setSelection(d.start-1,d.end+1),a.replaceSelection(b),c=d.start-1):(a.replaceSelection("_"+b+"_"),c=d.start+1),a.setSelection(c,c+b.length)}},{name:"cmdHeading",title:"Heading",hotkey:"Ctrl+H",icon:{glyph:"glyphicon glyphicon-header",fa:"fa fa-header","fa-3":"icon-font"},callback:function(a){var b,c,f,g,d=a.getSelection(),e=a.getContent();b=0===d.length?a.__localize("heading text"):d.text+"\n",f=4,"### "===e.substr(d.start-f,f)||(f=3,"###"===e.substr(d.start-f,f))?(a.setSelection(d.start-f,d.end),a.replaceSelection(b),c=d.start-f):d.start>0&&!!(g=e.substr(d.start-1,1))&&"\n"!=g?(a.replaceSelection("\n\n### "+b),c=d.start+6):(a.replaceSelection("### "+b),c=d.start+4),a.setSelection(c,c+b.length)}}]},{name:"groupLink",data:[{name:"cmdUrl",title:"URL/Link",hotkey:"Ctrl+L",icon:{glyph:"glyphicon glyphicon-link",fa:"fa fa-link","fa-3":"icon-link"},callback:function(b){var c,d,g,e=b.getSelection();b.getContent();c=0===e.length?b.__localize("enter link description here"):e.text,g=prompt(b.__localize("Insert Hyperlink"),"http://");var h=new RegExp("^((http|https)://|(mailto:)|(//))[a-z0-9]","i");if(null!==g&&""!==g&&"http://"!==g&&h.test(g)){var i=a("<div>"+g+"</div>").text();b.replaceSelection("["+c+"]("+i+")"),d=e.start+1,b.setSelection(d,d+c.length)}}},{name:"cmdImage",title:"Image",hotkey:"Ctrl+G",icon:{glyph:"glyphicon glyphicon-picture",fa:"fa fa-picture-o","fa-3":"icon-picture"},callback:function(b){var c,d,g,e=b.getSelection();b.getContent();c=0===e.length?b.__localize("enter image description here"):e.text,g=prompt(b.__localize("Insert Image Hyperlink"),"http://");var h=new RegExp("^((http|https)://|(//))[a-z0-9]","i");if(null!==g&&""!==g&&"http://"!==g&&h.test(g)){var i=a("<div>"+g+"</div>").text();b.replaceSelection("!["+c+"]("+i+' "'+b.__localize("enter image title here")+'")'),d=e.start+2,b.setNextTab(b.__localize("enter image title here")),b.setSelection(d,d+c.length)}}}]},{name:"groupMisc",data:[{name:"cmdList",hotkey:"Ctrl+U",title:"Unordered List",icon:{glyph:"glyphicon glyphicon-list",fa:"fa fa-list","fa-3":"icon-list-ul"},callback:function(b){var c,d,e=b.getSelection();b.getContent();if(0===e.length)c=b.__localize("list text here"),b.replaceSelection("- "+c),d=e.start+2;else if(e.text.indexOf("\n")<0)c=e.text,b.replaceSelection("- "+c),d=e.start+2;else{var g=[];g=e.text.split("\n"),c=g[0],a.each(g,function(a,b){g[a]="- "+b}),b.replaceSelection("\n\n"+g.join("\n")),d=e.start+4}b.setSelection(d,d+c.length)}},{name:"cmdListO",hotkey:"Ctrl+O",title:"Ordered List",icon:{glyph:"glyphicon glyphicon-th-list",fa:"fa fa-list-ol","fa-3":"icon-list-ol"},callback:function(b){var c,d,e=b.getSelection();b.getContent();if(0===e.length)c=b.__localize("list text here"),b.replaceSelection("1. "+c),d=e.start+3;else if(e.text.indexOf("\n")<0)c=e.text,b.replaceSelection("1. "+c),d=e.start+3;else{var g=[];g=e.text.split("\n"),c=g[0],a.each(g,function(a,b){g[a]="1. "+b}),b.replaceSelection("\n\n"+g.join("\n")),d=e.start+5}b.setSelection(d,d+c.length)}},{name:"cmdCode",hotkey:"Ctrl+K",title:"Code",icon:{glyph:"glyphicon glyphicon-asterisk",fa:"fa fa-code","fa-3":"icon-code"},callback:function(a){var b,c,d=a.getSelection(),e=a.getContent();b=0===d.length?a.__localize("code text here"):d.text,"```\n"===e.substr(d.start-4,4)&&"\n```"===e.substr(d.end,4)?(a.setSelection(d.start-4,d.end+4),a.replaceSelection(b),c=d.start-4):"`"===e.substr(d.start-1,1)&&"`"===e.substr(d.end,1)?(a.setSelection(d.start-1,d.end+1),a.replaceSelection(b),c=d.start-1):e.indexOf("\n")>-1?(a.replaceSelection("```\n"+b+"\n```"),c=d.start+4):(a.replaceSelection("`"+b+"`"),c=d.start+1),a.setSelection(c,c+b.length)}},{name:"cmdQuote",hotkey:"Ctrl+Q",title:"Quote",icon:{glyph:"glyphicon glyphicon-comment",fa:"fa fa-quote-left","fa-3":"icon-quote-left"},callback:function(b){var c,d,e=b.getSelection();b.getContent();if(0===e.length)c=b.__localize("quote here"),b.replaceSelection("> "+c),d=e.start+2;else if(e.text.indexOf("\n")<0)c=e.text,b.replaceSelection("> "+c),d=e.start+2;else{var g=[];g=e.text.split("\n"),c=g[0],a.each(g,function(a,b){g[a]="> "+b}),b.replaceSelection("\n\n"+g.join("\n")),d=e.start+4}b.setSelection(d,d+c.length)}}]},{name:"groupUtil",data:[{name:"cmdPreview",toggle:!0,hotkey:"Ctrl+P",title:"Preview",btnText:"Preview",btnClass:"btn btn-primary btn-sm",icon:{glyph:"glyphicon glyphicon-search",fa:"fa fa-search","fa-3":"icon-search"},callback:function(a){var b=a.$isPreview;!1===b?a.showPreview():a.hidePreview()}}]}]],additionalButtons:[],reorderButtonGroups:[],hiddenButtons:[],disabledButtons:[],footer:"",fullscreen:{enable:!0,icons:{fullscreenOn:{fa:"fa fa-expand",glyph:"glyphicon glyphicon-fullscreen","fa-3":"icon-resize-full"},fullscreenOff:{fa:"fa fa-compress",glyph:"glyphicon glyphicon-fullscreen","fa-3":"icon-resize-small"}}},onShow:function(a){},onPreview:function(a){},onSave:function(a){},onBlur:function(a){},onFocus:function(a){},onChange:function(a){},onFullscreen:function(a){},onSelect:function(a){}},a.fn.markdown.Constructor=b,a.fn.markdown.noConflict=function(){return a.fn.markdown=c,this};var d=function(a){var b=a;if(b.data("markdown"))return void b.data("markdown").showEditor();b.markdown()},e=function(b){var c=a(document.activeElement);a(document).find(".md-editor").each(function(){var b=a(this),d=c.closest(".md-editor")[0]===this,e=b.find("textarea").data("markdown")||b.find('div[data-provider="markdown-preview"]').data("markdown");e&&!d&&e.blur()})};a(document).on("click.markdown.data-api",'[data-provide="markdown-editable"]',function(b){d(a(this)),b.preventDefault()}).on("click focusin",function(a){e(a)}).ready(function(){a('textarea[data-provide="markdown"]').each(function(){d(a(this))})})}),function(a){"use strict";function b(a){var b=a.outerHeight(),c=this.$editor.find(".md-preview");this.$textarea[0].style.top=b+"px",c.length&&(c[0].style.top=b+"px")}if(!a.fn.markdown)throw new Error("bootstrap-markdown.js required.");var c=a.fn.markdown.Constructor.prototype.__buildButtons,d=a.fn.markdown.Constructor.prototype.setFullscreen,e=a.fn.markdown.Constructor.prototype.showPreview;a.fn.markdown.Constructor.prototype.__buildButtons=function(a,b){var d=c.call(this,a,b);return d.find(".btn-default").removeClass("btn-default").addClass("btn-secondary"),d},a.fn.markdown.Constructor.prototype.setFullscreen=function(c){if(d.call(this,c),c){var e=this.$editor.find(".md-header");b.call(this,e),a(window).on("resize.md-editor",a.proxy(b,this,e))}else this.$textarea[0].style.top="auto",this.$editor.find(".md-preview").css("top","auto"),a(window).off("resize.md-editor")},a.fn.markdown.Constructor.prototype.showPreview=function(){if(e.call(this),this.$editor.hasClass("md-fullscreen-mode")){var a=this.$editor.find(".md-header");b.call(this,a)}}}(jQuery),function(a){"function"==typeof define&&define.amd?define(["jquery"],function(b){return a(b,document,window,navigator)}):"object"==typeof exports?a(require("jquery"),document,window,navigator):a(jQuery,document,window,navigator)}(function(a,b,c,d,e){"use strict";var f=0,g=function(){var e,b=d.userAgent,c=/msie\s\d+/i;return b.search(c)>0&&(e=c.exec(b).toString(),(e=e.split(" ")[1])<9)&&(a("html").addClass("lt-ie9"),!0)}();Function.prototype.bind||(Function.prototype.bind=function(b){var c=this,d=[].slice;if("function"!=typeof c)throw new TypeError;var e=d.call(arguments,1),f=function(){if(this instanceof f){var a=function(){};a.prototype=c.prototype;var g=new a,h=c.apply(g,e.concat(d.call(arguments)));return Object(h)===h?h:g}return c.apply(b,e.concat(d.call(arguments)))};return f}),Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){var c;if(null==this)throw new TypeError('"this" is null or not defined');var d=Object(this),e=d.length>>>0;if(0===e)return-1;var f=+b||0;if(Math.abs(f)===1/0&&(f=0),f>=e)return-1;for(c=Math.max(f>=0?f:e-Math.abs(f),0);c<e;){if(c in d&&d[c]===a)return c;c++}return-1});var l=function(d,f,g){this.VERSION="2.1.6",this.input=d,this.plugin_count=g,this.current_plugin=0,this.calc_count=0,this.update_tm=0,this.old_from=0,this.old_to=0,this.old_min_interval=null,this.raf_id=null,this.dragging=!1,this.force_redraw=!1,this.no_diapason=!1,this.is_key=!1,this.is_update=!1,this.is_first_update=!0,this.is_start=!0,this.is_finish=!1,this.is_active=!1,this.is_resize=!1,this.is_click=!1,f=f||{},this.$cache={win:a(c),body:a(b.body),input:a(d),cont:null,rs:null,min:null,max:null,from:null,to:null,single:null,bar:null,line:null,s_single:null,s_from:null,s_to:null,shad_single:null,shad_from:null,shad_to:null,edge:null,grid:null,grid_labels:[]},this.coords={x_gap:0,x_pointer:0,w_rs:0,w_rs_old:0,w_handle:0,p_gap:0,p_gap_left:0,p_gap_right:0,p_step:0,p_pointer:0,p_handle:0,p_single_fake:0,p_single_real:0,p_from_fake:0,p_from_real:0,p_to_fake:0,p_to_real:0,p_bar_x:0,p_bar_w:0,grid_gap:0,big_num:0,big:[],big_w:[],big_p:[],big_x:[]},this.labels={w_min:0,w_max:0,w_from:0,w_to:0,w_single:0,p_min:0,p_max:0,p_from_fake:0,p_from_left:0,p_to_fake:0,p_to_left:0,p_single_fake:0,p_single_left:0};var j,k,l,h=this.$cache.input,i=h.prop("value");j={type:"single",min:10,max:100,from:null,to:null,step:1,min_interval:0,max_interval:0,drag_interval:!1,values:[],p_values:[],from_fixed:!1,from_min:null,from_max:null,from_shadow:!1,to_fixed:!1,to_min:null,to_max:null,to_shadow:!1,prettify_enabled:!0,prettify_separator:" ",prettify:null,force_edges:!1,keyboard:!1,keyboard_step:5,grid:!1,grid_margin:!0,grid_num:4,grid_snap:!1,hide_min_max:!1,hide_from_to:!1,prefix:"",postfix:"",max_postfix:"",decorate_both:!0,values_separator:"  ",input_values_separator:";",disable:!1,onStart:null,onChange:null,onFinish:null,onUpdate:null},"INPUT"!==h[0].nodeName&&console&&console.warn&&console.warn("Base element should be <input>!",h[0]),k={type:h.data("type"),min:h.data("min"),max:h.data("max"),from:h.data("from"),to:h.data("to"),step:h.data("step"),min_interval:h.data("minInterval"),max_interval:h.data("maxInterval"),drag_interval:h.data("dragInterval"),values:h.data("values"),from_fixed:h.data("fromFixed"),from_min:h.data("fromMin"),from_max:h.data("fromMax"),from_shadow:h.data("fromShadow"),to_fixed:h.data("toFixed"),to_min:h.data("toMin"),to_max:h.data("toMax"),to_shadow:h.data("toShadow"),prettify_enabled:h.data("prettifyEnabled"),prettify_separator:h.data("prettifySeparator"),force_edges:h.data("forceEdges"),keyboard:h.data("keyboard"),keyboard_step:h.data("keyboardStep"),grid:h.data("grid"),grid_margin:h.data("gridMargin"),grid_num:h.data("gridNum"),grid_snap:h.data("gridSnap"),hide_min_max:h.data("hideMinMax"),hide_from_to:h.data("hideFromTo"),prefix:h.data("prefix"),postfix:h.data("postfix"),max_postfix:h.data("maxPostfix"),decorate_both:h.data("decorateBoth"),values_separator:h.data("valuesSeparator"),input_values_separator:h.data("inputValuesSeparator"),disable:h.data("disable")},k.values=k.values&&k.values.split(",");for(l in k)k.hasOwnProperty(l)&&(k[l]!==e&&""!==k[l]||delete k[l]);i!==e&&""!==i&&(i=i.split(k.input_values_separator||f.input_values_separator||";"),i[0]&&i[0]==+i[0]&&(i[0]=+i[0]),i[1]&&i[1]==+i[1]&&(i[1]=+i[1]),f&&f.values&&f.values.length?(j.from=i[0]&&f.values.indexOf(i[0]),j.to=i[1]&&f.values.indexOf(i[1])):(j.from=i[0]&&+i[0],j.to=i[1]&&+i[1])),a.extend(j,f),a.extend(j,k),this.options=j,this.update_check={},this.validate(),this.result={input:this.$cache.input,slider:null,min:this.options.min,max:this.options.max,from:this.options.from,from_percent:0,from_value:null,to:this.options.to,to_percent:0,to_value:null},this.init()};l.prototype={init:function(a){this.no_diapason=!1,this.coords.p_step=this.convertToPercent(this.options.step,!0),this.target="base",this.toggleInput(),this.append(),this.setMinMax(),a?(this.force_redraw=!0,this.calc(!0),this.callOnUpdate()):(this.force_redraw=!0,this.calc(!0),this.callOnStart()),this.updateScene()},append:function(){var a='<span class="irs js-irs-'+this.plugin_count+'"></span>';this.$cache.input.before(a),this.$cache.input.prop("readonly",!0),this.$cache.cont=this.$cache.input.prev(),this.result.slider=this.$cache.cont,this.$cache.cont.html('<span class="irs"><span class="irs-line" tabindex="-1"><span class="irs-line-left"></span><span class="irs-line-mid"></span><span class="irs-line-right"></span></span><span class="irs-min">0</span><span class="irs-max">1</span><span class="irs-from">0</span><span class="irs-to">0</span><span class="irs-single">0</span></span><span class="irs-grid"></span><span class="irs-bar"></span>'),this.$cache.rs=this.$cache.cont.find(".irs"),this.$cache.min=this.$cache.cont.find(".irs-min"),this.$cache.max=this.$cache.cont.find(".irs-max"),this.$cache.from=this.$cache.cont.find(".irs-from"),this.$cache.to=this.$cache.cont.find(".irs-to"),this.$cache.single=this.$cache.cont.find(".irs-single"),this.$cache.bar=this.$cache.cont.find(".irs-bar"),this.$cache.line=this.$cache.cont.find(".irs-line"),this.$cache.grid=this.$cache.cont.find(".irs-grid"),"single"===this.options.type?(this.$cache.cont.append('<span class="irs-bar-edge"></span><span class="irs-shadow shadow-single"></span><span class="irs-slider single"></span>'),this.$cache.edge=this.$cache.cont.find(".irs-bar-edge"),this.$cache.s_single=this.$cache.cont.find(".single"),this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.shad_single=this.$cache.cont.find(".shadow-single")):(this.$cache.cont.append('<span class="irs-shadow shadow-from"></span><span class="irs-shadow shadow-to"></span><span class="irs-slider from"></span><span class="irs-slider to"></span>'),this.$cache.s_from=this.$cache.cont.find(".from"),this.$cache.s_to=this.$cache.cont.find(".to"),this.$cache.shad_from=this.$cache.cont.find(".shadow-from"),this.$cache.shad_to=this.$cache.cont.find(".shadow-to"),this.setTopHandler()),this.options.hide_from_to&&(this.$cache.from[0].style.display="none",this.$cache.to[0].style.display="none",this.$cache.single[0].style.display="none"),this.appendGrid(),this.options.disable?(this.appendDisableMask(),this.$cache.input[0].disabled=!0):(this.$cache.cont.removeClass("irs-disabled"),this.$cache.input[0].disabled=!1,this.bindEvents()),this.options.drag_interval&&(this.$cache.bar[0].style.cursor="ew-resize")},setTopHandler:function(){var a=this.options.min,b=this.options.max,c=this.options.from,d=this.options.to;c>a&&d===b?this.$cache.s_from.addClass("type_last"):d<b&&this.$cache.s_to.addClass("type_last")},changeLevel:function(a){switch(a){case"single":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_single_fake);break;case"from":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake),this.$cache.s_from.addClass("state_hover"),this.$cache.s_from.addClass("type_last"),this.$cache.s_to.removeClass("type_last");break;case"to":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_to_fake),this.$cache.s_to.addClass("state_hover"),this.$cache.s_to.addClass("type_last"),this.$cache.s_from.removeClass("type_last");break;case"both":this.coords.p_gap_left=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake),this.coords.p_gap_right=this.toFixed(this.coords.p_to_fake-this.coords.p_pointer),this.$cache.s_to.removeClass("type_last"),this.$cache.s_from.removeClass("type_last")}},appendDisableMask:function(){this.$cache.cont.append('<span class="irs-disable-mask"></span>'),this.$cache.cont.addClass("irs-disabled")},remove:function(){this.$cache.cont.remove(),this.$cache.cont=null,this.$cache.line.off("keydown.irs_"+this.plugin_count),this.$cache.body.off("touchmove.irs_"+this.plugin_count),this.$cache.body.off("mousemove.irs_"+this.plugin_count),this.$cache.win.off("touchend.irs_"+this.plugin_count),this.$cache.win.off("mouseup.irs_"+this.plugin_count),g&&(this.$cache.body.off("mouseup.irs_"+this.plugin_count),this.$cache.body.off("mouseleave.irs_"+this.plugin_count)),this.$cache.grid_labels=[],this.coords.big=[],this.coords.big_w=[],this.coords.big_p=[],this.coords.big_x=[],cancelAnimationFrame(this.raf_id)},bindEvents:function(){this.no_diapason||(this.$cache.body.on("touchmove.irs_"+this.plugin_count,this.pointerMove.bind(this)),this.$cache.body.on("mousemove.irs_"+this.plugin_count,this.pointerMove.bind(this)),this.$cache.win.on("touchend.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.win.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.line.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.line.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.options.drag_interval&&"double"===this.options.type?(this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"both")),this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"both"))):(this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))),"single"===this.options.type?(this.$cache.single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.s_single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.shad_single.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.s_single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.edge.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_single.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))):(this.$cache.single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,null)),this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,null)),this.$cache.from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.s_from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.s_to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.shad_from.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_to.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.s_from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.s_to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.shad_from.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_to.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))),this.options.keyboard&&this.$cache.line.on("keydown.irs_"+this.plugin_count,this.key.bind(this,"keyboard")),g&&(this.$cache.body.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.body.on("mouseleave.irs_"+this.plugin_count,this.pointerUp.bind(this))))},pointerMove:function(a){if(this.dragging){var b=a.pageX||a.originalEvent.touches&&a.originalEvent.touches[0].pageX;this.coords.x_pointer=b-this.coords.x_gap,this.calc()}},pointerUp:function(b){this.current_plugin===this.plugin_count&&this.is_active&&(this.is_active=!1,this.$cache.cont.find(".state_hover").removeClass("state_hover"),this.force_redraw=!0,g&&a("*").prop("unselectable",!1),this.updateScene(),this.restoreOriginalMinInterval(),(a.contains(this.$cache.cont[0],b.target)||this.dragging)&&this.callOnFinish(),this.dragging=!1)},pointerDown:function(b,c){c.preventDefault();var d=c.pageX||c.originalEvent.touches&&c.originalEvent.touches[0].pageX;2!==c.button&&("both"===b&&this.setTempMinInterval(),b||(b=this.target||"from"),this.current_plugin=this.plugin_count,this.target=b,this.is_active=!0,this.dragging=!0,this.coords.x_gap=this.$cache.rs.offset().left,this.coords.x_pointer=d-this.coords.x_gap,this.calcPointerPercent(),this.changeLevel(b),g&&a("*").prop("unselectable",!0),this.$cache.line.trigger("focus"),this.updateScene())},pointerClick:function(a,b){b.preventDefault();var c=b.pageX||b.originalEvent.touches&&b.originalEvent.touches[0].pageX;2!==b.button&&(this.current_plugin=this.plugin_count,this.target=a,this.is_click=!0,this.coords.x_gap=this.$cache.rs.offset().left,this.coords.x_pointer=+(c-this.coords.x_gap).toFixed(),this.force_redraw=!0,this.calc(),this.$cache.line.trigger("focus"))},key:function(a,b){if(!(this.current_plugin!==this.plugin_count||b.altKey||b.ctrlKey||b.shiftKey||b.metaKey)){switch(b.which){case 83:case 65:case 40:case 37:b.preventDefault(),this.moveByKey(!1);break;case 87:case 68:case 38:case 39:b.preventDefault(),this.moveByKey(!0)}return!0}},moveByKey:function(a){var b=this.coords.p_pointer;a?b+=this.options.keyboard_step:b-=this.options.keyboard_step,this.coords.x_pointer=this.toFixed(this.coords.w_rs/100*b),this.is_key=!0,this.calc()},setMinMax:function(){if(this.options){if(this.options.hide_min_max)return this.$cache.min[0].style.display="none",void(this.$cache.max[0].style.display="none");this.options.values.length?(this.$cache.min.html(this.decorate(this.options.p_values[this.options.min])),this.$cache.max.html(this.decorate(this.options.p_values[this.options.max]))):(this.$cache.min.html(this.decorate(this._prettify(this.options.min),this.options.min)),this.$cache.max.html(this.decorate(this._prettify(this.options.max),this.options.max))),this.labels.w_min=this.$cache.min.outerWidth(!1),this.labels.w_max=this.$cache.max.outerWidth(!1)}},setTempMinInterval:function(){var a=this.result.to-this.result.from;null===this.old_min_interval&&(this.old_min_interval=this.options.min_interval),this.options.min_interval=a},restoreOriginalMinInterval:function(){null!==this.old_min_interval&&(this.options.min_interval=this.old_min_interval,this.old_min_interval=null)},calc:function(a){if(this.options&&(this.calc_count++,(10===this.calc_count||a)&&(this.calc_count=0,this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.calcHandlePercent()),this.coords.w_rs)){this.calcPointerPercent();var b=this.getHandleX();switch("both"===this.target&&(this.coords.p_gap=0,b=this.getHandleX()),"click"===this.target&&(this.coords.p_gap=this.coords.p_handle/2,b=this.getHandleX(),this.options.drag_interval?this.target="both_one":this.target=this.chooseHandle(b)),this.target){case"base":var c=(this.options.max-this.options.min)/100,d=(this.result.from-this.options.min)/c,e=(this.result.to-this.options.min)/c;this.coords.p_single_real=this.toFixed(d),this.coords.p_from_real=this.toFixed(d),this.coords.p_to_real=this.toFixed(e),this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real),this.target=null;break;case"single":if(this.options.from_fixed)break;this.coords.p_single_real=this.convertToRealPercent(b),this.coords.p_single_real=this.calcWithStep(this.coords.p_single_real),this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max),this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real);break;case"from":if(this.options.from_fixed)break;this.coords.p_from_real=this.convertToRealPercent(b),this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real),this.coords.p_from_real>this.coords.p_to_real&&(this.coords.p_from_real=this.coords.p_to_real),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_real=this.checkMaxInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real);break;case"to":if(this.options.to_fixed)break;this.coords.p_to_real=this.convertToRealPercent(b),this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real),this.coords.p_to_real<this.coords.p_from_real&&(this.coords.p_to_real=this.coords.p_from_real),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_real=this.checkMaxInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break;case"both":if(this.options.from_fixed||this.options.to_fixed)break;b=this.toFixed(b+.001*this.coords.p_handle),this.coords.p_from_real=this.convertToRealPercent(b)-this.coords.p_gap_left,this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_real=this.convertToRealPercent(b)+this.coords.p_gap_right,this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break;case"both_one":if(this.options.from_fixed||this.options.to_fixed)break;var f=this.convertToRealPercent(b),g=this.result.from_percent,h=this.result.to_percent,i=h-g,j=i/2,k=f-j,l=f+j;k<0&&(k=0,l=k+i),l>100&&(l=100,k=l-i),this.coords.p_from_real=this.calcWithStep(k),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_real=this.calcWithStep(l),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real)}"single"===this.options.type?(this.coords.p_bar_x=this.coords.p_handle/2,this.coords.p_bar_w=this.coords.p_single_fake,this.result.from_percent=this.coords.p_single_real,this.result.from=this.convertToValue(this.coords.p_single_real),this.options.values.length&&(this.result.from_value=this.options.values[this.result.from])):(this.coords.p_bar_x=this.toFixed(this.coords.p_from_fake+this.coords.p_handle/2),this.coords.p_bar_w=this.toFixed(this.coords.p_to_fake-this.coords.p_from_fake),this.result.from_percent=this.coords.p_from_real,this.result.from=this.convertToValue(this.coords.p_from_real),this.result.to_percent=this.coords.p_to_real,this.result.to=this.convertToValue(this.coords.p_to_real),this.options.values.length&&(this.result.from_value=this.options.values[this.result.from],this.result.to_value=this.options.values[this.result.to])),this.calcMinMax(),this.calcLabels()}},calcPointerPercent:function(){if(!this.coords.w_rs)return void(this.coords.p_pointer=0);this.coords.x_pointer<0||isNaN(this.coords.x_pointer)?this.coords.x_pointer=0:this.coords.x_pointer>this.coords.w_rs&&(this.coords.x_pointer=this.coords.w_rs),this.coords.p_pointer=this.toFixed(this.coords.x_pointer/this.coords.w_rs*100)},convertToRealPercent:function(a){return a/(100-this.coords.p_handle)*100},convertToFakePercent:function(a){return a/100*(100-this.coords.p_handle)},getHandleX:function(){var a=100-this.coords.p_handle,b=this.toFixed(this.coords.p_pointer-this.coords.p_gap);return b<0?b=0:b>a&&(b=a),b},calcHandlePercent:function(){"single"===this.options.type?this.coords.w_handle=this.$cache.s_single.outerWidth(!1):this.coords.w_handle=this.$cache.s_from.outerWidth(!1),this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100)},chooseHandle:function(a){return"single"===this.options.type?"single":a>=this.coords.p_from_real+(this.coords.p_to_real-this.coords.p_from_real)/2?this.options.to_fixed?"from":"to":this.options.from_fixed?"to":"from"},calcMinMax:function(){this.coords.w_rs&&(this.labels.p_min=this.labels.w_min/this.coords.w_rs*100,this.labels.p_max=this.labels.w_max/this.coords.w_rs*100)},calcLabels:function(){this.coords.w_rs&&!this.options.hide_from_to&&("single"===this.options.type?(this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100,this.labels.p_single_left=this.coords.p_single_fake+this.coords.p_handle/2-this.labels.p_single_fake/2,this.labels.p_single_left=this.checkEdges(this.labels.p_single_left,this.labels.p_single_fake)):(this.labels.w_from=this.$cache.from.outerWidth(!1),this.labels.p_from_fake=this.labels.w_from/this.coords.w_rs*100,this.labels.p_from_left=this.coords.p_from_fake+this.coords.p_handle/2-this.labels.p_from_fake/2,this.labels.p_from_left=this.toFixed(this.labels.p_from_left),this.labels.p_from_left=this.checkEdges(this.labels.p_from_left,this.labels.p_from_fake),this.labels.w_to=this.$cache.to.outerWidth(!1),this.labels.p_to_fake=this.labels.w_to/this.coords.w_rs*100,this.labels.p_to_left=this.coords.p_to_fake+this.coords.p_handle/2-this.labels.p_to_fake/2,this.labels.p_to_left=this.toFixed(this.labels.p_to_left),this.labels.p_to_left=this.checkEdges(this.labels.p_to_left,this.labels.p_to_fake),this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100,this.labels.p_single_left=(this.labels.p_from_left+this.labels.p_to_left+this.labels.p_to_fake)/2-this.labels.p_single_fake/2,this.labels.p_single_left=this.toFixed(this.labels.p_single_left),this.labels.p_single_left=this.checkEdges(this.labels.p_single_left,this.labels.p_single_fake)))},updateScene:function(){this.raf_id&&(cancelAnimationFrame(this.raf_id),this.raf_id=null),clearTimeout(this.update_tm),this.update_tm=null,this.options&&(this.drawHandles(),this.is_active?this.raf_id=requestAnimationFrame(this.updateScene.bind(this)):this.update_tm=setTimeout(this.updateScene.bind(this),300))},drawHandles:function(){this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.coords.w_rs&&(this.coords.w_rs!==this.coords.w_rs_old&&(this.target="base",this.is_resize=!0),(this.coords.w_rs!==this.coords.w_rs_old||this.force_redraw)&&(this.setMinMax(),this.calc(!0),this.drawLabels(),this.options.grid&&(this.calcGridMargin(),this.calcGridLabels()),this.force_redraw=!0,this.coords.w_rs_old=this.coords.w_rs,this.drawShadow()),this.coords.w_rs&&(this.dragging||this.force_redraw||this.is_key)&&((this.old_from!==this.result.from||this.old_to!==this.result.to||this.force_redraw||this.is_key)&&(this.drawLabels(),this.$cache.bar[0].style.left=this.coords.p_bar_x+"%",this.$cache.bar[0].style.width=this.coords.p_bar_w+"%","single"===this.options.type?(this.$cache.s_single[0].style.left=this.coords.p_single_fake+"%",this.$cache.single[0].style.left=this.labels.p_single_left+"%"):(this.$cache.s_from[0].style.left=this.coords.p_from_fake+"%",this.$cache.s_to[0].style.left=this.coords.p_to_fake+"%",(this.old_from!==this.result.from||this.force_redraw)&&(this.$cache.from[0].style.left=this.labels.p_from_left+"%"),(this.old_to!==this.result.to||this.force_redraw)&&(this.$cache.to[0].style.left=this.labels.p_to_left+"%"),this.$cache.single[0].style.left=this.labels.p_single_left+"%"),this.writeToInput(),this.old_from===this.result.from&&this.old_to===this.result.to||this.is_start||(this.$cache.input.trigger("change"),this.$cache.input.trigger("input")),this.old_from=this.result.from,this.old_to=this.result.to,this.is_resize||this.is_update||this.is_start||this.is_finish||this.callOnChange(),(this.is_key||this.is_click||this.is_first_update)&&(this.is_key=!1,this.is_click=!1,this.is_first_update=!1,this.callOnFinish()),this.is_update=!1,this.is_resize=!1,this.is_finish=!1),this.is_start=!1,this.is_key=!1,this.is_click=!1,this.force_redraw=!1))},drawLabels:function(){if(this.options){var c,d,e,a=this.options.values.length,b=this.options.p_values;if(!this.options.hide_from_to)if("single"===this.options.type)a?(c=this.decorate(b[this.result.from]),this.$cache.single.html(c)):(c=this.decorate(this._prettify(this.result.from),this.result.from),this.$cache.single.html(c)),this.calcLabels(),this.labels.p_single_left<this.labels.p_min+1?this.$cache.min[0].style.visibility="hidden":this.$cache.min[0].style.visibility="visible",this.labels.p_single_left+this.labels.p_single_fake>100-this.labels.p_max-1?this.$cache.max[0].style.visibility="hidden":this.$cache.max[0].style.visibility="visible";else{a?(this.options.decorate_both?(c=this.decorate(b[this.result.from]),c+=this.options.values_separator,c+=this.decorate(b[this.result.to])):c=this.decorate(b[this.result.from]+this.options.values_separator+b[this.result.to]),d=this.decorate(b[this.result.from]),e=this.decorate(b[this.result.to]),this.$cache.single.html(c),this.$cache.from.html(d),this.$cache.to.html(e)):(this.options.decorate_both?(c=this.decorate(this._prettify(this.result.from),this.result.from),c+=this.options.values_separator,c+=this.decorate(this._prettify(this.result.to),this.result.to)):c=this.decorate(this._prettify(this.result.from)+this.options.values_separator+this._prettify(this.result.to),this.result.to),d=this.decorate(this._prettify(this.result.from),this.result.from),e=this.decorate(this._prettify(this.result.to),this.result.to),this.$cache.single.html(c),this.$cache.from.html(d),this.$cache.to.html(e)),this.calcLabels();var f=Math.min(this.labels.p_single_left,this.labels.p_from_left),g=this.labels.p_single_left+this.labels.p_single_fake,h=this.labels.p_to_left+this.labels.p_to_fake,i=Math.max(g,h);this.labels.p_from_left+this.labels.p_from_fake>=this.labels.p_to_left?(this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.single[0].style.visibility="visible",this.result.from===this.result.to?("from"===this.target?this.$cache.from[0].style.visibility="visible":"to"===this.target?this.$cache.to[0].style.visibility="visible":this.target||(this.$cache.from[0].style.visibility="visible"),this.$cache.single[0].style.visibility="hidden",i=h):(this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.single[0].style.visibility="visible",i=Math.max(g,h))):(this.$cache.from[0].style.visibility="visible",this.$cache.to[0].style.visibility="visible",this.$cache.single[0].style.visibility="hidden"),f<this.labels.p_min+1?this.$cache.min[0].style.visibility="hidden":this.$cache.min[0].style.visibility="visible",i>100-this.labels.p_max-1?this.$cache.max[0].style.visibility="hidden":this.$cache.max[0].style.visibility="visible"}}},drawShadow:function(){var g,h,i,j,a=this.options,b=this.$cache,c="number"==typeof a.from_min&&!isNaN(a.from_min),d="number"==typeof a.from_max&&!isNaN(a.from_max),e="number"==typeof a.to_min&&!isNaN(a.to_min),f="number"==typeof a.to_max&&!isNaN(a.to_max);"single"===a.type?a.from_shadow&&(c||d)?(g=this.convertToPercent(c?a.from_min:a.min),h=this.convertToPercent(d?a.from_max:a.max)-g,g=this.toFixed(g-this.coords.p_handle/100*g),h=this.toFixed(h-this.coords.p_handle/100*h),g+=this.coords.p_handle/2,b.shad_single[0].style.display="block",b.shad_single[0].style.left=g+"%",b.shad_single[0].style.width=h+"%"):b.shad_single[0].style.display="none":(a.from_shadow&&(c||d)?(g=this.convertToPercent(c?a.from_min:a.min),h=this.convertToPercent(d?a.from_max:a.max)-g,g=this.toFixed(g-this.coords.p_handle/100*g),h=this.toFixed(h-this.coords.p_handle/100*h),g+=this.coords.p_handle/2,b.shad_from[0].style.display="block",b.shad_from[0].style.left=g+"%",b.shad_from[0].style.width=h+"%"):b.shad_from[0].style.display="none",a.to_shadow&&(e||f)?(i=this.convertToPercent(e?a.to_min:a.min),j=this.convertToPercent(f?a.to_max:a.max)-i,i=this.toFixed(i-this.coords.p_handle/100*i),j=this.toFixed(j-this.coords.p_handle/100*j),i+=this.coords.p_handle/2,b.shad_to[0].style.display="block",b.shad_to[0].style.left=i+"%",b.shad_to[0].style.width=j+"%"):b.shad_to[0].style.display="none")},writeToInput:function(){"single"===this.options.type?(this.options.values.length?this.$cache.input.prop("value",this.result.from_value):this.$cache.input.prop("value",this.result.from),this.$cache.input.data("from",this.result.from)):(this.options.values.length?this.$cache.input.prop("value",this.result.from_value+this.options.input_values_separator+this.result.to_value):this.$cache.input.prop("value",this.result.from+this.options.input_values_separator+this.result.to),this.$cache.input.data("from",this.result.from),this.$cache.input.data("to",this.result.to))},callOnStart:function(){this.writeToInput(),this.options.onStart&&"function"==typeof this.options.onStart&&this.options.onStart(this.result)},callOnChange:function(){this.writeToInput(),this.options.onChange&&"function"==typeof this.options.onChange&&this.options.onChange(this.result)},callOnFinish:function(){this.writeToInput(),this.options.onFinish&&"function"==typeof this.options.onFinish&&this.options.onFinish(this.result)},callOnUpdate:function(){this.writeToInput(),this.options.onUpdate&&"function"==typeof this.options.onUpdate&&this.options.onUpdate(this.result)},toggleInput:function(){this.$cache.input.toggleClass("irs-hidden-input")},convertToPercent:function(a,b){var e,f,c=this.options.max-this.options.min,d=c/100;return c?(e=b?a:a-this.options.min,f=e/d,this.toFixed(f)):(this.no_diapason=!0,0)},convertToValue:function(a){var f,g,b=this.options.min,c=this.options.max,d=b.toString().split(".")[1],e=c.toString().split(".")[1],h=0,i=0;if(0===a)return this.options.min;if(100===a)return this.options.max;d&&(f=d.length,h=f),e&&(g=e.length,h=g),f&&g&&(h=f>=g?f:g),b<0&&(i=Math.abs(b),b=+(b+i).toFixed(h),c=+(c+i).toFixed(h));var l,j=(c-b)/100*a+b,k=this.options.step.toString().split(".")[1];return k?j=+j.toFixed(k.length):(j/=this.options.step,j*=this.options.step,j=+j.toFixed(0)),i&&(j-=i),l=k?+j.toFixed(k.length):this.toFixed(j),l<this.options.min?l=this.options.min:l>this.options.max&&(l=this.options.max),l},calcWithStep:function(a){var b=Math.round(a/this.coords.p_step)*this.coords.p_step;return b>100&&(b=100),100===a&&(b=100),this.toFixed(b)},checkMinInterval:function(a,b,c){var e,f,d=this.options;return d.min_interval?(e=this.convertToValue(a),f=this.convertToValue(b),"from"===c?f-e<d.min_interval&&(e=f-d.min_interval):e-f<d.min_interval&&(e=f+d.min_interval),this.convertToPercent(e)):a},checkMaxInterval:function(a,b,c){var e,f,d=this.options;return d.max_interval?(e=this.convertToValue(a),f=this.convertToValue(b),"from"===c?f-e>d.max_interval&&(e=f-d.max_interval):e-f>d.max_interval&&(e=f+d.max_interval),this.convertToPercent(e)):a},checkDiapason:function(a,b,c){var d=this.convertToValue(a),e=this.options;return"number"!=typeof b&&(b=e.min),"number"!=typeof c&&(c=e.max),d<b&&(d=b),d>c&&(d=c),this.convertToPercent(d)},toFixed:function(a){return+(a=a.toFixed(20))},_prettify:function(a){return this.options.prettify_enabled?this.options.prettify&&"function"==typeof this.options.prettify?this.options.prettify(a):this.prettify(a):a},prettify:function(a){return a.toString().replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g,"$1"+this.options.prettify_separator)},checkEdges:function(a,b){return this.options.force_edges?(a<0?a=0:a>100-b&&(a=100-b),this.toFixed(a)):this.toFixed(a)},validate:function(){var e,f,a=this.options,b=this.result,c=a.values,d=c.length;if("string"==typeof a.min&&(a.min=+a.min),"string"==typeof a.max&&(a.max=+a.max),"string"==typeof a.from&&(a.from=+a.from),"string"==typeof a.to&&(a.to=+a.to),"string"==typeof a.step&&(a.step=+a.step),"string"==typeof a.from_min&&(a.from_min=+a.from_min),"string"==typeof a.from_max&&(a.from_max=+a.from_max),"string"==typeof a.to_min&&(a.to_min=+a.to_min),"string"==typeof a.to_max&&(a.to_max=+a.to_max),"string"==typeof a.keyboard_step&&(a.keyboard_step=+a.keyboard_step),"string"==typeof a.grid_num&&(a.grid_num=+a.grid_num),a.max<a.min&&(a.max=a.min),d)for(a.p_values=[],a.min=0,a.max=d-1,a.step=1,a.grid_num=a.max,a.grid_snap=!0,f=0;f<d;f++)e=+c[f],isNaN(e)?e=c[f]:(c[f]=e,e=this._prettify(e)),a.p_values.push(e);("number"!=typeof a.from||isNaN(a.from))&&(a.from=a.min),("number"!=typeof a.to||isNaN(a.to))&&(a.to=a.max),"single"===a.type?(a.from<a.min&&(a.from=a.min),a.from>a.max&&(a.from=a.max)):(a.from<a.min&&(a.from=a.min),a.from>a.max&&(a.from=a.max),a.to<a.min&&(a.to=a.min),a.to>a.max&&(a.to=a.max),this.update_check.from&&(this.update_check.from!==a.from&&a.from>a.to&&(a.from=a.to),this.update_check.to!==a.to&&a.to<a.from&&(a.to=a.from)),a.from>a.to&&(a.from=a.to),a.to<a.from&&(a.to=a.from)),("number"!=typeof a.step||isNaN(a.step)||!a.step||a.step<0)&&(a.step=1),("number"!=typeof a.keyboard_step||isNaN(a.keyboard_step)||!a.keyboard_step||a.keyboard_step<0)&&(a.keyboard_step=5),"number"==typeof a.from_min&&a.from<a.from_min&&(a.from=a.from_min),"number"==typeof a.from_max&&a.from>a.from_max&&(a.from=a.from_max),"number"==typeof a.to_min&&a.to<a.to_min&&(a.to=a.to_min),"number"==typeof a.to_max&&a.from>a.to_max&&(a.to=a.to_max),b&&(b.min!==a.min&&(b.min=a.min),b.max!==a.max&&(b.max=a.max),(b.from<b.min||b.from>b.max)&&(b.from=a.from),(b.to<b.min||b.to>b.max)&&(b.to=a.to)),("number"!=typeof a.min_interval||isNaN(a.min_interval)||!a.min_interval||a.min_interval<0)&&(a.min_interval=0),("number"!=typeof a.max_interval||isNaN(a.max_interval)||!a.max_interval||a.max_interval<0)&&(a.max_interval=0),a.min_interval&&a.min_interval>a.max-a.min&&(a.min_interval=a.max-a.min),a.max_interval&&a.max_interval>a.max-a.min&&(a.max_interval=a.max-a.min)},decorate:function(a,b){var c="",d=this.options;return d.prefix&&(c+=d.prefix),c+=a,d.max_postfix&&(d.values.length&&a===d.p_values[d.max]?(c+=d.max_postfix,d.postfix&&(c+=" ")):b===d.max&&(c+=d.max_postfix,d.postfix&&(c+=" "))),d.postfix&&(c+=d.postfix),c},updateFrom:function(){this.result.from=this.options.from,this.result.from_percent=this.convertToPercent(this.result.from),this.options.values&&(this.result.from_value=this.options.values[this.result.from])},updateTo:function(){this.result.to=this.options.to,this.result.to_percent=this.convertToPercent(this.result.to),this.options.values&&(this.result.to_value=this.options.values[this.result.to])},updateResult:function(){this.result.min=this.options.min,this.result.max=this.options.max,this.updateFrom(),this.updateTo()},appendGrid:function(){if(this.options.grid){var b,c,i,j,l,a=this.options,d=a.max-a.min,e=a.grid_num,f=0,g=0,h=4,k=0,m="";for(this.calcGridMargin(),a.grid_snap?(e=d/a.step,f=this.toFixed(a.step/(d/100))):f=this.toFixed(100/e),e>4&&(h=3),e>7&&(h=2),e>14&&(h=1),e>28&&(h=0),b=0;b<e+1;b++){for(i=h,g=this.toFixed(f*b),g>100&&(g=100,(i-=2)<0&&(i=0)),this.coords.big[b]=g,j=(g-f*(b-1))/(i+1),c=1;c<=i&&0!==g;c++)k=this.toFixed(g-j*c),m+='<span class="irs-grid-pol small" style="left: '+k+'%"></span>';m+='<span class="irs-grid-pol" style="left: '+g+'%"></span>',l=this.convertToValue(g),l=a.values.length?a.p_values[l]:this._prettify(l),m+='<span class="irs-grid-text js-grid-text-'+b+'" style="left: '+g+'%">'+l+"</span>"}this.coords.big_num=Math.ceil(e+1),this.$cache.cont.addClass("irs-with-grid"),this.$cache.grid.html(m),this.cacheGridLabels()}},cacheGridLabels:function(){var a,b,c=this.coords.big_num;for(b=0;b<c;b++)a=this.$cache.grid.find(".js-grid-text-"+b),this.$cache.grid_labels.push(a);this.calcGridLabels()},calcGridLabels:function(){var a,b,c=[],d=[],e=this.coords.big_num;for(a=0;a<e;a++)this.coords.big_w[a]=this.$cache.grid_labels[a].outerWidth(!1),this.coords.big_p[a]=this.toFixed(this.coords.big_w[a]/this.coords.w_rs*100),this.coords.big_x[a]=this.toFixed(this.coords.big_p[a]/2),c[a]=this.toFixed(this.coords.big[a]-this.coords.big_x[a]),d[a]=this.toFixed(c[a]+this.coords.big_p[a]);for(this.options.force_edges&&(c[0]<-this.coords.grid_gap&&(c[0]=-this.coords.grid_gap,d[0]=this.toFixed(c[0]+this.coords.big_p[0]),this.coords.big_x[0]=this.coords.grid_gap),d[e-1]>100+this.coords.grid_gap&&(d[e-1]=100+this.coords.grid_gap,c[e-1]=this.toFixed(d[e-1]-this.coords.big_p[e-1]),this.coords.big_x[e-1]=this.toFixed(this.coords.big_p[e-1]-this.coords.grid_gap))),this.calcGridCollision(2,c,d),this.calcGridCollision(4,c,d),a=0;a<e;a++)b=this.$cache.grid_labels[a][0],this.coords.big_x[a]!==Number.POSITIVE_INFINITY&&(b.style.marginLeft=-this.coords.big_x[a]+"%")},calcGridCollision:function(a,b,c){var d,e,f,g=this.coords.big_num;for(d=0;d<g&&!((e=d+a/2)>=g);d+=a)f=this.$cache.grid_labels[e][0],c[d]<=b[e]?f.style.visibility="visible":f.style.visibility="hidden"},calcGridMargin:function(){this.options.grid_margin&&(this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.coords.w_rs&&("single"===this.options.type?this.coords.w_handle=this.$cache.s_single.outerWidth(!1):this.coords.w_handle=this.$cache.s_from.outerWidth(!1),this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100),this.coords.grid_gap=this.toFixed(this.coords.p_handle/2-.1),this.$cache.grid[0].style.width=this.toFixed(100-this.coords.p_handle)+"%",this.$cache.grid[0].style.left=this.coords.grid_gap+"%"))},update:function(b){this.input&&(this.is_update=!0,this.options.from=this.result.from,this.options.to=this.result.to,this.update_check.from=this.result.from,this.update_check.to=this.result.to,this.options=a.extend(this.options,b),this.validate(),this.updateResult(b),this.toggleInput(),this.remove(),this.init(!0))},reset:function(){this.input&&(this.updateResult(),this.update())},destroy:function(){this.input&&(this.toggleInput(),this.$cache.input.prop("readonly",!1),a.data(this.input,"ionRangeSlider",null),this.remove(),this.input=null,this.options=null)}},a.fn.ionRangeSlider=function(b){return this.each(function(){a.data(this,"ionRangeSlider")||a.data(this,"ionRangeSlider",new l(this,b,f++))})},function(){for(var a=0,b=["ms","moz","webkit","o"],d=0;d<b.length&&!c.requestAnimationFrame;++d)c.requestAnimationFrame=c[b[d]+"RequestAnimationFrame"],c.cancelAnimationFrame=c[b[d]+"CancelAnimationFrame"]||c[b[d]+"CancelRequestAnimationFrame"];c.requestAnimationFrame||(c.requestAnimationFrame=function(b,d){var e=(new Date).getTime(),f=Math.max(0,16-(e-a)),g=c.setTimeout(function(){b(e+f)},f);return a=e+f,g}),c.cancelAnimationFrame||(c.cancelAnimationFrame=function(a){clearTimeout(a)})}()}),function(a,b,c,d){function l(a,b){return Math.max(0,a[0]-b[0],b[0]-a[1])+Math.max(0,a[2]-b[1],b[1]-a[3])}function m(b,c,d,e){var f=b.length,g=e?"offset":"position";for(d=d||0;f--;){var h=b[f].el?b[f].el:a(b[f]),i=h[g]();i.left+=parseInt(h.css("margin-left"),10),i.top+=parseInt(h.css("margin-top"),10),c[f]=[i.left-d,i.left+h.outerWidth()+d,i.top-d,i.top+h.outerHeight()+d]}}function n(a,b){var c=b.offset();return{left:a.left-c.left,top:a.top-c.top}}function o(a,b,c){b=[b.left,b.top],c=c&&[c.left,c.top];for(var d,e=a.length,f=[];e--;)d=a[e],f[e]=[e,l(d,b),c&&l(d,c)];return f=f.sort(function(a,b){return b[1]-a[1]||b[2]-a[2]||b[0]-a[0]})}function p(b){this.options=a.extend({},g,b),this.containers=[],this.options.rootGroup||(this.scrollProxy=a.proxy(this.scroll,this),this.dragProxy=a.proxy(this.drag,this),this.dropProxy=a.proxy(this.drop,this),this.placeholder=a(this.options.placeholder),b.isValidTarget||(this.options.isValidTarget=d))}function q(b,c){this.el=b,this.options=a.extend({},f,c),this.group=p.get(this.options),this.rootGroup=this.options.rootGroup||this.group,this.handle=this.rootGroup.options.handle||this.rootGroup.options.itemSelector;var d=this.rootGroup.options.itemPath;this.target=d?this.el.find(d):this.el,this.target.on(e.start,this.handle,a.proxy(this.dragInit,this)),this.options.drop&&this.group.containers.push(this)}var e,f={drag:!0,drop:!0,exclude:"",nested:!0,vertical:!0},g={afterMove:function(a,b,c){},containerPath:"",containerSelector:"ol, ul",distance:0,delay:0,handle:"",itemPath:"",itemSelector:"li",bodyClass:"dragging",draggedClass:"dragged",isValidTarget:function(a,b){return!0},onCancel:function(a,b,c,d){},onDrag:function(a,b,c,d){a.css(b)},onDragStart:function(b,c,d,e){b.css({height:b.outerHeight(),width:b.outerWidth()}),b.addClass(c.group.options.draggedClass),a("body").addClass(c.group.options.bodyClass)},onDrop:function(b,c,d,e){b.removeClass(c.group.options.draggedClass).removeAttr("style"),a("body").removeClass(c.group.options.bodyClass)},onMousedown:function(a,b,c){if(!c.target.nodeName.match(/^(input|select|textarea)$/i))return c.preventDefault(),!0},placeholderClass:"placeholder",placeholder:'<li class="placeholder"></li>',pullPlaceholder:!0,serialize:function(b,c,d){var e=a.extend({},b.data());return d?[c]:(c[0]&&(e.children=c),delete e.subContainers,delete e.sortable,e)},tolerance:0},h={},i=0,j={left:0,top:0,bottom:0,right:0},e={start:"touchstart.sortable mousedown.sortable",drop:"touchend.sortable touchcancel.sortable mouseup.sortable",drag:"touchmove.sortable mousemove.sortable",scroll:"scroll.sortable"},k="subContainers";p.get=function(a){return h[a.group]||(a.group===d&&(a.group=i++),h[a.group]=new p(a)),h[a.group]},p.prototype={dragInit:function(b,c){this.$document=a(c.el[0].ownerDocument);var d=a(b.target).closest(this.options.itemSelector);if(d.length){if(this.item=d,this.itemContainer=c,this.item.is(this.options.exclude)||!this.options.onMousedown(this.item,g.onMousedown,b))return;this.setPointer(b),this.toggleListeners("on"),this.setupDelayTimer(),this.dragInitDone=!0}},drag:function(a){if(!this.dragging){if(!this.distanceMet(a)||!this.delayMet)return;this.options.onDragStart(this.item,this.itemContainer,g.onDragStart,a),this.item.before(this.placeholder),this.dragging=!0}this.setPointer(a),this.options.onDrag(this.item,n(this.pointer,this.item.offsetParent()),g.onDrag,a);var b=this.getPointer(a),c=this.sameResultBox,e=this.options.tolerance;(!c||c.top-e>b.top||c.bottom+e<b.top||c.left-e>b.left||c.right+e<b.left)&&(this.searchValidTarget()||(this.placeholder.detach(),this.lastAppendedItem=d))},drop:function(a){this.toggleListeners("off"),this.dragInitDone=!1,this.dragging&&(this.placeholder.closest("html")[0]?this.placeholder.before(this.item).detach():this.options.onCancel(this.item,this.itemContainer,g.onCancel,a),this.options.onDrop(this.item,this.getContainer(this.item),g.onDrop,a),this.clearDimensions(),this.clearOffsetParent(),this.lastAppendedItem=this.sameResultBox=d,this.dragging=!1)},searchValidTarget:function(a,b){a||(a=this.relativePointer||this.pointer,b=this.lastRelativePointer||this.lastPointer);for(var c=o(this.getContainerDimensions(),a,b),e=c.length;e--;){var f=c[e][0];if(!c[e][1]||this.options.pullPlaceholder){var h=this.containers[f];if(!h.disabled){if(!this.$getOffsetParent()){var i=h.getItemOffsetParent();a=n(a,i),b=n(b,i)}if(h.searchValidTarget(a,b))return!0}}}this.sameResultBox&&(this.sameResultBox=d)},movePlaceholder:function(a,b,c,d){var e=this.lastAppendedItem;!d&&e&&e[0]===b[0]||(b[c](this.placeholder),this.lastAppendedItem=b,this.sameResultBox=d,this.options.afterMove(this.placeholder,a,b))},getContainerDimensions:function(){return this.containerDimensions||m(this.containers,this.containerDimensions=[],this.options.tolerance,!this.$getOffsetParent()),this.containerDimensions},getContainer:function(a){return a.closest(this.options.containerSelector).data(c)},$getOffsetParent:function(){if(this.offsetParent===d){var a=this.containers.length-1,b=this.containers[a].getItemOffsetParent();if(!this.options.rootGroup)for(;a--;)if(b[0]!=this.containers[a].getItemOffsetParent()[0]){b=!1;break}this.offsetParent=b}return this.offsetParent},setPointer:function(a){var b=this.getPointer(a);if(this.$getOffsetParent()){var c=n(b,this.$getOffsetParent());this.lastRelativePointer=this.relativePointer,this.relativePointer=c}this.lastPointer=this.pointer,this.pointer=b},distanceMet:function(a){var b=this.getPointer(a);return Math.max(Math.abs(this.pointer.left-b.left),Math.abs(this.pointer.top-b.top))>=this.options.distance},getPointer:function(a){var b=a.originalEvent||a.originalEvent.touches&&a.originalEvent.touches[0];return{left:a.pageX||b.pageX,top:a.pageY||b.pageY}},setupDelayTimer:function(){var a=this;this.delayMet=!this.options.delay,this.delayMet||(clearTimeout(this._mouseDelayTimer),this._mouseDelayTimer=setTimeout(function(){a.delayMet=!0},this.options.delay))},scroll:function(a){this.clearDimensions(),this.clearOffsetParent()},toggleListeners:function(b){var c=this,d=["drag","drop","scroll"];a.each(d,function(a,d){c.$document[b](e[d],c[d+"Proxy"])})},clearOffsetParent:function(){this.offsetParent=d},clearDimensions:function(){this.traverse(function(a){a._clearDimensions()})},traverse:function(a){a(this);for(var b=this.containers.length;b--;)this.containers[b].traverse(a)},_clearDimensions:function(){this.containerDimensions=d},_destroy:function(){h[this.options.group]=d}},q.prototype={dragInit:function(a){var b=this.rootGroup;!this.disabled&&!b.dragInitDone&&this.options.drag&&this.isValidDrag(a)&&b.dragInit(a,this)},isValidDrag:function(a){return 1==a.which||"touchstart"==a.type&&1==a.originalEvent.touches.length},searchValidTarget:function(a,b){var c=o(this.getItemDimensions(),a,b),d=c.length,e=this.rootGroup,f=!e.options.isValidTarget||e.options.isValidTarget(e.item,this);if(!d&&f)return e.movePlaceholder(this,this.target,"append"),!0;for(;d--;){var g=c[d][0];if(!c[d][1]&&this.hasChildGroup(g)){if(this.getContainerGroup(g).searchValidTarget(a,b))return!0}else if(f)return this.movePlaceholder(g,a),!0}},movePlaceholder:function(b,c){var d=a(this.items[b]),e=this.itemDimensions[b],f="after",g=d.outerWidth(),h=d.outerHeight(),i=d.offset(),k={left:i.left,right:i.left+g,top:i.top,bottom:i.top+h};if(this.options.vertical){var l=(e[2]+e[3])/2;c.top<=l?(f="before",k.bottom-=h/2):k.top+=h/2}else{var n=(e[0]+e[1])/2;c.left<=n?(f="before",k.right-=g/2):k.left+=g/2}this.hasChildGroup(b)&&(k=j),this.rootGroup.movePlaceholder(this,d,f,k)},getItemDimensions:function(){return this.itemDimensions||(this.items=this.$getChildren(this.el,"item").filter(":not(."+this.group.options.placeholderClass+", ."+this.group.options.draggedClass+")").get(),m(this.items,this.itemDimensions=[],this.options.tolerance)),this.itemDimensions},getItemOffsetParent:function(){var b=this.el;return"relative"===b.css("position")||"absolute"===b.css("position")||"fixed"===b.css("position")?b:b.offsetParent()},hasChildGroup:function(a){return this.options.nested&&this.getContainerGroup(a)},getContainerGroup:function(b){var e=a.data(this.items[b],k);if(e===d){var f=this.$getChildren(this.items[b],"container");if(e=!1,f[0]){var g=a.extend({},this.options,{rootGroup:this.rootGroup,group:i++});e=f[c](g).data(c).group}a.data(this.items[b],k,e)}return e},$getChildren:function(b,c){var d=this.rootGroup.options,e=d[c+"Path"],f=d[c+"Selector"];return b=a(b),e&&(b=b.find(e)),b.children(f)},_serialize:function(b,c){var d=this,e=c?"item":"container",f=this.$getChildren(b,e).not(this.options.exclude).map(function(){return d._serialize(a(this),!c)}).get();return this.rootGroup.options.serialize(b,f,c)},traverse:function(b){a.each(this.items||[],function(c){var d=a.data(this,k);d&&d.traverse(b)}),b(this)},_clearDimensions:function(){this.itemDimensions=d},_destroy:function(){var b=this;this.target.off(e.start,this.handle),this.el.removeData(c),this.options.drop&&(this.group.containers=a.grep(this.group.containers,function(a){return a!=b})),a.each(this.items||[],function(){a.removeData(this,k)})}};var r={enable:function(){this.traverse(function(a){a.disabled=!1})},disable:function(){this.traverse(function(a){a.disabled=!0})},serialize:function(){return this._serialize(this.el,!0)},refresh:function(){this.traverse(function(a){a._clearDimensions()})},destroy:function(){this.traverse(function(a){a._destroy()})}};a.extend(q.prototype,r),a.fn[c]=function(b){var e=Array.prototype.slice.call(arguments,1);return this.map(function(){var f=a(this),g=f.data(c);return g&&r[b]?r[b].apply(g,e)||this:(g||b!==d&&"object"!=typeof b||f.data(c,new q(f,b)),this)})}}(jQuery,window,"sortable"),function(a){"use strict";function c(a,b){return a+".touchspin_"+b}function d(b,d){return a.map(b,function(a){return c(a,d)})}var b=0;a.fn.TouchSpin=function(c){if("destroy"===c)return void this.each(function(){var b=a(this),c=b.data();a(document).off(d(["mouseup","touchend","touchcancel","mousemove","touchmove","scroll","scrollstart"],c.spinnerid).join(" "))});var e={min:0,max:100,initval:"",replacementval:"",step:1,decimals:0,stepinterval:100,forcestepdivisibility:"round",stepintervaldelay:500,verticalbuttons:!1,verticalupclass:"glyphicon glyphicon-chevron-up",verticaldownclass:"glyphicon glyphicon-chevron-down",prefix:"",postfix:"",prefix_extraclass:"",postfix_extraclass:"",booster:!0,boostat:10,maxboostedstep:!1,mousewheel:!0,buttondown_class:"btn btn-default",buttonup_class:"btn btn-default",buttondown_txt:"-",buttonup_txt:"+"},f={min:"min",max:"max",initval:"init-val",replacementval:"replacement-val",step:"step",decimals:"decimals",stepinterval:"step-interval",verticalbuttons:"vertical-buttons",verticalupclass:"vertical-up-class",verticaldownclass:"vertical-down-class",forcestepdivisibility:"force-step-divisibility",stepintervaldelay:"step-interval-delay",prefix:"prefix",postfix:"postfix",prefix_extraclass:"prefix-extra-class",postfix_extraclass:"postfix-extra-class",booster:"booster",boostat:"boostat",maxboostedstep:"max-boosted-step",mousewheel:"mouse-wheel",buttondown_class:"button-down-class",buttonup_class:"button-up-class",buttondown_txt:"button-down-txt",buttonup_txt:"button-up-txt"};return this.each(function(){function s(){if(!h.data("alreadyinitialized")){if(h.data("alreadyinitialized",!0),b+=1,h.data("spinnerid",b),!h.is("input"))return void console.log("Must be an input.");v(),t(),G(),y(),B(),C(),D(),E(),k.input.css("display","block")}}function t(){""!==g.initval&&""===h.val()&&h.val(g.initval)}function u(a){x(a),G();var b=k.input.val();""!==b&&(b=Number(k.input.val()),k.input.val(b.toFixed(g.decimals)))}function v(){g=a.extend({},e,i,w(),c)}function w(){var b={};return a.each(f,function(a,c){var d="bts-"+c;h.is("[data-"+d+"]")&&(b[a]=h.data(d))}),b}function x(b){g=a.extend({},g,b),b.postfix&&h.parent().find(".bootstrap-touchspin-postfix").text(b.postfix),b.prefix&&h.parent().find(".bootstrap-touchspin-prefix").text(b.prefix)}function y(){var a=h.val(),b=h.parent();""!==a&&(a=Number(a).toFixed(g.decimals)),h.data("initvalue",a).val(a),h.addClass("form-control"),b.hasClass("input-group")?z(b):A()}function z(b){b.addClass("bootstrap-touchspin");var e,f,c=h.prev(),d=h.next(),i='<span class="input-group-addon bootstrap-touchspin-prefix">'+g.prefix+"</span>",k='<span class="input-group-addon bootstrap-touchspin-postfix">'+g.postfix+"</span>";c.hasClass("input-group-btn")?(e='<button class="'+g.buttondown_class+' bootstrap-touchspin-down" type="button">'+g.buttondown_txt+"</button>",c.append(e)):(e='<span class="input-group-btn"><button class="'+g.buttondown_class+' bootstrap-touchspin-down" type="button">'+g.buttondown_txt+"</button></span>",a(e).insertBefore(h)),d.hasClass("input-group-btn")?(f='<button class="'+g.buttonup_class+' bootstrap-touchspin-up" type="button">'+g.buttonup_txt+"</button>",d.prepend(f)):(f='<span class="input-group-btn"><button class="'+g.buttonup_class+' bootstrap-touchspin-up" type="button">'+g.buttonup_txt+"</button></span>",a(f).insertAfter(h)),a(i).insertBefore(h),a(k).insertAfter(h),j=b}function A(){var b;b=g.verticalbuttons?'<div class="input-group bootstrap-touchspin"><span class="input-group-addon bootstrap-touchspin-prefix">'+g.prefix+'</span><span class="input-group-addon bootstrap-touchspin-postfix">'+g.postfix+'</span><span class="input-group-btn-vertical"><button class="'+g.buttondown_class+' bootstrap-touchspin-up" type="button"><i class="'+g.verticalupclass+'"></i></button><button class="'+g.buttonup_class+' bootstrap-touchspin-down" type="button"><i class="'+g.verticaldownclass+'"></i></button></span></div>':'<div class="input-group bootstrap-touchspin"><span class="input-group-btn"><button class="'+g.buttondown_class+' bootstrap-touchspin-down" type="button">'+g.buttondown_txt+'</button></span><span class="input-group-addon bootstrap-touchspin-prefix">'+g.prefix+'</span><span class="input-group-addon bootstrap-touchspin-postfix">'+g.postfix+'</span><span class="input-group-btn"><button class="'+g.buttonup_class+' bootstrap-touchspin-up" type="button">'+g.buttonup_txt+"</button></span></div>",j=a(b).insertBefore(h),a(".bootstrap-touchspin-prefix",j).after(h),h.hasClass("input-sm")?j.addClass("input-group-sm"):h.hasClass("input-lg")&&j.addClass("input-group-lg")}function B(){k={down:a(".bootstrap-touchspin-down",j),up:a(".bootstrap-touchspin-up",j),input:a("input",j),prefix:a(".bootstrap-touchspin-prefix",j).addClass(g.prefix_extraclass),postfix:a(".bootstrap-touchspin-postfix",j).addClass(g.postfix_extraclass)}}function C(){""===g.prefix&&k.prefix.hide(),""===g.postfix&&k.postfix.hide()}function D(){h.on("keydown",function(a){var b=a.keyCode||a.which;38===b?("up"!==r&&(I(),L()),a.preventDefault()):40===b&&("down"!==r&&(J(),K()),a.preventDefault())}),h.on("keyup",function(a){var b=a.keyCode||a.which;38===b?M():40===b&&M()}),h.on("blur",function(){G()}),k.down.on("keydown",function(a){var b=a.keyCode||a.which;32!==b&&13!==b||("down"!==r&&(J(),K()),a.preventDefault())}),k.down.on("keyup",function(a){var b=a.keyCode||a.which;32!==b&&13!==b||M()}),k.up.on("keydown",function(a){var b=a.keyCode||a.which;32!==b&&13!==b||("up"!==r&&(I(),L()),a.preventDefault())}),k.up.on("keyup",function(a){var b=a.keyCode||a.which;32!==b&&13!==b||M()}),k.down.on("mousedown.touchspin",function(a){k.down.off("touchstart.touchspin"),h.is(":disabled")||(J(),K(),a.preventDefault(),a.stopPropagation())}),k.down.on("touchstart.touchspin",function(a){k.down.off("mousedown.touchspin"),h.is(":disabled")||(J(),K(),a.preventDefault(),a.stopPropagation())}),k.up.on("mousedown.touchspin",function(a){k.up.off("touchstart.touchspin"),h.is(":disabled")||(I(),L(),a.preventDefault(),a.stopPropagation())}),k.up.on("touchstart.touchspin",function(a){k.up.off("mousedown.touchspin"),h.is(":disabled")||(I(),L(),a.preventDefault(),a.stopPropagation())}),k.up.on("mouseout touchleave touchend touchcancel",function(a){r&&(a.stopPropagation(),M())}),k.down.on("mouseout touchleave touchend touchcancel",function(a){r&&(a.stopPropagation(),M())}),k.down.on("mousemove touchmove",function(a){r&&(a.stopPropagation(),a.preventDefault())}),k.up.on("mousemove touchmove",function(a){r&&(a.stopPropagation(),a.preventDefault())}),a(document).on(d(["mouseup","touchend","touchcancel"],b).join(" "),function(a){r&&(a.preventDefault(),M())}),a(document).on(d(["mousemove","touchmove","scroll","scrollstart"],b).join(" "),function(a){r&&(a.preventDefault(),M())}),h.on("mousewheel DOMMouseScroll",function(a){if(g.mousewheel&&h.is(":focus")){var b=a.originalEvent.wheelDelta||-a.originalEvent.deltaY||-a.originalEvent.detail;a.stopPropagation(),a.preventDefault(),b<0?J():I()}})}function E(){h.on("touchspin.uponce",function(){M(),I()}),h.on("touchspin.downonce",function(){M(),J()}),h.on("touchspin.startupspin",function(){L()}),h.on("touchspin.startdownspin",function(){K()}),h.on("touchspin.stopspin",function(){M()}),h.on("touchspin.updatesettings",function(a,b){u(b)})}function F(a){switch(g.forcestepdivisibility){case"round":return(Math.round(a/g.step)*g.step).toFixed(g.decimals);case"floor":return(Math.floor(a/g.step)*g.step).toFixed(g.decimals);case"ceil":return(Math.ceil(a/g.step)*g.step).toFixed(g.decimals);default:return a}}function G(){var a,b,c;if(""===(a=h.val()))return void(""!==g.replacementval&&(h.val(g.replacementval),h.trigger("change")));g.decimals>0&&"."===a||(b=parseFloat(a),isNaN(b)&&(b=""!==g.replacementval?g.replacementval:0),c=b,b.toString()!==a&&(c=b),b<g.min&&(c=g.min),b>g.max&&(c=g.max),c=F(c),Number(a).toString()!==c.toString()&&(h.val(c),h.trigger("change")))}function H(){if(g.booster){var a=Math.pow(2,Math.floor(q/g.boostat))*g.step;return g.maxboostedstep&&a>g.maxboostedstep&&(a=g.maxboostedstep,l=Math.round(l/a)*a),Math.max(g.step,a)}return g.step}function I(){G(),l=parseFloat(k.input.val()),isNaN(l)&&(l=0);var a=l,b=H();l+=b,l>g.max&&(l=g.max,h.trigger("touchspin.on.max"),M()),k.input.val(Number(l).toFixed(g.decimals)),a!==l&&h.trigger("change")}function J(){G(),l=parseFloat(k.input.val()),isNaN(l)&&(l=0);var a=l,b=H();l-=b,l<g.min&&(l=g.min,h.trigger("touchspin.on.min"),M()),k.input.val(l.toFixed(g.decimals)),a!==l&&h.trigger("change")}function K(){M(),q=0,r="down",h.trigger("touchspin.on.startspin"),h.trigger("touchspin.on.startdownspin"),o=setTimeout(function(){m=setInterval(function(){q++,J()},g.stepinterval)},g.stepintervaldelay)}function L(){M(),q=0,r="up",h.trigger("touchspin.on.startspin"),h.trigger("touchspin.on.startupspin"),p=setTimeout(function(){n=setInterval(function(){q++,I()},g.stepinterval)},g.stepintervaldelay)}function M(){switch(clearTimeout(o),clearTimeout(p),clearInterval(m),clearInterval(n),r){case"up":h.trigger("touchspin.on.stopupspin"),h.trigger("touchspin.on.stopspin");break;case"down":h.trigger("touchspin.on.stopdownspin"),h.trigger("touchspin.on.stopspin")}q=0,r=!1}var g,j,k,l,m,n,o,p,h=a(this),i=h.data(),q=0,r=!1;s()})}}(jQuery),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)}(function(a,b,c,d){"use strict";function g(b,c){this.element=b,this.settings=a.extend({},f,c),this._defaults=f,this._name=e,this.init()}var e="quickselect",f={activeButtonClass:"active",breakOutAll:!1,breakOutValues:[],buttonClass:"",buttonDefaultClass:"",buttonRequiredClass:"",namespace:e,selectDefaultText:"More&hellip;",wrapperClass:"",buttonTag:"button"};a.extend(g.prototype,{init:function(){var b=this.element,c=this.settings.activeButtonClass,d=this.settings.breakOutAll,e=this.settings.breakOutValues,f=this.settings.buttonClass,g=this.settings.buttonDefaultClass,h=this.settings.buttonRequiredClass,i=this.settings.namespace,j=this.settings.selectDefaultText,k=this.settings.wrapperClass,l=this.settings.buttonTag,m=a('<div class="'+i+"__wrapper "+k+'"></div>');a(b).addClass(i+"__select").before(m),e=d?a("option",b).map(function(){return this.value}).get():e;var n=a(b).is(":disabled")?" disabled ":"",o=f+" "+(a(b).is(":required")?h:g);a.each(e,function(c,d){var e=a('option[value="'+d+'"]',b).attr("value"),f=a('option[value="'+d+'"]',b).text();e&&a(m).append("<"+l+' aria-pressed="false" data-'+i+'-value="'+e+'" class="'+i+"__btn "+o+'"'+n+">"+f+"</"+l+">")}),d?a(b).addClass(i+"__hidden"):a(b).wrap('<div class="'+i+"__btn "+i+"__more "+o+'"'+n+"></div>").before('<span class="'+i+'__more--label">'+j+"</span>").parent().detach().appendTo(m),a(b).change(function(){var f=a(this).val();a("."+i+"__btn",a(m)).removeClass(c);var g=j;-1!==a.inArray(f,e)||!0===d?a("."+i+"__btn[data-"+i+'-value="'+f+'"]',a(m)).addClass(c):f&&(g=a(b).find("option:selected").text(),a("."+i+"__more",a(m)).addClass(c)),a("."+i+"__more--label",a(m)).html(g)}),a("."+i+"__btn[data-"+i+"-value]",a(m)).click(function(){a(this).hasClass(c)?a(b).val(a("option:first",b).val()).change():a(b).val(a(this).attr("data-"+i+"-value")).change()}),a(b).val(a(b).val()).change(),a(b).focus(function(){a(this).css("opacity","1")}).blur(function(){a(this).css("opacity","0")})}}),a.fn[e]=function(b){return this.each(function(){a.data(this,"plugin_"+e)||a.data(this,"plugin_"+e,new g(this,b))})}}),$.fn.editableTableWidget=function(a){"use strict";return $(this).each(function(){var m,b=function(){var a=$.extend({},$.fn.editableTableWidget.defaultOptions);return a.editor=a.editor.clone(),a},c=$.extend(b(),a),d=37,e=38,f=39,g=40,h=13,i=27,j=9,k=$(this),l=c.editor.css("position","absolute").hide().appendTo(k.parent()),n=function(a){m=k.find("td:focus"),m.length&&(l.val(m.text()).removeClass("error").show().offset(m.offset()).css(m.css(c.cloneProperties)).width(m.width()).height(m.height()).focus(),a&&l.select())},o=function(){var c,a=l.val(),b=$.Event("change");if(m.text()===a||l.hasClass("error"))return!0;c=m.html(),m.text(a).trigger(b,a),!1===b.result&&m.html(c)},p=function(a,b){return b===f?a.next("td"):b===d?a.prev("td"):b===e?a.parent().prev().children().eq(a.index()):b===g?a.parent().next().children().eq(a.index()):[]};l.blur(function(){o(),l.hide()}).keydown(function(a){if(a.which===h)o(),l.hide(),m.focus(),a.preventDefault(),a.stopPropagation();else if(a.which===i)l.val(m.text()),a.preventDefault(),a.stopPropagation(),l.hide(),m.focus();else if(a.which===j)m.focus();else if(this.selectionEnd-this.selectionStart===this.value.length){var b=p(m,a.which);b.length>0&&(b.focus(),a.preventDefault(),a.stopPropagation())}}).on("input paste",function(){var a=$.Event("validate");m.trigger(a,l.val()),!1===a.result?l.addClass("error"):l.removeClass("error")}),k.on("click keypress dblclick",n).css("cursor","pointer").keydown(function(a){var b=!0,c=p($(a.target),a.which);c.length>0?c.focus():a.which===h?n(!1):17===a.which||91===a.which||93===a.which?(n(!0),b=!1):b=!1,b&&(a.stopPropagation(),a.preventDefault())}),k.find("td").prop("tabindex",1),$(window).on("resize",function(){l.is(":visible")&&l.offset(m.offset()).width(m.width()).height(m.height())})})},$.fn.editableTableWidget.defaultOptions={cloneProperties:["padding","padding-top","padding-bottom","padding-left","padding-right","text-align","font","font-size","font-family","font-weight","border","border-top","border-bottom","border-left","border-right"],editor:$("<input>")},function(a){a(["jquery"],function(a){return function(){function h(a,b,c){return u({type:e.error,iconClass:v().iconClasses.error,message:a,optionsOverride:c,title:b})}function i(c,d){return c||(c=v()),b=a("#"+c.containerId),b.length?b:(d&&(b=r(c)),b)}function j(a,b,c){return u({type:e.info,iconClass:v().iconClasses.info,message:a,optionsOverride:c,title:b})}function k(a){c=a}function l(a,b,c){return u({type:e.success,iconClass:v().iconClasses.success,message:a,optionsOverride:c,title:b})}function m(a,b,c){return u({type:e.warning,iconClass:v().iconClasses.warning,message:a,optionsOverride:c,title:b})}function n(a,c){var d=v();b||i(d),q(a,d,c)||p(d)}function o(c){var d=v();if(b||i(d),c&&0===a(":focus",c).length)return void w(c);b.children().length&&b.remove()}function p(c){for(var d=b.children(),e=d.length-1;e>=0;e--)q(a(d[e]),c)}function q(b,c,d){var e=!(!d||!d.force)&&d.force;return!(!b||!e&&0!==a(":focus",b).length)&&(b[c.hideMethod]({duration:c.hideDuration,easing:c.hideEasing,complete:function(){w(b)}}),!0)}function r(c){return b=a("<div/>").attr("id",c.containerId).addClass(c.positionClass),b.appendTo(a(c.target)),b}function s(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',closeClass:"toast-close-button",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1}}function t(a){c&&c(a)}function u(c){function q(a){return null==a&&(a=""),a.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function r(){y(),A(),B(),C(),D(),E(),z(),s()}function s(){var a="";switch(c.iconClass){case"toast-success":case"toast-info":a="polite";break;default:a="assertive"}j.attr("aria-live",a)}function u(){e.closeOnHover&&j.hover(I,H),!e.onclick&&e.tapToDismiss&&j.click(G),e.closeButton&&n&&n.click(function(a){a.stopPropagation?a.stopPropagation():void 0!==a.cancelBubble&&!0!==a.cancelBubble&&(a.cancelBubble=!0),e.onCloseClick&&e.onCloseClick(a),G(!0)}),e.onclick&&j.click(function(a){e.onclick(a),G()})}function x(){j.hide(),j[e.showMethod]({duration:e.showDuration,easing:e.showEasing,complete:e.onShown}),e.timeOut>0&&(h=setTimeout(G,e.timeOut),o.maxHideTime=parseFloat(e.timeOut),o.hideEta=(new Date).getTime()+o.maxHideTime,e.progressBar&&(o.intervalId=setInterval(J,10)))}function y(){c.iconClass&&j.addClass(e.toastClass).addClass(f)}function z(){e.newestOnTop?b.prepend(j):b.append(j)}function A(){if(c.title){var a=c.title;e.escapeHtml&&(a=q(c.title)),k.append(a).addClass(e.titleClass),j.append(k)}}function B(){if(c.message){var a=c.message;e.escapeHtml&&(a=q(c.message)),l.append(a).addClass(e.messageClass),j.append(l)}}function C(){e.closeButton&&(n.addClass(e.closeClass).attr("role","button"),j.prepend(n))}function D(){e.progressBar&&(m.addClass(e.progressClass),j.prepend(m))}function E(){e.rtl&&j.addClass("rtl")}function F(a,b){if(a.preventDuplicates){if(b.message===g)return!0;g=b.message}return!1}function G(b){var c=b&&!1!==e.closeMethod?e.closeMethod:e.hideMethod,d=b&&!1!==e.closeDuration?e.closeDuration:e.hideDuration,f=b&&!1!==e.closeEasing?e.closeEasing:e.hideEasing;if(!a(":focus",j).length||b)return clearTimeout(o.intervalId),j[c]({duration:d,easing:f,complete:function(){w(j),clearTimeout(h),e.onHidden&&"hidden"!==p.state&&e.onHidden(),p.state="hidden",p.endTime=new Date,t(p)}})}function H(){(e.timeOut>0||e.extendedTimeOut>0)&&(h=setTimeout(G,e.extendedTimeOut),o.maxHideTime=parseFloat(e.extendedTimeOut),o.hideEta=(new Date).getTime()+o.maxHideTime)}function I(){clearTimeout(h),o.hideEta=0,j.stop(!0,!0)[e.showMethod]({duration:e.showDuration,easing:e.showEasing})}function J(){var a=(o.hideEta-(new Date).getTime())/o.maxHideTime*100;m.width(a+"%")}var e=v(),f=c.iconClass||e.iconClass;if(void 0!==c.optionsOverride&&(e=a.extend(e,c.optionsOverride),f=c.optionsOverride.iconClass||f),!F(e,c)){d++,b=i(e,!0);var h=null,j=a("<div/>"),k=a("<div/>"),l=a("<div/>"),m=a("<div/>"),n=a(e.closeHtml),o={intervalId:null,hideEta:null,maxHideTime:null},p={toastId:d,state:"visible",startTime:new Date,options:e,map:c};return r(),x(),u(),t(p),e.debug&&console&&console.log(p),j}}function v(){return a.extend({},s(),f.options)}function w(a){b||(b=i()),a.is(":visible")||(a.remove(),a=null,0===b.children().length&&(b.remove(),g=void 0))}var b,c,g,d=0,e={error:"error",info:"info",success:"success",warning:"warning"},f={clear:n,remove:o,error:h,getContainer:i,info:j,options:{},subscribe:k,success:l,version:"2.1.3",warning:m};return f}()})}("function"==typeof define&&define.amd?define:function(a,b){"undefined"!=typeof module&&module.exports?module.exports=b(require("jquery")):window.toastr=b(window.jQuery)}),function(a,b){if("function"==typeof define&&define.amd)define(["moment","jquery"],function(c,d){return a.daterangepicker=b(c,d)});else if("object"==typeof module&&module.exports){var c="undefined"!=typeof window?window.jQuery:void 0;c||(c=require("jquery"),c.fn||(c.fn={})),module.exports=b(require("moment"),c)}else a.daterangepicker=b(a.moment,a.jQuery)}(this,function(a,b){var c=function(c,d,e){if(this.parentEl="body",this.element=b(c),this.startDate=a().startOf("day"),this.endDate=a().endOf("day"),this.minDate=!1,this.maxDate=!1,this.dateLimit=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.showCustomRangeLabel=!0,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyClass="btn-success",this.cancelClass="btn-default",this.locale={direction:"ltr",format:a.localeData().longDateFormat("L"),separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:a.weekdaysMin(),monthNames:a.monthsShort(),firstDay:a.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},"object"==typeof d&&null!==d||(d={}),d=b.extend(this.element.data(),d),"string"==typeof d.template||d.template instanceof b||(d.template='<div class="daterangepicker dropdown-menu"><div class="calendar left"><div class="daterangepicker_input"><input class="input-mini form-control" type="text" name="daterangepicker_start" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o glyphicon glyphicon-time"></i></div></div><div class="calendar-table"></div></div><div class="calendar right"><div class="daterangepicker_input"><input class="input-mini form-control" type="text" name="daterangepicker_end" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o glyphicon glyphicon-time"></i></div></div><div class="calendar-table"></div></div><div class="ranges"><div class="range_inputs"><button class="applyBtn" disabled="disabled" type="button"></button> <button class="cancelBtn" type="button"></button></div></div></div>'),this.parentEl=b(d.parentEl&&b(d.parentEl).length?d.parentEl:this.parentEl),this.container=b(d.template).appendTo(this.parentEl),"object"==typeof d.locale&&("string"==typeof d.locale.direction&&(this.locale.direction=d.locale.direction),"string"==typeof d.locale.format&&(this.locale.format=d.locale.format),"string"==typeof d.locale.separator&&(this.locale.separator=d.locale.separator),"object"==typeof d.locale.daysOfWeek&&(this.locale.daysOfWeek=d.locale.daysOfWeek.slice()),"object"==typeof d.locale.monthNames&&(this.locale.monthNames=d.locale.monthNames.slice()),"number"==typeof d.locale.firstDay&&(this.locale.firstDay=d.locale.firstDay),"string"==typeof d.locale.applyLabel&&(this.locale.applyLabel=d.locale.applyLabel),"string"==typeof d.locale.cancelLabel&&(this.locale.cancelLabel=d.locale.cancelLabel),"string"==typeof d.locale.weekLabel&&(this.locale.weekLabel=d.locale.weekLabel),"string"==typeof d.locale.customRangeLabel)){var f=document.createElement("textarea");f.innerHTML=d.locale.customRangeLabel;var g=f.value;this.locale.customRangeLabel=g}if(this.container.addClass(this.locale.direction),"string"==typeof d.startDate&&(this.startDate=a(d.startDate,this.locale.format)),"string"==typeof d.endDate&&(this.endDate=a(d.endDate,this.locale.format)),"string"==typeof d.minDate&&(this.minDate=a(d.minDate,this.locale.format)),"string"==typeof d.maxDate&&(this.maxDate=a(d.maxDate,this.locale.format)),"object"==typeof d.startDate&&(this.startDate=a(d.startDate)),"object"==typeof d.endDate&&(this.endDate=a(d.endDate)),"object"==typeof d.minDate&&(this.minDate=a(d.minDate)),"object"==typeof d.maxDate&&(this.maxDate=a(d.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),"string"==typeof d.applyClass&&(this.applyClass=d.applyClass),"string"==typeof d.cancelClass&&(this.cancelClass=d.cancelClass),"object"==typeof d.dateLimit&&(this.dateLimit=d.dateLimit),"string"==typeof d.opens&&(this.opens=d.opens),"string"==typeof d.drops&&(this.drops=d.drops),"boolean"==typeof d.showWeekNumbers&&(this.showWeekNumbers=d.showWeekNumbers),"boolean"==typeof d.showISOWeekNumbers&&(this.showISOWeekNumbers=d.showISOWeekNumbers),"string"==typeof d.buttonClasses&&(this.buttonClasses=d.buttonClasses),"object"==typeof d.buttonClasses&&(this.buttonClasses=d.buttonClasses.join(" ")),"boolean"==typeof d.showDropdowns&&(this.showDropdowns=d.showDropdowns),"boolean"==typeof d.showCustomRangeLabel&&(this.showCustomRangeLabel=d.showCustomRangeLabel),"boolean"==typeof d.singleDatePicker&&(this.singleDatePicker=d.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof d.timePicker&&(this.timePicker=d.timePicker),"boolean"==typeof d.timePickerSeconds&&(this.timePickerSeconds=d.timePickerSeconds),"number"==typeof d.timePickerIncrement&&(this.timePickerIncrement=d.timePickerIncrement),"boolean"==typeof d.timePicker24Hour&&(this.timePicker24Hour=d.timePicker24Hour),"boolean"==typeof d.autoApply&&(this.autoApply=d.autoApply),"boolean"==typeof d.autoUpdateInput&&(this.autoUpdateInput=d.autoUpdateInput),"boolean"==typeof d.linkedCalendars&&(this.linkedCalendars=d.linkedCalendars),"function"==typeof d.isInvalidDate&&(this.isInvalidDate=d.isInvalidDate),"function"==typeof d.isCustomDate&&(this.isCustomDate=d.isCustomDate),"boolean"==typeof d.alwaysShowCalendars&&(this.alwaysShowCalendars=d.alwaysShowCalendars),0!=this.locale.firstDay)for(var h=this.locale.firstDay;h>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),h--;var i,j,k;if(void 0===d.startDate&&void 0===d.endDate&&b(this.element).is("input[type=text]")){var l=b(this.element).val(),m=l.split(this.locale.separator);i=j=null,2==m.length?(i=a(m[0],this.locale.format),j=a(m[1],this.locale.format)):this.singleDatePicker&&""!==l&&(i=a(l,this.locale.format),j=a(l,this.locale.format)),null!==i&&null!==j&&(this.setStartDate(i),this.setEndDate(j))}if("object"==typeof d.ranges){for(k in d.ranges){i="string"==typeof d.ranges[k][0]?a(d.ranges[k][0],this.locale.format):a(d.ranges[k][0]),j="string"==typeof d.ranges[k][1]?a(d.ranges[k][1],this.locale.format):a(d.ranges[k][1]),this.minDate&&i.isBefore(this.minDate)&&(i=this.minDate.clone());var n=this.maxDate;if(this.dateLimit&&n&&i.clone().add(this.dateLimit).isAfter(n)&&(n=i.clone().add(this.dateLimit)),n&&j.isAfter(n)&&(j=n.clone()),!(this.minDate&&j.isBefore(this.minDate,this.timepicker?"minute":"day")||n&&i.isAfter(n,this.timepicker?"minute":"day"))){var f=document.createElement("textarea");f.innerHTML=k;var g=f.value;this.ranges[g]=[i,j]}}var o="<ul>";for(k in this.ranges)o+='<li data-range-key="'+k+'">'+k+"</li>";this.showCustomRangeLabel&&(o+='<li data-range-key="'+this.locale.customRangeLabel+'">'+this.locale.customRangeLabel+"</li>"),o+="</ul>",this.container.find(".ranges").prepend(o)}"function"==typeof e&&(this.callback=e),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide()),this.timePicker&&this.autoApply&&(this.autoApply=!1),this.autoApply&&"object"!=typeof d.ranges?this.container.find(".ranges").hide():this.autoApply&&this.container.find(".applyBtn, .cancelBtn").addClass("hide"),this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".calendar.left").addClass("single"),this.container.find(".calendar.left").show(),this.container.find(".calendar.right").hide(),this.container.find(".daterangepicker_input input, .daterangepicker_input > i").hide(),this.timePicker?this.container.find(".ranges ul").hide():this.container.find(".ranges").hide()),(void 0===d.ranges&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),void 0!==d.ranges&&"right"==this.opens&&this.container.find(".ranges").prependTo(this.container.find(".calendar.left").parent()),this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses),this.applyClass.length&&this.container.find(".applyBtn").addClass(this.applyClass),this.cancelClass.length&&this.container.find(".cancelBtn").addClass(this.cancelClass),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".calendar").on("click.daterangepicker",".prev",b.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",b.proxy(this.clickNext,this)).on("mousedown.daterangepicker","td.available",b.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",b.proxy(this.hoverDate,this)).on("mouseleave.daterangepicker","td.available",b.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",b.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",b.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",b.proxy(this.timeChanged,this)).on("click.daterangepicker",".daterangepicker_input input",b.proxy(this.showCalendars,this)).on("focus.daterangepicker",".daterangepicker_input input",b.proxy(this.formInputsFocused,this)).on("blur.daterangepicker",".daterangepicker_input input",b.proxy(this.formInputsBlurred,this)).on("change.daterangepicker",".daterangepicker_input input",b.proxy(this.formInputsChanged,this)),this.container.find(".ranges").on("click.daterangepicker","button.applyBtn",b.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",b.proxy(this.clickCancel,this)).on("click.daterangepicker","li",b.proxy(this.clickRange,this)).on("mouseenter.daterangepicker","li",b.proxy(this.hoverRange,this)).on("mouseleave.daterangepicker","li",b.proxy(this.updateFormInputs,this)),this.element.is("input")||this.element.is("button")?this.element.on({"click.daterangepicker":b.proxy(this.show,this),"focus.daterangepicker":b.proxy(this.show,this),"keyup.daterangepicker":b.proxy(this.elementChanged,this),"keydown.daterangepicker":b.proxy(this.keydown,this)}):this.element.on("click.daterangepicker",b.proxy(this.toggle,this)),this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))};return c.prototype={constructor:c,setStartDate:function(b){"string"==typeof b&&(this.startDate=a(b,this.locale.format)),"object"==typeof b&&(this.startDate=a(b)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.isShowing||this.updateElement(),this.updateMonthsInView()},setEndDate:function(b){"string"==typeof b&&(this.endDate=a(b,this.locale.format)),"object"==typeof b&&(this.endDate=a(b)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),this.dateLimit&&this.startDate.clone().add(this.dateLimit).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.dateLimit)),this.previousRightTime=this.endDate.clone(),this.isShowing||this.updateElement(),this.updateMonthsInView()},isInvalidDate:function(){return!1},isCustomDate:function(){return!1},updateView:function(){this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").removeAttr("disabled").removeClass("disabled"):this.container.find(".right .calendar-time select").attr("disabled","disabled").addClass("disabled")),this.endDate?(this.container.find('input[name="daterangepicker_end"]').removeClass("active"),this.container.find('input[name="daterangepicker_start"]').addClass("active")):(this.container.find('input[name="daterangepicker_end"]').addClass("active"),this.container.find('input[name="daterangepicker_start"]').removeClass("active")),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2),this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"):this.rightCalendar.month=this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month"))},updateCalendars:function(){if(this.timePicker){var a,b,c;if(this.endDate){if(a=parseInt(this.container.find(".left .hourselect").val(),10),b=parseInt(this.container.find(".left .minuteselect").val(),10),c=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,!this.timePicker24Hour){var d=this.container.find(".left .ampmselect").val();"PM"===d&&a<12&&(a+=12),"AM"===d&&12===a&&(a=0)}}else if(a=parseInt(this.container.find(".right .hourselect").val(),10),b=parseInt(this.container.find(".right .minuteselect").val(),10),c=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,!this.timePicker24Hour){var d=this.container.find(".right .ampmselect").val();"PM"===d&&a<12&&(a+=12),"AM"===d&&12===a&&(a=0)}this.leftCalendar.month.hour(a).minute(b).second(c),this.rightCalendar.month.hour(a).minute(b).second(c)}this.renderCalendar("left"),this.renderCalendar("right"),this.container.find(".ranges li").removeClass("active"),null!=this.endDate&&this.calculateChosenLabel()},renderCalendar:function(c){var d="left"==c?this.leftCalendar:this.rightCalendar,e=d.month.month(),f=d.month.year(),g=d.month.hour(),h=d.month.minute(),i=d.month.second(),j=a([f,e]).daysInMonth(),k=a([f,e,1]),l=a([f,e,j]),m=a(k).subtract(1,"month").month(),n=a(k).subtract(1,"month").year(),o=a([n,m]).daysInMonth(),p=k.day(),d=[];d.firstDay=k,d.lastDay=l;for(var q=0;q<6;q++)d[q]=[];var r=o-p+this.locale.firstDay+1;r>o&&(r-=7),p==this.locale.firstDay&&(r=o-6);for(var t,u,s=a([n,m,r,12,h,i]),q=0,t=0,u=0;q<42;q++,t++,s=a(s).add(24,"hour"))q>0&&t%7==0&&(t=0,u++),d[u][t]=s.clone().hour(g).minute(h).second(i),s.hour(12),this.minDate&&d[u][t].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&d[u][t].isBefore(this.minDate)&&"left"==c&&(d[u][t]=this.minDate.clone()),this.maxDate&&d[u][t].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&d[u][t].isAfter(this.maxDate)&&"right"==c&&(d[u][t]=this.maxDate.clone());"left"==c?this.leftCalendar.calendar=d:this.rightCalendar.calendar=d;var v="left"==c?this.minDate:this.startDate,w=this.maxDate,y=("left"==c?this.startDate:this.endDate,"ltr"==this.locale.direction?{left:"chevron-left",right:"chevron-right"}:{left:"chevron-right",right:"chevron-left"}),z='<table class="table-condensed">';z+="<thead>",z+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(z+="<th></th>"),v&&!v.isBefore(d.firstDay)||this.linkedCalendars&&"left"!=c?z+="<th></th>":z+='<th class="prev available"><i class="fa fa-'+y.left+" glyphicon glyphicon-"+y.left+'"></i></th>';var A=this.locale.monthNames[d[1][1].month()]+d[1][1].format(" YYYY");if(this.showDropdowns){for(var B=d[1][1].month(),C=d[1][1].year(),D=w&&w.year()||C+5,E=v&&v.year()||C-50,F=C==E,G=C==D,H='<select class="monthselect">',I=0;I<12;I++)(!F||I>=v.month())&&(!G||I<=w.month())?H+="<option value='"+I+"'"+(I===B?" selected='selected'":"")+">"+this.locale.monthNames[I]+"</option>":H+="<option value='"+I+"'"+(I===B?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[I]+"</option>";H+="</select>";for(var J='<select class="yearselect">',K=E;K<=D;K++)J+='<option value="'+K+'"'+(K===C?' selected="selected"':"")+">"+K+"</option>";J+="</select>",A=H+J}if(z+='<th colspan="5" class="month">'+A+"</th>",w&&!w.isAfter(d.lastDay)||this.linkedCalendars&&"right"!=c&&!this.singleDatePicker?z+="<th></th>":z+='<th class="next available"><i class="fa fa-'+y.right+" glyphicon glyphicon-"+y.right+'"></i></th>',z+="</tr>",z+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(z+='<th class="week">'+this.locale.weekLabel+"</th>"),b.each(this.locale.daysOfWeek,function(a,b){z+="<th>"+b+"</th>"}),z+="</tr>",z+="</thead>",z+="<tbody>",null==this.endDate&&this.dateLimit){var L=this.startDate.clone().add(this.dateLimit).endOf("day");w&&!L.isBefore(w)||(w=L)}for(var u=0;u<6;u++){z+="<tr>",this.showWeekNumbers?z+='<td class="week">'+d[u][0].week()+"</td>":this.showISOWeekNumbers&&(z+='<td class="week">'+d[u][0].isoWeek()+"</td>");for(var t=0;t<7;t++){var M=[];d[u][t].isSame(new Date,"day")&&M.push("today"),d[u][t].isoWeekday()>5&&M.push("weekend"),d[u][t].month()!=d[1][1].month()&&M.push("off"),this.minDate&&d[u][t].isBefore(this.minDate,"day")&&M.push("off","disabled"),w&&d[u][t].isAfter(w,"day")&&M.push("off","disabled"),this.isInvalidDate(d[u][t])&&M.push("off","disabled"),d[u][t].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&M.push("active","start-date"),null!=this.endDate&&d[u][t].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&M.push("active","end-date"),null!=this.endDate&&d[u][t]>this.startDate&&d[u][t]<this.endDate&&M.push("in-range");var N=this.isCustomDate(d[u][t]);!1!==N&&("string"==typeof N?M.push(N):Array.prototype.push.apply(M,N));for(var O="",P=!1,q=0;q<M.length;q++)O+=M[q]+" ","disabled"==M[q]&&(P=!0);P||(O+="available"),z+='<td class="'+O.replace(/^\s+|\s+$/g,"")+'" data-title="r'+u+"c"+t+'">'+d[u][t].date()+"</td>"}z+="</tr>"}z+="</tbody>",z+="</table>",this.container.find(".calendar."+c+" .calendar-table").html(z)},renderTimePicker:function(a){if("right"!=a||this.endDate){var b,c,d,e=this.maxDate;if(!this.dateLimit||this.maxDate&&!this.startDate.clone().add(this.dateLimit).isAfter(this.maxDate)||(e=this.startDate.clone().add(this.dateLimit)),"left"==a)c=this.startDate.clone(),d=this.minDate;else if("right"==a){c=this.endDate.clone(),d=this.startDate;var f=this.container.find(".calendar.right .calendar-time div");if(""!=f.html()&&(c.hour(f.find(".hourselect option:selected").val()||c.hour()),c.minute(f.find(".minuteselect option:selected").val()||c.minute()),c.second(f.find(".secondselect option:selected").val()||c.second()),!this.timePicker24Hour)){var g=f.find(".ampmselect option:selected").val();"PM"===g&&c.hour()<12&&c.hour(c.hour()+12),"AM"===g&&12===c.hour()&&c.hour(0)}c.isBefore(this.startDate)&&(c=this.startDate.clone()),e&&c.isAfter(e)&&(c=e.clone())}b='<select class="hourselect">';for(var h=this.timePicker24Hour?0:1,i=this.timePicker24Hour?23:12,j=h;j<=i;j++){var k=j;this.timePicker24Hour||(k=c.hour()>=12?12==j?12:j+12:12==j?0:j);var l=c.clone().hour(k),m=!1;d&&l.minute(59).isBefore(d)&&(m=!0),e&&l.minute(0).isAfter(e)&&(m=!0),k!=c.hour()||m?b+=m?'<option value="'+j+'" disabled="disabled" class="disabled">'+j+"</option>":'<option value="'+j+'">'+j+"</option>":b+='<option value="'+j+'" selected="selected">'+j+"</option>"}b+="</select> ",b+=': <select class="minuteselect">';for(var j=0;j<60;j+=this.timePickerIncrement){var n=j<10?"0"+j:j,l=c.clone().minute(j),m=!1;d&&l.second(59).isBefore(d)&&(m=!0),e&&l.second(0).isAfter(e)&&(m=!0),c.minute()!=j||m?b+=m?'<option value="'+j+'" disabled="disabled" class="disabled">'+n+"</option>":'<option value="'+j+'">'+n+"</option>":b+='<option value="'+j+'" selected="selected">'+n+"</option>"}if(b+="</select> ",this.timePickerSeconds){b+=': <select class="secondselect">';for(var j=0;j<60;j++){var n=j<10?"0"+j:j,l=c.clone().second(j),m=!1;d&&l.isBefore(d)&&(m=!0),e&&l.isAfter(e)&&(m=!0),c.second()!=j||m?b+=m?'<option value="'+j+'" disabled="disabled" class="disabled">'+n+"</option>":'<option value="'+j+'">'+n+"</option>":b+='<option value="'+j+'" selected="selected">'+n+"</option>"}b+="</select> "}if(!this.timePicker24Hour){b+='<select class="ampmselect">';var o="",p="";d&&c.clone().hour(12).minute(0).second(0).isBefore(d)&&(o=' disabled="disabled" class="disabled"'),e&&c.clone().hour(0).minute(0).second(0).isAfter(e)&&(p=' disabled="disabled" class="disabled"'),c.hour()>=12?b+='<option value="AM"'+o+'>AM</option><option value="PM" selected="selected"'+p+">PM</option>":b+='<option value="AM" selected="selected"'+o+'>AM</option><option value="PM"'+p+">PM</option>",b+="</select>"}this.container.find(".calendar."+a+" .calendar-time div").html(b)}},updateFormInputs:function(){this.container.find("input[name=daterangepicker_start]").is(":focus")||this.container.find("input[name=daterangepicker_end]").is(":focus")||(this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.locale.format)),this.endDate&&this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.locale.format)),this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled"))},move:function(){var c,a={top:0,left:0},d=b(window).width();this.parentEl.is("body")||(a={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},d=this.parentEl[0].clientWidth+this.parentEl.offset().left),c="up"==this.drops?this.element.offset().top-this.container.outerHeight()-a.top:this.element.offset().top+this.element.outerHeight()-a.top,this.container["up"==this.drops?"addClass":"removeClass"]("dropup"),"left"==this.opens?(this.container.css({top:c,right:d-this.element.offset().left-this.element.outerWidth(),left:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):"center"==this.opens?(this.container.css({top:c,left:this.element.offset().left-a.left+this.element.outerWidth()/2-this.container.outerWidth()/2,right:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):(this.container.css({top:c,left:this.element.offset().left-a.left,right:"auto"}),this.container.offset().left+this.container.outerWidth()>b(window).width()&&this.container.css({left:"auto",right:0}))},show:function(a){this.isShowing||(this._outsideClickProxy=b.proxy(function(a){this.outsideClick(a)},this),b(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),b(window).on("resize.daterangepicker",b.proxy(function(a){this.move(a)},this)),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.previousRightTime=this.endDate.clone(),this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangepicker",this),this.isShowing=!0)},hide:function(a){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate,this.endDate,this.chosenLabel),this.updateElement(),b(document).off(".daterangepicker"),b(window).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1)},toggle:function(a){this.isShowing?this.hide():this.show()},outsideClick:function(a){var c=b(a.target);"focusin"==a.type||c.closest(this.element).length||c.closest(this.container).length||c.closest(".calendar-table").length||(this.hide(),this.element.trigger("outsideClick.daterangepicker",this))},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},hoverRange:function(a){if(!this.container.find("input[name=daterangepicker_start]").is(":focus")&&!this.container.find("input[name=daterangepicker_end]").is(":focus")){var b=a.target.getAttribute("data-range-key");if(b==this.locale.customRangeLabel)this.updateView();else{var c=this.ranges[b];this.container.find("input[name=daterangepicker_start]").val(c[0].format(this.locale.format)),this.container.find("input[name=daterangepicker_end]").val(c[1].format(this.locale.format))}}},clickRange:function(a){var b=a.target.getAttribute("data-range-key");if(this.chosenLabel=b,b==this.locale.customRangeLabel)this.showCalendars();else{var c=this.ranges[b];this.startDate=c[0],this.endDate=c[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||this.hideCalendars(),this.clickApply()}},clickPrev:function(a){b(a.target).parents(".calendar").hasClass("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(a){b(a.target).parents(".calendar").hasClass("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month")),this.updateCalendars()},hoverDate:function(a){if(b(a.target).hasClass("available")){var c=b(a.target).attr("data-title"),d=c.substr(1,1),e=c.substr(3,1),f=b(a.target).parents(".calendar"),g=f.hasClass("left")?this.leftCalendar.calendar[d][e]:this.rightCalendar.calendar[d][e];this.endDate&&!this.container.find("input[name=daterangepicker_start]").is(":focus")?this.container.find("input[name=daterangepicker_start]").val(g.format(this.locale.format)):this.endDate||this.container.find("input[name=daterangepicker_end]").is(":focus")||this.container.find("input[name=daterangepicker_end]").val(g.format(this.locale.format));var h=this.leftCalendar,i=this.rightCalendar,j=this.startDate;this.endDate||this.container.find(".calendar tbody td").each(function(a,c){if(!b(c).hasClass("week")){var d=b(c).attr("data-title"),e=d.substr(1,1),f=d.substr(3,1),k=b(c).parents(".calendar"),l=k.hasClass("left")?h.calendar[e][f]:i.calendar[e][f];l.isAfter(j)&&l.isBefore(g)||l.isSame(g,"day")?b(c).addClass("in-range"):b(c).removeClass("in-range")}})}},clickDate:function(a){if(b(a.target).hasClass("available")){var c=b(a.target).attr("data-title"),d=c.substr(1,1),e=c.substr(3,1),f=b(a.target).parents(".calendar"),g=f.hasClass("left")?this.leftCalendar.calendar[d][e]:this.rightCalendar.calendar[d][e];if(this.endDate||g.isBefore(this.startDate,"day")){if(this.timePicker){var h=parseInt(this.container.find(".left .hourselect").val(),10);if(!this.timePicker24Hour){var i=this.container.find(".left .ampmselect").val();"PM"===i&&h<12&&(h+=12),"AM"===i&&12===h&&(h=0)}var j=parseInt(this.container.find(".left .minuteselect").val(),10),k=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0;g=g.clone().hour(h).minute(j).second(k)}this.endDate=null,this.setStartDate(g.clone())}else if(!this.endDate&&g.isBefore(this.startDate))this.setEndDate(this.startDate.clone());else{if(this.timePicker){var h=parseInt(this.container.find(".right .hourselect").val(),10);if(!this.timePicker24Hour){var i=this.container.find(".right .ampmselect").val();"PM"===i&&h<12&&(h+=12),"AM"===i&&12===h&&(h=0)}var j=parseInt(this.container.find(".right .minuteselect").val(),10),k=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0;g=g.clone().hour(h).minute(j).second(k)}this.setEndDate(g.clone()),this.autoApply&&(this.calculateChosenLabel(),this.clickApply())}this.singleDatePicker&&(this.setEndDate(this.startDate),this.timePicker||this.clickApply()),this.updateView(),a.stopPropagation()}},calculateChosenLabel:function(){var a=!0,b=0;for(var c in this.ranges){if(this.timePicker){if(this.startDate.isSame(this.ranges[c][0])&&this.endDate.isSame(this.ranges[c][1])){a=!1,this.chosenLabel=this.container.find(".ranges li:eq("+b+")").addClass("active").html();break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[c][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[c][1].format("YYYY-MM-DD")){a=!1,this.chosenLabel=this.container.find(".ranges li:eq("+b+")").addClass("active").html();break}b++}a&&(this.showCustomRangeLabel?this.chosenLabel=this.container.find(".ranges li:last").addClass("active").html():this.chosenLabel=null,this.showCalendars())},clickApply:function(a){this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(a){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.hide(),this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(a){var c=b(a.target).closest(".calendar").hasClass("left"),d=c?"left":"right",e=this.container.find(".calendar."+d),f=parseInt(e.find(".monthselect").val(),10),g=e.find(".yearselect").val();c||(g<this.startDate.year()||g==this.startDate.year()&&f<this.startDate.month())&&(f=this.startDate.month(),g=this.startDate.year()),this.minDate&&(g<this.minDate.year()||g==this.minDate.year()&&f<this.minDate.month())&&(f=this.minDate.month(),g=this.minDate.year()),this.maxDate&&(g>this.maxDate.year()||g==this.maxDate.year()&&f>this.maxDate.month())&&(f=this.maxDate.month(),g=this.maxDate.year()),c?(this.leftCalendar.month.month(f).year(g),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(f).year(g),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()},timeChanged:function(a){var c=b(a.target).closest(".calendar"),d=c.hasClass("left"),e=parseInt(c.find(".hourselect").val(),10),f=parseInt(c.find(".minuteselect").val(),10),g=this.timePickerSeconds?parseInt(c.find(".secondselect").val(),10):0;if(!this.timePicker24Hour){var h=c.find(".ampmselect").val();"PM"===h&&e<12&&(e+=12),"AM"===h&&12===e&&(e=0)}if(d){var i=this.startDate.clone();i.hour(e),i.minute(f),i.second(g),this.setStartDate(i),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==i.format("YYYY-MM-DD")&&this.endDate.isBefore(i)&&this.setEndDate(i.clone())}else if(this.endDate){var j=this.endDate.clone();j.hour(e),j.minute(f),j.second(g),this.setEndDate(j)}this.updateCalendars(),this.updateFormInputs(),this.renderTimePicker("left"),this.renderTimePicker("right")},formInputsChanged:function(c){var d=b(c.target).closest(".calendar").hasClass("right"),e=a(this.container.find('input[name="daterangepicker_start"]').val(),this.locale.format),f=a(this.container.find('input[name="daterangepicker_end"]').val(),this.locale.format);e.isValid()&&f.isValid()&&(d&&f.isBefore(e)&&(e=f.clone()),this.setStartDate(e),this.setEndDate(f),d?this.container.find('input[name="daterangepicker_start"]').val(this.startDate.format(this.locale.format)):this.container.find('input[name="daterangepicker_end"]').val(this.endDate.format(this.locale.format))),this.updateView()},formInputsFocused:function(a){this.container.find('input[name="daterangepicker_start"], input[name="daterangepicker_end"]').removeClass("active"),b(a.target).addClass("active"),b(a.target).closest(".calendar").hasClass("right")&&(this.endDate=null,this.setStartDate(this.startDate.clone()),this.updateView())},formInputsBlurred:function(b){if(!this.endDate){var c=this.container.find('input[name="daterangepicker_end"]').val(),d=a(c,this.locale.format);d.isValid()&&(this.setEndDate(d),this.updateView())}},elementChanged:function(){if(this.element.is("input")&&this.element.val().length&&!(this.element.val().length<this.locale.format.length)){var b=this.element.val().split(this.locale.separator),c=null,d=null;2===b.length&&(c=a(b[0],this.locale.format),d=a(b[1],this.locale.format)),(this.singleDatePicker||null===c||null===d)&&(c=a(this.element.val(),this.locale.format),d=c),c.isValid()&&d.isValid()&&(this.setStartDate(c),this.setEndDate(d),this.updateView())}},keydown:function(a){9!==a.keyCode&&13!==a.keyCode||this.hide()},updateElement:function(){this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData()}},b.fn.daterangepicker=function(a,d){return this.each(function(){var e=b(this);e.data("daterangepicker")&&e.data("daterangepicker").remove(),e.data("daterangepicker",new c(e,a,d))}),this},c}),function(a,b){"use strict";"undefined"!=typeof module&&module.exports?module.exports=b(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],function(a){return b(a)}):b(a.jQuery)}(this,function(a){"use strict";var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.typeahead.defaults,c),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.select=this.options.select||this.select,this.autoSelect="boolean"!=typeof this.options.autoSelect||this.options.autoSelect,this.highlighter=this.options.highlighter||this.highlighter,this.render=this.options.render||this.render,this.updater=this.options.updater||this.updater,this.displayText=this.options.displayText||this.displayText,this.source=this.options.source,this.delay=this.options.delay,this.$menu=a(this.options.menu),this.$appendTo=this.options.appendTo?a(this.options.appendTo):null,this.fitToElement="boolean"==typeof this.options.fitToElement&&this.options.fitToElement,this.shown=!1,this.listen(),this.showHintOnFocus=("boolean"==typeof this.options.showHintOnFocus||"all"===this.options.showHintOnFocus)&&this.options.showHintOnFocus,this.afterSelect=this.options.afterSelect,this.addItem=!1,this.value=this.$element.val()||this.$element.text()};b.prototype={constructor:b,select:function(){var a=this.$menu.find(".active").data("value");if(this.$element.data("active",a),this.autoSelect||a){var b=this.updater(a);b||(b=""),this.$element.val(this.displayText(b)||b).text(this.displayText(b)||b).change(),this.afterSelect(b)}return this.hide()},updater:function(a){return a},setSource:function(a){this.source=a},show:function(){var d,b=a.extend({},this.$element.position(),{height:this.$element[0].offsetHeight}),c="function"==typeof this.options.scrollHeight?this.options.scrollHeight.call():this.options.scrollHeight;if(this.shown?d=this.$menu:this.$appendTo?(d=this.$menu.appendTo(this.$appendTo),this.hasSameParent=this.$appendTo.is(this.$element.parent())):(d=this.$menu.insertAfter(this.$element),this.hasSameParent=!0),!this.hasSameParent){d.css("position","fixed");var e=this.$element.offset();b.top=e.top,b.left=e.left}var f=a(d).parent().hasClass("dropup"),g=f?"auto":b.top+b.height+c,h=a(d).hasClass("dropdown-menu-right"),i=h?"auto":b.left;return d.css({top:g,left:i}).show(),!0===this.options.fitToElement&&d.css("width",this.$element.outerWidth()+"px"),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(b){if(this.query=void 0!==b&&null!==b?b:this.$element.val()||this.$element.text()||"",this.query.length<this.options.minLength&&!this.options.showHintOnFocus)return this.shown?this.hide():this;var d=a.proxy(function(){a.isFunction(this.source)?this.source(this.query,a.proxy(this.process,this)):this.source&&this.process(this.source)},this);clearTimeout(this.lookupWorker),this.lookupWorker=setTimeout(d,this.delay)},process:function(b){var c=this;return b=a.grep(b,function(a){return c.matcher(a)}),b=this.sorter(b),b.length||this.options.addItem?(b.length>0?this.$element.data("active",b[0]):this.$element.data("active",null),this.options.addItem&&b.push(this.options.addItem),"all"==this.options.items?this.render(b).show():this.render(b.slice(0,this.options.items)).show()):this.shown?this.hide():this},matcher:function(a){return~this.displayText(a).toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(a){for(var e,b=[],c=[],d=[];e=a.shift();){var f=this.displayText(e);f.toLowerCase().indexOf(this.query.toLowerCase())?~f.indexOf(this.query)?c.push(e):d.push(e):b.push(e)}return b.concat(c,d)},highlighter:function(b){var g,h,i,j,c=a("<div></div>"),d=this.query,e=b.toLowerCase().indexOf(d.toLowerCase()),f=d.length;if(0===f)return c.text(b).html();for(;e>-1;)g=b.substr(0,e),h=b.substr(e,f),i=b.substr(e+f),j=a("<strong></strong>").text(h),c.append(document.createTextNode(g)).append(j),b=i,e=b.toLowerCase().indexOf(d.toLowerCase());return c.append(document.createTextNode(b)).html()},render:function(b){var c=this,d=this,e=!1,f=[],g=c.options.separator;return a.each(b,function(a,c){a>0&&c[g]!==b[a-1][g]&&f.push({__type:"divider"}),!c[g]||0!==a&&c[g]===b[a-1][g]||f.push({__type:"category",name:c[g]}),f.push(c)}),b=a(f).map(function(b,f){if("category"==(f.__type||!1))return a(c.options.headerHtml).text(f.name)[0];if("divider"==(f.__type||!1))return a(c.options.headerDivider)[0];var g=d.displayText(f);return b=a(c.options.item).data("value",f),b.find("a").html(c.highlighter(g,f)),g==d.$element.val()&&(b.addClass("active"),d.$element.data("active",f),e=!0),b[0]}),this.autoSelect&&!e&&(b.filter(":not(.dropdown-header)").first().addClass("active"),this.$element.data("active",b.first().data("value"))),this.$menu.html(b),this},displayText:function(a){return void 0!==a&&void 0!==a.name&&a.name||a},next:function(b){var c=this.$menu.find(".active").removeClass("active"),d=c.next();d.length||(d=a(this.$menu.find("li")[0])),d.addClass("active")},prev:function(a){var b=this.$menu.find(".active").removeClass("active"),c=b.prev();c.length||(c=this.$menu.find("li").last()),c.addClass("active")},listen:function(){this.$element.on("focus",a.proxy(this.focus,this)).on("blur",a.proxy(this.blur,this)).on("keypress",a.proxy(this.keypress,this)).on("input",a.proxy(this.input,this)).on("keyup",a.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",a.proxy(this.keydown,this)),this.$menu.on("click",a.proxy(this.click,this)).on("mouseenter","li",a.proxy(this.mouseenter,this)).on("mouseleave","li",a.proxy(this.mouseleave,this)).on("mousedown",a.proxy(this.mousedown,this))},destroy:function(){this.$element.data("typeahead",null),this.$element.data("active",null),this.$element.off("focus").off("blur").off("keypress").off("input").off("keyup"),this.eventSupported("keydown")&&this.$element.off("keydown"),this.$menu.remove(),this.destroyed=!0},eventSupported:function(a){var b=a in this.$element;return b||(this.$element.setAttribute(a,"return;"),b="function"==typeof this.$element[a]),b},move:function(a){if(this.shown)switch(a.keyCode){case 9:case 13:case 27:a.preventDefault();break;case 38:if(a.shiftKey)return;a.preventDefault(),this.prev();break;case 40:if(a.shiftKey)return;a.preventDefault(),this.next()}},keydown:function(b){this.suppressKeyPressRepeat=~a.inArray(b.keyCode,[40,38,9,13,27]),this.shown||40!=b.keyCode?this.move(b):this.lookup()},keypress:function(a){this.suppressKeyPressRepeat||this.move(a)},input:function(a){var b=this.$element.val()||this.$element.text();this.value!==b&&(this.value=b,this.lookup())},keyup:function(a){if(!this.destroyed)switch(a.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide()}},focus:function(a){this.focused||(this.focused=!0,this.options.showHintOnFocus&&!0!==this.skipShowHintOnFocus&&("all"===this.options.showHintOnFocus?this.lookup(""):this.lookup())),this.skipShowHintOnFocus&&(this.skipShowHintOnFocus=!1)},blur:function(a){this.mousedover||this.mouseddown||!this.shown?this.mouseddown&&(this.skipShowHintOnFocus=!0,this.$element.focus(),this.mouseddown=!1):(this.hide(),this.focused=!1)},click:function(a){a.preventDefault(),this.skipShowHintOnFocus=!0,this.select(),this.$element.focus(),this.hide()},mouseenter:function(b){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),a(b.currentTarget).addClass("active")},mouseleave:function(a){this.mousedover=!1,!this.focused&&this.shown&&this.hide()},mousedown:function(a){this.mouseddown=!0,this.$menu.one("mouseup",function(a){this.mouseddown=!1}.bind(this))}};var c=a.fn.typeahead;a.fn.typeahead=function(c){var d=arguments;return"string"==typeof c&&"getActive"==c?this.data("active"):this.each(function(){var e=a(this),f=e.data("typeahead"),g="object"==typeof c&&c;f||e.data("typeahead",f=new b(this,g)),"string"==typeof c&&f[c]&&(d.length>1?f[c].apply(f,Array.prototype.slice.call(d,1)):f[c]())})},a.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu" role="listbox"></ul>',item:'<li><a class="dropdown-item" href="#" role="option"></a></li>',minLength:1,scrollHeight:0,autoSelect:!0,afterSelect:a.noop,addItem:!1,delay:0,separator:"category",headerHtml:'<li class="dropdown-header"></li>',headerDivider:'<li class="divider" role="separator"></li>'},a.fn.typeahead.Constructor=b,a.fn.typeahead.noConflict=function(){return a.fn.typeahead=c,this},a(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(b){var c=a(this);c.data("typeahead")||c.typeahead(c.data())})}),function(a){"use strict";function c(b,c){this.isInit=!0,this.itemsArray=[],this.$element=a(b),this.$element.hide(),this.isSelect="SELECT"===b.tagName,this.multiple=this.isSelect&&b.hasAttribute("multiple"),this.objectItems=c&&c.itemValue,this.placeholderText=b.hasAttribute("placeholder")?this.$element.attr("placeholder"):"",this.inputSize=Math.max(1,this.placeholderText.length),this.$container=a('<div class="bootstrap-tagsinput"></div>'),this.$input=a('<input type="text" placeholder="'+this.placeholderText+'"/>').appendTo(this.$container),this.$element.before(this.$container),this.build(c),this.isInit=!1}function d(a,b){if("function"!=typeof a[b]){var c=a[b];a[b]=function(a){return a[c]}}}function e(a,b){if("function"!=typeof a[b]){var c=a[b];a[b]=function(){return c}}}function g(a){return a?f.text(a).html():""}function h(a){var b=0;if(document.selection){a.focus();var c=document.selection.createRange();c.moveStart("character",-a.value.length),b=c.text.length}else(a.selectionStart||"0"==a.selectionStart)&&(b=a.selectionStart);return b}function i(b,c){var d=!1;return a.each(c,function(a,c){if("number"==typeof c&&b.which===c)return d=!0,!1;if(b.which===c.which){var e=!c.hasOwnProperty("altKey")||b.altKey===c.altKey,f=!c.hasOwnProperty("shiftKey")||b.shiftKey===c.shiftKey,g=!c.hasOwnProperty("ctrlKey")||b.ctrlKey===c.ctrlKey;if(e&&f&&g)return d=!0,!1}}),d}var b={tagClass:function(a){return"label label-info"},focusClass:"focus",itemValue:function(a){return a?a.toString():a},itemText:function(a){return this.itemValue(a)},itemTitle:function(a){return null},freeInput:!0,addOnBlur:!0,maxTags:void 0,maxChars:void 0,confirmKeys:[13,44],delimiter:",",delimiterRegex:null,cancelConfirmKeysOnEmpty:!1,onTagExists:function(a,b){b.hide().fadeIn()},trimValue:!1,allowDuplicates:!1,triggerChange:!0};c.prototype={constructor:c,add:function(b,c,d){var e=this;if(!(e.options.maxTags&&e.itemsArray.length>=e.options.maxTags)&&(!1===b||b)){if("string"==typeof b&&e.options.trimValue&&(b=a.trim(b)),"object"==typeof b&&!e.objectItems)throw"Can't add objects when itemValue option is not set";if(!b.toString().match(/^\s*$/)){if(e.isSelect&&!e.multiple&&e.itemsArray.length>0&&e.remove(e.itemsArray[0]),"string"==typeof b&&"INPUT"===this.$element[0].tagName){var f=e.options.delimiterRegex?e.options.delimiterRegex:e.options.delimiter,h=b.split(f);if(h.length>1){for(var i=0;i<h.length;i++)this.add(h[i],!0);return void(c||e.pushVal(e.options.triggerChange))}}var j=e.options.itemValue(b),k=e.options.itemText(b),l=e.options.tagClass(b),m=e.options.itemTitle(b),n=a.grep(e.itemsArray,function(a){return e.options.itemValue(a)===j})[0];if(!n||e.options.allowDuplicates){if(!(e.items().toString().length+b.length+1>e.options.maxInputLength)){var p=a.Event("beforeItemAdd",{item:b,cancel:!1,options:d});if(e.$element.trigger(p),!p.cancel){e.itemsArray.push(b);var q=a('<span class="tag '+g(l)+(null!==m?'" title="'+m:"")+'">'+g(k)+'<span data-role="remove"></span></span>');q.data("item",b),e.findInputWrapper().before(q),q.after(" ");var r=a('option[value="'+encodeURIComponent(j)+'"]',e.$element).length||a('option[value="'+g(j)+'"]',e.$element).length;if(e.isSelect&&!r){var s=a("<option selected>"+g(k)+"</option>");s.data("item",b),s.attr("value",j),e.$element.append(s)}c||e.pushVal(e.options.triggerChange),e.options.maxTags!==e.itemsArray.length&&e.items().toString().length!==e.options.maxInputLength||e.$container.addClass("bootstrap-tagsinput-max"),a(".typeahead, .twitter-typeahead",e.$container).length&&e.$input.typeahead("val",""),this.isInit?e.$element.trigger(a.Event("itemAddedOnInit",{item:b,options:d})):e.$element.trigger(a.Event("itemAdded",{item:b,options:d}))}}}else if(e.options.onTagExists){var o=a(".tag",e.$container).filter(function(){return a(this).data("item")===n});e.options.onTagExists(b,o)}}}},remove:function(b,c,d){var e=this;if(e.objectItems&&(b="object"==typeof b?a.grep(e.itemsArray,function(a){return e.options.itemValue(a)==e.options.itemValue(b)}):a.grep(e.itemsArray,function(a){return e.options.itemValue(a)==b}),b=b[b.length-1]),b){var f=a.Event("beforeItemRemove",{item:b,cancel:!1,options:d});if(e.$element.trigger(f),f.cancel)return;a(".tag",e.$container).filter(function(){return a(this).data("item")===b}).remove(),a("option",e.$element).filter(function(){return a(this).data("item")===b}).remove(),-1!==a.inArray(b,e.itemsArray)&&e.itemsArray.splice(a.inArray(b,e.itemsArray),1)}c||e.pushVal(e.options.triggerChange),e.options.maxTags>e.itemsArray.length&&e.$container.removeClass("bootstrap-tagsinput-max"),e.$element.trigger(a.Event("itemRemoved",{item:b,options:d}))},removeAll:function(){var b=this;for(a(".tag",b.$container).remove(),a("option",b.$element).remove();b.itemsArray.length>0;)b.itemsArray.pop();b.pushVal(b.options.triggerChange)},refresh:function(){var b=this;a(".tag",b.$container).each(function(){var c=a(this),d=c.data("item"),e=b.options.itemValue(d),f=b.options.itemText(d),h=b.options.tagClass(d);if(c.attr("class",null),c.addClass("tag "+g(h)),c.contents().filter(function(){return 3==this.nodeType})[0].nodeValue=g(f),b.isSelect){a("option",b.$element).filter(function(){return a(this).data("item")===d}).attr("value",e)}})},items:function(){return this.itemsArray},pushVal:function(){var b=this,c=a.map(b.items(),function(a){return b.options.itemValue(a).toString()});b.$element.val(c,!0),b.options.triggerChange&&b.$element.trigger("change")},build:function(c){var f=this;if(f.options=a.extend({},b,c),f.objectItems&&(f.options.freeInput=!1),d(f.options,"itemValue"),d(f.options,"itemText"),e(f.options,"tagClass"),f.options.typeahead){var g=f.options.typeahead||{};e(g,"source"),f.$input.typeahead(a.extend({},g,{source:function(b,c){function d(a){for(var b=[],d=0;d<a.length;d++){var g=f.options.itemText(a[d]);e[g]=a[d],b.push(g)}c(b)}this.map={};var e=this.map,h=g.source(b);a.isFunction(h.success)?h.success(d):a.isFunction(h.then)?h.then(d):a.when(h).then(d)},updater:function(a){return f.add(this.map[a]),this.map[a]},matcher:function(a){return-1!==a.toLowerCase().indexOf(this.query.trim().toLowerCase())},sorter:function(a){return a.sort()},highlighter:function(a){var b=new RegExp("("+this.query+")","gi");return a.replace(b,"<strong>$1</strong>")}}))}if(f.options.typeaheadjs){var j=null,k={},l=f.options.typeaheadjs;a.isArray(l)?(j=l[0],k=l[1]):k=l,f.$input.typeahead(j,k).on("typeahead:selected",a.proxy(function(a,b){k.valueKey?f.add(b[k.valueKey]):f.add(b),f.$input.typeahead("val","")},f))}f.$container.on("click",a.proxy(function(a){f.$element.attr("disabled")||f.$input.removeAttr("disabled"),f.$input.focus()},f)),f.options.addOnBlur&&f.options.freeInput&&f.$input.on("focusout",a.proxy(function(b){0===a(".typeahead, .twitter-typeahead",f.$container).length&&(f.add(f.$input.val()),f.$input.val(""))},f)),f.$container.on({focusin:function(){f.$container.addClass(f.options.focusClass)},focusout:function(){f.$container.removeClass(f.options.focusClass)}}),f.$container.on("keydown","input",a.proxy(function(b){var c=a(b.target),d=f.findInputWrapper();if(f.$element.attr("disabled"))return void f.$input.attr("disabled","disabled");switch(b.which){case 8:if(0===h(c[0])){var e=d.prev();e.length&&f.remove(e.data("item"))}break;case 46:if(0===h(c[0])){var g=d.next();g.length&&f.remove(g.data("item"))}break;case 37:var i=d.prev();0===c.val().length&&i[0]&&(i.before(d),c.focus());break;case 39:var j=d.next();0===c.val().length&&j[0]&&(j.after(d),c.focus())}var k=c.val().length;Math.ceil(k/5);c.attr("size",Math.max(this.inputSize,c.val().length))},f)),f.$container.on("keypress","input",a.proxy(function(b){var c=a(b.target);if(f.$element.attr("disabled"))return void f.$input.attr("disabled","disabled");var d=c.val(),e=f.options.maxChars&&d.length>=f.options.maxChars;f.options.freeInput&&(i(b,f.options.confirmKeys)||e)&&(0!==d.length&&(f.add(e?d.substr(0,f.options.maxChars):d),c.val("")),!1===f.options.cancelConfirmKeysOnEmpty&&b.preventDefault());var g=c.val().length;Math.ceil(g/5);c.attr("size",Math.max(this.inputSize,c.val().length))},f)),f.$container.on("click","[data-role=remove]",a.proxy(function(b){f.$element.attr("disabled")||f.remove(a(b.target).closest(".tag").data("item"))},f)),f.options.itemValue===b.itemValue&&("INPUT"===f.$element[0].tagName?f.add(f.$element.val()):a("option",f.$element).each(function(){f.add(a(this).attr("value"),!0)}))},destroy:function(){var a=this;a.$container.off("keypress","input"),a.$container.off("click","[role=remove]"),a.$container.remove(),a.$element.removeData("tagsinput"),a.$element.show()},focus:function(){this.$input.focus()},input:function(){return this.$input},findInputWrapper:function(){for(var b=this.$input[0],c=this.$container[0];b&&b.parentNode!==c;)b=b.parentNode;return a(b)}},a.fn.tagsinput=function(b,d,e){var f=[];return this.each(function(){var g=a(this).data("tagsinput");if(g)if(b||d){if(void 0!==g[b]){if(3===g[b].length&&void 0!==e)var h=g[b](d,null,e);else var h=g[b](d);void 0!==h&&f.push(h)}}else f.push(g);else g=new c(this,b),a(this).data("tagsinput",g),f.push(g),"SELECT"===this.tagName&&a("option",a(this)).attr("selected","selected"),a(this).val(a(this).val())}),"string"==typeof b?f.length>1?f:f[0]:f},a.fn.tagsinput.Constructor=c;var f=a("<div />");a(function(){a("input[data-role=tagsinput], select[multiple][data-role=tagsinput]").tagsinput()})}(window.jQuery),function(a){"use strict";if(!a.fn.tagsinput)throw new Error("bootstrap-tagsinput.js required.");var b=a.fn.tagsinput.Constructor.prototype.build,c=a.fn.tagsinput.Constructor.prototype.destroy;a.fn.tagsinput.Constructor.prototype.build=function(c){function g(a){return Math.ceil(d.$inpWidth.html((a||"").replace(f,"#")).outerWidth()+12)+"px"}var d=this,e=b.call(this,c),f=/<|>/g;return this.$inpWidth=a('<div class="bootstrap-tagsinput-input" style="position:absolute;z-index:-101;top:-9999px;opacity:0;white-space:nowrap;"></div>'),a('<div style="position:absolute;width:0;height:0;z-index:-100;opacity:0;overflow:hidden;"></div>').append(this.$inpWidth).prependTo(this.$container),this.$input[0].style.width=g(),this.$input.on("keydown keyup focusout",function(){this.style.width=g(this.value)}),this.$input.on("paste",function(){setTimeout(a.proxy(function(){this.style.width=g(this.value)},this),100)}),e},a.fn.tagsinput.Constructor.prototype.destroy=function(){return this.$input.off("keydown keyup focusout paste"),c.call(this)},a(function(){a("input[data-role=tagsinput], select[multiple][data-role=tagsinput]").tagsinput("destroy"),a("input[data-role=tagsinput], select[multiple][data-role=tagsinput]").tagsinput()})}(jQuery),function(b){"use strict";"function"==typeof define&&define.amd?define(b):"undefined"!=typeof module&&void 0!==module.exports?module.exports=b():window.Sortable=b()}(function(){"use strict";function O(a,b){if(!a||!a.nodeType||1!==a.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(a);this.el=a,this.options=b=fa({},b),a[y]=this;var c={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(a.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,setData:function(a,b){a.setData("Text",b.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0}};for(var d in c)!(d in b)&&(b[d]=c[d]);N(b);for(var e in this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this));this.nativeDraggable=!b.forceFallback&&F,T(a,"mousedown",this._onTapStart),T(a,"touchstart",this._onTapStart),T(a,"pointerdown",this._onTapStart),this.nativeDraggable&&(T(a,"dragover",this),T(a,"dragenter",this)),L.push(this._onDragOver),b.store&&this.sort(b.store.get(this))}function P(a,c){"clone"!==a.lastPullMode&&(c=!0),e&&e.state!==c&&(W(e,"display",c?"none":""),c||e.state&&(a.options.group.revertClone?(f.insertBefore(e,g),a._animate(b,e)):f.insertBefore(e,b)),e.state=c)}function Q(a,b,c){if(a){c=c||A;do{if(">*"===b&&a.parentNode===c||da(a,b))return a}while(a=R(a))}return null}function R(a){var b=a.host;return b&&b.nodeType?b:a.parentNode}function S(a){a.dataTransfer&&(a.dataTransfer.dropEffect="move"),a.preventDefault()}function T(a,b,c){a.addEventListener(b,c,E)}function U(a,b,c){a.removeEventListener(b,c,E)}function V(a,b,c){if(a)if(a.classList)a.classList[c?"add":"remove"](b);else{var d=(" "+a.className+" ").replace(w," ").replace(" "+b+" "," ");a.className=(d+(c?" "+b:"")).replace(w," ")}}function W(a,b,c){var d=a&&a.style;if(d){if(void 0===c)return A.defaultView&&A.defaultView.getComputedStyle?c=A.defaultView.getComputedStyle(a,""):a.currentStyle&&(c=a.currentStyle),void 0===b?c:c[b];b in d||(b="-webkit-"+b),d[b]=c+("string"==typeof c?"":"px")}}function X(a,b,c){if(a){var d=a.getElementsByTagName(b),e=0,f=d.length;if(c)for(;e<f;e++)c(d[e],e);return d}return[]}function Y(a,b,c,d,f,g,h){a=a||b[y];var i=A.createEvent("Event"),j=a.options,k="on"+c.charAt(0).toUpperCase()+c.substr(1);i.initEvent(c,!0,!0),i.to=b,i.from=f||b,i.item=d||b,i.clone=e,i.oldIndex=g,i.newIndex=h,b.dispatchEvent(i),j[k]&&j[k].call(a,i)}function Z(a,b,c,d,e,f,g){var h,k,i=a[y],j=i.options.onMove;return h=A.createEvent("Event"),h.initEvent("move",!0,!0),h.to=b,h.from=a,h.dragged=c,h.draggedRect=d,h.related=e||b,h.relatedRect=f||b.getBoundingClientRect(),a.dispatchEvent(h),j&&(k=j.call(i,h,g)),k}function $(a){a.draggable=!1}function _(){H=!1}function aa(a,b){var c=a.lastElementChild,d=c.getBoundingClientRect();return(b.clientY-(d.top+d.height)>5||b.clientX-(d.right+d.width)>5)&&c}function ba(a){for(var b=a.tagName+a.className+a.src+a.href+a.textContent,c=b.length,d=0;c--;)d+=b.charCodeAt(c);return d.toString(36)}function ca(a,b){var c=0;if(!a||!a.parentNode)return-1;for(;a&&(a=a.previousElementSibling);)"TEMPLATE"===a.nodeName.toUpperCase()||">*"!==b&&!da(a,b)||c++;return c}function da(a,b){if(a){b=b.split(".");var c=b.shift().toUpperCase(),d=new RegExp("\\s("+b.join("|")+")(?=\\s)","g");return!(""!==c&&a.nodeName.toUpperCase()!=c||b.length&&((" "+a.className+" ").match(d)||[]).length!=b.length)}return!1}function ea(a,b){var c,d;return function(){void 0===c&&(c=arguments,d=this,setTimeout(function(){1===c.length?a.call(d,c[0]):a.apply(d,c),c=void 0},b))}}function fa(a,b){if(a&&b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function ga(a){return C?C(a).clone(!0)[0]:D&&D.dom?D.dom(a).cloneNode(!0):a.cloneNode(!0)}function ha(a){for(var b=a.getElementsByTagName("input"),c=b.length;c--;){var d=b[c];d.checked&&K.push(d)}}if("undefined"==typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,t,u,v,s={},w=/\s+/g,x=/left|right|inline/,y="Sortable"+(new Date).getTime(),z=window,A=z.document,B=z.parseInt,C=z.jQuery||z.Zepto,D=z.Polymer,E=!1,F=!!("draggable"in A.createElement("div")),G=function(a){return!navigator.userAgent.match(/Trident.*rv[ :]?11\./)&&(a=A.createElement("x"),a.style.cssText="pointer-events:auto","auto"===a.style.pointerEvents)}(),H=!1,I=Math.abs,J=Math.min,K=[],L=[],M=ea(function(a,b,c){if(c&&b.scroll){var e,f,p,q,r,t,d=c[y],g=b.scrollSensitivity,h=b.scrollSpeed,l=a.clientX,m=a.clientY,n=window.innerWidth,o=window.innerHeight;if(j!==c&&(i=b.scroll,j=c,k=b.scrollFn,!0===i)){i=c;do{if(i.offsetWidth<i.scrollWidth||i.offsetHeight<i.scrollHeight)break}while(i=i.parentNode)}i&&(e=i,f=i.getBoundingClientRect(),p=(I(f.right-l)<=g)-(I(f.left-l)<=g),q=(I(f.bottom-m)<=g)-(I(f.top-m)<=g)),p||q||(p=(n-l<=g)-(l<=g),q=(o-m<=g)-(m<=g),(p||q)&&(e=z)),s.vx===p&&s.vy===q&&s.el===e||(s.el=e,s.vx=p,s.vy=q,clearInterval(s.pid),e&&(s.pid=setInterval(function(){if(t=q?q*h:0,r=p?p*h:0,"function"==typeof k)return k.call(d,r,t,a);e===z?z.scrollTo(z.pageXOffset+r,z.pageYOffset+t):(e.scrollTop+=t,e.scrollLeft+=r)},24)))}},30),N=function(a){function b(a,b){return void 0!==a&&!0!==a||(a=c.name),"function"==typeof a?a:function(c,d){var e=d.options.group.name;return b?a:a&&(a.join?a.indexOf(e)>-1:e==a)}}var c={},d=a.group;d&&"object"==typeof d||(d={name:d}),c.name=d.name,c.checkPull=b(d.pull,!0),c.checkPut=b(d.put),c.revertClone=d.revertClone,a.group=c};O.prototype={constructor:O,_onTapStart:function(a){var m,c=this,d=this.el,e=this.options,f=e.preventOnFilter,g=a.type,i=a.touches&&a.touches[0],j=(i||a).target,k=a.target.shadowRoot&&a.path[0]||j,l=e.filter;if(ha(d),!b&&!("mousedown"===g&&0!==a.button||e.disabled)&&(j=Q(j,e.draggable,d))&&h!==j){if(m=ca(j,e.draggable),"function"==typeof l){if(l.call(this,a,j,this))return Y(c,k,"filter",j,d,m),void(f&&a.preventDefault())}else if(l&&(l=l.split(",").some(function(a){if(a=Q(k,a.trim(),d))return Y(c,a,"filter",j,d,m),!0})))return void(f&&a.preventDefault());e.handle&&!Q(k,e.handle,d)||this._prepareDragStart(a,i,j,m)}},_prepareDragStart:function(a,d,e,i){var n,j=this,k=j.el,l=j.options,m=k.ownerDocument;e&&!b&&e.parentNode===k&&(t=a,f=k,b=e,c=b.parentNode,g=b.nextSibling,h=e,q=l.group,o=i,this._lastX=(d||a).clientX,this._lastY=(d||a).clientY,b.style["will-change"]="transform",n=function(){j._disableDelayedDrag(),b.draggable=j.nativeDraggable,V(b,l.chosenClass,!0),j._triggerDragStart(a,d),Y(j,f,"choose",b,f,o)},l.ignore.split(",").forEach(function(a){X(b,a.trim(),$)}),T(m,"mouseup",j._onDrop),T(m,"touchend",j._onDrop),T(m,"touchcancel",j._onDrop),T(m,"pointercancel",j._onDrop),T(m,"selectstart",j),l.delay?(T(m,"mouseup",j._disableDelayedDrag),T(m,"touchend",j._disableDelayedDrag),T(m,"touchcancel",j._disableDelayedDrag),T(m,"mousemove",j._disableDelayedDrag),T(m,"touchmove",j._disableDelayedDrag),T(m,"pointermove",j._disableDelayedDrag),j._dragStartTimer=setTimeout(n,l.delay)):n())},_disableDelayedDrag:function(){var a=this.el.ownerDocument;clearTimeout(this._dragStartTimer),U(a,"mouseup",this._disableDelayedDrag),U(a,"touchend",this._disableDelayedDrag),U(a,"touchcancel",this._disableDelayedDrag),U(a,"mousemove",this._disableDelayedDrag),U(a,"touchmove",this._disableDelayedDrag),U(a,"pointermove",this._disableDelayedDrag)},_triggerDragStart:function(a,c){c=c||("touch"==a.pointerType?a:null),c?(t={target:b,clientX:c.clientX,clientY:c.clientY},this._onDragStart(t,"touch")):this.nativeDraggable?(T(b,"dragend",this),T(f,"dragstart",this._onDragStart)):this._onDragStart(t,!0);try{A.selection?setTimeout(function(){A.selection.empty()}):window.getSelection().removeAllRanges()}catch(a){}},_dragStarted:function(){if(f&&b){var a=this.options;V(b,a.ghostClass,!0),V(b,a.dragClass,!1),O.active=this,Y(this,f,"start",b,f,o)}else this._nulling()},_emulateDragOver:function(){if(u){if(this._lastX===u.clientX&&this._lastY===u.clientY)return;this._lastX=u.clientX,this._lastY=u.clientY,G||W(d,"display","none");var a=A.elementFromPoint(u.clientX,u.clientY),b=a,c=L.length;if(b)do{if(b[y]){for(;c--;)L[c]({clientX:u.clientX,clientY:u.clientY,target:a,rootEl:b});break}a=b}while(b=b.parentNode);G||W(d,"display","")}},_onTouchMove:function(a){if(t){var b=this.options,c=b.fallbackTolerance,e=b.fallbackOffset,f=a.touches?a.touches[0]:a,g=f.clientX-t.clientX+e.x,h=f.clientY-t.clientY+e.y,i=a.touches?"translate3d("+g+"px,"+h+"px,0)":"translate("+g+"px,"+h+"px)";if(!O.active){if(c&&J(I(f.clientX-this._lastX),I(f.clientY-this._lastY))<c)return;this._dragStarted()}this._appendGhost(),v=!0,u=f,W(d,"webkitTransform",i),W(d,"mozTransform",i),W(d,"msTransform",i),W(d,"transform",i),a.preventDefault()}},_appendGhost:function(){if(!d){var g,a=b.getBoundingClientRect(),c=W(b),e=this.options;d=b.cloneNode(!0),V(d,e.ghostClass,!1),V(d,e.fallbackClass,!0),V(d,e.dragClass,!0),W(d,"top",a.top-B(c.marginTop,10)),W(d,"left",a.left-B(c.marginLeft,10)),W(d,"width",a.width),W(d,"height",a.height),W(d,"opacity","0.8"),W(d,"position","fixed"),W(d,"zIndex","100000"),W(d,"pointerEvents","none"),e.fallbackOnBody&&A.body.appendChild(d)||f.appendChild(d),g=d.getBoundingClientRect(),W(d,"width",2*a.width-g.width),W(d,"height",2*a.height-g.height)}},_onDragStart:function(a,c){var d=a.dataTransfer,g=this.options;this._offUpEvents(),q.checkPull(this,this,b,a)&&(e=ga(b),e.draggable=!1,e.style["will-change"]="",W(e,"display","none"),V(e,this.options.chosenClass,!1),f.insertBefore(e,b),Y(this,f,"clone",b)),V(b,g.dragClass,!0),c?("touch"===c?(T(A,"touchmove",this._onTouchMove),T(A,"touchend",this._onDrop),T(A,"touchcancel",this._onDrop),T(A,"pointermove",this._onTouchMove),T(A,"pointerup",this._onDrop)):(T(A,"mousemove",this._onTouchMove),T(A,"mouseup",this._onDrop)),this._loopId=setInterval(this._emulateDragOver,50)):(d&&(d.effectAllowed="move",g.setData&&g.setData.call(this,d,b)),T(A,"drop",this),setTimeout(this._dragStarted,0))},_onDragOver:function(a){var i,j,k,o,h=this.el,p=this.options,s=p.group,t=O.active,u=q===s,w=!1,z=p.sort;if(void 0!==a.preventDefault&&(a.preventDefault(),!p.dragoverBubble&&a.stopPropagation()),!b.animated&&(v=!0,t&&!p.disabled&&(u?z||(o=!f.contains(b)):r===this||(t.lastPullMode=q.checkPull(this,t,b,a))&&s.checkPut(this,t,b,a))&&(void 0===a.rootEl||a.rootEl===this.el))){if(M(a,p,this.el),H)return;if(i=Q(a.target,p.draggable,h),j=b.getBoundingClientRect(),r!==this&&(r=this,w=!0),o)return P(t,!0),c=f,void(e||g?f.insertBefore(b,e||g):z||f.appendChild(b));if(0===h.children.length||h.children[0]===d||h===a.target&&(i=aa(h,a))){if(i){if(i.animated)return;k=i.getBoundingClientRect()}P(t,u),!1!==Z(f,h,b,j,i,k,a)&&(b.contains(h)||(h.appendChild(b),c=h),this._animate(j,b),i&&this._animate(k,i))}else if(i&&!i.animated&&i!==b&&void 0!==i.parentNode[y]){l!==i&&(l=i,m=W(i),n=W(i.parentNode)),k=i.getBoundingClientRect();var A=k.right-k.left,B=k.bottom-k.top,C=x.test(m.cssFloat+m.display)||"flex"==n.display&&0===n["flex-direction"].indexOf("row"),D=i.offsetWidth>b.offsetWidth,E=i.offsetHeight>b.offsetHeight,F=(C?(a.clientX-k.left)/A:(a.clientY-k.top)/B)>.5,G=i.nextElementSibling,I=Z(f,h,b,j,i,k,a),J=!1;if(!1!==I){if(H=!0,setTimeout(_,30),P(t,u),1===I||-1===I)J=1===I;else if(C){var K=b.offsetTop,L=i.offsetTop;J=K===L?i.previousElementSibling===b&&!D||F&&D:i.previousElementSibling===b||b.previousElementSibling===i?(a.clientY-k.top)/B>.5:L>K}else w||(J=G!==b&&!E||F&&E);b.contains(h)||(J&&!G?h.appendChild(b):i.parentNode.insertBefore(b,J?G:i)),c=b.parentNode,this._animate(j,b),this._animate(k,i)}}}},_animate:function(a,b){var c=this.options.animation;if(c){var d=b.getBoundingClientRect();1===a.nodeType&&(a=a.getBoundingClientRect()),W(b,"transition","none"),W(b,"transform","translate3d("+(a.left-d.left)+"px,"+(a.top-d.top)+"px,0)"),b.offsetWidth,W(b,"transition","all "+c+"ms"),W(b,"transform","translate3d(0,0,0)"),clearTimeout(b.animated),b.animated=setTimeout(function(){W(b,"transition",""),W(b,"transform",""),b.animated=!1},c)}},_offUpEvents:function(){var a=this.el.ownerDocument;U(A,"touchmove",this._onTouchMove),U(A,"pointermove",this._onTouchMove),U(a,"mouseup",this._onDrop),U(a,"touchend",this._onDrop),U(a,"pointerup",this._onDrop),U(a,"touchcancel",this._onDrop),U(a,"selectstart",this)},_onDrop:function(a){var h=this.el,i=this.options;clearInterval(this._loopId),clearInterval(s.pid),clearTimeout(this._dragStartTimer),U(A,"mousemove",this._onTouchMove),this.nativeDraggable&&(U(A,"drop",this),U(h,"dragstart",this._onDragStart)),this._offUpEvents(),a&&(v&&(a.preventDefault(),!i.dropBubble&&a.stopPropagation()),d&&d.parentNode.removeChild(d),f!==c&&"clone"===O.active.lastPullMode||e&&e.parentNode.removeChild(e),b&&(this.nativeDraggable&&U(b,"dragend",this),$(b),b.style["will-change"]="",V(b,this.options.ghostClass,!1),V(b,this.options.chosenClass,!1),f!==c?(p=ca(b,i.draggable))>=0&&(Y(null,c,"add",b,f,o,p),Y(this,f,"remove",b,f,o,p),Y(null,c,"sort",b,f,o,p),Y(this,f,"sort",b,f,o,p)):b.nextSibling!==g&&(p=ca(b,i.draggable))>=0&&(Y(this,f,"update",b,f,o,p),Y(this,f,"sort",b,f,o,p)),O.active&&(null!=p&&-1!==p||(p=o),Y(this,f,"end",b,f,o,p),this.save()))),this._nulling()},_nulling:function(){f=b=c=d=g=e=h=i=j=t=u=v=p=l=m=r=q=O.active=null,K.forEach(function(a){a.checked=!0}),K.length=0},handleEvent:function(a){switch(a.type){case"drop":case"dragend":this._onDrop(a);break;case"dragover":case"dragenter":b&&(this._onDragOver(a),S(a));break;case"selectstart":a.preventDefault()}},toArray:function(){for(var b,a=[],c=this.el.children,d=0,e=c.length,f=this.options;d<e;d++)b=c[d],Q(b,f.draggable,this.el)&&a.push(b.getAttribute(f.dataIdAttr)||ba(b));return a},sort:function(a){var b={},c=this.el;this.toArray().forEach(function(a,d){var e=c.children[d];Q(e,this.options.draggable,c)&&(b[a]=e)},this),a.forEach(function(a){b[a]&&(c.removeChild(b[a]),c.appendChild(b[a]))})},save:function(){var a=this.options.store;a&&a.set(this)},closest:function(a,b){return Q(a,b||this.options.draggable,this.el)},option:function(a,b){var c=this.options;if(void 0===b)return c[a];c[a]=b,"group"===a&&N(c)},destroy:function(){var a=this.el;a[y]=null,U(a,"mousedown",this._onTapStart),U(a,"touchstart",this._onTapStart),U(a,"pointerdown",this._onTapStart),this.nativeDraggable&&(U(a,"dragover",this),U(a,"dragenter",this)),Array.prototype.forEach.call(a.querySelectorAll("[draggable]"),function(a){a.removeAttribute("draggable")}),L.splice(L.indexOf(this._onDragOver),1),this._onDrop(),this.el=a=null}},T(A,"touchmove",function(a){O.active&&a.preventDefault()});try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){E={capture:!1,passive:!1}}}))}catch(a){}return O.utils={on:T,off:U,css:W,find:X,is:function(a,b){return!!Q(a,b,a)},extend:fa,throttle:ea,closest:Q,toggleClass:V,clone:ga,index:ca},O.create=function(a,b){return new O(a,b)},O.version="1.5.1",O});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},windowIsDefined="object"===("undefined"==typeof window?"undefined":_typeof(window));!function(a){if("function"==typeof define&&define.amd)define(["jquery"],a);else if("object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports){var b;try{b=require("jquery")}catch(a){b=null}module.exports=a(b)}else window&&(window.Slider=a(window.jQuery))}(function(a){var b="slider",c="bootstrapSlider";windowIsDefined&&!window.console&&(window.console={}),windowIsDefined&&!window.console.log&&(window.console.log=function(){}),windowIsDefined&&!window.console.warn&&(window.console.warn=function(){});var d;return function(a){"use strict";function c(){}function d(a){function d(b){b.prototype.option||(b.prototype.option=function(b){a.isPlainObject(b)&&(this.options=a.extend(!0,this.options,b))})}function f(c,d){a.fn[c]=function(f){if("string"==typeof f){for(var g=b.call(arguments,1),h=0,i=this.length;h<i;h++){var j=this[h],k=a.data(j,c);if(k)if(a.isFunction(k[f])&&"_"!==f.charAt(0)){var l=k[f].apply(k,g);if(void 0!==l&&l!==k)return l}else e("no such method '"+f+"' for "+c+" instance");else e("cannot call methods on "+c+" prior to initialization; attempted to call '"+f+"'")}return this}var m=this.map(function(){var b=a.data(this,c);return b?(b.option(f),b._init()):(b=new d(this,f),a.data(this,c,b)),a(this)});return!m||m.length>1?m:m[0]}}if(a){var e="undefined"==typeof console?c:function(a){console.error(a)};return a.bridget=function(a,b){d(b),f(a,b)},a.bridget}}var b=Array.prototype.slice;d(a)}(a),function(a){function g(b,c){function i(a,b){var c="data-slider-"+b.replace(/_/g,"-"),d=a.getAttribute(c);try{return JSON.parse(d)}catch(a){return d}}this._state={value:null,enabled:null,offset:null,size:null,percentage:null,inDrag:!1,over:!1},this.ticksCallbackMap={},this.handleCallbackMap={},"string"==typeof b?this.element=document.querySelector(b):b instanceof HTMLElement&&(this.element=b),c=c||{};for(var d=Object.keys(this.defaultOptions),e=0;e<d.length;e++){var g=d[e],h=c[g];h=void 0!==h?h:i(this.element,g),h=null!==h?h:this.defaultOptions[g],this.options||(this.options={}),this.options[g]=h}"auto"===this.options.rtl&&(this.options.rtl="rtl"===window.getComputedStyle(this.element).direction),"vertical"!==this.options.orientation||"top"!==this.options.tooltip_position&&"bottom"!==this.options.tooltip_position?"horizontal"!==this.options.orientation||"left"!==this.options.tooltip_position&&"right"!==this.options.tooltip_position||(this.options.tooltip_position="top"):this.options.rtl?this.options.tooltip_position="left":this.options.tooltip_position="right";var m,n,o,p,q,j=this.element.style.width,k=!1,l=this.element.parentNode;if(this.sliderElem)k=!0;else{this.sliderElem=document.createElement("div"),this.sliderElem.className="slider";var r=document.createElement("div");if(r.className="slider-track",n=document.createElement("div"),n.className="slider-track-low",m=document.createElement("div"),m.className="slider-selection",o=document.createElement("div"),o.className="slider-track-high",p=document.createElement("div"),p.className="slider-handle min-slider-handle",p.setAttribute("role","slider"),p.setAttribute("aria-valuemin",this.options.min),p.setAttribute("aria-valuemax",this.options.max),q=document.createElement("div"),q.className="slider-handle max-slider-handle",q.setAttribute("role","slider"),q.setAttribute("aria-valuemin",this.options.min),q.setAttribute("aria-valuemax",this.options.max),r.appendChild(n),r.appendChild(m),r.appendChild(o),this.rangeHighlightElements=[],Array.isArray(this.options.rangeHighlights)&&this.options.rangeHighlights.length>0)for(var s=0;s<this.options.rangeHighlights.length;s++){var t=document.createElement("div");t.className="slider-rangeHighlight slider-selection",this.rangeHighlightElements.push(t),r.appendChild(t)}var u=Array.isArray(this.options.labelledby);if(u&&this.options.labelledby[0]&&p.setAttribute("aria-labelledby",this.options.labelledby[0]),u&&this.options.labelledby[1]&&q.setAttribute("aria-labelledby",this.options.labelledby[1]),!u&&this.options.labelledby&&(p.setAttribute("aria-labelledby",this.options.labelledby),q.setAttribute("aria-labelledby",this.options.labelledby)),this.ticks=[],Array.isArray(this.options.ticks)&&this.options.ticks.length>0){for(this.ticksContainer=document.createElement("div"),this.ticksContainer.className="slider-tick-container",e=0;e<this.options.ticks.length;e++){var v=document.createElement("div");if(v.className="slider-tick",this.options.ticks_tooltip){var w=this._addTickListener(),x=w.addMouseEnter(this,v,e),y=w.addMouseLeave(this,v);this.ticksCallbackMap[e]={mouseEnter:x,mouseLeave:y}}this.ticks.push(v),this.ticksContainer.appendChild(v)}m.className+=" tick-slider-selection"}if(this.tickLabels=[],Array.isArray(this.options.ticks_labels)&&this.options.ticks_labels.length>0)for(this.tickLabelContainer=document.createElement("div"),this.tickLabelContainer.className="slider-tick-label-container",e=0;e<this.options.ticks_labels.length;e++){var z=document.createElement("div"),A=0===this.options.ticks_positions.length,B=this.options.reversed&&A?this.options.ticks_labels.length-(e+1):e;z.className="slider-tick-label",z.innerHTML=this.options.ticks_labels[B],this.tickLabels.push(z),this.tickLabelContainer.appendChild(z)}var C=function(b){var c=document.createElement("div");c.className="tooltip-arrow";var d=document.createElement("div");d.className="tooltip-inner",b.appendChild(c),b.appendChild(d)},D=document.createElement("div");D.className="tooltip tooltip-main",D.setAttribute("role","presentation"),C(D);var E=document.createElement("div");E.className="tooltip tooltip-min",E.setAttribute("role","presentation"),C(E);var F=document.createElement("div");F.className="tooltip tooltip-max",F.setAttribute("role","presentation"),C(F),this.sliderElem.appendChild(r),this.sliderElem.appendChild(D),this.sliderElem.appendChild(E),this.sliderElem.appendChild(F),this.tickLabelContainer&&this.sliderElem.appendChild(this.tickLabelContainer),this.ticksContainer&&this.sliderElem.appendChild(this.ticksContainer),this.sliderElem.appendChild(p),this.sliderElem.appendChild(q),l.insertBefore(this.sliderElem,this.element),this.element.style.display="none"}if(a&&(this.$element=a(this.element),this.$sliderElem=a(this.sliderElem)),this.eventToCallbackMap={},this.sliderElem.id=this.options.id,this.touchCapable="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,this.touchX=0,this.touchY=0,this.tooltip=this.sliderElem.querySelector(".tooltip-main"),this.tooltipInner=this.tooltip.querySelector(".tooltip-inner"),this.tooltip_min=this.sliderElem.querySelector(".tooltip-min"),this.tooltipInner_min=this.tooltip_min.querySelector(".tooltip-inner"),this.tooltip_max=this.sliderElem.querySelector(".tooltip-max"),this.tooltipInner_max=this.tooltip_max.querySelector(".tooltip-inner"),f[this.options.scale]&&(this.options.scale=f[this.options.scale]),!0===k&&(this._removeClass(this.sliderElem,"slider-horizontal"),this._removeClass(this.sliderElem,"slider-vertical"),this._removeClass(this.sliderElem,"slider-rtl"),this._removeClass(this.tooltip,"hide"),this._removeClass(this.tooltip_min,"hide"),this._removeClass(this.tooltip_max,"hide"),["left","right","top","width","height"].forEach(function(a){this._removeProperty(this.trackLow,a),this._removeProperty(this.trackSelection,a),this._removeProperty(this.trackHigh,a)},this),[this.handle1,this.handle2].forEach(function(a){this._removeProperty(a,"left"),this._removeProperty(a,"right"),this._removeProperty(a,"top")},this),[this.tooltip,this.tooltip_min,this.tooltip_max].forEach(function(a){this._removeProperty(a,"left"),this._removeProperty(a,"right"),this._removeProperty(a,"top"),this._removeProperty(a,"margin-left"),this._removeProperty(a,"margin-right"),this._removeProperty(a,"margin-top"),this._removeClass(a,"right"),this._removeClass(a,"left"),this._removeClass(a,"top")},this)),"vertical"===this.options.orientation?(this._addClass(this.sliderElem,"slider-vertical"),this.stylePos="top",this.mousePos="pageY",this.sizePos="offsetHeight"):(this._addClass(this.sliderElem,"slider-horizontal"),this.sliderElem.style.width=j,this.options.orientation="horizontal",this.options.rtl?this.stylePos="right":this.stylePos="left",this.mousePos="pageX",this.sizePos="offsetWidth"),this.options.rtl&&this._addClass(this.sliderElem,"slider-rtl"),this._setTooltipPosition(),Array.isArray(this.options.ticks)&&this.options.ticks.length>0&&(this.options.max=Math.max.apply(Math,this.options.ticks),this.options.min=Math.min.apply(Math,this.options.ticks)),Array.isArray(this.options.value)?(this.options.range=!0,this._state.value=this.options.value):this.options.range?this._state.value=[this.options.value,this.options.max]:this._state.value=this.options.value,this.trackLow=n||this.trackLow,this.trackSelection=m||this.trackSelection,this.trackHigh=o||this.trackHigh,"none"===this.options.selection?(this._addClass(this.trackLow,"hide"),this._addClass(this.trackSelection,"hide"),this._addClass(this.trackHigh,"hide")):"after"!==this.options.selection&&"before"!==this.options.selection||(this._removeClass(this.trackLow,"hide"),this._removeClass(this.trackSelection,"hide"),this._removeClass(this.trackHigh,"hide")),this.handle1=p||this.handle1,this.handle2=q||this.handle2,!0===k)for(this._removeClass(this.handle1,"round triangle"),this._removeClass(this.handle2,"round triangle hide"),e=0;e<this.ticks.length;e++)this._removeClass(this.ticks[e],"round triangle hide");if(-1!==["round","triangle","custom"].indexOf(this.options.handle))for(this._addClass(this.handle1,this.options.handle),this._addClass(this.handle2,this.options.handle),e=0;e<this.ticks.length;e++)this._addClass(this.ticks[e],this.options.handle);if(this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this.setValue(this._state.value),this.handle1Keydown=this._keydown.bind(this,0),this.handle1.addEventListener("keydown",this.handle1Keydown,!1),this.handle2Keydown=this._keydown.bind(this,1),this.handle2.addEventListener("keydown",this.handle2Keydown,!1),this.mousedown=this._mousedown.bind(this),this.touchstart=this._touchstart.bind(this),this.touchmove=this._touchmove.bind(this),this.touchCapable){var I=!1;try{var J=Object.defineProperty({},"passive",{get:function(){I=!0}});window.addEventListener("test",null,J)}catch(a){}var K=!!I&&{passive:!0};this.sliderElem.addEventListener("touchstart",this.touchstart,K),this.sliderElem.addEventListener("touchmove",this.touchmove,K)}if(this.sliderElem.addEventListener("mousedown",this.mousedown,!1),this.resize=this._resize.bind(this),window.addEventListener("resize",this.resize,!1),"hide"===this.options.tooltip)this._addClass(this.tooltip,"hide"),this._addClass(this.tooltip_min,"hide"),this._addClass(this.tooltip_max,"hide");else if("always"===this.options.tooltip)this._showTooltip(),this._alwaysShowTooltip=!0;else{if(this.showTooltip=this._showTooltip.bind(this),this.hideTooltip=this._hideTooltip.bind(this),this.options.ticks_tooltip){var L=this._addTickListener(),M=L.addMouseEnter(this,this.handle1),N=L.addMouseLeave(this,this.handle1);this.handleCallbackMap.handle1={mouseEnter:M,mouseLeave:N},M=L.addMouseEnter(this,this.handle2),N=L.addMouseLeave(this,this.handle2),this.handleCallbackMap.handle2={mouseEnter:M,mouseLeave:N}}else this.sliderElem.addEventListener("mouseenter",this.showTooltip,!1),this.sliderElem.addEventListener("mouseleave",this.hideTooltip,!1);this.handle1.addEventListener("focus",this.showTooltip,!1),this.handle1.addEventListener("blur",this.hideTooltip,!1),this.handle2.addEventListener("focus",this.showTooltip,!1),this.handle2.addEventListener("blur",this.hideTooltip,!1)}this.options.enabled?this.enable():this.disable()}var e={formatInvalidInputErrorMsg:function(b){return"Invalid input value '"+b+"' passed in"},callingContextNotSliderInstance:"Calling context element does not have instance of Slider bound to it. Check your code to make sure the JQuery object returned from the call to the slider() initializer is calling the method"},f={linear:{toValue:function(b){var c=b/100*(this.options.max-this.options.min),d=!0;if(this.options.ticks_positions.length>0){for(var e,f,g,h=0,i=1;i<this.options.ticks_positions.length;i++)if(b<=this.options.ticks_positions[i]){e=this.options.ticks[i-1],g=this.options.ticks_positions[i-1],f=this.options.ticks[i],h=this.options.ticks_positions[i];break}c=e+(b-g)/(h-g)*(f-e),d=!1}var k=d?this.options.min:0,l=k+Math.round(c/this.options.step)*this.options.step;return l<this.options.min?this.options.min:l>this.options.max?this.options.max:l},toPercentage:function(b){if(this.options.max===this.options.min)return 0;if(this.options.ticks_positions.length>0){for(var c,d,e,f=0,g=0;g<this.options.ticks.length;g++)if(b<=this.options.ticks[g]){c=g>0?this.options.ticks[g-1]:0,e=g>0?this.options.ticks_positions[g-1]:0,d=this.options.ticks[g],f=this.options.ticks_positions[g];break}if(g>0){return e+(b-c)/(d-c)*(f-e)}}return 100*(b-this.options.min)/(this.options.max-this.options.min)}},logarithmic:{toValue:function(b){var c=0===this.options.min?0:Math.log(this.options.min),d=Math.log(this.options.max),e=Math.exp(c+(d-c)*b/100);return e=this.options.min+Math.round((e-this.options.min)/this.options.step)*this.options.step,e<this.options.min?this.options.min:e>this.options.max?this.options.max:e},toPercentage:function(b){if(this.options.max===this.options.min)return 0;var c=Math.log(this.options.max),d=0===this.options.min?0:Math.log(this.options.min);return 100*((0===b?0:Math.log(b))-d)/(c-d)}}};d=function(b,c){return g.call(this,b,c),this},d.prototype={_init:function(){},constructor:d,defaultOptions:{id:"",min:0,max:10,step:1,precision:0,orientation:"horizontal",value:5,range:!1,selection:"before",tooltip:"show",tooltip_split:!1,handle:"round",reversed:!1,rtl:"auto",enabled:!0,formatter:function(b){return Array.isArray(b)?b[0]+" : "+b[1]:b},natural_arrow_keys:!1,ticks:[],ticks_positions:[],ticks_labels:[],ticks_snap_bounds:0,ticks_tooltip:!1,scale:"linear",focus:!1,tooltip_position:null,labelledby:null,rangeHighlights:[]},getElement:function(){return this.sliderElem},getValue:function(){return this.options.range?this._state.value:this._state.value[0]},setValue:function(b,c,d){b||(b=0);var e=this.getValue();this._state.value=this._validateInputValue(b);var f=this._applyPrecision.bind(this);this.options.range?(this._state.value[0]=f(this._state.value[0]),this._state.value[1]=f(this._state.value[1]),this._state.value[0]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[0])),this._state.value[1]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[1]))):(this._state.value=f(this._state.value),this._state.value=[Math.max(this.options.min,Math.min(this.options.max,this._state.value))],this._addClass(this.handle2,"hide"),"after"===this.options.selection?this._state.value[1]=this.options.max:this._state.value[1]=this.options.min),this.options.max>this.options.min?this._state.percentage=[this._toPercentage(this._state.value[0]),this._toPercentage(this._state.value[1]),100*this.options.step/(this.options.max-this.options.min)]:this._state.percentage=[0,0,100],this._layout();var g=this.options.range?this._state.value:this._state.value[0];return this._setDataVal(g),!0===c&&this._trigger("slide",g),e!==g&&!0===d&&this._trigger("change",{oldValue:e,newValue:g}),this},destroy:function(){this._removeSliderEventHandlers(),this.sliderElem.parentNode.removeChild(this.sliderElem),this.element.style.display="",this._cleanUpEventCallbacksMap(),this.element.removeAttribute("data"),a&&(this._unbindJQueryEventHandlers(),this.$element.removeData("slider"))},disable:function(){return this._state.enabled=!1,this.handle1.removeAttribute("tabindex"),this.handle2.removeAttribute("tabindex"),this._addClass(this.sliderElem,"slider-disabled"),this._trigger("slideDisabled"),this},enable:function(){return this._state.enabled=!0,this.handle1.setAttribute("tabindex",0),this.handle2.setAttribute("tabindex",0),this._removeClass(this.sliderElem,"slider-disabled"),this._trigger("slideEnabled"),this},toggle:function(){return this._state.enabled?this.disable():this.enable(),this},isEnabled:function(){return this._state.enabled},on:function(b,c){return this._bindNonQueryEventHandler(b,c),this},off:function(c,d){a?(this.$element.off(c,d),this.$sliderElem.off(c,d)):this._unbindNonQueryEventHandler(c,d)},getAttribute:function(b){return b?this.options[b]:this.options},setAttribute:function(b,c){return this.options[b]=c,this},refresh:function(){return this._removeSliderEventHandlers(),g.call(this,this.element,this.options),a&&a.data(this.element,"slider",this),this},relayout:function(){return this._resize(),this._layout(),this},_removeSliderEventHandlers:function(){if(this.handle1.removeEventListener("keydown",this.handle1Keydown,!1),this.handle2.removeEventListener("keydown",this.handle2Keydown,!1),this.options.ticks_tooltip){for(var b=this.ticksContainer.getElementsByClassName("slider-tick"),c=0;c<b.length;c++)b[c].removeEventListener("mouseenter",this.ticksCallbackMap[c].mouseEnter,!1),b[c].removeEventListener("mouseleave",this.ticksCallbackMap[c].mouseLeave,!1);this.handle1.removeEventListener("mouseenter",this.handleCallbackMap.handle1.mouseEnter,!1),this.handle2.removeEventListener("mouseenter",this.handleCallbackMap.handle2.mouseEnter,!1),this.handle1.removeEventListener("mouseleave",this.handleCallbackMap.handle1.mouseLeave,!1),this.handle2.removeEventListener("mouseleave",this.handleCallbackMap.handle2.mouseLeave,!1)}this.handleCallbackMap=null,this.ticksCallbackMap=null,this.showTooltip&&(this.handle1.removeEventListener("focus",this.showTooltip,!1),this.handle2.removeEventListener("focus",this.showTooltip,!1)),this.hideTooltip&&(this.handle1.removeEventListener("blur",this.hideTooltip,!1),this.handle2.removeEventListener("blur",this.hideTooltip,!1)),this.showTooltip&&this.sliderElem.removeEventListener("mouseenter",this.showTooltip,!1),this.hideTooltip&&this.sliderElem.removeEventListener("mouseleave",this.hideTooltip,!1),this.sliderElem.removeEventListener("touchstart",this.touchstart,!1),this.sliderElem.removeEventListener("touchmove",this.touchmove,!1),this.sliderElem.removeEventListener("mousedown",this.mousedown,!1),window.removeEventListener("resize",this.resize,!1)},_bindNonQueryEventHandler:function(b,c){void 0===this.eventToCallbackMap[b]&&(this.eventToCallbackMap[b]=[]),this.eventToCallbackMap[b].push(c)},_unbindNonQueryEventHandler:function(b,c){var d=this.eventToCallbackMap[b];if(void 0!==d)for(var e=0;e<d.length;e++)if(d[e]===c){d.splice(e,1);break}},_cleanUpEventCallbacksMap:function(){for(var b=Object.keys(this.eventToCallbackMap),c=0;c<b.length;c++){var d=b[c];delete this.eventToCallbackMap[d]}},_showTooltip:function(){!1===this.options.tooltip_split?(this._addClass(this.tooltip,"in"),this.tooltip_min.style.display="none",this.tooltip_max.style.display="none"):(this._addClass(this.tooltip_min,"in"),this._addClass(this.tooltip_max,"in"),this.tooltip.style.display="none"),this._state.over=!0},_hideTooltip:function(){!1===this._state.inDrag&&!0!==this.alwaysShowTooltip&&(this._removeClass(this.tooltip,"in"),this._removeClass(this.tooltip_min,"in"),this._removeClass(this.tooltip_max,"in")),this._state.over=!1},_setToolTipOnMouseOver:function(b){function e(a,b){return b?[100-a.percentage[0],this.options.range?100-a.percentage[1]:a.percentage[1]]:[a.percentage[0],a.percentage[1]]}var c=this.options.formatter(b?b.value[0]:this._state.value[0]),d=b?e(b,this.options.reversed):e(this._state,this.options.reversed);this._setText(this.tooltipInner,c),this.tooltip.style[this.stylePos]=d[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetWidth/2+"px")},_addTickListener:function(){return{addMouseEnter:function(b,c,d){var e=function(){var c=b._state,e=d>=0?d:this.attributes["aria-valuenow"].value,f=parseInt(e,10);c.value[0]=f,c.percentage[0]=b.options.ticks_positions[f],b._setToolTipOnMouseOver(c),b._showTooltip()};return c.addEventListener("mouseenter",e,!1),e},addMouseLeave:function(b,c){var d=function(){b._hideTooltip()};return c.addEventListener("mouseleave",d,!1),d}}},_layout:function(){var b;if(b=this.options.reversed?[100-this._state.percentage[0],this.options.range?100-this._state.percentage[1]:this._state.percentage[1]]:[this._state.percentage[0],this._state.percentage[1]],this.handle1.style[this.stylePos]=b[0]+"%",this.handle1.setAttribute("aria-valuenow",this._state.value[0]),isNaN(this.options.formatter(this._state.value[0]))&&this.handle1.setAttribute("aria-valuetext",this.options.formatter(this._state.value[0])),this.handle2.style[this.stylePos]=b[1]+"%",this.handle2.setAttribute("aria-valuenow",this._state.value[1]),isNaN(this.options.formatter(this._state.value[1]))&&this.handle2.setAttribute("aria-valuetext",this.options.formatter(this._state.value[1])),this.rangeHighlightElements.length>0&&Array.isArray(this.options.rangeHighlights)&&this.options.rangeHighlights.length>0)for(var c=0;c<this.options.rangeHighlights.length;c++){var d=this._toPercentage(this.options.rangeHighlights[c].start),e=this._toPercentage(this.options.rangeHighlights[c].end);if(this.options.reversed){var f=100-e;e=100-d,d=f}var g=this._createHighlightRange(d,e);g?"vertical"===this.options.orientation?(this.rangeHighlightElements[c].style.top=g.start+"%",this.rangeHighlightElements[c].style.height=g.size+"%"):(this.options.rtl?this.rangeHighlightElements[c].style.right=g.start+"%":this.rangeHighlightElements[c].style.left=g.start+"%",this.rangeHighlightElements[c].style.width=g.size+"%"):this.rangeHighlightElements[c].style.display="none"}if(Array.isArray(this.options.ticks)&&this.options.ticks.length>0){var i,h="vertical"===this.options.orientation?"height":"width";i="vertical"===this.options.orientation?"marginTop":this.options.rtl?"marginRight":"marginLeft";var j=this._state.size/(this.options.ticks.length-1);if(this.tickLabelContainer){var k=0;if(0===this.options.ticks_positions.length)"vertical"!==this.options.orientation&&(this.tickLabelContainer.style[i]=-j/2+"px"),k=this.tickLabelContainer.offsetHeight;else for(l=0;l<this.tickLabelContainer.childNodes.length;l++)this.tickLabelContainer.childNodes[l].offsetHeight>k&&(k=this.tickLabelContainer.childNodes[l].offsetHeight);"horizontal"===this.options.orientation&&(this.sliderElem.style.marginBottom=k+"px")}for(var l=0;l<this.options.ticks.length;l++){var m=this.options.ticks_positions[l]||this._toPercentage(this.options.ticks[l]);this.options.reversed&&(m=100-m),this.ticks[l].style[this.stylePos]=m+"%",this._removeClass(this.ticks[l],"in-selection"),this.options.range?m>=b[0]&&m<=b[1]&&this._addClass(this.ticks[l],"in-selection"):"after"===this.options.selection&&m>=b[0]?this._addClass(this.ticks[l],"in-selection"):"before"===this.options.selection&&m<=b[0]&&this._addClass(this.ticks[l],"in-selection"),this.tickLabels[l]&&(this.tickLabels[l].style[h]=j+"px","vertical"!==this.options.orientation&&void 0!==this.options.ticks_positions[l]?(this.tickLabels[l].style.position="absolute",this.tickLabels[l].style[this.stylePos]=m+"%",this.tickLabels[l].style[i]=-j/2+"px"):"vertical"===this.options.orientation&&(this.options.rtl?this.tickLabels[l].style.marginRight=this.sliderElem.offsetWidth+"px":this.tickLabels[l].style.marginLeft=this.sliderElem.offsetWidth+"px",this.tickLabelContainer.style[i]=this.sliderElem.offsetWidth/2*-1+"px"))}}var n;if(this.options.range){n=this.options.formatter(this._state.value),this._setText(this.tooltipInner,n),this.tooltip.style[this.stylePos]=(b[1]+b[0])/2+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetWidth/2+"px");var o=this.options.formatter(this._state.value[0]);this._setText(this.tooltipInner_min,o);var p=this.options.formatter(this._state.value[1]);this._setText(this.tooltipInner_max,p),this.tooltip_min.style[this.stylePos]=b[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip_min,"margin-"+this.stylePos,-this.tooltip_min.offsetHeight/2+"px"):this._css(this.tooltip_min,"margin-"+this.stylePos,-this.tooltip_min.offsetWidth/2+"px"),this.tooltip_max.style[this.stylePos]=b[1]+"%","vertical"===this.options.orientation?this._css(this.tooltip_max,"margin-"+this.stylePos,-this.tooltip_max.offsetHeight/2+"px"):this._css(this.tooltip_max,"margin-"+this.stylePos,-this.tooltip_max.offsetWidth/2+"px")}else n=this.options.formatter(this._state.value[0]),this._setText(this.tooltipInner,n),this.tooltip.style[this.stylePos]=b[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetWidth/2+"px");if("vertical"===this.options.orientation)this.trackLow.style.top="0",this.trackLow.style.height=Math.min(b[0],b[1])+"%",this.trackSelection.style.top=Math.min(b[0],b[1])+"%",this.trackSelection.style.height=Math.abs(b[0]-b[1])+"%",this.trackHigh.style.bottom="0",this.trackHigh.style.height=100-Math.min(b[0],b[1])-Math.abs(b[0]-b[1])+"%";else{"right"===this.stylePos?this.trackLow.style.right="0":this.trackLow.style.left="0",this.trackLow.style.width=Math.min(b[0],b[1])+"%","right"===this.stylePos?this.trackSelection.style.right=Math.min(b[0],b[1])+"%":this.trackSelection.style.left=Math.min(b[0],b[1])+"%",this.trackSelection.style.width=Math.abs(b[0]-b[1])+"%","right"===this.stylePos?this.trackHigh.style.left="0":this.trackHigh.style.right="0",this.trackHigh.style.width=100-Math.min(b[0],b[1])-Math.abs(b[0]-b[1])+"%";var q=this.tooltip_min.getBoundingClientRect(),r=this.tooltip_max.getBoundingClientRect();"bottom"===this.options.tooltip_position?q.right>r.left?(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top="",this.tooltip_max.style.bottom="22px"):(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top=this.tooltip_min.style.top,this.tooltip_max.style.bottom=""):q.right>r.left?(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top="18px"):(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top=this.tooltip_min.style.top)}},_createHighlightRange:function(b,c){return this._isHighlightRange(b,c)?b>c?{start:c,size:b-c}:{start:b,size:c-b}:null},_isHighlightRange:function(b,c){return 0<=b&&b<=100&&0<=c&&c<=100},_resize:function(b){this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this._layout()},_removeProperty:function(b,c){b.style.removeProperty?b.style.removeProperty(c):b.style.removeAttribute(c)},_mousedown:function(b){if(!this._state.enabled)return!1;this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos];var c=this._getPercentage(b);if(this.options.range){var d=Math.abs(this._state.percentage[0]-c),e=Math.abs(this._state.percentage[1]-c);this._state.dragged=d<e?0:1,this._adjustPercentageForRangeSliders(c)}else this._state.dragged=0;this._state.percentage[this._state.dragged]=c,this._layout(),this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),this.mousemove&&document.removeEventListener("mousemove",this.mousemove,!1),this.mouseup&&document.removeEventListener("mouseup",this.mouseup,!1),this.mousemove=this._mousemove.bind(this),this.mouseup=this._mouseup.bind(this),this.touchCapable&&(document.addEventListener("touchmove",this.mousemove,!1),document.addEventListener("touchend",this.mouseup,!1)),document.addEventListener("mousemove",this.mousemove,!1),document.addEventListener("mouseup",this.mouseup,!1),this._state.inDrag=!0;var f=this._calculateValue();return this._trigger("slideStart",f),this._setDataVal(f),this.setValue(f,!1,!0),b.returnValue=!1,this.options.focus&&this._triggerFocusOnHandle(this._state.dragged),!0},_touchstart:function(b){if(void 0===b.changedTouches)return void this._mousedown(b);var c=b.changedTouches[0];this.touchX=c.pageX,this.touchY=c.pageY},_triggerFocusOnHandle:function(b){0===b&&this.handle1.focus(),1===b&&this.handle2.focus()},_keydown:function(b,c){if(!this._state.enabled)return!1;var d;switch(c.keyCode){case 37:case 40:d=-1;break;case 39:case 38:d=1}if(d){if(this.options.natural_arrow_keys){var e="vertical"===this.options.orientation&&!this.options.reversed,f="horizontal"===this.options.orientation&&this.options.reversed;(e||f)&&(d=-d)}var g=this._state.value[b]+d*this.options.step,h=g/this.options.max*100;if(this._state.keyCtrl=b,this.options.range){this._adjustPercentageForRangeSliders(h);g=[this._state.keyCtrl?this._state.value[0]:g,this._state.keyCtrl?g:this._state.value[1]]}return this._trigger("slideStart",g),this._setDataVal(g),this.setValue(g,!0,!0),this._setDataVal(g),this._trigger("slideStop",g),this._layout(),this._pauseEvent(c),delete this._state.keyCtrl,!1}},_pauseEvent:function(b){b.stopPropagation&&b.stopPropagation(),b.preventDefault&&b.preventDefault(),b.cancelBubble=!0,b.returnValue=!1},_mousemove:function(b){if(!this._state.enabled)return!1;var c=this._getPercentage(b);this._adjustPercentageForRangeSliders(c),this._state.percentage[this._state.dragged]=c,this._layout();var d=this._calculateValue(!0);return this.setValue(d,!0,!0),!1},_touchmove:function(b){if(void 0!==b.changedTouches){var c=b.changedTouches[0],d=c.pageX-this.touchX,e=c.pageY-this.touchY;this._state.inDrag||("vertical"===this.options.orientation&&d<=5&&d>=-5&&(e>=15||e<=-15)?this._mousedown(b):e<=5&&e>=-5&&(d>=15||d<=-15)&&this._mousedown(b))}},_adjustPercentageForRangeSliders:function(b){if(this.options.range){var c=this._getNumDigitsAfterDecimalPlace(b);c=c?c-1:0;var d=this._applyToFixedAndParseFloat(b,c);0===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[1],c)<d?(this._state.percentage[0]=this._state.percentage[1],this._state.dragged=1):1===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[0],c)>d?(this._state.percentage[1]=this._state.percentage[0],this._state.dragged=0):0===this._state.keyCtrl&&this._state.value[1]/this.options.max*100<b?(this._state.percentage[0]=this._state.percentage[1],this._state.keyCtrl=1,this.handle2.focus()):1===this._state.keyCtrl&&this._state.value[0]/this.options.max*100>b&&(this._state.percentage[1]=this._state.percentage[0],this._state.keyCtrl=0,this.handle1.focus())}},_mouseup:function(){if(!this._state.enabled)return!1;this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),document.removeEventListener("mousemove",this.mousemove,!1),document.removeEventListener("mouseup",this.mouseup,!1),this._state.inDrag=!1,!1===this._state.over&&this._hideTooltip();var b=this._calculateValue(!0);return this._layout(),this._setDataVal(b),this._trigger("slideStop",b),!1},_calculateValue:function(b){var c;if(this.options.range?(c=[this.options.min,this.options.max],0!==this._state.percentage[0]&&(c[0]=this._toValue(this._state.percentage[0]),c[0]=this._applyPrecision(c[0])),100!==this._state.percentage[1]&&(c[1]=this._toValue(this._state.percentage[1]),c[1]=this._applyPrecision(c[1]))):(c=this._toValue(this._state.percentage[0]),c=parseFloat(c),c=this._applyPrecision(c)),b){for(var d=[c,1/0],e=0;e<this.options.ticks.length;e++){var f=Math.abs(this.options.ticks[e]-c);f<=d[1]&&(d=[this.options.ticks[e],f])}if(d[1]<=this.options.ticks_snap_bounds)return d[0]}return c},_applyPrecision:function(b){var c=this.options.precision||this._getNumDigitsAfterDecimalPlace(this.options.step);return this._applyToFixedAndParseFloat(b,c)},_getNumDigitsAfterDecimalPlace:function(b){var c=(""+b).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return c?Math.max(0,(c[1]?c[1].length:0)-(c[2]?+c[2]:0)):0},_applyToFixedAndParseFloat:function(b,c){var d=b.toFixed(c);return parseFloat(d)},_getPercentage:function(b){!this.touchCapable||"touchstart"!==b.type&&"touchmove"!==b.type||(b=b.touches[0]);var c=b[this.mousePos],d=this._state.offset[this.stylePos],e=c-d;"right"===this.stylePos&&(e=-e);var f=e/this._state.size*100;return f=Math.round(f/this._state.percentage[2])*this._state.percentage[2],this.options.reversed&&(f=100-f),Math.max(0,Math.min(100,f))},_validateInputValue:function(b){if(isNaN(+b)){if(Array.isArray(b))return this._validateArray(b),b;throw new Error(e.formatInvalidInputErrorMsg(b))}return+b},_validateArray:function(b){for(var c=0;c<b.length;c++){var d=b[c];if("number"!=typeof d)throw new Error(e.formatInvalidInputErrorMsg(d))}},_setDataVal:function(b){this.element.setAttribute("data-value",b),this.element.setAttribute("value",b),this.element.value=b},_trigger:function(c,d){d=d||0===d?d:void 0;var e=this.eventToCallbackMap[c];if(e&&e.length)for(var f=0;f<e.length;f++){var g=e[f];g(d)}a&&this._triggerJQueryEvent(c,d)},_triggerJQueryEvent:function(b,c){var d={type:b,value:c};this.$element.trigger(d),this.$sliderElem.trigger(d)},_unbindJQueryEventHandlers:function(){this.$element.off(),this.$sliderElem.off()},_setText:function(b,c){void 0!==b.textContent?b.textContent=c:void 0!==b.innerText&&(b.innerText=c)},_removeClass:function(b,c){for(var d=c.split(" "),e=b.className,f=0;f<d.length;f++){var g=d[f],h=new RegExp("(?:\\s|^)"+g+"(?:\\s|$)");e=e.replace(h," ")}b.className=e.trim()},_addClass:function(b,c){for(var d=c.split(" "),e=b.className,f=0;f<d.length;f++){var g=d[f];new RegExp("(?:\\s|^)"+g+"(?:\\s|$)").test(e)||(e+=" "+g)}b.className=e.trim()},_offsetLeft:function(b){return b.getBoundingClientRect().left},_offsetRight:function(b){return b.getBoundingClientRect().right},_offsetTop:function(b){for(var c=b.offsetTop;(b=b.offsetParent)&&!isNaN(b.offsetTop);)c+=b.offsetTop,"BODY"!==b.tagName&&(c-=b.scrollTop);return c},_offset:function(b){return{left:this._offsetLeft(b),right:this._offsetRight(b),top:this._offsetTop(b)}},_css:function(c,d,e){if(a)a.style(c,d,e);else{var f=d.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(a,b){return b.toUpperCase()});c.style[f]=e}},_toValue:function(b){return this.options.scale.toValue.apply(this,[b])},_toPercentage:function(b){return this.options.scale.toPercentage.apply(this,[b])},_setTooltipPosition:function(){var b=[this.tooltip,this.tooltip_min,this.tooltip_max];if("vertical"===this.options.orientation){var c;c=this.options.tooltip_position?this.options.tooltip_position:this.options.rtl?"left":"right";var d="left"===c?"right":"left";b.forEach(function(a){this._addClass(a,c),a.style[d]="100%"}.bind(this))}else"bottom"===this.options.tooltip_position?b.forEach(function(a){this._addClass(a,"bottom"),a.style.top="22px"}.bind(this)):b.forEach(function(a){this._addClass(a,"top"),a.style.top=-this.tooltip.outerHeight-14+"px"}.bind(this))}},a&&a.fn&&function(){var e=void 0;a.fn.slider?(windowIsDefined&&window.console.warn("bootstrap-slider.js - WARNING: $.fn.slider namespace is already bound. Use the $.fn.bootstrapSlider namespace instead."),e=c):(a.bridget(b,d),e=b),a.bridget(c,d),a(function(){a("input[data-provide=slider]")[e]()})}()}(a),d}),function(a){"function"==typeof define&&define.amd?define([],a):"object"==typeof exports?module.exports=a():window.noUiSlider=a()}(function(){"use strict";function b(a,b){var c=document.createElement("div");return k(c,b),a.appendChild(c),c}function c(a){return a.filter(function(a){return!this[a]&&(this[a]=!0)},{})}function d(a,b){return Math.round(a/b)*b}function e(a,b){var c=a.getBoundingClientRect(),d=a.ownerDocument,e=d.documentElement,f=n();return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(f.x=0),b?c.top+f.y-e.clientTop:c.left+f.x-e.clientLeft}function f(a){return"number"==typeof a&&!isNaN(a)&&isFinite(a)}function g(a,b,c){c>0&&(k(a,b),setTimeout(function(){l(a,b)},c))}function h(a){return Math.max(Math.min(a,100),0)}function i(a){return Array.isArray(a)?a:[a]}function j(a){a=String(a);var b=a.split(".");return b.length>1?b[1].length:0}function k(a,b){a.classList?a.classList.add(b):a.className+=" "+b}function l(a,b){a.classList?a.classList.remove(b):a.className=a.className.replace(new RegExp("(^|\\b)"+b.split(" ").join("|")+"(\\b|$)","gi")," ")}function m(a,b){return a.classList?a.classList.contains(b):new RegExp("\\b"+b+"\\b").test(a.className)}function n(){var a=void 0!==window.pageXOffset,b="CSS1Compat"===(document.compatMode||"");return{x:a?window.pageXOffset:b?document.documentElement.scrollLeft:document.body.scrollLeft,y:a?window.pageYOffset:b?document.documentElement.scrollTop:document.body.scrollTop}}function o(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function p(a,b){return 100/(b-a)}function q(a,b){return 100*b/(a[1]-a[0])}function r(a,b){return q(a,a[0]<0?b+Math.abs(a[0]):b-a[0])}function s(a,b){return b*(a[1]-a[0])/100+a[0]}function t(a,b){for(var c=1;a>=b[c];)c+=1;return c}function u(a,b,c){if(c>=a.slice(-1)[0])return 100;var e,f,g,h,d=t(c,a);return e=a[d-1],f=a[d],g=b[d-1],h=b[d],g+r([e,f],c)/p(g,h)}function v(a,b,c){if(c>=100)return a.slice(-1)[0];var e,f,g,h,d=t(c,b);return e=a[d-1],f=a[d],g=b[d-1],h=b[d],s([e,f],(c-g)*p(g,h))}function w(a,b,c,e){if(100===e)return e;var g,h,f=t(e,a);return c?(g=a[f-1],h=a[f],e-g>(h-g)/2?h:g):b[f-1]?a[f-1]+d(e-a[f-1],b[f-1]):e}function x(b,c,d){var e;if("number"==typeof c&&(c=[c]),"[object Array]"!==Object.prototype.toString.call(c))throw new Error("noUiSlider ("+a+"): 'range' contains invalid value.");if(e="min"===b?0:"max"===b?100:parseFloat(b),!f(e)||!f(c[0]))throw new Error("noUiSlider ("+a+"): 'range' value isn't numeric.");d.xPct.push(e),d.xVal.push(c[0]),e?d.xSteps.push(!isNaN(c[1])&&c[1]):isNaN(c[1])||(d.xSteps[0]=c[1]),d.xHighestCompleteStep.push(0)}function y(a,b,c){if(!b)return!0;c.xSteps[a]=q([c.xVal[a],c.xVal[a+1]],b)/p(c.xPct[a],c.xPct[a+1]);var d=(c.xVal[a+1]-c.xVal[a])/c.xNumSteps[a],e=Math.ceil(Number(d.toFixed(3))-1),f=c.xVal[a]+c.xNumSteps[a]*e;c.xHighestCompleteStep[a]=f}function z(a,b,c,d){this.xPct=[],this.xVal=[],this.xSteps=[d||!1],this.xNumSteps=[!1],this.xHighestCompleteStep=[],this.snap=b,this.direction=c;var e,f=[];for(e in a)a.hasOwnProperty(e)&&f.push([a[e],e]);for(f.length&&"object"==typeof f[0][0]?f.sort(function(a,b){return a[0][0]-b[0][0]}):f.sort(function(a,b){return a[0]-b[0]}),e=0;e<f.length;e++)x(f[e][1],f[e][0],this);for(this.xNumSteps=this.xSteps.slice(0),e=0;e<this.xNumSteps.length;e++)y(e,this.xNumSteps[e],this)}function B(b,c){if(!f(c))throw new Error("noUiSlider ("+a+"): 'step' is not numeric.");b.singleStep=c}function C(b,c){if("object"!=typeof c||Array.isArray(c))throw new Error("noUiSlider ("+a+"): 'range' is not an object.");if(void 0===c.min||void 0===c.max)throw new Error("noUiSlider ("+a+"): Missing 'min' or 'max' in 'range'.");if(c.min===c.max)throw new Error("noUiSlider ("+a+"): 'range' 'min' and 'max' cannot be equal.");b.spectrum=new z(c,b.snap,b.dir,b.singleStep)}function D(b,c){if(c=i(c),!Array.isArray(c)||!c.length)throw new Error("noUiSlider ("+a+"): 'start' option is incorrect.");b.handles=c.length,b.start=c}function E(b,c){if(b.snap=c,"boolean"!=typeof c)throw new Error("noUiSlider ("+a+"): 'snap' option must be a boolean.")}function F(b,c){if(b.animate=c,"boolean"!=typeof c)throw new Error("noUiSlider ("+a+"): 'animate' option must be a boolean.")}function G(b,c){if(b.animationDuration=c,"number"!=typeof c)throw new Error("noUiSlider ("+a+"): 'animationDuration' option must be a number.")}function H(b,c){var e,d=[!1];if("lower"===c?c=[!0,!1]:"upper"===c&&(c=[!1,!0]),!0===c||!1===c){for(e=1;e<b.handles;e++)d.push(c);d.push(!1)}else{if(!Array.isArray(c)||!c.length||c.length!==b.handles+1)throw new Error("noUiSlider ("+a+"): 'connect' option doesn't match handle count.");d=c}b.connect=d}function I(b,c){switch(c){case"horizontal":b.ort=0;break;case"vertical":b.ort=1;break;default:throw new Error("noUiSlider ("+a+"): 'orientation' option is invalid.")}}function J(b,c){if(!f(c))throw new Error("noUiSlider ("+a+"): 'margin' option must be numeric.");if(0!==c&&(b.margin=b.spectrum.getMargin(c),!b.margin))throw new Error("noUiSlider ("+a+"): 'margin' option is only supported on linear sliders.")}function K(b,c){if(!f(c))throw new Error("noUiSlider ("+a+"): 'limit' option must be numeric.");if(b.limit=b.spectrum.getMargin(c),!b.limit||b.handles<2)throw new Error("noUiSlider ("+a+"): 'limit' option is only supported on linear sliders with 2 or more handles.")}function L(b,c){if(!f(c))throw new Error("noUiSlider ("+a+"): 'padding' option must be numeric.");if(0!==c){if(b.padding=b.spectrum.getMargin(c),!b.padding)throw new Error("noUiSlider ("+a+"): 'padding' option is only supported on linear sliders.");if(b.padding<0)throw new Error("noUiSlider ("+a+"): 'padding' option must be a positive number.");if(b.padding>=50)throw new Error("noUiSlider ("+a+"): 'padding' option must be less than half the range.")}}function M(b,c){switch(c){case"ltr":b.dir=0;break;case"rtl":b.dir=1;break;default:throw new Error("noUiSlider ("+a+"): 'direction' option was not recognized.")}}function N(b,c){if("string"!=typeof c)throw new Error("noUiSlider ("+a+"): 'behaviour' must be a string containing options.");var d=c.indexOf("tap")>=0,e=c.indexOf("drag")>=0,f=c.indexOf("fixed")>=0,g=c.indexOf("snap")>=0,h=c.indexOf("hover")>=0;if(f){if(2!==b.handles)throw new Error("noUiSlider ("+a+"): 'fixed' behaviour must be used with 2 handles");J(b,b.start[1]-b.start[0])}b.events={tap:d||g,drag:e,fixed:f,snap:g,hover:h}}function O(b,c){if(!1!==c)if(!0===c){b.tooltips=[];for(var d=0;d<b.handles;d++)b.tooltips.push(!0)}else{if(b.tooltips=i(c),b.tooltips.length!==b.handles)throw new Error("noUiSlider ("+a+"): must pass a formatter for all handles.");b.tooltips.forEach(function(b){if("boolean"!=typeof b&&("object"!=typeof b||"function"!=typeof b.to))throw new Error("noUiSlider ("+a+"): 'tooltips' must be passed a formatter or 'false'.")})}}function P(b,c){if(b.format=c,"function"==typeof c.to&&"function"==typeof c.from)return!0;throw new Error("noUiSlider ("+a+"): 'format' requires 'to' and 'from' methods.")}function Q(b,c){if(void 0!==c&&"string"!=typeof c&&!1!==c)throw new Error("noUiSlider ("+a+"): 'cssPrefix' must be a string or `false`.");b.cssPrefix=c}function R(b,c){if(void 0!==c&&"object"!=typeof c)throw new Error("noUiSlider ("+a+"): 'cssClasses' must be an object.");if("string"==typeof b.cssPrefix){b.cssClasses={};for(var d in c)c.hasOwnProperty(d)&&(b.cssClasses[d]=b.cssPrefix+c[d])}else b.cssClasses=c}function S(b,c){if(!0!==c&&!1!==c)throw new Error("noUiSlider ("+a+"): 'useRequestAnimationFrame' option should be true (default) or false.");b.useRequestAnimationFrame=c}function T(b){var c={margin:0,limit:0,padding:0,animate:!0,animationDuration:300,format:A},d={step:{r:!1,t:B},start:{r:!0,t:D},connect:{r:!0,t:H},direction:{r:!0,t:M},snap:{r:!1,t:E},animate:{r:!1,t:F},animationDuration:{r:!1,t:G},range:{r:!0,t:C},orientation:{r:!1,t:I},margin:{r:!1,t:J},limit:{r:!1,t:K},padding:{r:!1,t:L},behaviour:{r:!0,t:N},format:{r:!1,t:P},tooltips:{r:!1,t:O},cssPrefix:{r:!1,t:Q},cssClasses:{r:!1,t:R},useRequestAnimationFrame:{r:!1,t:S}},e={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",cssPrefix:"noUi-",cssClasses:{target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",ltr:"ltr",rtl:"rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},useRequestAnimationFrame:!0};Object.keys(d).forEach(function(f){if(void 0===b[f]&&void 0===e[f]){if(d[f].r)throw new Error("noUiSlider ("+a+"): '"+f+"' is required.");return!0}d[f].t(c,void 0===b[f]?e[f]:b[f])}),c.pips=b.pips;var f=[["left","top"],["right","bottom"]];return c.style=f[c.dir][c.ort],c.styleOposite=f[c.dir?0:1][c.ort],c}function U(d,f,j){function B(a,c){var d=b(a,f.cssClasses.origin),e=b(d,f.cssClasses.handle);return e.setAttribute("data-handle",c),0===c?k(e,f.cssClasses.handleLower):c===f.handles-1&&k(e,f.cssClasses.handleUpper),d}function C(a,c){return!!c&&b(a,f.cssClasses.connect)}function D(a,b){t=[],w=[],w.push(C(b,a[0]));for(var c=0;c<f.handles;c++)t.push(B(b,c)),u[c]=c,w.push(C(b,a[c+1]))}function E(a){k(a,f.cssClasses.target),0===f.dir?k(a,f.cssClasses.ltr):k(a,f.cssClasses.rtl),0===f.ort?k(a,f.cssClasses.horizontal):k(a,f.cssClasses.vertical),s=b(a,f.cssClasses.base)}function F(a,c){return!!f.tooltips[c]&&b(a.firstChild,f.cssClasses.tooltip)}function G(){var a=t.map(F);ka("update",function(b,c,d){if(a[c]){var e=b[c];!0!==f.tooltips[c]&&(e=f.tooltips[c].to(d[c])),a[c].innerHTML=e}})}function H(b,c,d){if("range"===b||"steps"===b)return x.xVal;if("count"===b){if(!c)throw new Error("noUiSlider ("+a+"): 'values' required for mode 'count'.");var f,e=100/(c-1),g=0;for(c=[];(f=g++*e)<=100;)c.push(f);b="positions"}return"positions"===b?c.map(function(a){return x.fromStepping(d?x.getStep(a):a)}):"values"===b?d?c.map(function(a){return x.fromStepping(x.getStep(x.toStepping(a)))}):c:void 0}function I(a,b,d){function e(a,b){return(a+b).toFixed(7)/1}var f={},g=x.xVal[0],h=x.xVal[x.xVal.length-1],i=!1,j=!1,k=0;return d=c(d.slice().sort(function(a,b){return a-b})),d[0]!==g&&(d.unshift(g),i=!0),d[d.length-1]!==h&&(d.push(h),j=!0),d.forEach(function(c,g){var h,l,m,p,q,r,s,t,u,v,n=c,o=d[g+1];if("steps"===b&&(h=x.xNumSteps[g]),h||(h=o-n),!1!==n&&void 0!==o)for(h=Math.max(h,1e-7),l=n;l<=o;l=e(l,h)){for(p=x.toStepping(l),q=p-k,t=q/a,u=Math.round(t),v=q/u,m=1;m<=u;m+=1)r=k+m*v,f[r.toFixed(5)]=["x",0];s=d.indexOf(l)>-1?1:"steps"===b?2:0,!g&&i&&(s=0),l===o&&j||(f[p.toFixed(5)]=[l,s]),k=p}}),f}function J(a,b,c){function l(a,b){var c=b===f.cssClasses.value,d=c?i:j,e=c?g:h;return b+" "+d[f.ort]+" "+e[a]}function m(a,b,c){return'class="'+l(c[1],b)+'" style="'+f.style+": "+a+'%"'}function n(a,d){d[1]=d[1]&&b?b(d[0],d[1]):d[1],e+="<div "+m(a,f.cssClasses.marker,d)+"></div>",d[1]&&(e+="<div "+m(a,f.cssClasses.value,d)+">"+c.to(d[0])+"</div>")}var d=document.createElement("div"),e="",g=[f.cssClasses.valueNormal,f.cssClasses.valueLarge,f.cssClasses.valueSub],h=[f.cssClasses.markerNormal,f.cssClasses.markerLarge,f.cssClasses.markerSub],i=[f.cssClasses.valueHorizontal,f.cssClasses.valueVertical],j=[f.cssClasses.markerHorizontal,f.cssClasses.markerVertical];return k(d,f.cssClasses.pips),k(d,0===f.ort?f.cssClasses.pipsHorizontal:f.cssClasses.pipsVertical),Object.keys(a).forEach(function(b){n(b,a[b])}),d.innerHTML=e,d}function K(a){var b=a.mode,c=a.density||1,d=a.filter||!1,e=a.values||!1,f=a.stepped||!1,g=H(b,e,f),h=I(c,b,g),i=a.format||{to:Math.round};return q.appendChild(J(h,d,i))}function L(){var a=s.getBoundingClientRect(),b="offset"+["Width","Height"][f.ort];return 0===f.ort?a.width||s[b]:a.height||s[b]}function M(a,b,c,d){var e=function(b){return!q.hasAttribute("disabled")&&(!m(q,f.cssClasses.tap)&&(!!(b=N(b,d.pageOffset))&&(!(a===p.start&&void 0!==b.buttons&&b.buttons>1)&&((!d.hover||!b.buttons)&&(b.calcPoint=b.points[f.ort],void c(b,d))))))},g=[];return a.split(" ").forEach(function(a){b.addEventListener(a,e,!1),g.push([a,e])}),g}function N(a,b){a.preventDefault();var f,g,c=0===a.type.indexOf("touch"),d=0===a.type.indexOf("mouse"),e=0===a.type.indexOf("pointer");if(0===a.type.indexOf("MSPointer")&&(e=!0),c){if(a.touches.length>1)return!1;f=a.changedTouches[0].pageX,g=a.changedTouches[0].pageY}return b=b||n(),(d||e)&&(f=a.clientX+b.x,g=a.clientY+b.y),a.pageOffset=b,a.points=[f,g],a.cursor=d||e,a}function O(a){var b=a-e(s,f.ort),c=100*b/L();return f.dir?100-c:c}function P(a){var b=100,c=!1;return t.forEach(function(d,e){if(!d.hasAttribute("disabled")){var f=Math.abs(r[e]-a);f<b&&(c=e,b=f)}}),c}function Q(a,b,c,d){var e=c.slice(),f=[!a,a],g=[a,!a];d=d.slice(),a&&d.reverse(),d.length>1?d.forEach(function(a,c){var d=$(e,a,e[a]+b,f[c],g[c]);!1===d?b=0:(b=d-e[a],e[a]=d)}):f=g=[!0];var h=!1;d.forEach(function(a,d){h=ca(a,c[a]+b,f[d],g[d])||h}),h&&d.forEach(function(a){R("update",a),R("slide",a)})}function R(a,b,c){Object.keys(z).forEach(function(d){var e=d.split(".")[0];a===e&&z[d].forEach(function(a){a.call(A,y.map(f.format.to),b,y.slice(),c||!1,r.slice())})})}function S(a,b){"mouseout"===a.type&&"HTML"===a.target.nodeName&&null===a.relatedTarget&&V(a,b)}function U(a,b){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===a.buttons&&0!==b.buttonsProperty)return V(a,b);var c=(f.dir?-1:1)*(a.calcPoint-b.startCalcPoint);Q(c>0,100*c/b.baseSize,b.locations,b.handleNumbers)}function V(a,b){v&&(l(v,f.cssClasses.active),v=!1),a.cursor&&(document.body.style.cursor="",document.body.removeEventListener("selectstart",document.body.noUiListener)),document.documentElement.noUiListeners.forEach(function(a){document.documentElement.removeEventListener(a[0],a[1])}),l(q,f.cssClasses.drag),ba(),b.handleNumbers.forEach(function(a){R("set",a),R("change",a),R("end",a)})}function W(a,b){if(1===b.handleNumbers.length){var c=t[b.handleNumbers[0]];if(c.hasAttribute("disabled"))return!1;v=c.children[0],k(v,f.cssClasses.active)}a.preventDefault(),a.stopPropagation();var d=M(p.move,document.documentElement,U,{startCalcPoint:a.calcPoint,baseSize:L(),pageOffset:a.pageOffset,handleNumbers:b.handleNumbers,buttonsProperty:a.buttons,locations:r.slice()}),e=M(p.end,document.documentElement,V,{handleNumbers:b.handleNumbers}),g=M("mouseout",document.documentElement,S,{handleNumbers:b.handleNumbers});if(document.documentElement.noUiListeners=d.concat(e,g),a.cursor){document.body.style.cursor=getComputedStyle(a.target).cursor,t.length>1&&k(q,f.cssClasses.drag);var h=function(){return!1};document.body.noUiListener=h,document.body.addEventListener("selectstart",h,!1)}b.handleNumbers.forEach(function(a){R("start",a)})}function X(a){a.stopPropagation();var b=O(a.calcPoint),c=P(b);if(!1===c)return!1;f.events.snap||g(q,f.cssClasses.tap,f.animationDuration),ca(c,b,!0,!0),ba(),R("slide",c,!0),R("set",c,!0),R("change",c,!0),R("update",c,!0),f.events.snap&&W(a,{handleNumbers:[c]})}function Y(a){var b=O(a.calcPoint),c=x.getStep(b),d=x.fromStepping(c);Object.keys(z).forEach(function(a){"hover"===a.split(".")[0]&&z[a].forEach(function(a){a.call(A,d)})})}function Z(a){a.fixed||t.forEach(function(a,b){M(p.start,a.children[0],W,{handleNumbers:[b]})}),a.tap&&M(p.start,s,X,{}),a.hover&&M(p.move,s,Y,{hover:!0}),a.drag&&w.forEach(function(b,c){if(!1!==b&&0!==c&&c!==w.length-1){var d=t[c-1],e=t[c],g=[b];k(b,f.cssClasses.draggable),a.fixed&&(g.push(d.children[0]),g.push(e.children[0])),g.forEach(function(a){M(p.start,a,W,{handles:[d,e],handleNumbers:[c-1,c]})})}})}function $(a,b,c,d,e){return t.length>1&&(d&&b>0&&(c=Math.max(c,a[b-1]+f.margin)),e&&b<t.length-1&&(c=Math.min(c,a[b+1]-f.margin))),t.length>1&&f.limit&&(d&&b>0&&(c=Math.min(c,a[b-1]+f.limit)),e&&b<t.length-1&&(c=Math.max(c,a[b+1]-f.limit))),f.padding&&(0===b&&(c=Math.max(c,f.padding)),b===t.length-1&&(c=Math.min(c,100-f.padding))),c=x.getStep(c),(c=h(c))!==a[b]&&c}function _(a){return a+"%"}function aa(a,b){r[a]=b,y[a]=x.fromStepping(b);var c=function(){t[a].style[f.style]=_(b),da(a),da(a+1)};window.requestAnimationFrame&&f.useRequestAnimationFrame?window.requestAnimationFrame(c):c()}function ba(){u.forEach(function(a){var b=r[a]>50?-1:1,c=3+(t.length+b*a);t[a].childNodes[0].style.zIndex=c})}function ca(a,b,c,d){return!1!==(b=$(r,a,b,c,d))&&(aa(a,b),!0)}function da(a){if(w[a]){var b=0,c=100;0!==a&&(b=r[a-1]),a!==w.length-1&&(c=r[a]),w[a].style[f.style]=_(b),w[a].style[f.styleOposite]=_(100-c)}}function ea(a,b){null!==a&&!1!==a&&("number"==typeof a&&(a=String(a)),!1===(a=f.format.from(a))||isNaN(a)||ca(b,x.toStepping(a),!1,!1))}function fa(a,b){var c=i(a),d=void 0===r[0];b=void 0===b||!!b,c.forEach(ea),f.animate&&!d&&g(q,f.cssClasses.tap,f.animationDuration),u.forEach(function(a){ca(a,r[a],!0,!1)}),ba(),u.forEach(function(a){R("update",a),null!==c[a]&&b&&R("set",a)})}function ga(a){fa(f.start,a)}function ha(){var a=y.map(f.format.to);return 1===a.length?a[0]:a}function ia(){for(var a in f.cssClasses)f.cssClasses.hasOwnProperty(a)&&l(q,f.cssClasses[a]);for(;q.firstChild;)q.removeChild(q.firstChild);delete q.noUiSlider}function ja(){return r.map(function(a,b){var c=x.getNearbySteps(a),d=y[b],e=c.thisStep.step,f=null;!1!==e&&d+e>c.stepAfter.startValue&&(e=c.stepAfter.startValue-d),f=d>c.thisStep.startValue?c.thisStep.step:!1!==c.stepBefore.step&&d-c.stepBefore.highestStep,100===a?e=null:0===a&&(f=null);var g=x.countStepDecimals();return null!==e&&!1!==e&&(e=Number(e.toFixed(g))),null!==f&&!1!==f&&(f=Number(f.toFixed(g))),[f,e]})}function ka(a,b){z[a]=z[a]||[],z[a].push(b),"update"===a.split(".")[0]&&t.forEach(function(a,b){R("update",b)})}function la(a){var b=a&&a.split(".")[0],c=b&&a.substring(b.length);Object.keys(z).forEach(function(a){var d=a.split(".")[0],e=a.substring(d.length);b&&b!==d||c&&c!==e||delete z[a]})}function ma(a,b){var c=ha(),d=["margin","limit","padding","range","animate","snap","step","format"];d.forEach(function(b){void 0!==a[b]&&(j[b]=a[b])});var e=T(j);d.forEach(function(b){void 0!==a[b]&&(f[b]=e[b])}),e.spectrum.direction=x.direction,x=e.spectrum,f.margin=e.margin,f.limit=e.limit,f.padding=e.padding,r=[],fa(a.start||c,b)}var s,t,w,A,p=o(),q=d,r=[],u=[],v=!1,x=f.spectrum,y=[],z={};if(q.noUiSlider)throw new Error("noUiSlider ("+a+"): Slider was already initialized.");return E(q),D(f.connect,s),A={destroy:ia,steps:ja,on:ka,off:la,get:ha,set:fa,reset:ga,__moveHandles:function(a,b,c){Q(a,b,r,c)},options:j,updateOptions:ma,target:q,pips:K},Z(f.events),fa(f.start),f.pips&&K(f.pips),f.tooltips&&G(),A}function V(b,c){if(!b.nodeName)throw new Error("noUiSlider ("+a+"): create requires a single element.");var d=T(c,b),e=U(b,d,c);return b.noUiSlider=e,e}var a="9.2.0";z.prototype.getMargin=function(b){var c=this.xNumSteps[0];if(c&&b/c%1!=0)throw new Error("noUiSlider ("+a+"): 'limit', 'margin' and 'padding' must be divisible by step.");return 2===this.xPct.length&&q(this.xVal,b)},z.prototype.toStepping=function(a){return a=u(this.xVal,this.xPct,a)},z.prototype.fromStepping=function(a){return v(this.xVal,this.xPct,a)},z.prototype.getStep=function(a){return a=w(this.xPct,this.xSteps,this.snap,a)},z.prototype.getNearbySteps=function(a){var b=t(a,this.xPct);return{stepBefore:{startValue:this.xVal[b-2],step:this.xNumSteps[b-2],highestStep:this.xHighestCompleteStep[b-2]},thisStep:{startValue:this.xVal[b-1],step:this.xNumSteps[b-1],highestStep:this.xHighestCompleteStep[b-1]},stepAfter:{startValue:this.xVal[b-0],step:this.xNumSteps[b-0],highestStep:this.xHighestCompleteStep[b-0]}}},z.prototype.countStepDecimals=function(){var a=this.xNumSteps.map(j);return Math.max.apply(null,a)},z.prototype.convert=function(a){return this.getStep(this.toStepping(a))};var A={to:function(a){return void 0!==a&&a.toFixed(2)},from:Number};return{version:a,create:V}}),function(a,b,c,d){function e(b,c){this.settings=null,this.options=a.extend({},e.Defaults,c),this.$element=a(b),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},a.each(["onResize","onThrottledResize"],a.proxy(function(b,c){this._handlers[c]=a.proxy(this[c],this)},this)),a.each(e.Plugins,a.proxy(function(a,b){this._plugins[a.charAt(0).toLowerCase()+a.slice(1)]=new b(this)},this)),a.each(e.Workers,a.proxy(function(b,c){this._pipe.push({filter:c.filter,run:a.proxy(c.run,this)})},this)),this.setup(),this.initialize()}e.Defaults={items:3,loop:!1,center:!1,rewind:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:b,fallbackEasing:"swing",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},e.Width={Default:"default",Inner:"inner",Outer:"outer"},e.Type={Event:"event",State:"state"},e.Plugins={},e.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(a){a.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(a){var b=this.settings.margin||"",c=!this.settings.autoWidth,d=this.settings.rtl,e={width:"auto","margin-left":d?b:"","margin-right":d?"":b};!c&&this.$stage.children().css(e),a.css=e}},{filter:["width","items","settings"],run:function(a){var b=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,c=null,d=this._items.length,e=!this.settings.autoWidth,f=[];for(a.items={merge:!1,width:b};d--;)c=this._mergers[d],c=this.settings.mergeFit&&Math.min(c,this.settings.items)||c,a.items.merge=c>1||a.items.merge,f[d]=e?b*c:this._items[d].width();this._widths=f}},{filter:["items","settings"],run:function(){var b=[],c=this._items,d=this.settings,e=Math.max(2*d.items,4),f=2*Math.ceil(c.length/2),g=d.loop&&c.length?d.rewind?e:Math.max(e,f):0,h="",i="";for(g/=2;g--;)b.push(this.normalize(b.length/2,!0)),h+=c[b[b.length-1]][0].outerHTML,b.push(this.normalize(c.length-1-(b.length-1)/2,!0)),i=c[b[b.length-1]][0].outerHTML+i;this._clones=b,a(h).addClass("cloned").appendTo(this.$stage),a(i).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var a=this.settings.rtl?1:-1,b=this._clones.length+this._items.length,c=-1,d=0,e=0,f=[];++c<b;)d=f[c-1]||0,e=this._widths[this.relative(c)]+this.settings.margin,f.push(d+e*a);this._coordinates=f}},{filter:["width","items","settings"],run:function(){var a=this.settings.stagePadding,b=this._coordinates,c={width:Math.ceil(Math.abs(b[b.length-1]))+2*a,"padding-left":a||"","padding-right":a||""};this.$stage.css(c)}},{filter:["width","items","settings"],run:function(a){var b=this._coordinates.length,c=!this.settings.autoWidth,d=this.$stage.children();if(c&&a.items.merge)for(;b--;)a.css.width=this._widths[this.relative(b)],d.eq(b).css(a.css);else c&&(a.css.width=a.items.width,d.css(a.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(a){a.current=a.current?this.$stage.children().index(a.current):0,a.current=Math.max(this.minimum(),Math.min(this.maximum(),a.current)),this.reset(a.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var e,f,h,i,a=this.settings.rtl?1:-1,b=2*this.settings.stagePadding,c=this.coordinates(this.current())+b,d=c+this.width()*a,g=[];for(h=0,i=this._coordinates.length;h<i;h++)e=this._coordinates[h-1]||0,f=Math.abs(this._coordinates[h])+b*a,(this.op(e,"<=",c)&&this.op(e,">",d)||this.op(f,"<",c)&&this.op(f,">",d))&&g.push(h);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+g.join("), :eq(")+")").addClass("active"),this.settings.center&&(this.$stage.children(".center").removeClass("center"),this.$stage.children().eq(this.current()).addClass("center"))}}],e.prototype.initialize=function(){if(this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading")){var b,c,e;b=this.$element.find("img"),c=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:d,e=this.$element.children(c).width(),b.length&&e<=0&&this.preloadAutoWidthImages(b)}this.$element.addClass(this.options.loadingClass),this.$stage=a("<"+this.settings.stageElement+' class="'+this.settings.stageClass+'"/>').wrap('<div class="'+this.settings.stageOuterClass+'"/>'),this.$element.append(this.$stage.parent()),this.replace(this.$element.children().not(this.$stage.parent())),this.$element.is(":visible")?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},e.prototype.setup=function(){var b=this.viewport(),c=this.options.responsive,d=-1,e=null;c?(a.each(c,function(a){a<=b&&a>d&&(d=Number(a))}),e=a.extend({},this.options,c[d]),"function"==typeof e.stagePadding&&(e.stagePadding=e.stagePadding()),delete e.responsive,e.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+d))):e=a.extend({},this.options),this.trigger("change",{property:{name:"settings",value:e}}),this._breakpoint=d,this.settings=e,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},e.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},e.prototype.prepare=function(b){var c=this.trigger("prepare",{content:b});return c.data||(c.data=a("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(b)),this.trigger("prepared",{content:c.data}),c.data},e.prototype.update=function(){for(var b=0,c=this._pipe.length,d=a.proxy(function(a){return this[a]},this._invalidated),e={};b<c;)(this._invalidated.all||a.grep(this._pipe[b].filter,d).length>0)&&this._pipe[b].run(e),b++;this._invalidated={},!this.is("valid")&&this.enter("valid")},e.prototype.width=function(a){switch(a=a||e.Width.Default){case e.Width.Inner:case e.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},e.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},e.prototype.onThrottledResize=function(){b.clearTimeout(this.resizeTimer),this.resizeTimer=b.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},e.prototype.onResize=function(){return!!this._items.length&&(this._width!==this.$element.width()&&(!!this.$element.is(":visible")&&(this.enter("resizing"),this.trigger("resize").isDefaultPrevented()?(this.leave("resizing"),!1):(this.invalidate("width"),this.refresh(),this.leave("resizing"),void this.trigger("resized")))))},e.prototype.registerEventHandlers=function(){a.support.transition&&this.$stage.on(a.support.transition.end+".owl.core",a.proxy(this.onTransitionEnd,this)),!1!==this.settings.responsive&&this.on(b,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",a.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",function(){return!1})),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",a.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",a.proxy(this.onDragEnd,this)))},e.prototype.onDragStart=function(b){var d=null;3!==b.which&&(a.support.transform?(d=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","),d={x:d[16===d.length?12:4],y:d[16===d.length?13:5]}):(d=this.$stage.position(),d={x:this.settings.rtl?d.left+this.$stage.width()-this.width()+this.settings.margin:d.left,y:d.top}),this.is("animating")&&(a.support.transform?this.animate(d.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,"mousedown"===b.type),this.speed(0),this._drag.time=(new Date).getTime(),this._drag.target=a(b.target),this._drag.stage.start=d,this._drag.stage.current=d,this._drag.pointer=this.pointer(b),a(c).on("mouseup.owl.core touchend.owl.core",a.proxy(this.onDragEnd,this)),a(c).one("mousemove.owl.core touchmove.owl.core",a.proxy(function(b){var d=this.difference(this._drag.pointer,this.pointer(b));a(c).on("mousemove.owl.core touchmove.owl.core",a.proxy(this.onDragMove,this)),Math.abs(d.x)<Math.abs(d.y)&&this.is("valid")||(b.preventDefault(),this.enter("dragging"),this.trigger("drag"))},this)))},e.prototype.onDragMove=function(a){var b=null,c=null,d=null,e=this.difference(this._drag.pointer,this.pointer(a)),f=this.difference(this._drag.stage.start,e);this.is("dragging")&&(a.preventDefault(),this.settings.loop?(b=this.coordinates(this.minimum()),c=this.coordinates(this.maximum()+1)-b,f.x=((f.x-b)%c+c)%c+b):(b=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),c=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),d=this.settings.pullDrag?-1*e.x/5:0,f.x=Math.max(Math.min(f.x,b+d),c+d)),this._drag.stage.current=f,this.animate(f.x))},e.prototype.onDragEnd=function(b){var d=this.difference(this._drag.pointer,this.pointer(b)),e=this._drag.stage.current,f=d.x>0^this.settings.rtl?"left":"right";a(c).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(0!==d.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(e.x,0!==d.x?f:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=f,(Math.abs(d.x)>3||(new Date).getTime()-this._drag.time>300)&&this._drag.target.one("click.owl.core",function(){return!1})),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},e.prototype.closest=function(b,c){var d=-1,e=30,f=this.width(),g=this.coordinates();return this.settings.freeDrag||a.each(g,a.proxy(function(a,h){return"left"===c&&b>h-e&&b<h+e?d=a:"right"===c&&b>h-f-e&&b<h-f+e?d=a+1:this.op(b,"<",h)&&this.op(b,">",g[a+1]||h-f)&&(d="left"===c?a+1:a),-1===d},this)),this.settings.loop||(this.op(b,">",g[this.minimum()])?d=b=this.minimum():this.op(b,"<",g[this.maximum()])&&(d=b=this.maximum())),d},e.prototype.animate=function(b){var c=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),c&&(this.enter("animating"),this.trigger("translate")),a.support.transform3d&&a.support.transition?this.$stage.css({transform:"translate3d("+b+"px,0px,0px)",transition:this.speed()/1e3+"s"}):c?this.$stage.animate({left:b+"px"},this.speed(),this.settings.fallbackEasing,a.proxy(this.onTransitionEnd,this)):this.$stage.css({left:b+"px"})},e.prototype.is=function(a){return this._states.current[a]&&this._states.current[a]>0},e.prototype.current=function(a){if(a===d)return this._current;if(0===this._items.length)return d;if(a=this.normalize(a),this._current!==a){var b=this.trigger("change",{property:{name:"position",value:a}});b.data!==d&&(a=this.normalize(b.data)),this._current=a,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current},e.prototype.invalidate=function(b){return"string"===a.type(b)&&(this._invalidated[b]=!0,this.is("valid")&&this.leave("valid")),a.map(this._invalidated,function(a,b){return b})},e.prototype.reset=function(a){(a=this.normalize(a))!==d&&(this._speed=0,this._current=a,this.suppress(["translate","translated"]),this.animate(this.coordinates(a)),this.release(["translate","translated"]))},e.prototype.normalize=function(a,b){var c=this._items.length,e=b?0:this._clones.length;return!this.isNumeric(a)||c<1?a=d:(a<0||a>=c+e)&&(a=((a-e/2)%c+c)%c+e/2),a},e.prototype.relative=function(a){return a-=this._clones.length/2,this.normalize(a,!0)},e.prototype.maximum=function(a){var d,e,f,b=this.settings,c=this._coordinates.length;if(b.loop)c=this._clones.length/2+this._items.length-1;else if(b.autoWidth||b.merge){for(d=this._items.length,e=this._items[--d].width(),f=this.$element.width();d--&&!((e+=this._items[d].width()+this.settings.margin)>f););c=d+1}else c=b.center?this._items.length-1:this._items.length-b.items;return a&&(c-=this._clones.length/2),Math.max(c,0)},e.prototype.minimum=function(a){return a?0:this._clones.length/2},e.prototype.items=function(a){return a===d?this._items.slice():(a=this.normalize(a,!0),this._items[a])},e.prototype.mergers=function(a){return a===d?this._mergers.slice():(a=this.normalize(a,!0),this._mergers[a])},e.prototype.clones=function(b){var c=this._clones.length/2,e=c+this._items.length,f=function(a){return a%2==0?e+a/2:c-(a+1)/2};return b===d?a.map(this._clones,function(a,b){return f(b)}):a.map(this._clones,function(a,c){return a===b?f(c):null})},e.prototype.speed=function(a){return a!==d&&(this._speed=a),this._speed},e.prototype.coordinates=function(b){var f,c=1,e=b-1;return b===d?a.map(this._coordinates,a.proxy(function(a,b){return this.coordinates(b)},this)):(this.settings.center?(this.settings.rtl&&(c=-1,e=b+1),f=this._coordinates[b],f+=(this.width()-f+(this._coordinates[e]||0))/2*c):f=this._coordinates[e]||0,f=Math.ceil(f))},e.prototype.duration=function(a,b,c){return 0===c?0:Math.min(Math.max(Math.abs(b-a),1),6)*Math.abs(c||this.settings.smartSpeed)},e.prototype.to=function(a,b){var c=this.current(),d=null,e=a-this.relative(c),f=(e>0)-(e<0),g=this._items.length,h=this.minimum(),i=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(e)>g/2&&(e+=-1*f*g),a=c+e,(d=((a-h)%g+g)%g+h)!==a&&d-e<=i&&d-e>0&&(c=d-e,a=d,this.reset(c))):this.settings.rewind?(i+=1,a=(a%i+i)%i):a=Math.max(h,Math.min(i,a)),this.speed(this.duration(c,a,b)),this.current(a),this.$element.is(":visible")&&this.update()},e.prototype.next=function(a){a=a||!1,this.to(this.relative(this.current())+1,a)},e.prototype.prev=function(a){a=a||!1,this.to(this.relative(this.current())-1,a)},e.prototype.onTransitionEnd=function(a){if(a!==d&&(a.stopPropagation(),(a.target||a.srcElement||a.originalTarget)!==this.$stage.get(0)))return!1;this.leave("animating"),this.trigger("translated")},e.prototype.viewport=function(){var d;return this.options.responsiveBaseElement!==b?d=a(this.options.responsiveBaseElement).width():b.innerWidth?d=b.innerWidth:c.documentElement&&c.documentElement.clientWidth?d=c.documentElement.clientWidth:console.warn("Can not detect viewport width."),d},e.prototype.replace=function(b){this.$stage.empty(),this._items=[],b&&(b=b instanceof jQuery?b:a(b)),this.settings.nestedItemSelector&&(b=b.find("."+this.settings.nestedItemSelector)),b.filter(function(){return 1===this.nodeType}).each(a.proxy(function(a,b){b=this.prepare(b),this.$stage.append(b),this._items.push(b),this._mergers.push(1*b.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)},this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},e.prototype.add=function(b,c){var e=this.relative(this._current);c=c===d?this._items.length:this.normalize(c,!0),b=b instanceof jQuery?b:a(b),this.trigger("add",{content:b,position:c}),b=this.prepare(b),0===this._items.length||c===this._items.length?(0===this._items.length&&this.$stage.append(b),0!==this._items.length&&this._items[c-1].after(b),this._items.push(b),this._mergers.push(1*b.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)):(this._items[c].before(b),this._items.splice(c,0,b),this._mergers.splice(c,0,1*b.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)),this._items[e]&&this.reset(this._items[e].index()),this.invalidate("items"),this.trigger("added",{content:b,position:c})},e.prototype.remove=function(a){(a=this.normalize(a,!0))!==d&&(this.trigger("remove",{content:this._items[a],position:a}),this._items[a].remove(),this._items.splice(a,1),this._mergers.splice(a,1),this.invalidate("items"),this.trigger("removed",{content:null,position:a}))},e.prototype.preloadAutoWidthImages=function(b){b.each(a.proxy(function(b,c){this.enter("pre-loading"),c=a(c),a(new Image).one("load",a.proxy(function(a){c.attr("src",a.target.src),c.css("opacity",1),this.leave("pre-loading"),!this.is("pre-loading")&&!this.is("initializing")&&this.refresh()},this)).attr("src",c.attr("src")||c.attr("data-src")||c.attr("data-src-retina"))},this))},e.prototype.destroy=function(){this.$element.off(".owl.core"),this.$stage.off(".owl.core"),a(c).off(".owl.core"),!1!==this.settings.responsive&&(b.clearTimeout(this.resizeTimer),this.off(b,"resize",this._handlers.onThrottledResize));for(var d in this._plugins)this._plugins[d].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},e.prototype.op=function(a,b,c){var d=this.settings.rtl;switch(b){case"<":return d?a>c:a<c;case">":return d?a<c:a>c;case">=":return d?a<=c:a>=c;case"<=":return d?a>=c:a<=c}},e.prototype.on=function(a,b,c,d){a.addEventListener?a.addEventListener(b,c,d):a.attachEvent&&a.attachEvent("on"+b,c)},e.prototype.off=function(a,b,c,d){a.removeEventListener?a.removeEventListener(b,c,d):a.detachEvent&&a.detachEvent("on"+b,c)},e.prototype.trigger=function(b,c,d,f,g){var h={item:{count:this._items.length,index:this.current()}},i=a.camelCase(a.grep(["on",b,d],function(a){return a}).join("-").toLowerCase()),j=a.Event([b,"owl",d||"carousel"].join(".").toLowerCase(),a.extend({relatedTarget:this},h,c));return this._supress[b]||(a.each(this._plugins,function(a,b){b.onTrigger&&b.onTrigger(j)}),this.register({type:e.Type.Event,name:b}),this.$element.trigger(j),this.settings&&"function"==typeof this.settings[i]&&this.settings[i].call(this,j)),j},e.prototype.enter=function(b){a.each([b].concat(this._states.tags[b]||[]),a.proxy(function(a,b){this._states.current[b]===d&&(this._states.current[b]=0),this._states.current[b]++},this))},e.prototype.leave=function(b){a.each([b].concat(this._states.tags[b]||[]),a.proxy(function(a,b){this._states.current[b]--},this))},e.prototype.register=function(b){if(b.type===e.Type.Event){if(a.event.special[b.name]||(a.event.special[b.name]={}),!a.event.special[b.name].owl){var c=a.event.special[b.name]._default;a.event.special[b.name]._default=function(a){return!c||!c.apply||a.namespace&&-1!==a.namespace.indexOf("owl")?a.namespace&&a.namespace.indexOf("owl")>-1:c.apply(this,arguments)},a.event.special[b.name].owl=!0}}else b.type===e.Type.State&&(this._states.tags[b.name]?this._states.tags[b.name]=this._states.tags[b.name].concat(b.tags):this._states.tags[b.name]=b.tags,this._states.tags[b.name]=a.grep(this._states.tags[b.name],a.proxy(function(c,d){return a.inArray(c,this._states.tags[b.name])===d},this)))},e.prototype.suppress=function(b){a.each(b,a.proxy(function(a,b){this._supress[b]=!0},this))},e.prototype.release=function(b){a.each(b,a.proxy(function(a,b){delete this._supress[b]},this))},e.prototype.pointer=function(a){var c={x:null,y:null};return a=a.originalEvent||a||b.event,a=a.touches&&a.touches.length?a.touches[0]:a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:a,a.pageX?(c.x=a.pageX,c.y=a.pageY):(c.x=a.clientX,c.y=a.clientY),c},e.prototype.isNumeric=function(a){return!isNaN(parseFloat(a))},e.prototype.difference=function(a,b){return{x:a.x-b.x,y:a.y-b.y}},a.fn.owlCarousel=function(b){var c=Array.prototype.slice.call(arguments,1);return this.each(function(){var d=a(this),f=d.data("owl.carousel");f||(f=new e(this,"object"==typeof b&&b),d.data("owl.carousel",f),a.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(b,c){f.register({type:e.Type.Event,name:c}),f.$element.on(c+".owl.carousel.core",a.proxy(function(a){a.namespace&&a.relatedTarget!==this&&(this.suppress([c]),f[c].apply(this,[].slice.call(arguments,1)),this.release([c]))},f))})),"string"==typeof b&&"_"!==b.charAt(0)&&f[b].apply(f,c)})},a.fn.owlCarousel.Constructor=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this._core=b,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.autoRefresh&&this.watch()},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this._core.$element.on(this._handlers)};e.Defaults={autoRefresh:!0,autoRefreshInterval:500},e.prototype.watch=function(){this._interval||(this._visible=this._core.$element.is(":visible"),this._interval=b.setInterval(a.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},e.prototype.refresh=function(){this._core.$element.is(":visible")!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())},e.prototype.destroy=function(){var a,c;b.clearInterval(this._interval);for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(c in Object.getOwnPropertyNames(this))"function"!=typeof this[c]&&(this[c]=null)},a.fn.owlCarousel.Constructor.Plugins.AutoRefresh=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this._core=b,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":a.proxy(function(b){if(b.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(b.property&&"position"==b.property.name||"initialized"==b.type))for(var c=this._core.settings,e=c.center&&Math.ceil(c.items/2)||c.items,f=c.center&&-1*e||0,g=(b.property&&b.property.value!==d?b.property.value:this._core.current())+f,h=this._core.clones().length,i=a.proxy(function(a,b){this.load(b)},this);f++<e;)this.load(h/2+this._core.relative(g)),h&&a.each(this._core.clones(this._core.relative(g)),i),g++},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this._core.$element.on(this._handlers)};e.Defaults={lazyLoad:!1},e.prototype.load=function(c){var d=this._core.$stage.children().eq(c),e=d&&d.find(".owl-lazy");!e||a.inArray(d.get(0),this._loaded)>-1||(e.each(a.proxy(function(c,d){var f,e=a(d),g=b.devicePixelRatio>1&&e.attr("data-src-retina")||e.attr("data-src");this._core.trigger("load",{element:e,url:g},"lazy"),e.is("img")?e.one("load.owl.lazy",a.proxy(function(){e.css("opacity",1),this._core.trigger("loaded",{element:e,url:g},"lazy")},this)).attr("src",g):(f=new Image,f.onload=a.proxy(function(){e.css({"background-image":'url("'+g+'")',opacity:"1"}),this._core.trigger("loaded",{element:e,url:g},"lazy")},this),f.src=g)},this)),this._loaded.push(d.get(0)))},e.prototype.destroy=function(){var a,b;for(a in this.handlers)this._core.$element.off(a,this.handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.Lazy=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this._core=b,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.autoHeight&&"position"==a.property.name&&this.update()},this),"loaded.owl.lazy":a.proxy(function(a){a.namespace&&this._core.settings.autoHeight&&a.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this._core.$element.on(this._handlers)};e.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},e.prototype.update=function(){var b=this._core._current,c=b+this._core.settings.items,d=this._core.$stage.children().toArray().slice(b,c),e=[],f=0;a.each(d,function(b,c){e.push(a(c).height())}),f=Math.max.apply(null,e),this._core.$stage.parent().height(f).addClass(this._core.settings.autoHeightClass)},e.prototype.destroy=function(){var a,b;for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.AutoHeight=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this._core=b,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":a.proxy(function(a){a.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})},this),"resize.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.video&&this.isInFullScreen()&&a.preventDefault()},this),"refreshed.owl.carousel":a.proxy(function(a){a.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()},this),"changed.owl.carousel":a.proxy(function(a){a.namespace&&"position"===a.property.name&&this._playing&&this.stop()},this),"prepared.owl.carousel":a.proxy(function(b){if(b.namespace){var c=a(b.content).find(".owl-video");c.length&&(c.css("display","none"),this.fetch(c,a(b.content)))}},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",a.proxy(function(a){this.play(a)},this))};e.Defaults={video:!1,videoHeight:!1,videoWidth:!1},e.prototype.fetch=function(a,b){var c=function(){return a.attr("data-vimeo-id")?"vimeo":a.attr("data-vzaar-id")?"vzaar":"youtube"}(),d=a.attr("data-vimeo-id")||a.attr("data-youtube-id")||a.attr("data-vzaar-id"),e=a.attr("data-width")||this._core.settings.videoWidth,f=a.attr("data-height")||this._core.settings.videoHeight,g=a.attr("href");if(!g)throw new Error("Missing video URL.");if(d=g.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/),d[3].indexOf("youtu")>-1)c="youtube";else if(d[3].indexOf("vimeo")>-1)c="vimeo";else{if(!(d[3].indexOf("vzaar")>-1))throw new Error("Video URL not supported.");c="vzaar"}d=d[6],this._videos[g]={type:c,id:d,width:e,height:f},b.attr("data-video",g),this.thumbnail(a,this._videos[g])},e.prototype.thumbnail=function(b,c){var d,e,f,g=c.width&&c.height?'style="width:'+c.width+"px;height:"+c.height+'px;"':"",h=b.find("img"),i="src",j="",k=this._core.settings,l=function(a){e='<div class="owl-video-play-icon"></div>',d=k.lazyLoad?'<div class="owl-video-tn '+j+'" '+i+'="'+a+'"></div>':'<div class="owl-video-tn" style="opacity:1;background-image:url('+a+')"></div>',b.after(d),b.after(e)};if(b.wrap('<div class="owl-video-wrapper"'+g+"></div>"),this._core.settings.lazyLoad&&(i="data-src",j="owl-lazy"),h.length)return l(h.attr(i)),h.remove(),!1;"youtube"===c.type?(f="//img.youtube.com/vi/"+c.id+"/hqdefault.jpg",l(f)):"vimeo"===c.type?a.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+c.id+".json",jsonp:"callback",dataType:"jsonp",success:function(a){f=a[0].thumbnail_large,l(f)}}):"vzaar"===c.type&&a.ajax({type:"GET",url:"//vzaar.com/api/videos/"+c.id+".json",jsonp:"callback",dataType:"jsonp",success:function(a){f=a.framegrab_url,l(f)}})},e.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},e.prototype.play=function(b){var h,c=a(b.target),d=c.closest("."+this._core.settings.itemClass),e=this._videos[d.attr("data-video")],f=e.width||"100%",g=e.height||this._core.$stage.height();this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),d=this._core.items(this._core.relative(d.index())),this._core.reset(d.index()),"youtube"===e.type?h='<iframe width="'+f+'" height="'+g+'" src="//www.youtube.com/embed/'+e.id+"?autoplay=1&rel=0&v="+e.id+'" frameborder="0" allowfullscreen></iframe>':"vimeo"===e.type?h='<iframe src="//player.vimeo.com/video/'+e.id+'?autoplay=1" width="'+f+'" height="'+g+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>':"vzaar"===e.type&&(h='<iframe frameborder="0"height="'+g+'"width="'+f+'" allowfullscreen mozallowfullscreen webkitAllowFullScreen src="//view.vzaar.com/'+e.id+'/player?autoplay=true"></iframe>'),a('<div class="owl-video-frame">'+h+"</div>").insertAfter(d.find(".owl-video")),this._playing=d.addClass("owl-video-playing"))},e.prototype.isInFullScreen=function(){var b=c.fullscreenElement||c.mozFullScreenElement||c.webkitFullscreenElement;return b&&a(b).parent().hasClass("owl-video-frame")},e.prototype.destroy=function(){var a,b;this._core.$element.off("click.owl.video");for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.Video=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this.core=b,this.core.options=a.extend({},e.Defaults,this.core.options),this.swapping=!0,this.previous=d,this.next=d,this.handlers={"change.owl.carousel":a.proxy(function(a){a.namespace&&"position"==a.property.name&&(this.previous=this.core.current(),this.next=a.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":a.proxy(function(a){a.namespace&&(this.swapping="translated"==a.type)},this),"translate.owl.carousel":a.proxy(function(a){a.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};e.Defaults={animateOut:!1,animateIn:!1},e.prototype.swap=function(){if(1===this.core.settings.items&&a.support.animation&&a.support.transition){this.core.speed(0);var b,c=a.proxy(this.clear,this),d=this.core.$stage.children().eq(this.previous),e=this.core.$stage.children().eq(this.next),f=this.core.settings.animateIn,g=this.core.settings.animateOut;this.core.current()!==this.previous&&(g&&(b=this.core.coordinates(this.previous)-this.core.coordinates(this.next),d.one(a.support.animation.end,c).css({left:b+"px"}).addClass("animated owl-animated-out").addClass(g)),f&&e.one(a.support.animation.end,c).addClass("animated owl-animated-in").addClass(f))}},e.prototype.clear=function(b){a(b.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},e.prototype.destroy=function(){var a,b;for(a in this.handlers)this.core.$element.off(a,this.handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.Animate=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this._core=b,this._timeout=null,this._paused=!1,this._handlers={"changed.owl.carousel":a.proxy(function(a){a.namespace&&"settings"===a.property.name?this._core.settings.autoplay?this.play():this.stop():a.namespace&&"position"===a.property.name&&this._core.settings.autoplay&&this._setAutoPlayInterval()},this),"initialized.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.autoplay&&this.play()},this),"play.owl.autoplay":a.proxy(function(a,b,c){a.namespace&&this.play(b,c)},this),"stop.owl.autoplay":a.proxy(function(a){a.namespace&&this.stop()},this),"mouseover.owl.autoplay":a.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"mouseleave.owl.autoplay":a.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()},this),"touchstart.owl.core":a.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"touchend.owl.core":a.proxy(function(){this._core.settings.autoplayHoverPause&&this.play()},this)},this._core.$element.on(this._handlers),this._core.options=a.extend({},e.Defaults,this._core.options)};e.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},e.prototype.play=function(a,b){this._paused=!1,this._core.is("rotating")||(this._core.enter("rotating"),this._setAutoPlayInterval())},e.prototype._getNextTimeout=function(d,e){return this._timeout&&b.clearTimeout(this._timeout),b.setTimeout(a.proxy(function(){this._paused||this._core.is("busy")||this._core.is("interacting")||c.hidden||this._core.next(e||this._core.settings.autoplaySpeed)},this),d||this._core.settings.autoplayTimeout)},e.prototype._setAutoPlayInterval=function(){this._timeout=this._getNextTimeout()},e.prototype.stop=function(){this._core.is("rotating")&&(b.clearTimeout(this._timeout),this._core.leave("rotating"))},e.prototype.pause=function(){this._core.is("rotating")&&(this._paused=!0)},e.prototype.destroy=function(){var a,b;this.stop();for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.autoplay=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){"use strict";var e=function(b){this._core=b,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":a.proxy(function(b){b.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+a(b.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>")},this),"added.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.dotsData&&this._templates.splice(a.position,0,this._templates.pop())},this),"remove.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.dotsData&&this._templates.splice(a.position,1)},this),"changed.owl.carousel":a.proxy(function(a){a.namespace&&"position"==a.property.name&&this.draw()},this),"initialized.owl.carousel":a.proxy(function(a){a.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))},this),"refreshed.owl.carousel":a.proxy(function(a){a.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this.$element.on(this._handlers)};e.Defaults={nav:!1,navText:["prev","next"],navSpeed:!1,navElement:"div",navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},e.prototype.initialize=function(){var b,c=this._core.settings;this._controls.$relative=(c.navContainer?a(c.navContainer):a("<div>").addClass(c.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=a("<"+c.navElement+">").addClass(c.navClass[0]).html(c.navText[0]).prependTo(this._controls.$relative).on("click",a.proxy(function(a){this.prev(c.navSpeed)},this)),this._controls.$next=a("<"+c.navElement+">").addClass(c.navClass[1]).html(c.navText[1]).appendTo(this._controls.$relative).on("click",a.proxy(function(a){this.next(c.navSpeed)},this)),c.dotsData||(this._templates=[a("<div>").addClass(c.dotClass).append(a("<span>")).prop("outerHTML")]),this._controls.$absolute=(c.dotsContainer?a(c.dotsContainer):a("<div>").addClass(c.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","div",a.proxy(function(b){var d=a(b.target).parent().is(this._controls.$absolute)?a(b.target).index():a(b.target).parent().index();b.preventDefault(),this.to(d,c.dotsSpeed)},this));for(b in this._overrides)this._core[b]=a.proxy(this[b],this)},e.prototype.destroy=function(){var a,b,c,d;for(a in this._handlers)this.$element.off(a,this._handlers[a]);for(b in this._controls)this._controls[b].remove();for(d in this.overides)this._core[d]=this._overrides[d];for(c in Object.getOwnPropertyNames(this))"function"!=typeof this[c]&&(this[c]=null)},e.prototype.update=function(){var a,b,c,d=this._core.clones().length/2,e=d+this._core.items().length,f=this._core.maximum(!0),g=this._core.settings,h=g.center||g.autoWidth||g.dotsData?1:g.dotsEach||g.items;if("page"!==g.slideBy&&(g.slideBy=Math.min(g.slideBy,g.items)),g.dots||"page"==g.slideBy)for(this._pages=[],a=d,b=0,c=0;a<e;a++){if(b>=h||0===b){if(this._pages.push({start:Math.min(f,a-d),end:a-d+h-1}),Math.min(f,a-d)===f)break;b=0,++c}b+=this._core.mergers(this._core.relative(a))}},e.prototype.draw=function(){var b,c=this._core.settings,d=this._core.items().length<=c.items,e=this._core.relative(this._core.current()),f=c.loop||c.rewind;this._controls.$relative.toggleClass("disabled",!c.nav||d),c.nav&&(this._controls.$previous.toggleClass("disabled",!f&&e<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!f&&e>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!c.dots||d),c.dots&&(b=this._pages.length-this._controls.$absolute.children().length,c.dotsData&&0!==b?this._controls.$absolute.html(this._templates.join("")):b>0?this._controls.$absolute.append(new Array(b+1).join(this._templates[0])):b<0&&this._controls.$absolute.children().slice(b).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(a.inArray(this.current(),this._pages)).addClass("active"))},e.prototype.onTrigger=function(b){var c=this._core.settings;b.page={index:a.inArray(this.current(),this._pages),count:this._pages.length,size:c&&(c.center||c.autoWidth||c.dotsData?1:c.dotsEach||c.items)}},e.prototype.current=function(){var b=this._core.relative(this._core.current());return a.grep(this._pages,a.proxy(function(a,c){return a.start<=b&&a.end>=b},this)).pop()},e.prototype.getPosition=function(b){var c,d,e=this._core.settings;return"page"==e.slideBy?(c=a.inArray(this.current(),this._pages),d=this._pages.length,b?++c:--c,c=this._pages[(c%d+d)%d].start):(c=this._core.relative(this._core.current()),d=this._core.items().length,b?c+=e.slideBy:c-=e.slideBy),c},e.prototype.next=function(b){a.proxy(this._overrides.to,this._core)(this.getPosition(!0),b)},e.prototype.prev=function(b){a.proxy(this._overrides.to,this._core)(this.getPosition(!1),b)},e.prototype.to=function(b,c,d){var e;!d&&this._pages.length?(e=this._pages.length,a.proxy(this._overrides.to,this._core)(this._pages[(b%e+e)%e].start,c)):a.proxy(this._overrides.to,this._core)(b,c)},a.fn.owlCarousel.Constructor.Plugins.Navigation=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){"use strict";var e=function(c){this._core=c,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":a.proxy(function(c){c.namespace&&"URLHash"===this._core.settings.startPosition&&a(b).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":a.proxy(function(b){if(b.namespace){var c=a(b.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");if(!c)return;this._hashes[c]=b.content}},this),"changed.owl.carousel":a.proxy(function(c){if(c.namespace&&"position"===c.property.name){var d=this._core.items(this._core.relative(this._core.current())),e=a.map(this._hashes,function(a,b){return a===d?b:null}).join();if(!e||b.location.hash.slice(1)===e)return;b.location.hash=e}},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this.$element.on(this._handlers),a(b).on("hashchange.owl.navigation",a.proxy(function(a){var c=b.location.hash.substring(1),e=this._core.$stage.children(),f=this._hashes[c]&&e.index(this._hashes[c]);f!==d&&f!==this._core.current()&&this._core.to(this._core.relative(f),!1,!0)},this))};e.Defaults={URLhashListener:!1},e.prototype.destroy=function(){var c,d;a(b).off("hashchange.owl.navigation");for(c in this._handlers)this._core.$element.off(c,this._handlers[c]);for(d in Object.getOwnPropertyNames(this))"function"!=typeof this[d]&&(this[d]=null)},a.fn.owlCarousel.Constructor.Plugins.Hash=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){function i(b,c){var g=!1,h=b.charAt(0).toUpperCase()+b.slice(1);return a.each((b+" "+f.join(h+" ")+h).split(" "),function(a,b){if(e[b]!==d)return g=!c||b,!1}),g}function j(a){return i(a,!0)}var e=a("<support>").get(0).style,f="Webkit Moz O ms".split(" "),g={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},h={csstransforms:function(){return!!i("transform")},csstransforms3d:function(){return!!i("perspective")},csstransitions:function(){return!!i("transition")},cssanimations:function(){return!!i("animation")}};h.csstransitions()&&(a.support.transition=new String(j("transition")),a.support.transition.end=g.transition.end[a.support.transition]),h.cssanimations()&&(a.support.animation=new String(j("animation")),a.support.animation.end=g.animation.end[a.support.animation]),h.csstransforms()&&(a.support.transform=new String(j("transform")),a.support.transform3d=h.csstransforms3d())}(window.Zepto||window.jQuery,window,document),function(b,c){"object"==typeof exports&&"object"==typeof module?module.exports=c():"function"==typeof define&&define.amd?define([],c):"object"==typeof exports?exports.Raphael=c():b.Raphael=c()}(this,function(){return function(a){function c(d){if(b[d])return b[d].exports;var e=b[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,c),e.loaded=!0,e.exports}var b={};return c.m=a,c.c=b,c.p="",c(0)}([function(a,b,c){var d,e;d=[c(1),c(3),c(4)],void 0!==(e=function(a){return a}.apply(b,d))&&(a.exports=e)},function(a,b,c){var d,e;d=[c(2)],void 0!==(e=function(a){function b(d){if(b.is(d,"function"))return c?d():a.on("raphael.DOMload",d);if(b.is(d,F))return b._engine.create[n](b,d.splice(0,3+b.is(d[0],D))).add(d);var e=Array.prototype.slice.call(arguments,0);if(b.is(e[e.length-1],"function")){var f=e.pop();return c?f.call(b._engine.create[n](b,e)):a.on("raphael.DOMload",function(){f.call(b._engine.create[n](b,e))})}return b._engine.create[n](b,arguments)}function na(a){if("function"==typeof a||Object(a)!==a)return a;var b=new a.constructor;for(var c in a)a[h](c)&&(b[c]=na(a[c]));return b}function va(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return a.push(a.splice(c,1)[0])}function wa(a,b,c){function d(){var e=Array.prototype.slice.call(arguments,0),f=e.join(""),g=d.cache=d.cache||{},i=d.count=d.count||[];return g[h](f)?(va(i,f),c?c(g[f]):g[f]):(i.length>=1e3&&delete g[i.shift()],i.push(f),g[f]=a[n](b,e),c?c(g[f]):g[f])}return d}function ya(){return this.hex}function za(a,b){for(var c=[],d=0,e=a.length;e-2*!b>d;d+=2){var f=[{x:+a[d-2],y:+a[d-1]},{x:+a[d],y:+a[d+1]},{x:+a[d+2],y:+a[d+3]},{x:+a[d+4],y:+a[d+5]}];b?d?e-4==d?f[3]={x:+a[0],y:+a[1]}:e-2==d&&(f[2]={x:+a[0],y:+a[1]},f[3]={x:+a[2],y:+a[3]}):f[0]={x:+a[e-2],y:+a[e-1]}:e-4==d?f[3]=f[2]:d||(f[0]={x:+a[d],y:+a[d+1]}),c.push(["C",(-f[0].x+6*f[1].x+f[2].x)/6,(-f[0].y+6*f[1].y+f[2].y)/6,(f[1].x+6*f[2].x-f[3].x)/6,(f[1].y+6*f[2].y-f[3].y)/6,f[2].x,f[2].y])}return c}function Ba(a,b,c,d,e){return a*(a*(-3*b+9*c-9*d+3*e)+6*b-12*c+6*d)-3*b+3*c}function Ca(a,b,c,d,e,f,g,h,i){null==i&&(i=1),i=i>1?1:i<0?0:i;for(var j=i/2,k=12,l=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],m=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],n=0,o=0;o<k;o++){var p=j*l[o]+j,q=Ba(p,a,c,e,g),r=Ba(p,b,d,f,h),s=q*q+r*r;n+=m[o]*x.sqrt(s)}return j*n}function Da(a,b,c,d,e,f,g,h,i){if(!(i<0||Ca(a,b,c,d,e,f,g,h)<i)){var m,j=1,k=j/2,l=j-k,n=.01;for(m=Ca(a,b,c,d,e,f,g,h,l);A(m-i)>n;)k/=2,l+=(m<i?1:-1)*k,m=Ca(a,b,c,d,e,f,g,h,l);return l}}function Ea(a,b,c,d,e,f,g,h){if(!(y(a,c)<z(e,g)||z(a,c)>y(e,g)||y(b,d)<z(f,h)||z(b,d)>y(f,h))){var i=(a*d-b*c)*(e-g)-(a-c)*(e*h-f*g),j=(a*d-b*c)*(f-h)-(b-d)*(e*h-f*g),k=(a-c)*(f-h)-(b-d)*(e-g);if(k){var l=i/k,m=j/k,n=+l.toFixed(2),o=+m.toFixed(2);if(!(n<+z(a,c).toFixed(2)||n>+y(a,c).toFixed(2)||n<+z(e,g).toFixed(2)||n>+y(e,g).toFixed(2)||o<+z(b,d).toFixed(2)||o>+y(b,d).toFixed(2)||o<+z(f,h).toFixed(2)||o>+y(f,h).toFixed(2)))return{x:l,y:m}}}}function Ha(a,c,d){var e=b.bezierBBox(a),f=b.bezierBBox(c);if(!b.isBBoxIntersect(e,f))return d?0:[];for(var g=Ca.apply(0,a),h=Ca.apply(0,c),i=y(~~(g/5),1),j=y(~~(h/5),1),k=[],l=[],m={},n=d?0:[],o=0;o<i+1;o++){var p=b.findDotsAtSegment.apply(b,a.concat(o/i));k.push({x:p.x,y:p.y,t:o/i})}for(o=0;o<j+1;o++)p=b.findDotsAtSegment.apply(b,c.concat(o/j)),l.push({x:p.x,y:p.y,t:o/j});for(o=0;o<i;o++)for(var q=0;q<j;q++){var r=k[o],s=k[o+1],t=l[q],u=l[q+1],v=A(s.x-r.x)<.001?"y":"x",w=A(u.x-t.x)<.001?"y":"x",x=Ea(r.x,r.y,s.x,s.y,t.x,t.y,u.x,u.y);if(x){if(m[x.x.toFixed(4)]==x.y.toFixed(4))continue;m[x.x.toFixed(4)]=x.y.toFixed(4);var B=r.t+A((x[v]-r[v])/(s[v]-r[v]))*(s.t-r.t),C=t.t+A((x[w]-t[w])/(u[w]-t[w]))*(u.t-t.t);B>=0&&B<=1.001&&C>=0&&C<=1.001&&(d?n++:n.push({x:x.x,y:x.y,t1:z(B,1),t2:z(C,1)}))}}return n}function Ia(a,c,d){a=b._path2curve(a),c=b._path2curve(c);for(var e,f,g,h,i,j,k,l,m,n,o=d?0:[],p=0,q=a.length;p<q;p++){var r=a[p];if("M"==r[0])e=i=r[1],f=j=r[2];else{"C"==r[0]?(m=[e,f].concat(r.slice(1)),e=m[6],f=m[7]):(m=[e,f,e,f,i,j,i,j],e=i,f=j);for(var s=0,t=c.length;s<t;s++){var u=c[s];if("M"==u[0])g=k=u[1],h=l=u[2];else{"C"==u[0]?(n=[g,h].concat(u.slice(1)),g=n[6],h=n[7]):(n=[g,h,g,h,k,l,k,l],g=k,h=l);var v=Ha(m,n,d);if(d)o+=v;else{for(var w=0,x=v.length;w<x;w++)v[w].segment1=p,v[w].segment2=s,v[w].bez1=m,v[w].bez2=n;o=o.concat(v)}}}}}return o}function cb(a,b,c,d,e,f){null!=a?(this.a=+a,this.b=+b,this.c=+c,this.d=+d,this.e=+e,this.f=+f):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function rb(){return this.x+r+this.y+r+this.width+"  "+this.height}function Db(a,b,c,d,e,f){function m(a){return((i*a+h)*a+g)*a}function n(a,b){var c=o(a,b);return((l*c+k)*c+j)*c}function o(a,b){var c,d,e,f,j,k;for(e=a,k=0;k<8;k++){if(f=m(e)-a,A(f)<b)return e;if(j=(3*i*e+2*h)*e+g,A(j)<1e-6)break;e-=f/j}if(c=0,d=1,(e=a)<c)return c;if(e>d)return d;for(;c<d;){if(f=m(e),A(f-a)<b)return e;a>f?c=e:d=e,e=(d-c)/2+c}return e}var g=3*b,h=3*(d-b)-g,i=1-g-h,j=3*c,k=3*(e-c)-j,l=1-j-k;return n(a,1/(200*f))}function Eb(a,b){var c=[],d={};if(this.ms=b,this.times=1,a){for(var e in a)a[h](e)&&(d[R(e)]=a[e],c.push(R(e)));c.sort(ea)}this.anim=d,this.top=c[c.length-1],this.percents=c}function Fb(c,e,f,g,i,j){f=R(f);var k,l,m,p,q,r,u=c.ms,v={},w={},x={};if(g)for(z=0,A=zb.length;z<A;z++){var y=zb[z];if(y.el.id==e.id&&y.anim==c){y.percent!=f?(zb.splice(z,1),m=1):l=y,e.attr(y.totalOrigin);break}}else g=+w;for(var z=0,A=c.percents.length;z<A;z++){if(c.percents[z]==f||c.percents[z]>g*c.top){f=c.percents[z],q=c.percents[z-1]||0,u=u/c.top*(f-q),p=c.percents[z+1],k=c.anim[f];break}g&&e.attr(c.anim[c.percents[z]])}if(k){if(l)l.initstatus=g,l.start=new Date-l.ms*g;else{for(var B in k)if(k[h](B)&&(V[h](B)||e.paper.customAttributes[h](B)))switch(v[B]=e.attr(B),null==v[B]&&(v[B]=U[B]),w[B]=k[B],V[B]){case D:x[B]=(w[B]-v[B])/u;break;case"colour":v[B]=b.getRGB(v[B]);var C=b.getRGB(w[B]);x[B]={r:(C.r-v[B].r)/u,g:(C.g-v[B].g)/u,b:(C.b-v[B].b)/u};break;case"path":var E=Sa(v[B],w[B]),F=E[1];for(v[B]=E[0],x[B]=[],z=0,A=v[B].length;z<A;z++){x[B][z]=[0];for(var G=1,H=v[B][z].length;G<H;G++)x[B][z][G]=(F[z][G]-v[B][z][G])/u}break;case"transform":var I=e._,J=bb(I[B],w[B]);if(J)for(v[B]=J.from,w[B]=J.to,x[B]=[],x[B].real=!0,z=0,A=v[B].length;z<A;z++)for(x[B][z]=[v[B][z][0]],G=1,H=v[B][z].length;G<H;G++)x[B][z][G]=(w[B][z][G]-v[B][z][G])/u;else{var K=e.matrix||new cb,L={_:{transform:I.transform},getBBox:function(){return e.getBBox(1)}};v[B]=[K.a,K.b,K.c,K.d,K.e,K.f],_a(L,w[B]),w[B]=L._.transform,x[B]=[(L.matrix.a-K.a)/u,(L.matrix.b-K.b)/u,(L.matrix.c-K.c)/u,(L.matrix.d-K.d)/u,(L.matrix.e-K.e)/u,(L.matrix.f-K.f)/u]}break;case"csv":var M=s(k[B])[t](d),N=s(v[B])[t](d);if("clip-rect"==B)for(v[B]=N,x[B]=[],z=N.length;z--;)x[B][z]=(M[z]-v[B][z])/u;w[B]=M;break;default:for(M=[][o](k[B]),N=[][o](v[B]),x[B]=[],z=e.paper.customAttributes[B].length;z--;)x[B][z]=((M[z]||0)-(N[z]||0))/u}var P=k.easing,Q=b.easing_formulas[P];if(!Q)if((Q=s(P).match(O))&&5==Q.length){var S=Q;Q=function(a){return Db(a,+S[1],+S[2],+S[3],+S[4],u)}}else Q=ga;if(r=k.start||c.start||+new Date,y={anim:c,percent:f,timestamp:r,start:r+(c.del||0),status:0,initstatus:g||0,stop:!1,ms:u,easing:Q,from:v,diff:x,to:w,el:e,callback:k.callback,prev:q,next:p,repeat:j||c.times,origin:e.attr(),totalOrigin:i},zb.push(y),g&&!l&&!m&&(y.stop=!0,y.start=new Date-u*g,1==zb.length))return Bb();m&&(y.start=new Date-y.ms*g),1==zb.length&&Ab(Bb)}a("raphael.anim.start."+e.id,e,c)}}function Gb(a){for(var b=0;b<zb.length;b++)zb[b].el.paper==a&&zb.splice(b--,1)}b.version="2.2.0",b.eve=a;var c,l,d=/[, ]+/,e={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},f=/\{(\d+)\}/g,h="hasOwnProperty",i={doc:document,win:window},j={was:Object.prototype[h].call(i.win,"Raphael"),is:i.win.Raphael},k=function(){this.ca=this.customAttributes={}},n="apply",o="concat",p="ontouchstart"in i.win||i.win.DocumentTouch&&i.doc instanceof DocumentTouch,q="",r=" ",s=String,t="split",u="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[t](r),v={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},w=s.prototype.toLowerCase,x=Math,y=x.max,z=x.min,A=x.abs,B=x.pow,C=x.PI,D="number",E="string",F="array",I=Object.prototype.toString,M=(b._ISURL=/^url\(['"]?(.+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),N={NaN:1,Infinity:1,"-Infinity":1},O=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,P=x.round,R=parseFloat,S=parseInt,T=s.prototype.toUpperCase,U=b._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0,class:""},V=b._availableAnimAttrs={blur:D,"clip-rect":"csv",cx:D,cy:D,fill:"colour","fill-opacity":D,"font-size":D,height:D,opacity:D,path:"path",r:D,rx:D,ry:D,stroke:"colour","stroke-opacity":D,"stroke-width":D,transform:"transform",width:D,x:D,y:D},X=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,Y={hs:1,rg:1},Z=/,?([achlmqrstvxz]),?/gi,$=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,_=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,aa=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,ca=(b._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),ea=function(a,b){return R(a)-R(b)},ga=function(a){return a},ha=b._rectPath=function(a,b,c,d,e){return e?[["M",a+e,b],["l",c-2*e,0],["a",e,e,0,0,1,e,e],["l",0,d-2*e],["a",e,e,0,0,1,-e,e],["l",2*e-c,0],["a",e,e,0,0,1,-e,-e],["l",0,2*e-d],["a",e,e,0,0,1,e,-e],["z"]]:[["M",a,b],["l",c,0],["l",0,d],["l",-c,0],["z"]]},ia=function(a,b,c,d){return null==d&&(d=c),[["M",a,b],["m",0,-d],["a",c,d,0,1,1,0,2*d],["a",c,d,0,1,1,0,-2*d],["z"]]},ja=b._getPath={path:function(a){return a.attr("path")},circle:function(a){var b=a.attrs;return ia(b.cx,b.cy,b.r)},ellipse:function(a){var b=a.attrs;return ia(b.cx,b.cy,b.rx,b.ry)},rect:function(a){var b=a.attrs;return ha(b.x,b.y,b.width,b.height,b.r)},image:function(a){var b=a.attrs;return ha(b.x,b.y,b.width,b.height)},text:function(a){var b=a._getBBox();return ha(b.x,b.y,b.width,b.height)},set:function(a){var b=a._getBBox();return ha(b.x,b.y,b.width,b.height)}},ka=b.mapPath=function(a,b){if(!b)return a;var c,d,e,f,g,h,i;for(a=Sa(a),e=0,g=a.length;e<g;e++)for(i=a[e],f=1,h=i.length;f<h;f+=2)c=b.x(i[f],i[f+1]),d=b.y(i[f],i[f+1]),i[f]=c,i[f+1]=d;return a};if(b._g=i,b.type=i.win.SVGAngle||i.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==b.type){var ma,la=i.doc.createElement("div");if(la.innerHTML='<v:shape adj="1"/>',ma=la.firstChild,ma.style.behavior="url(#default#VML)",!ma||"object"!=typeof ma.adj)return b.type=q;la=null}b.svg=!(b.vml="VML"==b.type),b._Paper=k,b.fn=l=k.prototype=b.prototype,b._id=0,b.is=function(a,b){return b=w.call(b),"finite"==b?!N[h](+a):"array"==b?a instanceof Array:"null"==b&&null===a||b==typeof a&&null!==a||"object"==b&&a===Object(a)||"array"==b&&Array.isArray&&Array.isArray(a)||I.call(a).slice(8,-1).toLowerCase()==b},b.angle=function(a,c,d,e,f,g){if(null==f){var h=a-d,i=c-e;return h||i?(180+180*x.atan2(-i,-h)/C+360)%360:0}return b.angle(a,c,f,g)-b.angle(d,e,f,g)},b.rad=function(a){return a%360*C/180},b.deg=function(a){return Math.round(180*a/C%360*1e3)/1e3},b.snapTo=function(a,c,d){if(d=b.is(d,"finite")?d:10,b.is(a,F)){for(var e=a.length;e--;)if(A(a[e]-c)<=d)return a[e]}else{a=+a;var f=c%a;if(f<d)return c-f;if(f>a-d)return c-f+a}return c};b.createUUID=function(a,b){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(a,b).toUpperCase()}}(/[xy]/g,function(a){var b=16*x.random()|0;return("x"==a?b:3&b|8).toString(16)});b.setWindow=function(c){a("raphael.setWindow",b,i.win,c),i.win=c,i.doc=i.win.document,b._engine.initWin&&b._engine.initWin(i.win)};var pa=function(a){if(b.vml){var d,c=/^\s+|\s+$/g;try{var e=new ActiveXObject("htmlfile");e.write("<body>"),e.close(),d=e.body}catch(a){d=createPopup().document.body}var f=d.createTextRange();pa=wa(function(a){try{d.style.color=s(a).replace(c,q);var b=f.queryCommandValue("ForeColor");return b=(255&b)<<16|65280&b|(16711680&b)>>>16,"#"+("000000"+b.toString(16)).slice(-6)}catch(a){return"none"}})}else{var g=i.doc.createElement("i");g.title="Raphal Colour Picker",g.style.display="none",i.doc.body.appendChild(g),pa=wa(function(a){return g.style.color=a,i.doc.defaultView.getComputedStyle(g,q).getPropertyValue("color")})}return pa(a)},qa=function(){return"hsb("+[this.h,this.s,this.b]+")"},ra=function(){return"hsl("+[this.h,this.s,this.l]+")"},sa=function(){return this.hex},ta=function(a,c,d){if(null==c&&b.is(a,"object")&&"r"in a&&"g"in a&&"b"in a&&(d=a.b,c=a.g,a=a.r),null==c&&b.is(a,E)){var e=b.getRGB(a);a=e.r,c=e.g,d=e.b}return(a>1||c>1||d>1)&&(a/=255,c/=255,d/=255),[a,c,d]},ua=function(a,c,d,e){a*=255,c*=255,d*=255;var f={r:a,g:c,b:d,hex:b.rgb(a,c,d),toString:sa};return b.is(e,"finite")&&(f.opacity=e),f};b.color=function(a){var c;return b.is(a,"object")&&"h"in a&&"s"in a&&"b"in a?(c=b.hsb2rgb(a),a.r=c.r,a.g=c.g,a.b=c.b,a.hex=c.hex):b.is(a,"object")&&"h"in a&&"s"in a&&"l"in a?(c=b.hsl2rgb(a),a.r=c.r,a.g=c.g,a.b=c.b,a.hex=c.hex):(b.is(a,"string")&&(a=b.getRGB(a)),b.is(a,"object")&&"r"in a&&"g"in a&&"b"in a?(c=b.rgb2hsl(a),a.h=c.h,a.s=c.s,a.l=c.l,c=b.rgb2hsb(a),a.v=c.b):(a={hex:"none"},a.r=a.g=a.b=a.h=a.s=a.v=a.l=-1)),a.toString=sa,a},b.hsb2rgb=function(a,b,c,d){this.is(a,"object")&&"h"in a&&"s"in a&&"b"in a&&(c=a.b,b=a.s,d=a.o,a=a.h),a*=360;var e,f,g,h,i;return a=a%360/60,i=c*b,h=i*(1-A(a%2-1)),e=f=g=c-i,a=~~a,e+=[i,h,0,0,h,i][a],f+=[h,i,i,h,0,0][a],g+=[0,0,h,i,i,h][a],ua(e,f,g,d)},b.hsl2rgb=function(a,b,c,d){this.is(a,"object")&&"h"in a&&"s"in a&&"l"in a&&(c=a.l,b=a.s,a=a.h),(a>1||b>1||c>1)&&(a/=360,b/=100,c/=100),a*=360;var e,f,g,h,i;return a=a%360/60,i=2*b*(c<.5?c:1-c),h=i*(1-A(a%2-1)),e=f=g=c-i/2,a=~~a,e+=[i,h,0,0,h,i][a],f+=[h,i,i,h,0,0][a],g+=[0,0,h,i,i,h][a],ua(e,f,g,d)},b.rgb2hsb=function(a,b,c){c=ta(a,b,c),a=c[0],b=c[1],c=c[2];var d,e,f,g;return f=y(a,b,c),g=f-z(a,b,c),d=0==g?null:f==a?(b-c)/g:f==b?(c-a)/g+2:(a-b)/g+4,d=(d+360)%6*60/360,e=0==g?0:g/f,{h:d,s:e,b:f,toString:qa}},b.rgb2hsl=function(a,b,c){c=ta(a,b,c),a=c[0],b=c[1],c=c[2];var d,e,f,g,h,i;return g=y(a,b,c),h=z(a,b,c),i=g-h,d=0==i?null:g==a?(b-c)/i:g==b?(c-a)/i+2:(a-b)/i+4,d=(d+360)%6*60/360,f=(g+h)/2,e=0==i?0:f<.5?i/(2*f):i/(2-2*f),{h:d,s:e,l:f,toString:ra}},b._path2string=function(){return this.join(",").replace(Z,"$1")};b._preload=function(a,b){var c=i.doc.createElement("img");c.style.cssText="position:absolute;left:-9999em;top:-9999em",c.onload=function(){b.call(this),this.onload=null,i.doc.body.removeChild(this)},c.onerror=function(){i.doc.body.removeChild(this)},i.doc.body.appendChild(c),c.src=a};b.getRGB=wa(function(a){if(!a||(a=s(a)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:ya};if("none"==a)return{r:-1,g:-1,b:-1,hex:"none",toString:ya};!(Y[h](a.toLowerCase().substring(0,2))||"#"==a.charAt())&&(a=pa(a));var d,e,f,g,i,j,k=a.match(M);return k?(k[2]&&(f=S(k[2].substring(5),16),e=S(k[2].substring(3,5),16),d=S(k[2].substring(1,3),16)),k[3]&&(f=S((i=k[3].charAt(3))+i,16),e=S((i=k[3].charAt(2))+i,16),d=S((i=k[3].charAt(1))+i,16)),k[4]&&(j=k[4][t](X),d=R(j[0]),"%"==j[0].slice(-1)&&(d*=2.55),e=R(j[1]),"%"==j[1].slice(-1)&&(e*=2.55),f=R(j[2]),"%"==j[2].slice(-1)&&(f*=2.55),"rgba"==k[1].toLowerCase().slice(0,4)&&(g=R(j[3])),j[3]&&"%"==j[3].slice(-1)&&(g/=100)),k[5]?(j=k[5][t](X),d=R(j[0]),"%"==j[0].slice(-1)&&(d*=2.55),e=R(j[1]),"%"==j[1].slice(-1)&&(e*=2.55),f=R(j[2]),"%"==j[2].slice(-1)&&(f*=2.55),("deg"==j[0].slice(-3)||""==j[0].slice(-1))&&(d/=360),"hsba"==k[1].toLowerCase().slice(0,4)&&(g=R(j[3])),j[3]&&"%"==j[3].slice(-1)&&(g/=100),b.hsb2rgb(d,e,f,g)):k[6]?(j=k[6][t](X),d=R(j[0]),"%"==j[0].slice(-1)&&(d*=2.55),e=R(j[1]),"%"==j[1].slice(-1)&&(e*=2.55),f=R(j[2]),"%"==j[2].slice(-1)&&(f*=2.55),("deg"==j[0].slice(-3)||""==j[0].slice(-1))&&(d/=360),"hsla"==k[1].toLowerCase().slice(0,4)&&(g=R(j[3])),j[3]&&"%"==j[3].slice(-1)&&(g/=100),b.hsl2rgb(d,e,f,g)):(k={r:d,g:e,b:f,toString:ya},k.hex="#"+(16777216|f|e<<8|d<<16).toString(16).slice(1),b.is(g,"finite")&&(k.opacity=g),k)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:ya}},b),b.hsb=wa(function(a,c,d){return b.hsb2rgb(a,c,d).hex}),b.hsl=wa(function(a,c,d){return b.hsl2rgb(a,c,d).hex}),b.rgb=wa(function(a,b,c){function d(a){return a+.5|0}return"#"+(16777216|d(c)|d(b)<<8|d(a)<<16).toString(16).slice(1)}),b.getColor=function(a){var b=this.getColor.start=this.getColor.start||{h:0,s:1,b:a||.75},c=this.hsb2rgb(b.h,b.s,b.b);return b.h+=.075,b.h>1&&(b.h=0,b.s-=.2,b.s<=0&&(this.getColor.start={h:0,s:1,b:b.b})),c.hex},b.getColor.reset=function(){delete this.start},b.parsePathString=function(a){if(!a)return null;var c=Aa(a);if(c.arr)return Ka(c.arr);var d={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},e=[];return b.is(a,F)&&b.is(a[0],F)&&(e=Ka(a)),e.length||s(a).replace($,function(a,b,c){var f=[],g=b.toLowerCase();if(c.replace(aa,function(a,b){b&&f.push(+b)}),"m"==g&&f.length>2&&(e.push([b][o](f.splice(0,2))),g="l",b="m"==b?"l":"L"),"r"==g)e.push([b][o](f));else for(;f.length>=d[g]&&(e.push([b][o](f.splice(0,d[g]))),d[g]););}),e.toString=b._path2string,c.arr=Ka(e),e},b.parseTransformString=wa(function(a){if(!a)return null;var d=[];return b.is(a,F)&&b.is(a[0],F)&&(d=Ka(a)),d.length||s(a).replace(_,function(a,b,c){var e=[];w.call(b);c.replace(aa,function(a,b){b&&e.push(+b)}),d.push([b][o](e))}),d.toString=b._path2string,d});var Aa=function(a){var b=Aa.ps=Aa.ps||{};return b[a]?b[a].sleep=100:b[a]={sleep:100},setTimeout(function(){for(var c in b)b[h](c)&&c!=a&&!--b[c].sleep&&delete b[c]}),b[a]};b.findDotsAtSegment=function(a,b,c,d,e,f,g,h,i){var j=1-i,k=B(j,3),l=B(j,2),m=i*i,n=m*i,o=k*a+3*l*i*c+3*j*i*i*e+n*g,p=k*b+3*l*i*d+3*j*i*i*f+n*h,q=a+2*i*(c-a)+m*(e-2*c+a),r=b+2*i*(d-b)+m*(f-2*d+b),s=c+2*i*(e-c)+m*(g-2*e+c),t=d+2*i*(f-d)+m*(h-2*f+d),u=j*a+i*c,v=j*b+i*d,w=j*e+i*g,y=j*f+i*h,z=90-180*x.atan2(q-s,r-t)/C;return(q>s||r<t)&&(z+=180),{x:o,y:p,m:{x:q,y:r},n:{x:s,y:t},start:{x:u,y:v},end:{x:w,y:y},alpha:z}},b.bezierBBox=function(a,c,d,e,f,g,h,i){b.is(a,"array")||(a=[a,c,d,e,f,g,h,i]);var j=Ra.apply(null,a);return{x:j.min.x,y:j.min.y,x2:j.max.x,y2:j.max.y,width:j.max.x-j.min.x,height:j.max.y-j.min.y}},b.isPointInsideBBox=function(a,b,c){return b>=a.x&&b<=a.x2&&c>=a.y&&c<=a.y2},b.isBBoxIntersect=function(a,c){var d=b.isPointInsideBBox;return d(c,a.x,a.y)||d(c,a.x2,a.y)||d(c,a.x,a.y2)||d(c,a.x2,a.y2)||d(a,c.x,c.y)||d(a,c.x2,c.y)||d(a,c.x,c.y2)||d(a,c.x2,c.y2)||(a.x<c.x2&&a.x>c.x||c.x<a.x2&&c.x>a.x)&&(a.y<c.y2&&a.y>c.y||c.y<a.y2&&c.y>a.y)},b.pathIntersection=function(a,b){return Ia(a,b)},b.pathIntersectionNumber=function(a,b){return Ia(a,b,1)},b.isPointInsidePath=function(a,c,d){var e=b.pathBBox(a);return b.isPointInsideBBox(e,c,d)&&Ia(a,[["M",c,d],["H",e.x2+10]],1)%2==1},b._removedFactory=function(b){return function(){a("raphael.log",null,"Raphal: you are calling to method "+b+" of removed object",b)}};var Ja=b.pathBBox=function(a){var b=Aa(a);if(b.bbox)return na(b.bbox);if(!a)return{x:0,y:0,width:0,height:0,x2:0,y2:0};a=Sa(a);for(var g,c=0,d=0,e=[],f=[],h=0,i=a.length;h<i;h++)if(g=a[h],"M"==g[0])c=g[1],d=g[2],e.push(c),f.push(d);else{var j=Ra(c,d,g[1],g[2],g[3],g[4],g[5],g[6]);e=e[o](j.min.x,j.max.x),f=f[o](j.min.y,j.max.y),c=g[5],d=g[6]}var k=z[n](0,e),l=z[n](0,f),m=y[n](0,e),p=y[n](0,f),q=m-k,r=p-l,s={x:k,y:l,x2:m,y2:p,width:q,height:r,cx:k+q/2,cy:l+r/2};return b.bbox=na(s),s},Ka=function(a){var c=na(a);return c.toString=b._path2string,c},La=b._pathToRelative=function(a){var c=Aa(a);if(c.rel)return Ka(c.rel);b.is(a,F)&&b.is(a&&a[0],F)||(a=b.parsePathString(a));var d=[],e=0,f=0,g=0,h=0,i=0;"M"==a[0][0]&&(e=a[0][1],f=a[0][2],g=e,h=f,i++,d.push(["M",e,f]));for(var j=i,k=a.length;j<k;j++){var l=d[j]=[],m=a[j];if(m[0]!=w.call(m[0]))switch(l[0]=w.call(m[0]),l[0]){case"a":l[1]=m[1],l[2]=m[2],l[3]=m[3],l[4]=m[4],l[5]=m[5],l[6]=+(m[6]-e).toFixed(3),l[7]=+(m[7]-f).toFixed(3);break;case"v":l[1]=+(m[1]-f).toFixed(3);break;case"m":g=m[1],h=m[2];default:for(var n=1,o=m.length;n<o;n++)l[n]=+(m[n]-(n%2?e:f)).toFixed(3)}else{l=d[j]=[],"m"==m[0]&&(g=m[1]+e,h=m[2]+f);for(var p=0,q=m.length;p<q;p++)d[j][p]=m[p]}var r=d[j].length;switch(d[j][0]){case"z":e=g,f=h;break;case"h":e+=+d[j][r-1];break;case"v":f+=+d[j][r-1];break;default:e+=+d[j][r-2],f+=+d[j][r-1]}}return d.toString=b._path2string,c.rel=Ka(d),d},Ma=b._pathToAbsolute=function(a){var c=Aa(a);if(c.abs)return Ka(c.abs);if(b.is(a,F)&&b.is(a&&a[0],F)||(a=b.parsePathString(a)),!a||!a.length)return[["M",0,0]];var d=[],e=0,f=0,g=0,h=0,i=0;"M"==a[0][0]&&(e=+a[0][1],f=+a[0][2],g=e,h=f,i++,d[0]=["M",e,f]);for(var k,l,j=3==a.length&&"M"==a[0][0]&&"R"==a[1][0].toUpperCase()&&"Z"==a[2][0].toUpperCase(),m=i,n=a.length;m<n;m++){if(d.push(k=[]),l=a[m],l[0]!=T.call(l[0]))switch(k[0]=T.call(l[0]),k[0]){case"A":k[1]=l[1],k[2]=l[2],k[3]=l[3],k[4]=l[4],k[5]=l[5],k[6]=+(l[6]+e),k[7]=+(l[7]+f);break;case"V":k[1]=+l[1]+f;break;case"H":k[1]=+l[1]+e;break;case"R":for(var p=[e,f][o](l.slice(1)),q=2,r=p.length;q<r;q++)p[q]=+p[q]+e,p[++q]=+p[q]+f;d.pop(),d=d[o](za(p,j));break;case"M":g=+l[1]+e,h=+l[2]+f;default:for(q=1,r=l.length;q<r;q++)k[q]=+l[q]+(q%2?e:f)}else if("R"==l[0])p=[e,f][o](l.slice(1)),d.pop(),d=d[o](za(p,j)),k=["R"][o](l.slice(-2));else for(var s=0,t=l.length;s<t;s++)k[s]=l[s];switch(k[0]){case"Z":e=g,f=h;break;case"H":e=k[1];break;case"V":f=k[1];break;case"M":g=k[k.length-2],h=k[k.length-1];default:e=k[k.length-2],f=k[k.length-1]}}return d.toString=b._path2string,c.abs=Ka(d),d},Na=function(a,b,c,d){return[a,b,c,d,c,d]},Oa=function(a,b,c,d,e,f){var g=1/3,h=2/3;return[g*a+h*c,g*b+h*d,g*e+h*c,g*f+h*d,e,f]},Pa=function(a,b,c,d,e,f,g,h,i,j){var n,k=120*C/180,l=C/180*(+e||0),m=[],p=wa(function(a,b,c){return{x:a*x.cos(c)-b*x.sin(c),y:a*x.sin(c)+b*x.cos(c)}});if(j)E=j[0],F=j[1],B=j[2],D=j[3];else{n=p(a,b,-l),a=n.x,b=n.y,n=p(h,i,-l),h=n.x,i=n.y;var s=(x.cos(C/180*e),x.sin(C/180*e),(a-h)/2),u=(b-i)/2,v=s*s/(c*c)+u*u/(d*d);v>1&&(v=x.sqrt(v),c*=v,d*=v);var w=c*c,y=d*d,z=(f==g?-1:1)*x.sqrt(A((w*y-w*u*u-y*s*s)/(w*u*u+y*s*s))),B=z*c*u/d+(a+h)/2,D=z*-d*s/c+(b+i)/2,E=x.asin(((b-D)/d).toFixed(9)),F=x.asin(((i-D)/d).toFixed(9));E=a<B?C-E:E,F=h<B?C-F:F,E<0&&(E=2*C+E),F<0&&(F=2*C+F),g&&E>F&&(E-=2*C),!g&&F>E&&(F-=2*C)}var G=F-E;if(A(G)>k){var H=F,I=h,J=i;F=E+k*(g&&F>E?1:-1),h=B+c*x.cos(F),i=D+d*x.sin(F),m=Pa(h,i,c,d,e,0,g,I,J,[F,H,B,D])}G=F-E;var K=x.cos(E),L=x.sin(E),M=x.cos(F),N=x.sin(F),O=x.tan(G/4),P=4/3*c*O,Q=4/3*d*O,R=[a,b],S=[a+P*L,b-Q*K],T=[h+P*N,i-Q*M],U=[h,i];if(S[0]=2*R[0]-S[0],S[1]=2*R[1]-S[1],j)return[S,T,U][o](m);m=[S,T,U][o](m).join()[t](",");for(var V=[],W=0,X=m.length;W<X;W++)V[W]=W%2?p(m[W-1],m[W],l).y:p(m[W],m[W+1],l).x;return V},Qa=function(a,b,c,d,e,f,g,h,i){var j=1-i;return{x:B(j,3)*a+3*B(j,2)*i*c+3*j*i*i*e+B(i,3)*g,y:B(j,3)*b+3*B(j,2)*i*d+3*j*i*i*f+B(i,3)*h}},Ra=wa(function(a,b,c,d,e,f,g,h){var q,i=e-2*c+a-(g-2*e+c),j=2*(c-a)-2*(e-c),k=a-c,l=(-j+x.sqrt(j*j-4*i*k))/2/i,m=(-j-x.sqrt(j*j-4*i*k))/2/i,o=[b,h],p=[a,g];return A(l)>"1e12"&&(l=.5),A(m)>"1e12"&&(m=.5),l>0&&l<1&&(q=Qa(a,b,c,d,e,f,g,h,l),p.push(q.x),o.push(q.y)),m>0&&m<1&&(q=Qa(a,b,c,d,e,f,g,h,m),p.push(q.x),o.push(q.y)),i=f-2*d+b-(h-2*f+d),j=2*(d-b)-2*(f-d),k=b-d,l=(-j+x.sqrt(j*j-4*i*k))/2/i,m=(-j-x.sqrt(j*j-4*i*k))/2/i,A(l)>"1e12"&&(l=.5),A(m)>"1e12"&&(m=.5),l>0&&l<1&&(q=Qa(a,b,c,d,e,f,g,h,l),p.push(q.x),o.push(q.y)),m>0&&m<1&&(q=Qa(a,b,c,d,e,f,g,h,m),p.push(q.x),o.push(q.y)),{min:{x:z[n](0,p),y:z[n](0,o)},max:{x:y[n](0,p),y:y[n](0,o)}}}),Sa=b._path2curve=wa(function(a,b){var c=!b&&Aa(a);if(!b&&c.curve)return Ka(c.curve);for(var d=Ma(a),e=b&&Ma(b),f={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},g={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},h=(function(a,b,c){var d,e,f={T:1,Q:1};if(!a)return["C",b.x,b.y,b.x,b.y,b.x,b.y];switch(!(a[0]in f)&&(b.qx=b.qy=null),a[0]){case"M":b.X=a[1],b.Y=a[2];break;case"A":a=["C"][o](Pa[n](0,[b.x,b.y][o](a.slice(1))));break;case"S":"C"==c||"S"==c?(d=2*b.x-b.bx,e=2*b.y-b.by):(d=b.x,e=b.y),a=["C",d,e][o](a.slice(1));break;case"T":"Q"==c||"T"==c?(b.qx=2*b.x-b.qx,b.qy=2*b.y-b.qy):(b.qx=b.x,b.qy=b.y),a=["C"][o](Oa(b.x,b.y,b.qx,b.qy,a[1],a[2]));break;case"Q":b.qx=a[1],b.qy=a[2],a=["C"][o](Oa(b.x,b.y,a[1],a[2],a[3],a[4]));break;case"L":a=["C"][o](Na(b.x,b.y,a[1],a[2]));break;case"H":a=["C"][o](Na(b.x,b.y,a[1],b.y));break;case"V":a=["C"][o](Na(b.x,b.y,b.x,a[1]));break;case"Z":a=["C"][o](Na(b.x,b.y,b.X,b.Y))}return a}),i=function(a,b){if(a[b].length>7){a[b].shift();for(var c=a[b];c.length;)k[b]="A",e&&(l[b]="A"),a.splice(b++,0,["C"][o](c.splice(0,6)));a.splice(b,1),r=y(d.length,e&&e.length||0)}},j=function(a,b,c,f,g){a&&b&&"M"==a[g][0]&&"M"!=b[g][0]&&(b.splice(g,0,["M",f.x,f.y]),c.bx=0,c.by=0,c.x=a[g][1],c.y=a[g][2],r=y(d.length,e&&e.length||0))},k=[],l=[],m="",p="",q=0,r=y(d.length,e&&e.length||0);q<r;q++){d[q]&&(m=d[q][0]),"C"!=m&&(k[q]=m,q&&(p=k[q-1])),d[q]=h(d[q],f,p),"A"!=k[q]&&"C"==m&&(k[q]="C"),i(d,q),e&&(e[q]&&(m=e[q][0]),"C"!=m&&(l[q]=m,q&&(p=l[q-1])),e[q]=h(e[q],g,p),"A"!=l[q]&&"C"==m&&(l[q]="C"),i(e,q)),j(d,e,f,g,q),j(e,d,g,f,q);var s=d[q],t=e&&e[q],u=s.length,v=e&&t.length;f.x=s[u-2],f.y=s[u-1],f.bx=R(s[u-4])||f.x,f.by=R(s[u-3])||f.y,g.bx=e&&(R(t[v-4])||g.x),g.by=e&&(R(t[v-3])||g.y),g.x=e&&t[v-2],g.y=e&&t[v-1]}return e||(c.curve=Ka(d)),e?[d,e]:d},null,Ka),Ua=(b._parseDots=wa(function(a){for(var c=[],d=0,e=a.length;d<e;d++){var f={},g=a[d].match(/^([^:]*):?([\d\.]*)/);if(f.color=b.getRGB(g[1]),f.color.error)return null;f.opacity=f.color.opacity,f.color=f.color.hex,g[2]&&(f.offset=g[2]+"%"),c.push(f)}for(d=1,e=c.length-1;d<e;d++)if(!c[d].offset){for(var h=R(c[d-1].offset||0),i=0,j=d+1;j<e;j++)if(c[j].offset){i=c[j].offset;break}i||(i=100,j=e),i=R(i);for(var k=(i-h)/(j-d+1);d<j;d++)h+=k,c[d].offset=h+"%"}return c}),b._tear=function(a,b){a==b.top&&(b.top=a.prev),a==b.bottom&&(b.bottom=a.next),a.next&&(a.next.prev=a.prev),a.prev&&(a.prev.next=a.next)}),Za=(b._tofront=function(a,b){b.top!==a&&(Ua(a,b),a.next=null,a.prev=b.top,b.top.next=a,b.top=a)},b._toback=function(a,b){b.bottom!==a&&(Ua(a,b),a.next=b.bottom,a.prev=null,b.bottom.prev=a,b.bottom=a)},b._insertafter=function(a,b,c){Ua(a,c),b==c.top&&(c.top=a),b.next&&(b.next.prev=a),a.next=b.next,a.prev=b,b.next=a},b._insertbefore=function(a,b,c){Ua(a,c),b==c.bottom&&(c.bottom=a),b.prev&&(b.prev.next=a),a.prev=b.prev,b.prev=a,a.next=b},b.toMatrix=function(a,b){var c=Ja(a),d={_:{transform:q},getBBox:function(){return c}};return _a(d,b),d.matrix}),_a=(b.transformPath=function(a,b){return ka(a,Za(a,b))},b._extractTransform=function(a,c){if(null==c)return a._.transform;c=s(c).replace(/\.{3}|\u2026/g,a._.transform||q);var d=b.parseTransformString(c),e=0,f=0,g=0,h=1,i=1,j=a._,k=new cb;if(j.transform=d||[],d)for(var l=0,m=d.length;l<m;l++){var u,v,w,x,y,n=d[l],o=n.length,p=s(n[0]).toLowerCase(),r=n[0]!=p,t=r?k.invert():0;"t"==p&&3==o?r?(u=t.x(0,0),v=t.y(0,0),w=t.x(n[1],n[2]),x=t.y(n[1],n[2]),k.translate(w-u,x-v)):k.translate(n[1],n[2]):"r"==p?2==o?(y=y||a.getBBox(1),k.rotate(n[1],y.x+y.width/2,y.y+y.height/2),e+=n[1]):4==o&&(r?(w=t.x(n[2],n[3]),x=t.y(n[2],n[3]),k.rotate(n[1],w,x)):k.rotate(n[1],n[2],n[3]),e+=n[1]):"s"==p?2==o||3==o?(y=y||a.getBBox(1),k.scale(n[1],n[o-1],y.x+y.width/2,y.y+y.height/2),h*=n[1],i*=n[o-1]):5==o&&(r?(w=t.x(n[3],n[4]),x=t.y(n[3],n[4]),k.scale(n[1],n[2],w,x)):k.scale(n[1],n[2],n[3],n[4]),h*=n[1],i*=n[2]):"m"==p&&7==o&&k.add(n[1],n[2],n[3],n[4],n[5],n[6]),j.dirtyT=1,a.matrix=k}a.matrix=k,j.sx=h,j.sy=i,j.deg=e,j.dx=f=k.e,j.dy=g=k.f,1==h&&1==i&&!e&&j.bbox?(j.bbox.x+=+f,j.bbox.y+=+g):j.dirtyT=1}),ab=function(a){var b=a[0];switch(b.toLowerCase()){case"t":return[b,0,0];case"m":return[b,1,0,0,1,0,0];case"r":return 4==a.length?[b,0,a[2],a[3]]:[b,0];case"s":return 5==a.length?[b,1,1,a[3],a[4]]:3==a.length?[b,1,1]:[b,1]}},bb=b._equaliseTransform=function(a,c){c=s(c).replace(/\.{3}|\u2026/g,a),a=b.parseTransformString(a)||[],c=b.parseTransformString(c)||[];for(var h,i,j,k,d=y(a.length,c.length),e=[],f=[],g=0;g<d;g++){if(j=a[g]||ab(c[g]),k=c[g]||ab(j),j[0]!=k[0]||"r"==j[0].toLowerCase()&&(j[2]!=k[2]||j[3]!=k[3])||"s"==j[0].toLowerCase()&&(j[3]!=k[3]||j[4]!=k[4]))return;for(e[g]=[],f[g]=[],h=0,i=y(j.length,k.length);h<i;h++)h in j&&(e[g][h]=j[h]),h in k&&(f[g][h]=k[h])}return{from:e,to:f}};b._getContainer=function(a,c,d,e){var f;if(null!=(f=null!=e||b.is(a,"object")?a:i.doc.getElementById(a)))return f.tagName?null==c?{container:f,width:f.style.pixelWidth||f.offsetWidth,height:f.style.pixelHeight||f.offsetHeight}:{container:f,width:c,height:d}:{container:1,x:a,y:c,width:d,height:e}},b.pathToRelative=La,b._engine={},b.path2curve=Sa,b.matrix=function(a,b,c,d,e,f){return new cb(a,b,c,d,e,f)},function(a){function c(a){return a[0]*a[0]+a[1]*a[1]}function d(a){var b=x.sqrt(c(a));a[0]&&(a[0]/=b),a[1]&&(a[1]/=b)}a.add=function(a,b,c,d,e,f){var j,k,l,m,g=[[],[],[]],h=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],i=[[a,c,e],[b,d,f],[0,0,1]];for(a&&a instanceof cb&&(i=[[a.a,a.c,a.e],[a.b,a.d,a.f],[0,0,1]]),j=0;j<3;j++)for(k=0;k<3;k++){for(m=0,l=0;l<3;l++)m+=h[j][l]*i[l][k];g[j][k]=m}this.a=g[0][0],this.b=g[1][0],this.c=g[0][1],this.d=g[1][1],this.e=g[0][2],this.f=g[1][2]},a.invert=function(){var a=this,b=a.a*a.d-a.b*a.c;return new cb(a.d/b,-a.b/b,-a.c/b,a.a/b,(a.c*a.f-a.d*a.e)/b,(a.b*a.e-a.a*a.f)/b)},a.clone=function(){return new cb(this.a,this.b,this.c,this.d,this.e,this.f)},a.translate=function(a,b){this.add(1,0,0,1,a,b)},a.scale=function(a,b,c,d){null==b&&(b=a),(c||d)&&this.add(1,0,0,1,c,d),this.add(a,0,0,b,0,0),(c||d)&&this.add(1,0,0,1,-c,-d)},a.rotate=function(a,c,d){a=b.rad(a),c=c||0,d=d||0;var e=+x.cos(a).toFixed(9),f=+x.sin(a).toFixed(9);this.add(e,f,-f,e,c,d),this.add(1,0,0,1,-c,-d)},a.x=function(a,b){return a*this.a+b*this.c+this.e},a.y=function(a,b){return a*this.b+b*this.d+this.f},a.get=function(a){return+this[s.fromCharCode(97+a)].toFixed(4)},a.toString=function(){return b.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},a.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},a.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},a.split=function(){var a={};a.dx=this.e,a.dy=this.f;var e=[[this.a,this.c],[this.b,this.d]];a.scalex=x.sqrt(c(e[0])),d(e[0]),a.shear=e[0][0]*e[1][0]+e[0][1]*e[1][1],e[1]=[e[1][0]-e[0][0]*a.shear,e[1][1]-e[0][1]*a.shear],a.scaley=x.sqrt(c(e[1])),d(e[1]),a.shear/=a.scaley;var f=-e[0][1],g=e[1][1];return g<0?(a.rotate=b.deg(x.acos(g)),f<0&&(a.rotate=360-a.rotate)):a.rotate=b.deg(x.asin(f)),a.isSimple=!(+a.shear.toFixed(9)||a.scalex.toFixed(9)!=a.scaley.toFixed(9)&&a.rotate),a.isSuperSimple=!+a.shear.toFixed(9)&&a.scalex.toFixed(9)==a.scaley.toFixed(9)&&!a.rotate,a.noRotation=!+a.shear.toFixed(9)&&!a.rotate,a},a.toTransformString=function(a){var b=a||this[t]();return b.isSimple?(b.scalex=+b.scalex.toFixed(4),b.scaley=+b.scaley.toFixed(4),b.rotate=+b.rotate.toFixed(4),(b.dx||b.dy?"t"+[b.dx,b.dy]:q)+(1!=b.scalex||1!=b.scaley?"s"+[b.scalex,b.scaley,0,0]:q)+(b.rotate?"r"+[b.rotate,0,0]:q)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(cb.prototype);for(var db=function(){this.returnValue=!1},eb=function(){return this.originalEvent.preventDefault()},fb=function(){this.cancelBubble=!0},gb=function(){return this.originalEvent.stopPropagation()},hb=function(a){var b=i.doc.documentElement.scrollTop||i.doc.body.scrollTop,c=i.doc.documentElement.scrollLeft||i.doc.body.scrollLeft;return{x:a.clientX+c,y:a.clientY+b}},ib=function(){return i.doc.addEventListener?function(a,b,c,d){var e=function(a){var b=hb(a);return c.call(d,a,b.x,b.y)};if(a.addEventListener(b,e,!1),p&&v[b]){var f=function(b){for(var e=hb(b),f=b,g=0,h=b.targetTouches&&b.targetTouches.length;g<h;g++)if(b.targetTouches[g].target==a){b=b.targetTouches[g],b.originalEvent=f,b.preventDefault=eb,b.stopPropagation=gb;break}return c.call(d,b,e.x,e.y)};a.addEventListener(v[b],f,!1)}return function(){return a.removeEventListener(b,e,!1),p&&v[b]&&a.removeEventListener(v[b],f,!1),!0}}:i.doc.attachEvent?function(a,b,c,d){var e=function(a){a=a||i.win.event;var b=i.doc.documentElement.scrollTop||i.doc.body.scrollTop,e=i.doc.documentElement.scrollLeft||i.doc.body.scrollLeft,f=a.clientX+e,g=a.clientY+b;return a.preventDefault=a.preventDefault||db,a.stopPropagation=a.stopPropagation||fb,c.call(d,a,f,g)};return a.attachEvent("on"+b,e),function(){return a.detachEvent("on"+b,e),!0}}:void 0}(),jb=[],kb=function(b){for(var g,c=b.clientX,d=b.clientY,e=i.doc.documentElement.scrollTop||i.doc.body.scrollTop,f=i.doc.documentElement.scrollLeft||i.doc.body.scrollLeft,h=jb.length;h--;){if(g=jb[h],p&&b.touches){for(var k,j=b.touches.length;j--;)if(k=b.touches[j],k.identifier==g.el._drag.id){c=k.clientX,d=k.clientY,(b.originalEvent?b.originalEvent:b).preventDefault();break}}else b.preventDefault();var m,l=g.el.node,n=l.nextSibling,o=l.parentNode,q=l.style.display;i.win.opera&&o.removeChild(l),l.style.display="none",m=g.el.paper.getElementByPoint(c,d),l.style.display=q,i.win.opera&&(n?o.insertBefore(l,n):o.appendChild(l)),m&&a("raphael.drag.over."+g.el.id,g.el,m),c+=f,d+=e,a("raphael.drag.move."+g.el.id,g.move_scope||g.el,c-g.el._drag.x,d-g.el._drag.y,c,d,b)}},lb=function(c){b.unmousemove(kb).unmouseup(lb);for(var e,d=jb.length;d--;)e=jb[d],e.el._drag={},a("raphael.drag.end."+e.el.id,e.end_scope||e.start_scope||e.move_scope||e.el,c);jb=[]},mb=b.el={},nb=u.length;nb--;)!function(a){b[a]=mb[a]=function(c,d){return b.is(c,"function")&&(this.events=this.events||[],this.events.push({name:a,f:c,unbind:ib(this.shape||this.node||i.doc,a,c,d||this)})),this},b["un"+a]=mb["un"+a]=function(c){for(var d=this.events||[],e=d.length;e--;)d[e].name!=a||!b.is(c,"undefined")&&d[e].f!=c||(d[e].unbind(),d.splice(e,1),!d.length&&delete this.events);return this}}(u[nb]);mb.data=function(c,d){var e=ca[this.id]=ca[this.id]||{};if(0==arguments.length)return e;if(1==arguments.length){if(b.is(c,"object")){for(var f in c)c[h](f)&&this.data(f,c[f]);return this}return a("raphael.data.get."+this.id,this,e[c],c),e[c]}return e[c]=d,a("raphael.data.set."+this.id,this,d,c),this},mb.removeData=function(a){return null==a?ca[this.id]={}:ca[this.id]&&delete ca[this.id][a],this},mb.getData=function(){return na(ca[this.id]||{})},mb.hover=function(a,b,c,d){return this.mouseover(a,c).mouseout(b,d||c)},mb.unhover=function(a,b){return this.unmouseover(a).unmouseout(b)};var ob=[];mb.drag=function(c,d,e,f,g,h){function j(j){(j.originalEvent||j).preventDefault();var k=j.clientX,l=j.clientY,m=i.doc.documentElement.scrollTop||i.doc.body.scrollTop,n=i.doc.documentElement.scrollLeft||i.doc.body.scrollLeft;if(this._drag.id=j.identifier,p&&j.touches)for(var q,o=j.touches.length;o--;)if(q=j.touches[o],this._drag.id=q.identifier,q.identifier==this._drag.id){k=q.clientX,l=q.clientY;break}this._drag.x=k+n,this._drag.y=l+m,!jb.length&&b.mousemove(kb).mouseup(lb),jb.push({el:this,move_scope:f,start_scope:g,end_scope:h}),d&&a.on("raphael.drag.start."+this.id,d),c&&a.on("raphael.drag.move."+this.id,c),e&&a.on("raphael.drag.end."+this.id,e),a("raphael.drag.start."+this.id,g||f||this,j.clientX+n,j.clientY+m,j)}return this._drag={},ob.push({el:this,start:j}),this.mousedown(j),this},mb.onDragOver=function(b){b?a.on("raphael.drag.over."+this.id,b):a.unbind("raphael.drag.over."+this.id)},mb.undrag=function(){for(var c=ob.length;c--;)ob[c].el==this&&(this.unmousedown(ob[c].start),ob.splice(c,1),a.unbind("raphael.drag.*."+this.id));!ob.length&&b.unmousemove(kb).unmouseup(lb),jb=[]},l.circle=function(a,c,d){var e=b._engine.circle(this,a||0,c||0,d||0);return this.__set__&&this.__set__.push(e),e},l.rect=function(a,c,d,e,f){var g=b._engine.rect(this,a||0,c||0,d||0,e||0,f||0);return this.__set__&&this.__set__.push(g),g},l.ellipse=function(a,c,d,e){var f=b._engine.ellipse(this,a||0,c||0,d||0,e||0);return this.__set__&&this.__set__.push(f),f},l.path=function(a){a&&!b.is(a,E)&&!b.is(a[0],F)&&(a+=q);var c=b._engine.path(b.format[n](b,arguments),this);return this.__set__&&this.__set__.push(c),c},l.image=function(a,c,d,e,f){var g=b._engine.image(this,a||"about:blank",c||0,d||0,e||0,f||0);return this.__set__&&this.__set__.push(g),g},l.text=function(a,c,d){var e=b._engine.text(this,a||0,c||0,s(d));return this.__set__&&this.__set__.push(e),e},l.set=function(a){!b.is(a,"array")&&(a=Array.prototype.splice.call(arguments,0,arguments.length));var c=new Hb(a);return this.__set__&&this.__set__.push(c),c.paper=this,c.type="set",c},l.setStart=function(a){this.__set__=a||this.set()},l.setFinish=function(a){var b=this.__set__;return delete this.__set__,b},l.getSize=function(){var a=this.canvas.parentNode;return{width:a.offsetWidth,height:a.offsetHeight}},l.setSize=function(a,c){return b._engine.setSize.call(this,a,c)},l.setViewBox=function(a,c,d,e,f){return b._engine.setViewBox.call(this,a,c,d,e,f)},l.top=l.bottom=null,l.raphael=b;var pb=function(a){var b=a.getBoundingClientRect(),c=a.ownerDocument,d=c.body,e=c.documentElement,f=e.clientTop||d.clientTop||0,g=e.clientLeft||d.clientLeft||0;return{y:b.top+(i.win.pageYOffset||e.scrollTop||d.scrollTop)-f,x:b.left+(i.win.pageXOffset||e.scrollLeft||d.scrollLeft)-g}};l.getElementByPoint=function(a,b){var c=this,d=c.canvas,e=i.doc.elementFromPoint(a,b);if(i.win.opera&&"svg"==e.tagName){var f=pb(d),g=d.createSVGRect();g.x=a-f.x,g.y=b-f.y,g.width=g.height=1;var h=d.getIntersectionList(g,null);h.length&&(e=h[h.length-1])}if(!e)return null;for(;e.parentNode&&e!=d.parentNode&&!e.raphael;)e=e.parentNode;return e==c.canvas.parentNode&&(e=d),e=e&&e.raphael?c.getById(e.raphaelid):null},l.getElementsByBBox=function(a){var c=this.set();return this.forEach(function(d){b.isBBoxIntersect(d.getBBox(),a)&&c.push(d)}),c},l.getById=function(a){for(var b=this.bottom;b;){if(b.id==a)return b;b=b.next}return null},l.forEach=function(a,b){for(var c=this.bottom;c;){if(!1===a.call(b,c))return this;c=c.next}return this},l.getElementsByPoint=function(a,b){var c=this.set();return this.forEach(function(d){d.isPointInside(a,b)&&c.push(d)}),c},mb.isPointInside=function(a,c){var d=this.realPath=ja[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(d=b.transformPath(d,this.attr("transform"))),b.isPointInsidePath(d,a,c)},mb.getBBox=function(a){if(this.removed)return{};var b=this._;return a?(!b.dirty&&b.bboxwt||(this.realPath=ja[this.type](this),b.bboxwt=Ja(this.realPath),b.bboxwt.toString=rb,b.dirty=0),b.bboxwt):((b.dirty||b.dirtyT||!b.bbox)&&(!b.dirty&&this.realPath||(b.bboxwt=0,this.realPath=ja[this.type](this)),b.bbox=Ja(ka(this.realPath,this.matrix)),b.bbox.toString=rb,b.dirty=b.dirtyT=0),b.bbox)},mb.clone=function(){if(this.removed)return null;var a=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(a),a},mb.glow=function(a){if("text"==this.type)return null;a=a||{};var b={width:(a.width||10)+(+this.attr("stroke-width")||1),fill:a.fill||!1,opacity:null==a.opacity?.5:a.opacity,offsetx:a.offsetx||0,offsety:a.offsety||0,color:a.color||"#000"},c=b.width/2,d=this.paper,e=d.set(),f=this.realPath||ja[this.type](this);f=this.matrix?ka(f,this.matrix):f;for(var g=1;g<c+1;g++)e.push(d.path(f).attr({stroke:b.color,fill:b.fill?b.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(b.width/c*g).toFixed(3),opacity:+(b.opacity/c).toFixed(3)}));return e.insertBefore(this).translate(b.offsetx,b.offsety)};var tb=function(a,c,d,e,f,g,h,i,j){return null==j?Ca(a,c,d,e,f,g,h,i):b.findDotsAtSegment(a,c,d,e,f,g,h,i,Da(a,c,d,e,f,g,h,i,j))},ub=function(a,c){return function(d,e,f){d=Sa(d);for(var g,h,i,j,m,k="",l={},n=0,o=0,p=d.length;o<p;o++){if(i=d[o],"M"==i[0])g=+i[1],h=+i[2];else{if(j=tb(g,h,i[1],i[2],i[3],i[4],i[5],i[6]),n+j>e){if(c&&!l.start){if(m=tb(g,h,i[1],i[2],i[3],i[4],i[5],i[6],e-n),k+=["C"+m.start.x,m.start.y,m.m.x,m.m.y,m.x,m.y],f)return k;l.start=k,k=["M"+m.x,m.y+"C"+m.n.x,m.n.y,m.end.x,m.end.y,i[5],i[6]].join(),n+=j,g=+i[5],h=+i[6];continue}if(!a&&!c)return m=tb(g,h,i[1],i[2],i[3],i[4],i[5],i[6],e-n),{x:m.x,y:m.y,alpha:m.alpha}}n+=j,g=+i[5],h=+i[6]}k+=i.shift()+i}return l.end=k,m=a?n:c?l:b.findDotsAtSegment(g,h,i[0],i[1],i[2],i[3],i[4],i[5],1),m.alpha&&(m={x:m.x,y:m.y,alpha:m.alpha}),m}},vb=ub(1),wb=ub(),xb=ub(0,1);b.getTotalLength=vb,b.getPointAtLength=wb,b.getSubpath=function(a,b,c){if(this.getTotalLength(a)-c<1e-6)return xb(a,b).end;var d=xb(a,c,1);return b?xb(d,b).end:d},mb.getTotalLength=function(){var a=this.getPath();if(a)return this.node.getTotalLength?this.node.getTotalLength():vb(a)},mb.getPointAtLength=function(a){var b=this.getPath();if(b)return wb(b,a)},mb.getPath=function(){var a,c=b._getPath[this.type];if("text"!=this.type&&"set"!=this.type)return c&&(a=c(this)),a},mb.getSubpath=function(a,c){var d=this.getPath();if(d)return b.getSubpath(d,a,c)};var yb=b.easing_formulas={linear:function(a){return a},"<":function(a){return B(a,1.7)},">":function(a){return B(a,.48)},"<>":function(a){var b=.48-a/1.04,c=x.sqrt(.1734+b*b),d=c-b,e=B(A(d),1/3)*(d<0?-1:1),f=-c-b,g=B(A(f),1/3)*(f<0?-1:1),h=e+g+.5;return 3*(1-h)*h*h+h*h*h},backIn:function(a){var b=1.70158;return a*a*((b+1)*a-b)},backOut:function(a){a-=1;var b=1.70158;return a*a*((b+1)*a+b)+1},elastic:function(a){return a==!!a?a:B(2,-10*a)*x.sin(2*C*(a-.075)/.3)+1},bounce:function(a){var d,b=7.5625,c=2.75;return a<1/c?d=b*a*a:a<2/c?(a-=1.5/c,d=b*a*a+.75):a<2.5/c?(a-=2.25/c,d=b*a*a+.9375):(a-=2.625/c,d=b*a*a+.984375),d}};yb.easeIn=yb["ease-in"]=yb["<"],yb.easeOut=yb["ease-out"]=yb[">"],yb.easeInOut=yb["ease-in-out"]=yb["<>"],yb["back-in"]=yb.backIn,yb["back-out"]=yb.backOut;var zb=[],Ab=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){setTimeout(a,16)},Bb=function(){for(var c=+new Date,d=0;d<zb.length;d++){var e=zb[d];if(!e.el.removed&&!e.paused){var q,t,f=c-e.start,g=e.ms,i=e.easing,j=e.from,k=e.diff,l=e.to,n=(e.t,e.el),p={},s={};if(e.initstatus?(f=(e.initstatus*e.anim.top-e.prev)/(e.percent-e.prev)*g,e.status=e.initstatus,delete e.initstatus,e.stop&&zb.splice(d--,1)):e.status=(e.prev+(e.percent-e.prev)*(f/g))/e.anim.top,!(f<0))if(f<g){var u=i(f/g);for(var v in j)if(j[h](v)){switch(V[v]){case D:q=+j[v]+u*g*k[v];break;case"colour":q="rgb("+[Cb(P(j[v].r+u*g*k[v].r)),Cb(P(j[v].g+u*g*k[v].g)),Cb(P(j[v].b+u*g*k[v].b))].join(",")+")";break;case"path":q=[];for(var w=0,x=j[v].length;w<x;w++){q[w]=[j[v][w][0]];for(var y=1,z=j[v][w].length;y<z;y++)q[w][y]=+j[v][w][y]+u*g*k[v][w][y];q[w]=q[w].join(r)}q=q.join(r);break;case"transform":if(k[v].real)for(q=[],w=0,x=j[v].length;w<x;w++)for(q[w]=[j[v][w][0]],y=1,z=j[v][w].length;y<z;y++)q[w][y]=j[v][w][y]+u*g*k[v][w][y];else{var A=function(a){return+j[v][a]+u*g*k[v][a]};q=[["m",A(0),A(1),A(2),A(3),A(4),A(5)]]}break;case"csv":if("clip-rect"==v)for(q=[],w=4;w--;)q[w]=+j[v][w]+u*g*k[v][w];break;default:var B=[][o](j[v]);for(q=[],w=n.paper.customAttributes[v].length;w--;)q[w]=+B[w]+u*g*k[v][w]}p[v]=q}n.attr(p),function(b,c,d){setTimeout(function(){a("raphael.anim.frame."+b,c,d)})}(n.id,n,e.anim)}else{if(function(c,d,e){setTimeout(function(){a("raphael.anim.frame."+d.id,d,e),a("raphael.anim.finish."+d.id,d,e),b.is(c,"function")&&c.call(d)})}(e.callback,n,e.anim),n.attr(l),zb.splice(d--,1),e.repeat>1&&!e.next){for(t in l)l[h](t)&&(s[t]=e.totalOrigin[t]);e.el.attr(s),Fb(e.anim,e.el,e.anim.percents[0],null,e.totalOrigin,e.repeat-1)}e.next&&!e.stop&&Fb(e.anim,e.el,e.next,null,e.totalOrigin,e.repeat)}}}zb.length&&Ab(Bb)},Cb=function(a){return a>255?255:a<0?0:a};mb.animateWith=function(a,c,d,e,f,g){var h=this;if(h.removed)return g&&g.call(h),h;var i=d instanceof Eb?d:b.animation(d,e,f,g);Fb(i,h,i.percents[0],null,h.attr());for(var l=0,m=zb.length;l<m;l++)if(zb[l].anim==c&&zb[l].el==a){zb[m-1].start=zb[l].start;break}return h},mb.onAnimation=function(b){return b?a.on("raphael.anim.frame."+this.id,b):a.unbind("raphael.anim.frame."+this.id),this},Eb.prototype.delay=function(a){var b=new Eb(this.anim,this.ms);return b.times=this.times,b.del=+a||0,b},Eb.prototype.repeat=function(a){var b=new Eb(this.anim,this.ms);return b.del=this.del,b.times=x.floor(y(a,0))||1,b},b.animation=function(a,c,d,e){if(a instanceof Eb)return a;!b.is(d,"function")&&d||(e=e||d||null,d=null),a=Object(a),c=+c||0;var g,i,f={};for(i in a)a[h](i)&&R(i)!=i&&R(i)+"%"!=i&&(g=!0,f[i]=a[i]);if(g)return d&&(f.easing=d),e&&(f.callback=e),new Eb({100:f},c);if(e){var j=0;for(var k in a){var l=S(k);a[h](k)&&l>j&&(j=l)}j+="%",!a[j].callback&&(a[j].callback=e)}return new Eb(a,c)},mb.animate=function(a,c,d,e){var f=this;if(f.removed)return e&&e.call(f),f;var g=a instanceof Eb?a:b.animation(a,c,d,e);return Fb(g,f,g.percents[0],null,f.attr()),f},mb.setTime=function(a,b){return a&&null!=b&&this.status(a,z(b,a.ms)/a.ms),this},mb.status=function(a,b){var e,f,c=[],d=0;if(null!=b)return Fb(a,this,-1,z(b,1)),this;for(e=zb.length;d<e;d++)if(f=zb[d],f.el.id==this.id&&(!a||f.anim==a)){if(a)return f.status;c.push({anim:f.anim,status:f.status})}return a?0:c},mb.pause=function(b){for(var c=0;c<zb.length;c++)zb[c].el.id!=this.id||b&&zb[c].anim!=b||!1!==a("raphael.anim.pause."+this.id,this,zb[c].anim)&&(zb[c].paused=!0);return this},mb.resume=function(b){for(var c=0;c<zb.length;c++)if(zb[c].el.id==this.id&&(!b||zb[c].anim==b)){var d=zb[c];!1!==a("raphael.anim.resume."+this.id,this,d.anim)&&(delete d.paused,this.status(d.anim,d.status))}return this},mb.stop=function(b){for(var c=0;c<zb.length;c++)zb[c].el.id!=this.id||b&&zb[c].anim!=b||!1!==a("raphael.anim.stop."+this.id,this,zb[c].anim)&&zb.splice(c--,1);return this},a.on("raphael.remove",Gb),a.on("raphael.clear",Gb),mb.toString=function(){return"Raphals object"};var Hb=function(a){if(this.items=[],this.length=0,this.type="set",a)for(var b=0,c=a.length;b<c;b++)!a[b]||a[b].constructor!=mb.constructor&&a[b].constructor!=Hb||(this[this.items.length]=this.items[this.items.length]=a[b],this.length++)},Ib=Hb.prototype;Ib.push=function(){for(var a,b,c=0,d=arguments.length;c<d;c++)!(a=arguments[c])||a.constructor!=mb.constructor&&a.constructor!=Hb||(b=this.items.length,this[b]=this.items[b]=a,this.length++);return this},Ib.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},Ib.forEach=function(a,b){for(var c=0,d=this.items.length;c<d;c++)if(!1===a.call(b,this.items[c],c))return this;return this};for(var Jb in mb)mb[h](Jb)&&(Ib[Jb]=function(a){return function(){var b=arguments;return this.forEach(function(c){c[a][n](c,b)})}}(Jb));return Ib.attr=function(a,c){if(a&&b.is(a,F)&&b.is(a[0],"object"))for(var d=0,e=a.length;d<e;d++)this.items[d].attr(a[d]);else for(var f=0,g=this.items.length;f<g;f++)this.items[f].attr(a,c);return this},Ib.clear=function(){for(;this.length;)this.pop()},Ib.splice=function(a,b,c){a=a<0?y(this.length+a,0):a,b=y(0,z(this.length-a,b));var g,d=[],e=[],f=[];for(g=2;g<arguments.length;g++)f.push(arguments[g]);for(g=0;g<b;g++)e.push(this[a+g]);for(;g<this.length-a;g++)d.push(this[a+g]);var h=f.length;for(g=0;g<h+d.length;g++)this.items[a+g]=this[a+g]=g<h?f[g]:d[g-h];for(g=this.items.length=this.length-=b-h;this[g];)delete this[g++];return new Hb(e)},Ib.exclude=function(a){for(var b=0,c=this.length;b<c;b++)if(this[b]==a)return this.splice(b,1),!0},Ib.animate=function(a,c,d,e){(b.is(d,"function")||!d)&&(e=d||null);var h,j,f=this.items.length,g=f,i=this;if(!f)return this;e&&(j=function(){!--f&&e.call(i)}),d=b.is(d,E)?d:j;var k=b.animation(a,c,d,j);for(h=this.items[--g].animate(k);g--;)this.items[g]&&!this.items[g].removed&&this.items[g].animateWith(h,k,k),this.items[g]&&!this.items[g].removed||f--;return this},Ib.insertAfter=function(a){for(var b=this.items.length;b--;)this.items[b].insertAfter(a);return this},Ib.getBBox=function(){for(var a=[],b=[],c=[],d=[],e=this.items.length;e--;)if(!this.items[e].removed){var f=this.items[e].getBBox();a.push(f.x),b.push(f.y),c.push(f.x+f.width),d.push(f.y+f.height)}return a=z[n](0,a),b=z[n](0,b),c=y[n](0,c),d=y[n](0,d),{x:a,y:b,x2:c,y2:d,width:c-a,height:d-b}},Ib.clone=function(a){a=this.paper.set();for(var b=0,c=this.items.length;b<c;b++)a.push(this.items[b].clone());return a},Ib.toString=function(){return"Raphals set"},Ib.glow=function(a){var b=this.paper.set();return this.forEach(function(c,d){var e=c.glow(a);null!=e&&e.forEach(function(a,c){b.push(a)})}),b},Ib.isPointInside=function(a,b){var c=!1;return this.forEach(function(d){if(d.isPointInside(a,b))return c=!0,!1}),c},b.registerFont=function(a){if(!a.face)return a;this.fonts=this.fonts||{};var b={w:a.w,face:{},glyphs:{}},c=a.face["font-family"];for(var d in a.face)a.face[h](d)&&(b.face[d]=a.face[d]);if(this.fonts[c]?this.fonts[c].push(b):this.fonts[c]=[b],!a.svg){b.face["units-per-em"]=S(a.face["units-per-em"],10);for(var e in a.glyphs)if(a.glyphs[h](e)){var f=a.glyphs[e];if(b.glyphs[e]={w:f.w,k:{},d:f.d&&"M"+f.d.replace(/[mlcxtrv]/g,function(a){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[a]||"M"})+"z"},f.k)for(var g in f.k)f[h](g)&&(b.glyphs[e].k[g]=f.k[g])}}return a},l.getFont=function(a,c,d,e){if(e=e||"normal",d=d||"normal",c=+c||{normal:400,bold:700,lighter:300,bolder:800}[c]||400,b.fonts){var f=b.fonts[a];if(!f){var g=new RegExp("(^|\\s)"+a.replace(/[^\w\d\s+!~.:_-]/g,q)+"(\\s|$)","i");for(var i in b.fonts)if(b.fonts[h](i)&&g.test(i)){f=b.fonts[i];break}}var j;if(f)for(var k=0,l=f.length;k<l&&(j=f[k],j.face["font-weight"]!=c||j.face["font-style"]!=d&&j.face["font-style"]||j.face["font-stretch"]!=e);k++);return j}},l.print=function(a,c,e,f,g,h,i,j){h=h||"middle",i=y(z(i||0,1),-1),j=y(z(j||1,3),1);var o,k=s(e)[t](q),l=0,m=0,n=q;if(b.is(f,"string")&&(f=this.getFont(f)),f){o=(g||16)/f.face["units-per-em"];for(var p=f.face.bbox[t](d),r=+p[0],u=p[3]-p[1],v=0,w=+p[1]+("baseline"==h?u+ +f.face.descent:u/2),x=0,A=k.length;x<A;x++){if("\n"==k[x])l=0,C=0,m=0,v+=u*j;else{var B=m&&f.glyphs[k[x-1]]||{},C=f.glyphs[k[x]];l+=m?(B.w||f.w)+(B.k&&B.k[k[x]]||0)+f.w*i:0,m=1}C&&C.d&&(n+=b.transformPath(C.d,["t",l*o,v*o,"s",o,o,r,w,"t",(a-r)/o,(c-w)/o]))}}return this.path(n).attr({fill:"#000",stroke:"none"})},l.add=function(a){if(b.is(a,"array"))for(var g,c=this.set(),d=0,f=a.length;d<f;d++)g=a[d]||{},e[h](g.type)&&c.push(this[g.type]().attr(g));return c},b.format=function(a,c){var d=b.is(c,F)?[0][o](c):arguments;return a&&b.is(a,E)&&d.length-1&&(a=a.replace(f,function(a,b){return null==d[++b]?q:d[b]})),a||q},b.fullfill=function(){var a=/\{([^\}]+)\}/g,b=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,c=function(a,c,d){var e=d;return c.replace(b,function(a,b,c,d,f){b=b||d,e&&(b in e&&(e=e[b]),"function"==typeof e&&f&&(e=e()))}),e=(null==e||e==d?a:e)+""};return function(b,d){return String(b).replace(a,function(a,b){return c(a,b,d)})}}(),b.ninja=function(){if(j.was)i.win.Raphael=j.is;else{window.Raphael=void 0;try{delete window.Raphael}catch(a){}}return b},b.st=Ib,a.on("raphael.DOMload",function(){c=!0}),function(a,c,d){function e(){/in/.test(a.readyState)?setTimeout(e,9):b.eve("raphael.DOMload")}null==a.readyState&&a.addEventListener&&(a.addEventListener(c,d=function(){a.removeEventListener(c,d,!1),a.readyState="complete"},!1),a.readyState="loading"),e()}(document,"DOMContentLoaded"),b}.apply(b,d))&&(a.exports=e)},function(a,b,c){var d,e;!function(c){var m,n,f="0.5.0",g="hasOwnProperty",h=/[\.\/]/,i=/\s*,\s*/,j="*",l=function(a,b){return a-b},o={n:{}},p=function(){for(var a=0,b=this.length;a<b;a++)if(void 0!==this[a])return this[a]},q=function(){for(var a=this.length;--a;)if(void 0!==this[a])return this[a]},r=Object.prototype.toString,s=String,t=Array.isArray||function(a){return a instanceof Array||"[object Array]"==r.call(a)};eve=function(a,b){var i,d=n,e=Array.prototype.slice.call(arguments,2),f=eve.listeners(a),g=0,j=[],k={},r=[],s=m;r.firstDefined=p,r.lastDefined=q,m=a,n=0;for(var u=0,v=f.length;u<v;u++)"zIndex"in f[u]&&(j.push(f[u].zIndex),f[u].zIndex<0&&(k[f[u].zIndex]=f[u]));for(j.sort(l);j[g]<0;)if(i=k[j[g++]],r.push(i.apply(b,e)),n)return n=d,r;for(u=0;u<v;u++)if("zIndex"in(i=f[u]))if(i.zIndex==j[g]){if(r.push(i.apply(b,e)),n)break;do{if(g++,i=k[j[g]],i&&r.push(i.apply(b,e)),n)break}while(i)}else k[i.zIndex]=i;else if(r.push(i.apply(b,e)),n)break;return n=d,m=s,r},eve._events=o,eve.listeners=function(a){var d,e,f,g,i,k,l,m,b=t(a)?a:a.split(h),c=o,n=[c],p=[];for(g=0,i=b.length;g<i;g++){for(m=[],k=0,l=n.length;k<l;k++)for(c=n[k].n,e=[c[b[g]],c[j]],f=2;f--;)(d=e[f])&&(m.push(d),p=p.concat(d.f||[]));n=m}return p},eve.separator=function(a){a?(a=s(a).replace(/(?=[\.\^\]\[\-])/g,"\\"),a="["+a+"]",h=new RegExp(a)):h=/[\.\/]/},eve.on=function(a,b){if("function"!=typeof b)return function(){};for(var c=t(a)?t(a[0])?a:[a]:s(a).split(i),d=0,e=c.length;d<e;d++)!function(a){for(var e,c=t(a)?a:s(a).split(h),d=o,f=0,g=c.length;f<g;f++)d=d.n,d=d.hasOwnProperty(c[f])&&d[c[f]]||(d[c[f]]={n:{}});for(d.f=d.f||[],f=0,g=d.f.length;f<g;f++)if(d.f[f]==b){e=!0;break}!e&&d.f.push(b)}(c[d]);return function(a){+a==+a&&(b.zIndex=+a)}},eve.f=function(a){var b=[].slice.call(arguments,1);return function(){eve.apply(null,[a,null].concat(b).concat([].slice.call(arguments,0)))}},eve.stop=function(){n=1},eve.nt=function(a){var b=t(m)?m.join("."):m;return a?new RegExp("(?:\\.|\\/|^)"+a+"(?:\\.|\\/|$)").test(b):b},eve.nts=function(){return t(m)?m:m.split(h)},eve.off=eve.unbind=function(a,b){if(!a)return void(eve._events=o={n:{}});var c=t(a)?t(a[0])?a:[a]:s(a).split(i);if(c.length>1)for(var d=0,e=c.length;d<e;d++)eve.off(c[d],b);else{c=t(a)?a:s(a).split(h);var f,k,l,d,e,m,n,p=[o];for(d=0,e=c.length;d<e;d++)for(m=0;m<p.length;m+=l.length-2){if(l=[m,1],f=p[m].n,c[d]!=j)f[c[d]]&&l.push(f[c[d]]);else for(k in f)f[g](k)&&l.push(f[k]);p.splice.apply(p,l)}for(d=0,e=p.length;d<e;d++)for(f=p[d];f.n;){if(b){if(f.f){for(m=0,n=f.f.length;m<n;m++)if(f.f[m]==b){f.f.splice(m,1);break}!f.f.length&&delete f.f}for(k in f.n)if(f.n[g](k)&&f.n[k].f){var q=f.n[k].f;for(m=0,n=q.length;m<n;m++)if(q[m]==b){q.splice(m,1);break}!q.length&&delete f.n[k].f}}else{delete f.f;for(k in f.n)f.n[g](k)&&f.n[k].f&&delete f.n[k].f}f=f.n}}},eve.once=function(a,b){var c=function(){return eve.off(a,c),b.apply(this,arguments)};return eve.on(a,c)},eve.version=f,eve.toString=function(){return"You are running Eve "+f},void 0!==a&&a.exports?a.exports=eve:(d=[],void 0!==(e=function(){return eve}.apply(b,d))&&(a.exports=e))}()},function(a,b,c){var d,e;d=[c(1)],void 0!==(e=function(a){if(!a||a.svg){var b="hasOwnProperty",c=String,d=parseFloat,e=parseInt,f=Math,g=f.max,h=f.abs,i=f.pow,j=/[, ]+/,k=a.eve,l="",m=" ",n="http://www.w3.org/1999/xlink",o={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},p={};a.toString=function(){return"Your browser supports SVG.\nYou are running Raphal "+this.version};var q=function(d,e){if(e){"string"==typeof d&&(d=q(d));for(var f in e)e[b](f)&&("xlink:"==f.substring(0,6)?d.setAttributeNS(n,f.substring(6),c(e[f])):d.setAttribute(f,c(e[f])))}else d=a._g.doc.createElementNS("http://www.w3.org/2000/svg",d),d.style&&(d.style.webkitTapHighlightColor="rgba(0,0,0,0)");return d},r=function(b,e){var j="linear",k=b.id+e,m=.5,n=.5,o=b.node,p=b.paper,r=o.style,s=a._g.doc.getElementById(k);if(!s){if(e=c(e).replace(a._radial_gradient,function(a,b,c){if(j="radial",b&&c){m=d(b),n=d(c);var e=2*(n>.5)-1;i(m-.5,2)+i(n-.5,2)>.25&&(n=f.sqrt(.25-i(m-.5,2))*e+.5)&&.5!=n&&(n=n.toFixed(5)-1e-5*e)}return l}),e=e.split(/\s*\-\s*/),"linear"==j){var u=e.shift();if(u=-d(u),isNaN(u))return null;var v=[0,0,f.cos(a.rad(u)),f.sin(a.rad(u))],w=1/(g(h(v[2]),h(v[3]))||1);v[2]*=w,v[3]*=w,v[2]<0&&(v[0]=-v[2],v[2]=0),v[3]<0&&(v[1]=-v[3],v[3]=0)}var x=a._parseDots(e);if(!x)return null;if(k=k.replace(/[\(\)\s,\xb0#]/g,"_"),b.gradient&&k!=b.gradient.id&&(p.defs.removeChild(b.gradient),delete b.gradient),!b.gradient){s=q(j+"Gradient",{id:k}),b.gradient=s,q(s,"radial"==j?{fx:m,fy:n}:{x1:v[0],y1:v[1],x2:v[2],y2:v[3],gradientTransform:b.matrix.invert()}),p.defs.appendChild(s);for(var y=0,z=x.length;y<z;y++)s.appendChild(q("stop",{offset:x[y].offset?x[y].offset:y?"100%":"0%","stop-color":x[y].color||"#fff","stop-opacity":isFinite(x[y].opacity)?x[y].opacity:1}))}}return q(o,{fill:t(k),opacity:1,"fill-opacity":1}),r.fill=l,r.opacity=1,r.fillOpacity=1,1},s=function(){var a=document.documentMode;return a&&(9===a||10===a)},t=function(a){if(s())return"url('#"+a+"')";var b=document.location;return"url('"+b.protocol+"//"+b.host+b.pathname+b.search+"#"+a+"')"},u=function(a){var b=a.getBBox(1);q(a.pattern,{patternTransform:a.matrix.invert()+" translate("+b.x+","+b.y+")"})},v=function(d,e,f){if("path"==d.type){for(var s,t,u,v,w,g=c(e).toLowerCase().split("-"),h=d.paper,i=f?"end":"start",j=d.node,k=d.attrs,m=k["stroke-width"],n=g.length,r="classic",x=3,y=3,z=5;n--;)switch(g[n]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":r=g[n];break;case"wide":y=5;break;case"narrow":y=2;break;case"long":x=5;break;case"short":x=2}if("open"==r?(x+=2,y+=2,z+=2,u=1,v=f?4:1,w={fill:"none",stroke:k.stroke}):(v=u=x/2,w={fill:k.stroke,stroke:"none"}),d._.arrows?f?(d._.arrows.endPath&&p[d._.arrows.endPath]--,d._.arrows.endMarker&&p[d._.arrows.endMarker]--):(d._.arrows.startPath&&p[d._.arrows.startPath]--,d._.arrows.startMarker&&p[d._.arrows.startMarker]--):d._.arrows={},"none"!=r){var A="raphael-marker-"+r,B="raphael-marker-"+i+r+x+y+"-obj"+d.id;a._g.doc.getElementById(A)?p[A]++:(h.defs.appendChild(q(q("path"),{"stroke-linecap":"round",d:o[r],id:A})),p[A]=1);var D,C=a._g.doc.getElementById(B);C?(p[B]++,D=C.getElementsByTagName("use")[0]):(C=q(q("marker"),{id:B,markerHeight:y,markerWidth:x,orient:"auto",refX:v,refY:y/2}),D=q(q("use"),{"xlink:href":"#"+A,transform:(f?"rotate(180 "+x/2+" "+y/2+") ":l)+"scale("+x/z+","+y/z+")","stroke-width":(1/((x/z+y/z)/2)).toFixed(4)}),C.appendChild(D),h.defs.appendChild(C),p[B]=1),q(D,w);var E=u*("diamond"!=r&&"oval"!=r);f?(s=d._.arrows.startdx*m||0,t=a.getTotalLength(k.path)-E*m):(s=E*m,t=a.getTotalLength(k.path)-(d._.arrows.enddx*m||0)),w={},w["marker-"+i]="url(#"+B+")",(t||s)&&(w.d=a.getSubpath(k.path,s,t)),q(j,w),d._.arrows[i+"Path"]=A,d._.arrows[i+"Marker"]=B,d._.arrows[i+"dx"]=E,d._.arrows[i+"Type"]=r,d._.arrows[i+"String"]=e}else f?(s=d._.arrows.startdx*m||0,t=a.getTotalLength(k.path)-s):(s=0,t=a.getTotalLength(k.path)-(d._.arrows.enddx*m||0)),d._.arrows[i+"Path"]&&q(j,{d:a.getSubpath(k.path,s,t)}),delete d._.arrows[i+"Path"],delete d._.arrows[i+"Marker"],delete d._.arrows[i+"dx"],delete d._.arrows[i+"Type"],delete d._.arrows[i+"String"];for(w in p)if(p[b](w)&&!p[w]){var F=a._g.doc.getElementById(w);F&&F.parentNode.removeChild(F)}}},w={"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},x=function(a,b,d){if(b=w[c(b).toLowerCase()]){for(var e=a.attrs["stroke-width"]||"1",f={round:e,square:e,butt:0}[a.attrs["stroke-linecap"]||d["stroke-linecap"]]||0,g=[],h=b.length;h--;)g[h]=b[h]*e+(h%2?1:-1)*f;q(a.node,{"stroke-dasharray":g.join(",")})}else q(a.node,{"stroke-dasharray":"none"})},y=function(d,f){var i=d.node,k=d.attrs,m=i.style.visibility;i.style.visibility="hidden";for(var o in f)if(f[b](o)){if(!a._availableAttrs[b](o))continue;var p=f[o];switch(k[o]=p,o){case"blur":d.blur(p);break;case"title":var s=i.getElementsByTagName("title");if(s.length&&(s=s[0]))s.firstChild.nodeValue=p;else{s=q("title");var t=a._g.doc.createTextNode(p);s.appendChild(t),i.appendChild(s)}break;case"href":case"target":var w=i.parentNode;if("a"!=w.tagName.toLowerCase()){var y=q("a");w.insertBefore(y,i),y.appendChild(i),w=y}"target"==o?w.setAttributeNS(n,"show","blank"==p?"new":p):w.setAttributeNS(n,o,p);break;case"cursor":i.style.cursor=p;break;case"transform":d.transform(p);break;case"arrow-start":v(d,p);break;case"arrow-end":v(d,p,1);break;case"clip-rect":var z=c(p).split(j);if(4==z.length){d.clip&&d.clip.parentNode.parentNode.removeChild(d.clip.parentNode);var B=q("clipPath"),C=q("rect");B.id=a.createUUID(),q(C,{x:z[0],y:z[1],width:z[2],height:z[3]}),B.appendChild(C),d.paper.defs.appendChild(B),q(i,{"clip-path":"url(#"+B.id+")"}),d.clip=C}if(!p){var D=i.getAttribute("clip-path");if(D){var E=a._g.doc.getElementById(D.replace(/(^url\(#|\)$)/g,l));E&&E.parentNode.removeChild(E),q(i,{"clip-path":l}),delete d.clip}}break;case"path":"path"==d.type&&(q(i,{d:p?k.path=a._pathToAbsolute(p):"M0,0"}),d._.dirty=1,d._.arrows&&("startString"in d._.arrows&&v(d,d._.arrows.startString),"endString"in d._.arrows&&v(d,d._.arrows.endString,1)));break;case"width":if(i.setAttribute(o,p),d._.dirty=1,!k.fx)break;o="x",p=k.x;case"x":k.fx&&(p=-k.x-(k.width||0));case"rx":if("rx"==o&&"rect"==d.type)break;case"cx":i.setAttribute(o,p),d.pattern&&u(d),d._.dirty=1;break;case"height":if(i.setAttribute(o,p),d._.dirty=1,!k.fy)break;o="y",p=k.y;case"y":k.fy&&(p=-k.y-(k.height||0));case"ry":if("ry"==o&&"rect"==d.type)break;case"cy":i.setAttribute(o,p),d.pattern&&u(d),d._.dirty=1;break;case"r":"rect"==d.type?q(i,{rx:p,ry:p}):i.setAttribute(o,p),d._.dirty=1;break;case"src":"image"==d.type&&i.setAttributeNS(n,"href",p);break;case"stroke-width":1==d._.sx&&1==d._.sy||(p/=g(h(d._.sx),h(d._.sy))||1),i.setAttribute(o,p),k["stroke-dasharray"]&&x(d,k["stroke-dasharray"],f),d._.arrows&&("startString"in d._.arrows&&v(d,d._.arrows.startString),"endString"in d._.arrows&&v(d,d._.arrows.endString,1));break;case"stroke-dasharray":x(d,p,f);break;case"fill":var F=c(p).match(a._ISURL);if(F){B=q("pattern");var G=q("image");B.id=a.createUUID(),q(B,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),q(G,{x:0,y:0,"xlink:href":F[1]}),B.appendChild(G),function(b){a._preload(F[1],function(){var a=this.offsetWidth,c=this.offsetHeight;q(b,{width:a,height:c}),q(G,{width:a,height:c})})}(B),d.paper.defs.appendChild(B),q(i,{fill:"url(#"+B.id+")"}),d.pattern=B,d.pattern&&u(d);break}var H=a.getRGB(p);if(H.error){if(("circle"==d.type||"ellipse"==d.type||"r"!=c(p).charAt())&&r(d,p)){if("opacity"in k||"fill-opacity"in k){var I=a._g.doc.getElementById(i.getAttribute("fill").replace(/^url\(#|\)$/g,l));if(I){var J=I.getElementsByTagName("stop");q(J[J.length-1],{"stop-opacity":("opacity"in k?k.opacity:1)*("fill-opacity"in k?k["fill-opacity"]:1)})}}k.gradient=p,k.fill="none";break}}else delete f.gradient,delete k.gradient,!a.is(k.opacity,"undefined")&&a.is(f.opacity,"undefined")&&q(i,{opacity:k.opacity}),!a.is(k["fill-opacity"],"undefined")&&a.is(f["fill-opacity"],"undefined")&&q(i,{"fill-opacity":k["fill-opacity"]});H[b]("opacity")&&q(i,{"fill-opacity":H.opacity>1?H.opacity/100:H.opacity});case"stroke":H=a.getRGB(p),i.setAttribute(o,H.hex),"stroke"==o&&H[b]("opacity")&&q(i,{"stroke-opacity":H.opacity>1?H.opacity/100:H.opacity}),"stroke"==o&&d._.arrows&&("startString"in d._.arrows&&v(d,d._.arrows.startString),"endString"in d._.arrows&&v(d,d._.arrows.endString,1));break;case"gradient":("circle"==d.type||"ellipse"==d.type||"r"!=c(p).charAt())&&r(d,p);break;case"opacity":k.gradient&&!k[b]("stroke-opacity")&&q(i,{"stroke-opacity":p>1?p/100:p});case"fill-opacity":if(k.gradient){I=a._g.doc.getElementById(i.getAttribute("fill").replace(/^url\(#|\)$/g,l)),I&&(J=I.getElementsByTagName("stop"),q(J[J.length-1],{"stop-opacity":p}));break}default:"font-size"==o&&(p=e(p,10)+"px");var K=o.replace(/(\-.)/g,function(a){return a.substring(1).toUpperCase()});i.style[K]=p,d._.dirty=1,i.setAttribute(o,p)}}A(d,f),i.style.visibility=m},z=1.2,A=function(d,f){if("text"==d.type&&(f[b]("text")||f[b]("font")||f[b]("font-size")||f[b]("x")||f[b]("y"))){var g=d.attrs,h=d.node,i=h.firstChild?e(a._g.doc.defaultView.getComputedStyle(h.firstChild,l).getPropertyValue("font-size"),10):10;if(f[b]("text")){for(g.text=f.text;h.firstChild;)h.removeChild(h.firstChild);for(var m,j=c(f.text).split("\n"),k=[],n=0,o=j.length;n<o;n++)m=q("tspan"),n&&q(m,{dy:i*z,x:g.x}),m.appendChild(a._g.doc.createTextNode(j[n])),h.appendChild(m),k[n]=m}else for(k=h.getElementsByTagName("tspan"),n=0,o=k.length;n<o;n++)n?q(k[n],{dy:i*z,x:g.x}):q(k[0],{dy:0});q(h,{x:g.x,y:g.y}),d._.dirty=1;var p=d._getBBox(),r=g.y-(p.y+p.height/2);r&&a.is(r,"finite")&&q(k[0],{dy:r})}},B=function(a){return a.parentNode&&"a"===a.parentNode.tagName.toLowerCase()?a.parentNode:a},C=function(b,c){function f(){return("0000"+(Math.random()*Math.pow(36,5)<<0).toString(36)).slice(-5)}this[0]=this.node=b,b.raphael=!0,this.id=f(),b.raphaelid=this.id,this.matrix=a.matrix(),this.realPath=null,this.paper=c,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!c.bottom&&(c.bottom=this),this.prev=c.top,c.top&&(c.top.next=this),c.top=this,this.next=null},D=a.el;C.prototype=D,D.constructor=C,a._engine.path=function(a,b){var c=q("path");b.canvas&&b.canvas.appendChild(c);var d=new C(c,b);return d.type="path",y(d,{fill:"none",stroke:"#000",path:a}),d},D.rotate=function(a,b,e){if(this.removed)return this;if(a=c(a).split(j),a.length-1&&(b=d(a[1]),e=d(a[2])),a=d(a[0]),null==e&&(b=e),null==b||null==e){var f=this.getBBox(1);b=f.x+f.width/2,e=f.y+f.height/2}return this.transform(this._.transform.concat([["r",a,b,e]])),this},D.scale=function(a,b,e,f){if(this.removed)return this;if(a=c(a).split(j),a.length-1&&(b=d(a[1]),e=d(a[2]),f=d(a[3])),a=d(a[0]),null==b&&(b=a),null==f&&(e=f),null==e||null==f)var g=this.getBBox(1);return e=null==e?g.x+g.width/2:e,f=null==f?g.y+g.height/2:f,this.transform(this._.transform.concat([["s",a,b,e,f]])),this},D.translate=function(a,b){return this.removed?this:(a=c(a).split(j),a.length-1&&(b=d(a[1])),a=d(a[0])||0,b=+b||0,this.transform(this._.transform.concat([["t",a,b]])),this)},D.transform=function(c){var d=this._;if(null==c)return d.transform;if(a._extractTransform(this,c),this.clip&&q(this.clip,{transform:this.matrix.invert()}),this.pattern&&u(this),this.node&&q(this.node,{transform:this.matrix}),1!=d.sx||1!=d.sy){var e=this.attrs[b]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":e})}return this},D.hide=function(){return this.removed||(this.node.style.display="none"),this},D.show=function(){return this.removed||(this.node.style.display=""),this},D.remove=function(){var b=B(this.node);if(!this.removed&&b.parentNode){var c=this.paper;c.__set__&&c.__set__.exclude(this),k.unbind("raphael.*.*."+this.id),this.gradient&&c.defs.removeChild(this.gradient),a._tear(this,c),b.parentNode.removeChild(b),this.removeData();for(var d in this)this[d]="function"==typeof this[d]?a._removedFactory(d):null;this.removed=!0}},D._getBBox=function(){if("none"==this.node.style.display){this.show();var a=!0}var c,b=!1;this.paper.canvas.parentElement?c=this.paper.canvas.parentElement.style:this.paper.canvas.parentNode&&(c=this.paper.canvas.parentNode.style),c&&"none"==c.display&&(b=!0,c.display="");var d={};try{d=this.node.getBBox()}catch(a){d={x:this.node.clientLeft,y:this.node.clientTop,width:this.node.clientWidth,height:this.node.clientHeight}}finally{d=d||{},b&&(c.display="none")}return a&&this.hide(),d},D.attr=function(c,d){if(this.removed)return this;if(null==c){var e={};for(var f in this.attrs)this.attrs[b](f)&&(e[f]=this.attrs[f]);return e.gradient&&"none"==e.fill&&(e.fill=e.gradient)&&delete e.gradient,e.transform=this._.transform,e}if(null==d&&a.is(c,"string")){if("fill"==c&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==c)return this._.transform;for(var g=c.split(j),h={},i=0,l=g.length;i<l;i++)c=g[i],c in this.attrs?h[c]=this.attrs[c]:a.is(this.paper.customAttributes[c],"function")?h[c]=this.paper.customAttributes[c].def:h[c]=a._availableAttrs[c];return l-1?h:h[g[0]]}if(null==d&&a.is(c,"array")){for(h={},i=0,l=c.length;i<l;i++)h[c[i]]=this.attr(c[i]);return h}if(null!=d){var m={};m[c]=d}else null!=c&&a.is(c,"object")&&(m=c);for(var n in m)k("raphael.attr."+n+"."+this.id,this,m[n]);for(n in this.paper.customAttributes)if(this.paper.customAttributes[b](n)&&m[b](n)&&a.is(this.paper.customAttributes[n],"function")){var o=this.paper.customAttributes[n].apply(this,[].concat(m[n]));this.attrs[n]=m[n];for(var p in o)o[b](p)&&(m[p]=o[p])}return y(this,m),this},D.toFront=function(){if(this.removed)return this;var b=B(this.node);b.parentNode.appendChild(b);var c=this.paper;return c.top!=this&&a._tofront(this,c),this},D.toBack=function(){if(this.removed)return this;var b=B(this.node),c=b.parentNode;c.insertBefore(b,c.firstChild),a._toback(this,this.paper);this.paper;return this},D.insertAfter=function(b){if(this.removed||!b)return this;var c=B(this.node),d=B(b.node||b[b.length-1].node);return d.nextSibling?d.parentNode.insertBefore(c,d.nextSibling):d.parentNode.appendChild(c),a._insertafter(this,b,this.paper),this},D.insertBefore=function(b){if(this.removed||!b)return this;var c=B(this.node),d=B(b.node||b[0].node);return d.parentNode.insertBefore(c,d),a._insertbefore(this,b,this.paper),this},D.blur=function(b){var c=this;if(0!=+b){var d=q("filter"),e=q("feGaussianBlur");c.attrs.blur=b,d.id=a.createUUID(),q(e,{stdDeviation:+b||1.5}),d.appendChild(e),c.paper.defs.appendChild(d),c._blur=d,q(c.node,{filter:"url(#"+d.id+")"})}else c._blur&&(c._blur.parentNode.removeChild(c._blur),delete c._blur,delete c.attrs.blur),c.node.removeAttribute("filter");return c},a._engine.circle=function(a,b,c,d){var e=q("circle");a.canvas&&a.canvas.appendChild(e);var f=new C(e,a);return f.attrs={cx:b,cy:c,r:d,fill:"none",stroke:"#000"},f.type="circle",q(e,f.attrs),f},a._engine.rect=function(a,b,c,d,e,f){var g=q("rect");a.canvas&&a.canvas.appendChild(g);var h=new C(g,a);return h.attrs={x:b,y:c,width:d,height:e,rx:f||0,ry:f||0,fill:"none",stroke:"#000"},h.type="rect",q(g,h.attrs),h},a._engine.ellipse=function(a,b,c,d,e){var f=q("ellipse");a.canvas&&a.canvas.appendChild(f);var g=new C(f,a);return g.attrs={cx:b,cy:c,rx:d,ry:e,fill:"none",stroke:"#000"},g.type="ellipse",q(f,g.attrs),g},a._engine.image=function(a,b,c,d,e,f){var g=q("image");q(g,{x:c,y:d,width:e,height:f,preserveAspectRatio:"none"}),g.setAttributeNS(n,"href",b),a.canvas&&a.canvas.appendChild(g);var h=new C(g,a);return h.attrs={x:c,y:d,width:e,height:f,src:b},h.type="image",h},a._engine.text=function(b,c,d,e){var f=q("text");b.canvas&&b.canvas.appendChild(f);var g=new C(f,b);return g.attrs={x:c,y:d,"text-anchor":"middle",text:e,"font-family":a._availableAttrs["font-family"],"font-size":a._availableAttrs["font-size"],stroke:"none",fill:"#000"},g.type="text",y(g,g.attrs),g},a._engine.setSize=function(a,b){return this.width=a||this.width,this.height=b||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},a._engine.create=function(){var b=a._getContainer.apply(0,arguments),c=b&&b.container,d=b.x,e=b.y,f=b.width,g=b.height;if(!c)throw new Error("SVG container not found.");var j,h=q("svg"),i="overflow:hidden;";return d=d||0,e=e||0,f=f||512,g=g||342,q(h,{height:g,version:1.1,width:f,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),1==c?(h.style.cssText=i+"position:absolute;left:"+d+"px;top:"+e+"px",a._g.doc.body.appendChild(h),j=1):(h.style.cssText=i+"position:relative",c.firstChild?c.insertBefore(h,c.firstChild):c.appendChild(h)),c=new a._Paper,c.width=f,c.height=g,c.canvas=h,c.clear(),c._left=c._top=0,j&&(c.renderfix=function(){}),c.renderfix(),c},a._engine.setViewBox=function(a,b,c,d,e){k("raphael.setViewBox",this,this._viewBox,[a,b,c,d,e]);var l,n,f=this.getSize(),h=g(c/f.width,d/f.height),i=this.top,j=e?"xMidYMid meet":"xMinYMin";for(null==a?(this._vbSize&&(h=1),delete this._vbSize,l="0 0 "+this.width+m+this.height):(this._vbSize=h,l=a+m+b+m+c+m+d),q(this.canvas,{viewBox:l,preserveAspectRatio:j});h&&i;)n="stroke-width"in i.attrs?i.attrs["stroke-width"]:1,i.attr({"stroke-width":n}),i._.dirty=1,i._.dirtyT=1,i=i.prev;return this._viewBox=[a,b,c,d,!!e],this},a.prototype.renderfix=function(){var c,a=this.canvas,b=a.style;try{c=a.getScreenCTM()||a.createSVGMatrix()}catch(b){c=a.createSVGMatrix()}var d=-c.e%1,e=-c.f%1;(d||e)&&(d&&(this._left=(this._left+d)%1,b.left=this._left+"px"),e&&(this._top=(this._top+e)%1,b.top=this._top+"px"))},a.prototype.clear=function(){a.eve("raphael.clear",this);for(var b=this.canvas;b.firstChild;)b.removeChild(b.firstChild);this.bottom=this.top=null,(this.desc=q("desc")).appendChild(a._g.doc.createTextNode("Created with Raphal "+a.version)),b.appendChild(this.desc),b.appendChild(this.defs=q("defs"))},a.prototype.remove=function(){k("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var b in this)this[b]="function"==typeof this[b]?a._removedFactory(b):null};var E=a.st;for(var F in D)D[b](F)&&!E[b](F)&&(E[F]=function(a){return function(){var b=arguments;return this.forEach(function(c){c[a].apply(c,b)})}}(F))}}.apply(b,d))&&(a.exports=e)},function(a,b,c){var d,e;d=[c(1)],void 0!==(e=function(a){if(!a||a.vml){var b="hasOwnProperty",c=String,d=parseFloat,e=Math,f=e.round,g=e.max,h=e.min,i=e.abs,j="fill",k=/[, ]+/,l=a.eve,m=" progid:DXImageTransform.Microsoft",n=" ",o="",p={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},q=/([clmz]),?([^clmz]*)/gi,r=/ progid:\S+Blur\([^\)]+\)/g,s=/-?[^,\s-]+/g,t="position:absolute;left:0;top:0;width:1px;height:1px;behavior:url(#default#VML)",u=21600,v={path:1,rect:1,image:1},w={circle:1,ellipse:1},x=function(b){var d=/[ahqstv]/gi,e=a._pathToAbsolute;if(c(b).match(d)&&(e=a._path2curve),d=/[clmz]/g,e==a._pathToAbsolute&&!c(b).match(d)){var g=c(b).replace(q,function(a,b,c){var d=[],e="m"==b.toLowerCase(),g=p[b];return c.replace(s,function(a){e&&2==d.length&&(g+=d+p["m"==b?"l":"L"],d=[]),d.push(f(a*u))}),g+d});return g}var i,j,h=e(b);g=[];for(var k=0,l=h.length;k<l;k++){i=h[k],j=h[k][0].toLowerCase(),"z"==j&&(j="x");for(var m=1,r=i.length;m<r;m++)j+=f(i[m]*u)+(m!=r-1?",":o);g.push(j)}return g.join(n)},y=function(b,c,d){var e=a.matrix();return e.rotate(-b,.5,.5),{dx:e.x(c,d),dy:e.y(c,d)}},z=function(a,b,c,d,e,f){var g=a._,h=a.matrix,k=g.fillpos,l=a.node,m=l.style,o=1,p="",r=u/b,s=u/c;if(m.visibility="hidden",b&&c){if(l.coordsize=i(r)+n+i(s),m.rotation=f*(b*c<0?-1:1),f){var t=y(f,d,e);d=t.dx,e=t.dy}if(b<0&&(p+="x"),c<0&&(p+=" y")&&(o=-1),m.flip=p,l.coordorigin=d*-r+n+e*-s,k||g.fillsize){var v=l.getElementsByTagName(j);v=v&&v[0],l.removeChild(v),k&&(t=y(f,h.x(k[0],k[1]),h.y(k[0],k[1])),v.position=t.dx*o+n+t.dy*o),g.fillsize&&(v.size=g.fillsize[0]*i(b)+n+g.fillsize[1]*i(c)),l.appendChild(v)}m.visibility="visible"}};a.toString=function(){return"Your browser doesnt support SVG. Falling down to VML.\nYou are running Raphal "+this.version};var A=function(a,b,d){for(var e=c(b).toLowerCase().split("-"),f=d?"end":"start",g=e.length,h="classic",i="medium",j="medium";g--;)switch(e[g]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":h=e[g];break;case"wide":case"narrow":j=e[g];break;case"long":case"short":i=e[g]}var k=a.node.getElementsByTagName("stroke")[0];k[f+"arrow"]=h,k[f+"arrowlength"]=i,k[f+"arrowwidth"]=j},B=function(e,i){e.attrs=e.attrs||{};var l=e.node,m=e.attrs,p=l.style,r=v[e.type]&&(i.x!=m.x||i.y!=m.y||i.width!=m.width||i.height!=m.height||i.cx!=m.cx||i.cy!=m.cy||i.rx!=m.rx||i.ry!=m.ry||i.r!=m.r),s=w[e.type]&&(m.cx!=i.cx||m.cy!=i.cy||m.r!=i.r||m.rx!=i.rx||m.ry!=i.ry),t=e;for(var y in i)i[b](y)&&(m[y]=i[y]);if(r&&(m.path=a._getPath[e.type](e),e._.dirty=1),i.href&&(l.href=i.href),i.title&&(l.title=i.title),i.target&&(l.target=i.target),i.cursor&&(p.cursor=i.cursor),"blur"in i&&e.blur(i.blur),(i.path&&"path"==e.type||r)&&(l.path=x(~c(m.path).toLowerCase().indexOf("r")?a._pathToAbsolute(m.path):m.path),e._.dirty=1,"image"==e.type&&(e._.fillpos=[m.x,m.y],e._.fillsize=[m.width,m.height],z(e,1,1,0,0,0))),"transform"in i&&e.transform(i.transform),s){var B=+m.cx,D=+m.cy,E=+m.rx||+m.r||0,G=+m.ry||+m.r||0;l.path=a.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",f((B-E)*u),f((D-G)*u),f((B+E)*u),f((D+G)*u),f(B*u)),e._.dirty=1}if("clip-rect"in i){var H=c(i["clip-rect"]).split(k);if(4==H.length){H[2]=+H[2]+ +H[0],H[3]=+H[3]+ +H[1];var I=l.clipRect||a._g.doc.createElement("div"),J=I.style;J.clip=a.format("rect({1}px {2}px {3}px {0}px)",H),l.clipRect||(J.position="absolute",J.top=0,J.left=0,J.width=e.paper.width+"px",J.height=e.paper.height+"px",l.parentNode.insertBefore(I,l),I.appendChild(l),l.clipRect=I)}i["clip-rect"]||l.clipRect&&(l.clipRect.style.clip="auto")}if(e.textpath){var K=e.textpath.style;i.font&&(K.font=i.font),i["font-family"]&&(K.fontFamily='"'+i["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,o)+'"'),i["font-size"]&&(K.fontSize=i["font-size"]),i["font-weight"]&&(K.fontWeight=i["font-weight"]),i["font-style"]&&(K.fontStyle=i["font-style"])}if("arrow-start"in i&&A(t,i["arrow-start"]),"arrow-end"in i&&A(t,i["arrow-end"],1),null!=i.opacity||null!=i.fill||null!=i.src||null!=i.stroke||null!=i["stroke-width"]||null!=i["stroke-opacity"]||null!=i["fill-opacity"]||null!=i["stroke-dasharray"]||null!=i["stroke-miterlimit"]||null!=i["stroke-linejoin"]||null!=i["stroke-linecap"]){var L=l.getElementsByTagName(j);if(L=L&&L[0],!L&&(L=F(j)),"image"==e.type&&i.src&&(L.src=i.src),i.fill&&(L.on=!0),null!=L.on&&"none"!=i.fill&&null!==i.fill||(L.on=!1),L.on&&i.fill){var N=c(i.fill).match(a._ISURL);if(N){L.parentNode==l&&l.removeChild(L),L.rotate=!0,L.src=N[1],L.type="tile";var O=e.getBBox(1);L.position=O.x+n+O.y,e._.fillpos=[O.x,O.y],a._preload(N[1],function(){e._.fillsize=[this.offsetWidth,this.offsetHeight]})}else L.color=a.getRGB(i.fill).hex,L.src=o,L.type="solid",a.getRGB(i.fill).error&&(t.type in{circle:1,ellipse:1}||"r"!=c(i.fill).charAt())&&C(t,i.fill,L)&&(m.fill="none",m.gradient=i.fill,L.rotate=!1)}if("fill-opacity"in i||"opacity"in i){var P=((+m["fill-opacity"]+1||2)-1)*((+m.opacity+1||2)-1)*((+a.getRGB(i.fill).o+1||2)-1);P=h(g(P,0),1),L.opacity=P,L.src&&(L.color="none")}l.appendChild(L);var Q=l.getElementsByTagName("stroke")&&l.getElementsByTagName("stroke")[0],R=!1;!Q&&(R=Q=F("stroke")),(i.stroke&&"none"!=i.stroke||i["stroke-width"]||null!=i["stroke-opacity"]||i["stroke-dasharray"]||i["stroke-miterlimit"]||i["stroke-linejoin"]||i["stroke-linecap"])&&(Q.on=!0),("none"==i.stroke||null===i.stroke||null==Q.on||0==i.stroke||0==i["stroke-width"])&&(Q.on=!1);var S=a.getRGB(i.stroke);Q.on&&i.stroke&&(Q.color=S.hex),P=((+m["stroke-opacity"]+1||2)-1)*((+m.opacity+1||2)-1)*((+S.o+1||2)-1);var T=.75*(d(i["stroke-width"])||1);if(P=h(g(P,0),1),null==i["stroke-width"]&&(T=m["stroke-width"]),i["stroke-width"]&&(Q.weight=T),T&&T<1&&(P*=T)&&(Q.weight=1),Q.opacity=P,i["stroke-linejoin"]&&(Q.joinstyle=i["stroke-linejoin"]||"miter"),Q.miterlimit=i["stroke-miterlimit"]||8,i["stroke-linecap"]&&(Q.endcap="butt"==i["stroke-linecap"]?"flat":"square"==i["stroke-linecap"]?"square":"round"),"stroke-dasharray"in i){var U={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};Q.dashstyle=U[b](i["stroke-dasharray"])?U[i["stroke-dasharray"]]:o}R&&l.appendChild(Q)}if("text"==t.type){t.paper.canvas.style.display=o;var V=t.paper.span,W=100,X=m.font&&m.font.match(/\d+(?:\.\d*)?(?=px)/);p=V.style,m.font&&(p.font=m.font),m["font-family"]&&(p.fontFamily=m["font-family"]),m["font-weight"]&&(p.fontWeight=m["font-weight"]),m["font-style"]&&(p.fontStyle=m["font-style"]),X=d(m["font-size"]||X&&X[0])||10,p.fontSize=X*W+"px",t.textpath.string&&(V.innerHTML=c(t.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var Y=V.getBoundingClientRect();t.W=m.w=(Y.right-Y.left)/W,t.H=m.h=(Y.bottom-Y.top)/W,t.X=m.x,t.Y=m.y+t.H/2,("x"in i||"y"in i)&&(t.path.v=a.format("m{0},{1}l{2},{1}",f(m.x*u),f(m.y*u),f(m.x*u)+1));for(var Z=["x","y","text","font","font-family","font-weight","font-style","font-size"],$=0,_=Z.length;$<_;$++)if(Z[$]in i){t._.dirty=1;break}switch(m["text-anchor"]){case"start":t.textpath.style["v-text-align"]="left",t.bbx=t.W/2;break;case"end":t.textpath.style["v-text-align"]="right",t.bbx=-t.W/2;break;default:t.textpath.style["v-text-align"]="center",t.bbx=0}t.textpath.style["v-text-kern"]=!0}},C=function(b,f,g){b.attrs=b.attrs||{};var i=(b.attrs,Math.pow),l="linear",m=".5 .5";if(b.attrs.gradient=f,f=c(f).replace(a._radial_gradient,function(a,b,c){return l="radial",b&&c&&(b=d(b),c=d(c),i(b-.5,2)+i(c-.5,2)>.25&&(c=e.sqrt(.25-i(b-.5,2))*(2*(c>.5)-1)+.5),m=b+n+c),o}),f=f.split(/\s*\-\s*/),"linear"==l){var p=f.shift();if(p=-d(p),isNaN(p))return null}var q=a._parseDots(f);if(!q)return null;if(b=b.shape||b.node,q.length){b.removeChild(g),g.on=!0,g.method="none",g.color=q[0].color,g.color2=q[q.length-1].color;for(var r=[],s=0,t=q.length;s<t;s++)q[s].offset&&r.push(q[s].offset+n+q[s].color);g.colors=r.length?r.join():"0% "+g.color,"radial"==l?(g.type="gradientTitle",g.focus="100%",g.focussize="0 0",g.focusposition=m,g.angle=0):(g.type="gradient",g.angle=(270-p)%360),b.appendChild(g)}return 1},D=function(b,c){this[0]=this.node=b,b.raphael=!0,this.id=a._oid++,b.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=c,this.matrix=a.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!c.bottom&&(c.bottom=this),this.prev=c.top,c.top&&(c.top.next=this),c.top=this,this.next=null},E=a.el;D.prototype=E,E.constructor=D,E.transform=function(b){if(null==b)return this._.transform;var f,d=this.paper._viewBoxShift,e=d?"s"+[d.scale,d.scale]+"-1-1t"+[d.dx,d.dy]:o;d&&(f=b=c(b).replace(/\.{3}|\u2026/g,this._.transform||o)),a._extractTransform(this,e+b);var j,g=this.matrix.clone(),h=this.skew,i=this.node,k=~c(this.attrs.fill).indexOf("-"),l=!c(this.attrs.fill).indexOf("url(");if(g.translate(1,1),l||k||"image"==this.type)if(h.matrix="1 0 0 1",h.offset="0 0",j=g.split(),k&&j.noRotation||!j.isSimple){i.style.filter=g.toFilter();var m=this.getBBox(),p=this.getBBox(1),q=m.x-p.x,r=m.y-p.y;i.coordorigin=q*-u+n+r*-u,z(this,1,1,q,r,0)}else i.style.filter=o,z(this,j.scalex,j.scaley,j.dx,j.dy,j.rotate);else i.style.filter=o,h.matrix=c(g),h.offset=g.offset();return null!==f&&(this._.transform=f,a._extractTransform(this,f)),this},E.rotate=function(a,b,e){if(this.removed)return this;if(null!=a){if(a=c(a).split(k),a.length-1&&(b=d(a[1]),e=d(a[2])),a=d(a[0]),null==e&&(b=e),null==b||null==e){var f=this.getBBox(1);b=f.x+f.width/2,e=f.y+f.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",a,b,e]])),this}},E.translate=function(a,b){return this.removed?this:(a=c(a).split(k),a.length-1&&(b=d(a[1])),a=d(a[0])||0,b=+b||0,this._.bbox&&(this._.bbox.x+=a,this._.bbox.y+=b),this.transform(this._.transform.concat([["t",a,b]])),this)},E.scale=function(a,b,e,f){if(this.removed)return this;if(a=c(a).split(k),a.length-1&&(b=d(a[1]),e=d(a[2]),f=d(a[3]),isNaN(e)&&(e=null),isNaN(f)&&(f=null)),a=d(a[0]),null==b&&(b=a),null==f&&(e=f),null==e||null==f)var g=this.getBBox(1);return e=null==e?g.x+g.width/2:e,f=null==f?g.y+g.height/2:f,this.transform(this._.transform.concat([["s",a,b,e,f]])),this._.dirtyT=1,this},E.hide=function(){return!this.removed&&(this.node.style.display="none"),this},E.show=function(){return!this.removed&&(this.node.style.display=o),this},E.auxGetBBox=a.el.getBBox,E.getBBox=function(){var a=this.auxGetBBox();if(this.paper&&this.paper._viewBoxShift){var b={},c=1/this.paper._viewBoxShift.scale;return b.x=a.x-this.paper._viewBoxShift.dx,b.x*=c,b.y=a.y-this.paper._viewBoxShift.dy,b.y*=c,b.width=a.width*c,b.height=a.height*c,b.x2=b.x+b.width,b.y2=b.y+b.height,b}return a},E._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},E.remove=function(){if(!this.removed&&this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this),a.eve.unbind("raphael.*.*."+this.id),a._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var b in this)this[b]="function"==typeof this[b]?a._removedFactory(b):null;this.removed=!0}},E.attr=function(c,d){if(this.removed)return this;if(null==c){var e={};for(var f in this.attrs)this.attrs[b](f)&&(e[f]=this.attrs[f]);return e.gradient&&"none"==e.fill&&(e.fill=e.gradient)&&delete e.gradient,e.transform=this._.transform,e}if(null==d&&a.is(c,"string")){if(c==j&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var g=c.split(k),h={},i=0,m=g.length;i<m;i++)c=g[i],c in this.attrs?h[c]=this.attrs[c]:a.is(this.paper.customAttributes[c],"function")?h[c]=this.paper.customAttributes[c].def:h[c]=a._availableAttrs[c];return m-1?h:h[g[0]]}if(this.attrs&&null==d&&a.is(c,"array")){for(h={},i=0,m=c.length;i<m;i++)h[c[i]]=this.attr(c[i]);return h}var n;null!=d&&(n={},n[c]=d),null==d&&a.is(c,"object")&&(n=c);for(var o in n)l("raphael.attr."+o+"."+this.id,this,n[o]);if(n){for(o in this.paper.customAttributes)if(this.paper.customAttributes[b](o)&&n[b](o)&&a.is(this.paper.customAttributes[o],"function")){var p=this.paper.customAttributes[o].apply(this,[].concat(n[o]));this.attrs[o]=n[o];for(var q in p)p[b](q)&&(n[q]=p[q])}n.text&&"text"==this.type&&(this.textpath.string=n.text),B(this,n)}return this},E.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&a._tofront(this,this.paper),this},E.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),a._toback(this,this.paper)),this)},E.insertAfter=function(b){return this.removed?this:(b.constructor==a.st.constructor&&(b=b[b.length-1]),b.node.nextSibling?b.node.parentNode.insertBefore(this.node,b.node.nextSibling):b.node.parentNode.appendChild(this.node),a._insertafter(this,b,this.paper),this)},E.insertBefore=function(b){return this.removed?this:(b.constructor==a.st.constructor&&(b=b[0]),b.node.parentNode.insertBefore(this.node,b.node),a._insertbefore(this,b,this.paper),this)},E.blur=function(b){var c=this.node.runtimeStyle,d=c.filter;return d=d.replace(r,o),0!=+b?(this.attrs.blur=b,c.filter=d+n+m+".Blur(pixelradius="+(+b||1.5)+")",c.margin=a.format("-{0}px 0 0 -{0}px",f(+b||1.5))):(c.filter=d,c.margin=0,delete this.attrs.blur),this},a._engine.path=function(a,b){var c=F("shape");c.style.cssText=t,c.coordsize=u+n+u,c.coordorigin=b.coordorigin;var d=new D(c,b),e={fill:"none",stroke:"#000"};a&&(e.path=a),d.type="path",d.path=[],d.Path=o,B(d,e),b.canvas&&b.canvas.appendChild(c);var f=F("skew");return f.on=!0,c.appendChild(f),d.skew=f,d.transform(o),d},a._engine.rect=function(b,c,d,e,f,g){var h=a._rectPath(c,d,e,f,g),i=b.path(h),j=i.attrs;return i.X=j.x=c,i.Y=j.y=d,i.W=j.width=e,i.H=j.height=f,j.r=g,j.path=h,i.type="rect",i},a._engine.ellipse=function(a,b,c,d,e){var f=a.path();f.attrs;return f.X=b-d,f.Y=c-e,f.W=2*d,f.H=2*e,f.type="ellipse",B(f,{cx:b,cy:c,rx:d,ry:e}),f},a._engine.circle=function(a,b,c,d){var e=a.path();e.attrs;return e.X=b-d,e.Y=c-d,e.W=e.H=2*d,e.type="circle",B(e,{cx:b,cy:c,r:d}),e},a._engine.image=function(b,c,d,e,f,g){var h=a._rectPath(d,e,f,g),i=b.path(h).attr({stroke:"none"}),k=i.attrs,l=i.node,m=l.getElementsByTagName(j)[0];return k.src=c,i.X=k.x=d,i.Y=k.y=e,i.W=k.width=f,i.H=k.height=g,k.path=h,i.type="image",m.parentNode==l&&l.removeChild(m),m.rotate=!0,m.src=c,m.type="tile",i._.fillpos=[d,e],i._.fillsize=[f,g],l.appendChild(m),z(i,1,1,0,0,0),i},a._engine.text=function(b,d,e,g){var h=F("shape"),i=F("path"),j=F("textpath");d=d||0,e=e||0,g=g||"",i.v=a.format("m{0},{1}l{2},{1}",f(d*u),f(e*u),f(d*u)+1),i.textpathok=!0,j.string=c(g),j.on=!0,h.style.cssText=t,h.coordsize=u+n+u,h.coordorigin="0 0";var k=new D(h,b),l={fill:"#000",stroke:"none",font:a._availableAttrs.font,text:g};k.shape=h,k.path=i,k.textpath=j,k.type="text",k.attrs.text=c(g),k.attrs.x=d,k.attrs.y=e,k.attrs.w=1,k.attrs.h=1,B(k,l),h.appendChild(j),h.appendChild(i),b.canvas.appendChild(h);var m=F("skew");return m.on=!0,h.appendChild(m),k.skew=m,k.transform(o),k},a._engine.setSize=function(b,c){var d=this.canvas.style;return this.width=b,this.height=c,b==+b&&(b+="px"),c==+c&&(c+="px"),d.width=b,d.height=c,d.clip="rect(0 "+b+" "+c+" 0)",this._viewBox&&a._engine.setViewBox.apply(this,this._viewBox),this},a._engine.setViewBox=function(b,c,d,e,f){a.eve("raphael.setViewBox",this,this._viewBox,[b,c,d,e,f]);var j,k,g=this.getSize(),h=g.width,i=g.height;return f&&(j=i/e,k=h/d,d*j<h&&(b-=(h-d*j)/2/j),e*k<i&&(c-=(i-e*k)/2/k)),this._viewBox=[b,c,d,e,!!f],this._viewBoxShift={dx:-b,dy:-c,scale:g},this.forEach(function(a){a.transform("...")}),this};var F;a._engine.initWin=function(a){var b=a.document;b.styleSheets.length<31?b.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)"):b.styleSheets[0].addRule(".rvml","behavior:url(#default#VML)");try{!b.namespaces.rvml&&b.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),F=function(a){return b.createElement("<rvml:"+a+' class="rvml">')}}catch(a){F=function(a){return b.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},a._engine.initWin(a._g.win),a._engine.create=function(){var b=a._getContainer.apply(0,arguments),c=b.container,d=b.height,f=b.width,g=b.x,h=b.y;if(!c)throw new Error("VML container not found.");var i=new a._Paper,j=i.canvas=a._g.doc.createElement("div"),k=j.style;return g=g||0,h=h||0,f=f||512,d=d||342,i.width=f,i.height=d,f==+f&&(f+="px"),d==+d&&(d+="px"),i.coordsize=1e3*u+n+1e3*u,i.coordorigin="0 0",i.span=a._g.doc.createElement("span"),i.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",j.appendChild(i.span),k.cssText=a.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",f,d),1==c?(a._g.doc.body.appendChild(j),k.left=g+"px",k.top=h+"px",k.position="absolute"):c.firstChild?c.insertBefore(j,c.firstChild):c.appendChild(j),i.renderfix=function(){},i},a.prototype.clear=function(){a.eve("raphael.clear",this),this.canvas.innerHTML=o,this.span=a._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},a.prototype.remove=function(){a.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas);for(var b in this)this[b]="function"==typeof this[b]?a._removedFactory(b):null;return!0};var G=a.st;for(var H in E)E[b](H)&&!G[b](H)&&(G[H]=function(a){return function(){var b=arguments;return this.forEach(function(c){c[a].apply(c,b)})}}(H))}}.apply(b,d))&&(a.exports=e)}])}),function(){function e(a){return a&&(a.ownerDocument||a.document||a).documentElement}function f(a){return a&&(a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView)}function l(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}function m(a){return null===a?NaN:+a}function n(a){return!isNaN(a)}function o(a){return{left:function(b,c,d,e){for(arguments.length<3&&(d=0),arguments.length<4&&(e=b.length);d<e;){var f=d+e>>>1;a(b[f],c)<0?d=f+1:e=f}return d},right:function(b,c,d,e){for(arguments.length<3&&(d=0),arguments.length<4&&(e=b.length);d<e;){var f=d+e>>>1;a(b[f],c)>0?e=f:d=f+1}return d}}}function q(a){return a.length}function s(a){for(var b=1;a*b%1;)b*=10;return b}function t(a,b){for(var c in b)Object.defineProperty(a.prototype,c,{value:b[c],enumerable:!1})}function u(){this._=Object.create(null)}function x(a){return(a+="")===v||a[0]===w?w+a:a}function y(a){return(a+="")[0]===w?a.slice(1):a}function z(a){return x(a)in this._}function A(a){return(a=x(a))in this._&&delete this._[a]}function B(){var a=[];for(var b in this._)a.push(y(b));return a}function C(){var a=0;for(var b in this._)++a;return a}function D(){for(var a in this._)return!1;return!0}function E(){this._=Object.create(null)}function F(a){return a}function G(a,b,c){return function(){var d=c.apply(b,arguments);return d===b?a:d}}function H(a,b){if(b in a)return b;b=b.charAt(0).toUpperCase()+b.slice(1);for(var c=0,d=I.length;c<d;++c){var e=I[c]+b;if(e in a)return e}}function J(){}function K(){}function L(a){function d(){for(var f,c=b,d=-1,e=c.length;++d<e;)(f=c[d].on)&&f.apply(this,arguments);return a}var b=[],c=new u;return d.on=function(d,e){var g,f=c.get(d);return arguments.length<2?f&&f.on:(f&&(f.on=null,b=b.slice(0,g=b.indexOf(f)).concat(b.slice(g+1)),c.remove(d)),e&&b.push(c.set(d,{on:e})),a)},d}function M(){a.event.preventDefault()}function N(){for(var c,b=a.event;c=b.sourceEvent;)b=c;return b}function O(b){for(var c=new K,d=0,e=arguments.length;++d<e;)c[arguments[d]]=L(c);return c.of=function(d,e){return function(f){try{var g=f.sourceEvent=a.event;f.target=b,a.event=f,c[f.type].apply(d,e)}finally{a.event=g}}},c}function R(a){return Q(a,V),a}function W(a){return"function"==typeof a?a:function(){return S(a,this)}}function X(a){return"function"==typeof a?a:function(){return T(a,this)}}function $(b,c){function d(){this.removeAttribute(b)}function e(){this.removeAttributeNS(b.space,b.local)}function f(){this.setAttribute(b,c)}function g(){this.setAttributeNS(b.space,b.local,c)}function h(){var a=c.apply(this,arguments);null==a?this.removeAttribute(b):this.setAttribute(b,a)}function i(){var a=c.apply(this,arguments);null==a?this.removeAttributeNS(b.space,b.local):this.setAttributeNS(b.space,b.local,a)}return b=a.ns.qualify(b),null==c?b.local?e:d:"function"==typeof c?b.local?i:h:b.local?g:f}function _(a){return a.trim().replace(/\s+/g," ")}function aa(b){return new RegExp("(?:^|\\s+)"+a.requote(b)+"(?:\\s+|$)","g")}function ba(a){return(a+"").trim().split(/^|\s+/)}function ca(a,b){function d(){for(var d=-1;++d<c;)a[d](this,b)}function e(){for(var d=-1,e=b.apply(this,arguments);++d<c;)a[d](this,e)}a=ba(a).map(da);var c=a.length;return"function"==typeof b?e:d}function da(a){var b=aa(a);return function(c,d){if(e=c.classList)return d?e.add(a):e.remove(a);var e=c.getAttribute("class")||"";d?(b.lastIndex=0,b.test(e)||c.setAttribute("class",_(e+" "+a))):c.setAttribute("class",_(e.replace(b," ")))}}function ea(a,b,c){function d(){this.style.removeProperty(a)}function e(){this.style.setProperty(a,b,c)}function f(){var d=b.apply(this,arguments);null==d?this.style.removeProperty(a):this.style.setProperty(a,d,c)}return null==b?d:"function"==typeof b?f:e}function fa(a,b){function c(){delete this[a]}function d(){this[a]=b}function e(){var c=b.apply(this,arguments);null==c?delete this[a]:this[a]=c}return null==b?c:"function"==typeof b?e:d}function ga(b){function c(){var a=this.ownerDocument,c=this.namespaceURI;return c===Y&&a.documentElement.namespaceURI===Y?a.createElement(b):a.createElementNS(c,b)}function d(){return this.ownerDocument.createElementNS(b.space,b.local)}return"function"==typeof b?b:(b=a.ns.qualify(b)).local?d:c}function ha(){var a=this.parentNode;a&&a.removeChild(this)}function ia(a){return{__data__:a}}function ja(a){return function(){return U(this,a)}}function ka(a){return arguments.length||(a=l),function(b,c){return b&&c?a(b.__data__,c.__data__):!b-!c}}function la(a,b){for(var c=0,d=a.length;c<d;c++)for(var h,e=a[c],f=0,g=e.length;f<g;f++)(h=e[f])&&b(h,f,c);return a}function ma(a){return Q(a,na),a}function oa(a){var b,c;return function(d,e,f){var i,g=a[f].update,h=g.length;for(f!=c&&(c=f,b=0),e>=b&&(b=e+1);!(i=g[b])&&++b<h;);return i}}function pa(b,d,e){function j(){var a=this[f];a&&(this.removeEventListener(b,a,a.$),delete this[f])}function k(){var a=h(d,c(arguments));j.call(this),this.addEventListener(b,this[f]=a,a.$=e),a._=d}function l(){var d,c=new RegExp("^__on([^.]+)"+a.requote(b)+"$");for(var e in this)if(d=e.match(c)){var f=this[e];this.removeEventListener(d[1],f,f.$),delete this[e]}}var f="__on"+b,g=b.indexOf("."),h=ra;g>0&&(b=b.slice(0,g));var i=qa.get(b);return i&&(b=i,h=sa),g?d?k:j:d?J:l}function ra(b,c){return function(d){var e=a.event;a.event=d,c[0]=this.__data__;try{b.apply(this,c)}finally{a.event=e}}}function sa(a,b){var c=ra(a,b);return function(a){var b=this,d=a.relatedTarget;d&&(d===b||8&d.compareDocumentPosition(b))||c.call(b,a)}}function va(b){var c=".dragsuppress-"+ ++ua,d="click"+c,g=a.select(f(b)).on("touchmove"+c,M).on("dragstart"+c,M).on("selectstart"+c,M);if(null==ta&&(ta=!("onselectstart"in b)&&H(b.style,"userSelect")),ta){var h=e(b).style,i=h[ta];h[ta]="none"}return function(a){if(g.on(c,null),ta&&(h[ta]=i),a){var b=function(){g.on(d,null)};g.on(d,function(){M(),b()},!0),setTimeout(b,0)}}}function xa(b,c){c.changedTouches&&(c=c.changedTouches[0]);var d=b.ownerSVGElement||b;if(d.createSVGPoint){var e=d.createSVGPoint();if(wa<0){var g=f(b);if(g.scrollX||g.scrollY){d=a.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var h=d[0][0].getScreenCTM();wa=!(h.f||h.e),d.remove()}}return wa?(e.x=c.pageX,e.y=c.pageY):(e.x=c.clientX,e.y=c.clientY),e=e.matrixTransform(b.getScreenCTM().inverse()),[e.x,e.y]}var i=b.getBoundingClientRect();return[c.clientX-i.left-b.clientLeft,c.clientY-i.top-b.clientTop]}function ya(){return a.event.changedTouches[0].identifier}function Ha(a){return a>0?1:a<0?-1:0}function Ia(a,b,c){return(b[0]-a[0])*(c[1]-a[1])-(b[1]-a[1])*(c[0]-a[0])}function Ja(a){return a>1?0:a<-1?Ba:Math.acos(a)}function Ka(a){return a>1?Ea:a<-1?-Ea:Math.asin(a)}function La(a){return((a=Math.exp(a))-1/a)/2}function Ma(a){return((a=Math.exp(a))+1/a)/2}function Na(a){return((a=Math.exp(2*a))-1)/(a+1)}function Oa(a){return(a=Math.sin(a/2))*a}function Va(){}function Wa(a,b,c){return this instanceof Wa?(this.h=+a,this.s=+b,void(this.l=+c)):arguments.length<2?a instanceof Wa?new Wa(a.h,a.s,a.l):qb(""+a,rb,Wa):new Wa(a,b,c)}function Ya(a,b,c){function f(a){return a>360?a-=360:a<0&&(a+=360),a<60?d+(e-d)*a/60:a<180?e:a<240?d+(e-d)*(240-a)/60:d}function g(a){return Math.round(255*f(a))}var d,e;return a=isNaN(a)?0:(a%=360)<0?a+360:a,b=isNaN(b)?0:b<0?0:b>1?1:b,c=c<0?0:c>1?1:c,e=c<=.5?c*(1+b):c+b-c*b,d=2*c-e,new lb(g(a+120),g(a),g(a-120))}function Za(b,c,d){return this instanceof Za?(this.h=+b,this.c=+c,void(this.l=+d)):arguments.length<2?b instanceof Za?new Za(b.h,b.c,b.l):b instanceof ab?hb(b.l,b.a,b.b):hb((b=sb((b=a.rgb(b)).r,b.g,b.b)).l,b.a,b.b):new Za(b,c,d)}function _a(a,b,c){return isNaN(a)&&(a=0),isNaN(b)&&(b=0),new ab(c,Math.cos(a*=Fa)*b,Math.sin(a)*b)}function ab(a,b,c){return this instanceof ab?(this.l=+a,this.a=+b,void(this.b=+c)):arguments.length<2?a instanceof ab?new ab(a.l,a.a,a.b):a instanceof Za?_a(a.h,a.c,a.l):sb((a=lb(a)).r,a.g,a.b):new ab(a,b,c)}function gb(a,b,c){var d=(a+16)/116,e=d+b/500,f=d-c/200;return e=ib(e)*cb,d=ib(d)*db,f=ib(f)*eb,new lb(kb(3.2404542*e-1.5371385*d-.4985314*f),kb(-.969266*e+1.8760108*d+.041556*f),kb(.0556434*e-.2040259*d+1.0572252*f))}function hb(a,b,c){return a>0?new Za(Math.atan2(c,b)*Ga,Math.sqrt(b*b+c*c),a):new Za(NaN,NaN,a)}function ib(a){return a>.206893034?a*a*a:(a-4/29)/7.787037}function jb(a){return a>.008856?Math.pow(a,1/3):7.787037*a+4/29}function kb(a){return Math.round(255*(a<=.00304?12.92*a:1.055*Math.pow(a,1/2.4)-.055))}function lb(a,b,c){return this instanceof lb?(this.r=~~a,this.g=~~b,void(this.b=~~c)):arguments.length<2?a instanceof lb?new lb(a.r,a.g,a.b):qb(""+a,lb,Ya):new lb(a,b,c)}function mb(a){return new lb(a>>16,a>>8&255,255&a)}function nb(a){return mb(a)+""}function pb(a){return a<16?"0"+Math.max(0,a).toString(16):Math.min(255,a).toString(16)}function qb(a,b,c){var g,h,i,d=0,e=0,f=0;if(g=/([a-z]+)\((.*)\)/.exec(a=a.toLowerCase()))switch(h=g[2].split(","),g[1]){case"hsl":return c(parseFloat(h[0]),parseFloat(h[1])/100,parseFloat(h[2])/100);case"rgb":return b(ub(h[0]),ub(h[1]),ub(h[2]))}return(i=vb.get(a))?b(i.r,i.g,i.b):(null==a||"#"!==a.charAt(0)||isNaN(i=parseInt(a.slice(1),16))||(4===a.length?(d=(3840&i)>>4,d|=d>>4,e=240&i,e|=e>>4,f=15&i,f|=f<<4):7===a.length&&(d=(16711680&i)>>16,e=(65280&i)>>8,f=255&i)),b(d,e,f))}function rb(a,b,c){var g,h,d=Math.min(a/=255,b/=255,c/=255),e=Math.max(a,b,c),f=e-d,i=(e+d)/2;return f?(h=i<.5?f/(e+d):f/(2-e-d),g=a==e?(b-c)/f+(b<c?6:0):b==e?(c-a)/f+2:(a-b)/f+4,g*=60):(g=NaN,h=i>0&&i<1?0:g),new Wa(g,h,i)}function sb(a,b,c){a=tb(a),b=tb(b),c=tb(c);var d=jb((.4124564*a+.3575761*b+.1804375*c)/cb),e=jb((.2126729*a+.7151522*b+.072175*c)/db);return ab(116*e-16,500*(d-e),200*(e-jb((.0193339*a+.119192*b+.9503041*c)/eb)))}function tb(a){return(a/=255)<=.04045?a/12.92:Math.pow((a+.055)/1.055,2.4)}function ub(a){var b=parseFloat(a);return"%"===a.charAt(a.length-1)?Math.round(2.55*b):b}function wb(a){return"function"==typeof a?a:function(){return a}}function xb(a){return function(b,c,d){return 2===arguments.length&&"function"==typeof c&&(d=c,c=null),yb(b,c,a,d)}}function yb(b,d,e,f){function l(){var b,a=j.status;if(!a&&Ab(j)||a>=200&&a<300||304===a){try{b=e.call(g,j)}catch(a){return void h.error.call(g,a)}h.load.call(g,b)}else h.error.call(g,j)}var g={},h=a.dispatch("beforesend","progress","load","error"),i={},j=new XMLHttpRequest,k=null;return!this.XDomainRequest||"withCredentials"in j||!/^(http(s)?:)?\/\//.test(b)||(j=new XDomainRequest),"onload"in j?j.onload=j.onerror=l:j.onreadystatechange=function(){j.readyState>3&&l()},j.onprogress=function(b){var c=a.event;a.event=b;try{h.progress.call(g,j)}finally{a.event=c}},g.header=function(a,b){return a=(a+"").toLowerCase(),arguments.length<2?i[a]:(null==b?delete i[a]:i[a]=b+"",g)},g.mimeType=function(a){return arguments.length?(d=null==a?null:a+"",g):d},g.responseType=function(a){return arguments.length?(k=a,g):k},g.response=function(a){return e=a,g},["get","post"].forEach(function(a){g[a]=function(){return g.send.apply(g,[a].concat(c(arguments)))}}),g.send=function(a,c,e){if(2===arguments.length&&"function"==typeof c&&(e=c,c=null),j.open(a,b,!0),null==d||"accept"in i||(i.accept=d+",*/*"),j.setRequestHeader)for(var f in i)j.setRequestHeader(f,i[f]);return null!=d&&j.overrideMimeType&&j.overrideMimeType(d),null!=k&&(j.responseType=k),null!=e&&g.on("error",e).on("load",function(a){e(null,a)}),h.beforesend.call(g,j),j.send(null==c?null:c),g},g.abort=function(){return j.abort(),g},a.rebind(g,h,"on"),null==f?g:g.get(zb(f))}function zb(a){return 1===a.length?function(b,c){a(null==b?c:null)}:a}function Ab(a){var b=a.responseType;return b&&"text"!==b?a.response:a.responseText}function Gb(a,b,c){var d=arguments.length;d<2&&(b=0),d<3&&(c=Date.now());var e=c+b,f={c:a,t:e,n:null};return Cb?Cb.n=f:Bb=f,Cb=f,Db||(Eb=clearTimeout(Eb),Db=1,Fb(Hb)),f}function Hb(){var a=Ib(),b=Jb()-a;b>24?(isFinite(b)&&(clearTimeout(Eb),Eb=setTimeout(Hb,b)),Db=0):(Db=1,Fb(Hb))}function Ib(){for(var a=Date.now(),b=Bb;b;)a>=b.t&&b.c(a-b.t)&&(b.c=null),b=b.n;return a}function Jb(){for(var a,b=Bb,c=1/0;b;)b.c?(b.t<c&&(c=b.t),b=(a=b).n):b=a?a.n=b.n:Bb=b.n;return Cb=a,c}function Kb(a,b){return b-(a?Math.ceil(Math.log(a)/Math.LN10):1)}function Mb(a,b){var c=Math.pow(10,3*r(8-b));return{scale:b>8?function(a){return a/c}:function(a){return a*c},symbol:a}}function Nb(b){var c=b.decimal,d=b.thousands,e=b.grouping,f=b.currency,g=e&&d?function(a,b){for(var c=a.length,f=[],g=0,h=e[0],i=0;c>0&&h>0&&(i+h+1>b&&(h=Math.max(1,b-i)),f.push(a.substring(c-=h,c+h)),!((i+=h+1)>b));)h=e[g=(g+1)%e.length];return f.reverse().join(d)}:F;return function(b){var d=Ob.exec(b),e=d[1]||" ",h=d[2]||">",i=d[3]||"-",j=d[4]||"",k=d[5],l=+d[6],m=d[7],n=d[8],o=d[9],p=1,q="",r="",s=!1,t=!0;switch(n&&(n=+n.substring(1)),(k||"0"===e&&"="===h)&&(k=e="0",h="="),o){case"n":m=!0,o="g";break;case"%":p=100,r="%",o="f";break;case"p":p=100,r="%",o="r";break;case"b":case"o":case"x":case"X":"#"===j&&(q="0"+o.toLowerCase());case"c":t=!1;case"d":s=!0,n=0;break;case"s":p=-1,o="r"}"$"===j&&(q=f[0],r=f[1]),"r"!=o||n||(o="g"),null!=n&&("g"==o?n=Math.max(1,Math.min(21,n)):"e"!=o&&"f"!=o||(n=Math.max(0,Math.min(20,n)))),o=Pb.get(o)||Qb;var u=k&&m;return function(b){var d=r;if(s&&b%1)return"";var f=b<0||0===b&&1/b<0?(b=-b,"-"):"-"===i?"":i;if(p<0){var j=a.formatPrefix(b,n);b=j.scale(b),d=j.symbol+r}else b*=p;b=o(b,n);var w,x,v=b.lastIndexOf(".");if(v<0){var y=t?b.lastIndexOf("e"):-1;y<0?(w=b,x=""):(w=b.substring(0,y),x=b.substring(y))}else w=b.substring(0,v),x=c+b.substring(v+1);!k&&m&&(w=g(w,1/0));var z=q.length+w.length+x.length+(u?0:f.length),A=z<l?new Array(z=l-z+1).join(e):"";return u&&(w=g(A+w,A.length?l-x.length:1/0)),f+=q,b=w+x,("<"===h?f+b+A:">"===h?A+f+b:"^"===h?A.substring(0,z>>=1)+f+b+A.substring(z):f+(u?b:A+b))+d}}}function Qb(a){return a+""}function Tb(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Vb(a,b,c){function d(b){var c=a(b),d=f(c,1);return b-c<d-b?c:d}function e(c){return b(c=a(new Sb(c-1)),1),c}function f(a,c){return b(a=new Sb(+a),c),a}function g(a,d,f){var g=e(a),h=[];if(f>1)for(;g<d;)c(g)%f||h.push(new Date(+g)),b(g,1);else for(;g<d;)h.push(new Date(+g)),b(g,1);return h}function h(a,b,c){try{Sb=Tb;var d=new Tb;return d._=a,g(d,b,c)}finally{Sb=Date}}a.floor=a,a.round=d,a.ceil=e,a.offset=f,a.range=g;var i=a.utc=Wb(a);return i.floor=i,i.round=Wb(d),i.ceil=Wb(e),i.offset=Wb(f),i.range=h,a}function Wb(a){return function(b,c){try{Sb=Tb;var d=new Tb;return d._=b,a(d,c)._}finally{Sb=Date}}}function Xb(b){function k(a){function c(c){for(var g,h,i,d=[],e=-1,f=0;++e<b;)37===a.charCodeAt(e)&&(d.push(a.slice(f,e)),null!=(h=Yb[g=a.charAt(++e)])&&(g=a.charAt(++e)),(i=v[g])&&(g=i(c,null==h?"e"===g?" ":"0":h)),d.push(g),f=e+1);return d.push(a.slice(f,e)),d.join("")}var b=a.length;return c.parse=function(b){var c={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(l(c,a,b,0)!=b.length)return null;"p"in c&&(c.H=c.H%12+12*c.p);var e=null!=c.Z&&Sb!==Tb,f=new(e?Tb:Sb);return"j"in c?f.setFullYear(c.y,0,c.j):"W"in c||"U"in c?("w"in c||(c.w="W"in c?1:0),f.setFullYear(c.y,0,1),f.setFullYear(c.y,0,"W"in c?(c.w+6)%7+7*c.W-(f.getDay()+5)%7:c.w+7*c.U-(f.getDay()+6)%7)):f.setFullYear(c.y,c.m,c.d),f.setHours(c.H+(c.Z/100|0),c.M+c.Z%100,c.S,c.L),e?f._:f},c.toString=function(){return a},c}function l(a,b,c,d){for(var e,f,g,h=0,i=b.length,j=c.length;h<i;){if(d>=j)return-1;if(37===(e=b.charCodeAt(h++))){if(g=b.charAt(h++),!(f=w[g in Yb?b.charAt(h++):g])||(d=f(a,c,d))<0)return-1}else if(e!=c.charCodeAt(d++))return-1}return d}function x(a,b,c){p.lastIndex=0;var d=p.exec(b.slice(c));return d?(a.w=q.get(d[0].toLowerCase()),c+d[0].length):-1}function y(a,b,c){n.lastIndex=0;var d=n.exec(b.slice(c));return d?(a.w=o.get(d[0].toLowerCase()),c+d[0].length):-1}function z(a,b,c){t.lastIndex=0;var d=t.exec(b.slice(c));return d?(a.m=u.get(d[0].toLowerCase()),c+d[0].length):-1}function A(a,b,c){r.lastIndex=0;var d=r.exec(b.slice(c));return d?(a.m=s.get(d[0].toLowerCase()),c+d[0].length):-1}function B(a,b,c){return l(a,v.c.toString(),b,c)}function C(a,b,c){return l(a,v.x.toString(),b,c)}function D(a,b,c){return l(a,v.X.toString(),b,c)}function E(a,b,c){var d=m.get(b.slice(c,c+=2).toLowerCase());return null==d?-1:(a.p=d,c)}var c=b.dateTime,d=b.date,e=b.time,f=b.periods,g=b.days,h=b.shortDays,i=b.months,j=b.shortMonths;k.utc=function(a){function c(a){try{Sb=Tb;var c=new Sb;return c._=a,b(c)}finally{Sb=Date}}var b=k(a);return c.parse=function(a){try{Sb=Tb;var c=b.parse(a);return c&&c._}finally{Sb=Date}},c.toString=b.toString,c},k.multi=k.utc.multi=sc;var m=a.map(),n=ac(g),o=bc(g),p=ac(h),q=bc(h),r=ac(i),s=bc(i),t=ac(j),u=bc(j);f.forEach(function(a,b){m.set(a.toLowerCase(),b)});var v={a:function(a){return h[a.getDay()]},A:function(a){return g[a.getDay()]},b:function(a){return j[a.getMonth()]},B:function(a){return i[a.getMonth()]},c:k(c),d:function(a,b){return _b(a.getDate(),b,2)},e:function(a,b){return _b(a.getDate(),b,2)},H:function(a,b){return _b(a.getHours(),b,2)},I:function(a,b){return _b(a.getHours()%12||12,b,2)},j:function(a,b){return _b(1+Rb.dayOfYear(a),b,3)},L:function(a,b){return _b(a.getMilliseconds(),b,3)},m:function(a,b){return _b(a.getMonth()+1,b,2)},M:function(a,b){return _b(a.getMinutes(),b,2)},p:function(a){return f[+(a.getHours()>=12)]},S:function(a,b){return _b(a.getSeconds(),b,2)},U:function(a,b){return _b(Rb.sundayOfYear(a),b,2)},w:function(a){return a.getDay()},W:function(a,b){return _b(Rb.mondayOfYear(a),b,2)},x:k(d),X:k(e),y:function(a,b){return _b(a.getFullYear()%100,b,2)},Y:function(a,b){return _b(a.getFullYear()%1e4,b,4)},Z:qc,"%":function(){return"%"}},w={a:x,A:y,b:z,B:A,c:B,d:kc,e:kc,H:mc,I:mc,j:lc,L:pc,m:jc,M:nc,p:E,S:oc,U:dc,w:cc,W:ec,x:C,X:D,y:gc,Y:fc,Z:hc,"%":rc};return k}function _b(a,b,c){var d=a<0?"-":"",e=(d?-a:a)+"",f=e.length;return d+(f<c?new Array(c-f+1).join(b)+e:e)}function ac(b){return new RegExp("^(?:"+b.map(a.requote).join("|")+")","i")}function bc(a){for(var b=new u,c=-1,d=a.length;++c<d;)b.set(a[c].toLowerCase(),c);return b}function cc(a,b,c){Zb.lastIndex=0;var d=Zb.exec(b.slice(c,c+1));return d?(a.w=+d[0],c+d[0].length):-1}function dc(a,b,c){Zb.lastIndex=0;var d=Zb.exec(b.slice(c));return d?(a.U=+d[0],c+d[0].length):-1}function ec(a,b,c){Zb.lastIndex=0;var d=Zb.exec(b.slice(c));return d?(a.W=+d[0],c+d[0].length):-1}function fc(a,b,c){Zb.lastIndex=0;var d=Zb.exec(b.slice(c,c+4));return d?(a.y=+d[0],c+d[0].length):-1}function gc(a,b,c){Zb.lastIndex=0;var d=Zb.exec(b.slice(c,c+2));return d?(a.y=ic(+d[0]),c+d[0].length):-1}function hc(a,b,c){return/^[+-]\d{4}$/.test(b=b.slice(c,c+5))?(a.Z=-b,c+5):-1}function ic(a){return a+(a>68?1900:2e3)}function jc(a,b,c){Zb.lastIndex=0;var d=Zb.exec(b.slice(c,c+2));return d?(a.m=d[0]-1,c+d[0].length):-1}function kc(a,b,c){Zb.lastIndex=0;var d=Zb.exec(b.slice(c,c+2));return d?(a.d=+d[0],c+d[0].length):-1}function lc(a,b,c){Zb.lastIndex=0;var d=Zb.exec(b.slice(c,c+3));return d?(a.j=+d[0],c+d[0].length):-1}function mc(a,b,c){Zb.lastIndex=0;var d=Zb.exec(b.slice(c,c+2));return d?(a.H=+d[0],c+d[0].length):-1}function nc(a,b,c){Zb.lastIndex=0;var d=Zb.exec(b.slice(c,c+2));return d?(a.M=+d[0],c+d[0].length):-1}function oc(a,b,c){Zb.lastIndex=0;var d=Zb.exec(b.slice(c,c+2));return d?(a.S=+d[0],c+d[0].length):-1}function pc(a,b,c){Zb.lastIndex=0;var d=Zb.exec(b.slice(c,c+3));return d?(a.L=+d[0],c+d[0].length):-1}function qc(a){var b=a.getTimezoneOffset(),c=b>0?"-":"+",d=r(b)/60|0,e=r(b)%60;return c+_b(d,"0",2)+_b(e,"0",2)}function rc(a,b,c){$b.lastIndex=0;var d=$b.exec(b.slice(c,c+1));return d?c+d[0].length:-1}function sc(a){for(var b=a.length,c=-1;++c<b;)a[c][0]=this(a[c][0]);return function(b){for(var c=0,d=a[c];!d[1](b);)d=a[++c];return d[0](b)}}function uc(){}function wc(a,b,c){var d=c.s=a+b,e=d-a,f=d-e;c.t=a-f+(b-e)}function xc(a,b){a&&zc.hasOwnProperty(a.type)&&zc[a.type](a,b)}function Ac(a,b,c){var f,d=-1,e=a.length-c;for(b.lineStart();++d<e;)f=a[d],b.point(f[0],f[1],f[2]);b.lineEnd()}function Bc(a,b){var c=-1,d=a.length;for(b.polygonStart();++c<d;)Ac(a[c],b,1);b.polygonEnd()}function Fc(){function f(a,b){a*=Fa,b=b*Fa/2+Ba/4;var f=a-c,g=f>=0?1:-1,h=g*f,i=Math.cos(b),j=Math.sin(b),k=e*j,l=d*i+k*Math.cos(h),m=k*g*Math.sin(h);Dc.add(Math.atan2(m,l)),c=a,d=i,e=j}var a,b,c,d,e;Ec.point=function(g,h){Ec.point=f,c=(a=g)*Fa,d=Math.cos(h=(b=h)*Fa/2+Ba/4),e=Math.sin(h)},Ec.lineEnd=function(){f(a,b)}}function Gc(a){var b=a[0],c=a[1],d=Math.cos(c);return[d*Math.cos(b),d*Math.sin(b),Math.sin(c)]}function Hc(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function Ic(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function Jc(a,b){a[0]+=b[0],a[1]+=b[1],a[2]+=b[2]}function Kc(a,b){return[a[0]*b,a[1]*b,a[2]*b]}function Lc(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);a[0]/=b,a[1]/=b,a[2]/=b}function Mc(a){return[Math.atan2(a[1],a[0]),Ka(a[2])]}function Nc(a,b){return r(a[0]-b[0])<za&&r(a[1]-b[1])<za}function $c(a,b){a*=Fa;var c=Math.cos(b*=Fa);_c(c*Math.cos(a),c*Math.sin(a),Math.sin(b))}function _c(a,b,c){++Oc,Qc+=(a-Qc)/Oc,Rc+=(b-Rc)/Oc,Sc+=(c-Sc)/Oc}function ad(){function d(d,e){d*=Fa;var f=Math.cos(e*=Fa),g=f*Math.cos(d),h=f*Math.sin(d),i=Math.sin(e),j=Math.atan2(Math.sqrt((j=b*i-c*h)*j+(j=c*g-a*i)*j+(j=a*h-b*g)*j),a*g+b*h+c*i);Pc+=j,Tc+=j*(a+(a=g)),Uc+=j*(b+(b=h)),Vc+=j*(c+(c=i)),_c(a,b,c)}var a,b,c;Zc.point=function(e,f){e*=Fa;var g=Math.cos(f*=Fa);a=g*Math.cos(e),b=g*Math.sin(e),c=Math.sin(f),Zc.point=d,_c(a,b,c)}}function bd(){Zc.point=$c}function cd(){function f(a,b){a*=Fa;var f=Math.cos(b*=Fa),g=f*Math.cos(a),h=f*Math.sin(a),i=Math.sin(b),j=d*i-e*h,k=e*g-c*i,l=c*h-d*g,m=Math.sqrt(j*j+k*k+l*l),n=c*g+d*h+e*i,o=m&&-Ja(n)/m,p=Math.atan2(m,n);Wc+=o*j,Xc+=o*k,Yc+=o*l,Pc+=p,Tc+=p*(c+(c=g)),Uc+=p*(d+(d=h)),Vc+=p*(e+(e=i)),_c(c,d,e)}var a,b,c,d,e;Zc.point=function(g,h){a=g,b=h,Zc.point=f,g*=Fa;var i=Math.cos(h*=Fa);c=i*Math.cos(g),d=i*Math.sin(g),e=Math.sin(h),_c(c,d,e)},Zc.lineEnd=function(){f(a,b),Zc.lineEnd=bd,Zc.point=$c}}function dd(a,b){function c(c,d){return c=a(c,d),b(c[0],c[1])}return a.invert&&b.invert&&(c.invert=function(c,d){return(c=b.invert(c,d))&&a.invert(c[0],c[1])}),c}function ed(){return!0}function fd(a,b,c,d,e){var f=[],g=[];if(a.forEach(function(a){if(!((b=a.length-1)<=0)){var b,c=a[0],d=a[b];if(Nc(c,d)){e.lineStart();for(var h=0;h<b;++h)e.point((c=a[h])[0],c[1]);return void e.lineEnd()}var i=new hd(c,a,null,!0),j=new hd(c,null,i,!1);i.o=j,f.push(i),g.push(j),i=new hd(d,a,null,!1),j=new hd(d,null,i,!0),i.o=j,f.push(i),g.push(j)}}),g.sort(b),gd(f),gd(g),f.length){for(var h=0,i=c,j=g.length;h<j;++h)g[h].e=i=!i;for(var l,m,k=f[0];;){for(var n=k,o=!0;n.v;)if((n=n.n)===k)return;l=n.z,e.lineStart();do{if(n.v=n.o.v=!0,n.e){if(o)for(var h=0,j=l.length;h<j;++h)e.point((m=l[h])[0],m[1]);else d(n.x,n.n.x,1,e);n=n.n}else{if(o){l=n.p.z;for(var h=l.length-1;h>=0;--h)e.point((m=l[h])[0],m[1])}else d(n.x,n.p.x,-1,e);n=n.p}n=n.o,l=n.z,o=!o}while(!n.v);e.lineEnd()}}}function gd(a){if(b=a.length){for(var b,e,c=0,d=a[0];++c<b;)d.n=e=a[c],e.p=d,d=e;d.n=e=a[0],e.p=d}}function hd(a,b,c,d){this.x=a,this.z=b,this.o=c,this.e=d,this.v=!1,this.n=this.p=null}function id(b,c,d,e){return function(f,g){function k(a,c){var d=f(a,c);b(a=d[0],c=d[1])&&g.point(a,c)}function l(a,b){var c=f(a,b);h.point(c[0],c[1])}function m(){j.point=l,h.lineStart()}function n(){j.point=k,h.lineEnd()}function u(a,b){t.push([a,b]);var c=f(a,b);q.point(c[0],c[1])}function v(){q.lineStart(),t=[]}function w(){u(t[0][0],t[0][1]),q.lineEnd();var c,a=q.clean(),b=p.buffer(),d=b.length;if(t.pop(),s.push(t),t=null,d)if(1&a){c=b[0];var f,d=c.length-1,e=-1;if(d>0){for(r||(g.polygonStart(),r=!0),g.lineStart();++e<d;)g.point((f=c[e])[0],f[1]);g.lineEnd()}}else d>1&&2&a&&b.push(b.pop().concat(b.shift())),o.push(b.filter(jd))}var o,s,t,h=c(g),i=f.invert(e[0],e[1]),j={point:k,lineStart:m,lineEnd:n,polygonStart:function(){j.point=u,j.lineStart=v,j.lineEnd=w,o=[],s=[]},polygonEnd:function(){j.point=k,j.lineStart=m,j.lineEnd=n,o=a.merge(o);var b=qd(i,s);o.length?(r||(g.polygonStart(),r=!0),fd(o,ld,b,d,g)):b&&(r||(g.polygonStart(),r=!0),g.lineStart(),d(null,null,1,g),g.lineEnd()),r&&(g.polygonEnd(),r=!1),o=s=null},sphere:function(){g.polygonStart(),g.lineStart(),d(null,null,1,g),g.lineEnd(),g.polygonEnd()}},p=kd(),q=c(p),r=!1;return j}}function jd(a){return a.length>1}function kd(){var b,a=[];return{lineStart:function(){a.push(b=[])},point:function(a,c){b.push([a,c])},lineEnd:J,buffer:function(){var c=a;return a=[],b=null,c},rejoin:function(){a.length>1&&a.push(a.pop().concat(a.shift()))}}}function ld(a,b){return((a=a.x)[0]<0?a[1]-Ea-za:Ea-a[1])-((b=b.x)[0]<0?b[1]-Ea-za:Ea-b[1])}function nd(a){var e,b=NaN,c=NaN,d=NaN;return{lineStart:function(){a.lineStart(),e=1},point:function(f,g){var h=f>0?Ba:-Ba,i=r(f-b);r(i-Ba)<za?(a.point(b,c=(c+g)/2>0?Ea:-Ea),a.point(d,c),a.lineEnd(),a.lineStart(),a.point(h,c),a.point(f,c),e=0):d!==h&&i>=Ba&&(r(b-d)<za&&(b-=d*za),r(f-h)<za&&(f-=h*za),c=od(b,c,f,g),a.point(d,c),a.lineEnd(),a.lineStart(),a.point(h,c),e=0),a.point(b=f,c=g),d=h},lineEnd:function(){a.lineEnd(),b=c=NaN},clean:function(){return 2-e}}}function od(a,b,c,d){var e,f,g=Math.sin(a-c);return r(g)>za?Math.atan((Math.sin(b)*(f=Math.cos(d))*Math.sin(c)-Math.sin(d)*(e=Math.cos(b))*Math.sin(a))/(e*f*g)):(b+d)/2}function pd(a,b,c,d){var e;if(null==a)e=c*Ea,d.point(-Ba,e),d.point(0,e),d.point(Ba,e),d.point(Ba,0),d.point(Ba,-e),d.point(0,-e),d.point(-Ba,-e),d.point(-Ba,0),d.point(-Ba,e);else if(r(a[0]-b[0])>za){var f=a[0]<b[0]?Ba:-Ba;e=c*f/2,d.point(-f,e),d.point(0,e),d.point(f,e)}else d.point(b[0],b[1])}function qd(a,b){var c=a[0],d=a[1],e=[Math.sin(c),-Math.cos(c),0],f=0,g=0;Dc.reset();for(var h=0,i=b.length;h<i;++h){var j=b[h],k=j.length;if(k)for(var l=j[0],m=l[0],n=l[1]/2+Ba/4,o=Math.sin(n),p=Math.cos(n),q=1;;){q===k&&(q=0),a=j[q];var r=a[0],s=a[1]/2+Ba/4,t=Math.sin(s),u=Math.cos(s),v=r-m,w=v>=0?1:-1,x=w*v,y=x>Ba,z=o*t;if(Dc.add(Math.atan2(z*w*Math.sin(x),p*u+z*Math.cos(x))),f+=y?v+w*Ca:v,y^m>=c^r>=c){var A=Ic(Gc(l),Gc(a));Lc(A);var B=Ic(e,A);Lc(B);var C=(y^v>=0?-1:1)*Ka(B[2]);(d>C||d===C&&(A[0]||A[1]))&&(g+=y^v>=0?1:-1)}if(!q++)break;m=r,o=t,p=u,l=a}}return(f<-za||f<za&&Dc<-za)^1&g}function rd(a){function f(a,c){return Math.cos(a)*Math.cos(c)>b}function g(a){var b,e,g,j,k;return{lineStart:function(){j=g=!1,k=1},point:function(l,m){var o,n=[l,m],p=f(l,m),q=c?p?0:i(l,m):p?i(l+(l<0?Ba:-Ba),m):0;if(!b&&(j=g=p)&&a.lineStart(),p!==g&&(o=h(b,n),(Nc(b,o)||Nc(n,o))&&(n[0]+=za,n[1]+=za,p=f(n[0],n[1]))),p!==g)k=0,p?(a.lineStart(),o=h(n,b),a.point(o[0],o[1])):(o=h(b,n),a.point(o[0],o[1]),a.lineEnd()),b=o;else if(d&&b&&c^p){var r;q&e||!(r=h(n,b,!0))||(k=0,c?(a.lineStart(),a.point(r[0][0],r[0][1]),a.point(r[1][0],r[1][1]),a.lineEnd()):(a.point(r[1][0],r[1][1]),a.lineEnd(),a.lineStart(),a.point(r[0][0],r[0][1])))}!p||b&&Nc(b,n)||a.point(n[0],n[1]),b=n,g=p,e=q},lineEnd:function(){g&&a.lineEnd(),b=null},clean:function(){return k|(j&&g)<<1}}}function h(a,c,d){var e=Gc(a),f=Gc(c),g=[1,0,0],h=Ic(e,f),i=Hc(h,h),j=h[0],k=i-j*j;if(!k)return!d&&a;var l=b*i/k,m=-b*j/k,n=Ic(g,h),o=Kc(g,l);Jc(o,Kc(h,m));var q=n,s=Hc(o,q),t=Hc(q,q),u=s*s-t*(Hc(o,o)-1);if(!(u<0)){var v=Math.sqrt(u),w=Kc(q,(-s-v)/t);if(Jc(w,o),w=Mc(w),!d)return w;var B,x=a[0],y=c[0],z=a[1],A=c[1];y<x&&(B=x,x=y,y=B);var C=y-x,D=r(C-Ba)<za,E=D||C<za;if(!D&&A<z&&(B=z,z=A,A=B),E?D?z+A>0^w[1]<(r(w[0]-x)<za?z:A):z<=w[1]&&w[1]<=A:C>Ba^(x<=w[0]&&w[0]<=y)){var F=Kc(q,(-s+v)/t);return Jc(F,o),[w,Mc(F)]}}}function i(b,d){var e=c?a:Ba-a,f=0;return b<-e?f|=1:b>e&&(f|=2),d<-e?f|=4:d>e&&(f|=8),f}var b=Math.cos(a),c=b>0,d=r(b)>za;return id(f,g,ae(a,6*Fa),c?[0,-a]:[-Ba,a-Ba])}function sd(a,b,c,d){return function(e){var p,f=e.a,g=e.b,h=f.x,i=f.y,j=g.x,k=g.y,l=0,m=1,n=j-h,o=k-i;if(p=a-h,n||!(p>0)){if(p/=n,n<0){if(p<l)return;p<m&&(m=p)}else if(n>0){if(p>m)return;p>l&&(l=p)}if(p=c-h,n||!(p<0)){if(p/=n,n<0){if(p>m)return;p>l&&(l=p)}else if(n>0){if(p<l)return;p<m&&(m=p)}if(p=b-i,o||!(p>0)){if(p/=o,o<0){if(p<l)return;p<m&&(m=p)}else if(o>0){if(p>m)return;p>l&&(l=p)}if(p=d-i,o||!(p<0)){if(p/=o,o<0){if(p>m)return;p>l&&(l=p)}else if(o>0){if(p<l)return;p<m&&(m=p)}return l>0&&(e.a={x:h+l*n,y:i+l*o}),m<1&&(e.b={x:h+m*n,y:i+m*o}),e}}}}}}function ud(b,c,d,e){function f(a,e){return r(a[0]-b)<za?e>0?0:3:r(a[0]-d)<za?e>0?2:1:r(a[1]-c)<za?e>0?1:0:e>0?3:2}function g(a,b){return h(a.x,b.x)}function h(a,b){var c=f(a,1),d=f(b,1);return c!==d?c-d:0===c?b[1]-a[1]:1===c?a[0]-b[0]:2===c?a[1]-b[1]:b[0]-a[0]}return function(i){function q(a){for(var b=0,c=n.length,d=a[1],e=0;e<c;++e)for(var j,f=1,g=n[e],h=g.length,i=g[0];f<h;++f)j=g[f],i[1]<=d?j[1]>d&&Ia(i,j,a)>0&&++b:j[1]<=d&&Ia(i,j,a)<0&&--b,i=j;return 0!==b}function r(a,g,i,j){var k=0,l=0;if(null==a||(k=f(a,i))!==(l=f(g,i))||h(a,g)<0^i>0)do{j.point(0===k||3===k?b:d,k>1?e:c)}while((k=(k+i+4)%4)!==l);else j.point(g[0],g[1])}function s(a,f){return b<=a&&a<=d&&c<=f&&f<=e}function t(a,b){s(a,b)&&i.point(a,b)}function C(){p.point=E,n&&n.push(o=[]),A=!0,z=!1,x=y=NaN}function D(){m&&(E(u,v),w&&z&&k.rejoin(),m.push(k.buffer())),p.point=t,z&&i.lineEnd()}function E(a,b){a=Math.max(-td,Math.min(td,a)),b=Math.max(-td,Math.min(td,b));var c=s(a,b);if(n&&o.push([a,b]),A)u=a,v=b,w=c,A=!1,c&&(i.lineStart(),i.point(a,b));else if(c&&z)i.point(a,b);else{var d={a:{x:x,y:y},b:{x:a,y:b}};l(d)?(z||(i.lineStart(),i.point(d.a.x,d.a.y)),i.point(d.b.x,d.b.y),c||i.lineEnd(),B=!1):c&&(i.lineStart(),i.point(a,b),B=!1)}x=a,y=b,z=c}var m,n,o,u,v,w,x,y,z,A,B,j=i,k=kd(),l=sd(b,c,d,e),p={point:t,lineStart:C,lineEnd:D,polygonStart:function(){i=k,m=[],n=[],B=!0},polygonEnd:function(){i=j,m=a.merge(m);var c=q([b,e]),d=B&&c,f=m.length;(d||f)&&(i.polygonStart(),d&&(i.lineStart(),r(null,null,1,i),i.lineEnd()),f&&fd(m,g,c,r,i),i.polygonEnd()),m=n=o=null}};return p}}function vd(a){var b=0,c=Ba/3,d=Ud(a),e=d(b,c);return e.parallels=function(a){return arguments.length?d(b=a[0]*Ba/180,c=a[1]*Ba/180):[b/Ba*180,c/Ba*180]},e}function wd(a,b){function g(a,b){var c=Math.sqrt(e-2*d*Math.sin(b))/d;return[c*Math.sin(a*=d),f-c*Math.cos(a)]}var c=Math.sin(a),d=(c+Math.sin(b))/2,e=1+c*(2*d-c),f=Math.sqrt(e)/d;return g.invert=function(a,b){var c=f-b;return[Math.atan2(a,c)/d,Ka((e-(a*a+c*c)*d*d)/(2*d))]},g}function Ad(){function e(a,b){yd+=d*a-c*b,c=a,d=b}var a,b,c,d;zd.point=function(f,g){zd.point=e,a=c=f,b=d=g},zd.lineEnd=function(){e(a,b)}}function Gd(a,b){a<Bd&&(Bd=a),a>Dd&&(Dd=a),b<Cd&&(Cd=b),b>Ed&&(Ed=b)}function Hd(){function d(c,d){b.push("M",c,",",d,a)}function e(a,d){b.push("M",a,",",d),c.point=f}function f(a,c){b.push("L",a,",",c)}function g(){c.point=d}function h(){b.push("Z")}var a=Id(4.5),b=[],c={point:d,lineStart:function(){c.point=e},lineEnd:g,polygonStart:function(){c.lineEnd=h},polygonEnd:function(){c.lineEnd=g,c.point=d},pointRadius:function(b){return a=Id(b),c},result:function(){if(b.length){var a=b.join("");return b=[],a}}};return c}function Id(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}function Kd(a,b){Qc+=a,Rc+=b,++Sc}function Ld(){function c(c,d){var e=c-a,f=d-b,g=Math.sqrt(e*e+f*f);Tc+=g*(a+c)/2,Uc+=g*(b+d)/2,Vc+=g,Kd(a=c,b=d)}var a,b;Jd.point=function(d,e){Jd.point=c,Kd(a=d,b=e)}}function Md(){Jd.point=Kd}function Nd(){function e(a,b){var e=a-c,f=b-d,g=Math.sqrt(e*e+f*f);Tc+=g*(c+a)/2,Uc+=g*(d+b)/2,Vc+=g,g=d*a-c*b,Wc+=g*(c+a),Xc+=g*(d+b),Yc+=3*g,Kd(c=a,d=b)}var a,b,c,d;Jd.point=function(f,g){Jd.point=e,Kd(a=c=f,b=d=g)},Jd.lineEnd=function(){e(a,b)}}function Od(a){function d(c,d){a.moveTo(c+b,d),a.arc(c,d,b,0,Ca)}function e(b,d){a.moveTo(b,d),c.point=f}function f(b,c){a.lineTo(b,c)}function g(){c.point=d}function h(){a.closePath()}var b=4.5,c={point:d,lineStart:function(){c.point=e},lineEnd:g,polygonStart:function(){c.lineEnd=h},polygonEnd:function(){c.lineEnd=g,c.point=d},pointRadius:function(a){return b=a,c},result:J};return c}function Pd(a){function e(a){return(d?g:f)(a)}function f(b){return Sd(b,function(c,d){c=a(c,d),b.point(c[0],c[1])})}function g(b){function s(c,d){c=a(c,d),b.point(c[0],c[1])}function t(){m=NaN,r.point=u,b.lineStart()}function u(c,e){var f=Gc([c,e]),g=a(c,e);h(m,n,l,o,p,q,m=g[0],n=g[1],l=c,o=f[0],p=f[1],q=f[2],d,b),b.point(m,n)}function v(){r.point=s,b.lineEnd()}function w(){t(),r.point=x,r.lineEnd=y}function x(a,b){u(c=a,e=b),f=m,g=n,i=o,j=p,k=q,r.point=u}function y(){h(m,n,l,o,p,q,f,g,c,i,j,k,d,b),r.lineEnd=v,v()}var c,e,f,g,i,j,k,l,m,n,o,p,q,r={point:s,lineStart:t,lineEnd:v,polygonStart:function(){b.polygonStart(),r.lineStart=w},polygonEnd:function(){b.polygonEnd(),r.lineStart=t}};return r}function h(d,e,f,g,i,j,k,l,m,n,o,p,q,s){var t=k-d,u=l-e,v=t*t+u*u;if(v>4*b&&q--){var w=g+n,x=i+o,y=j+p,z=Math.sqrt(w*w+x*x+y*y),A=Math.asin(y/=z),B=r(r(y)-1)<za||r(f-m)<za?(f+m)/2:Math.atan2(x,w),C=a(B,A),D=C[0],E=C[1],F=D-d,G=E-e,H=u*F-t*G;(H*H/v>b||r((t*F+u*G)/v-.5)>.3||g*n+i*o+j*p<c)&&(h(d,e,f,g,i,j,D,E,B,w/=z,x/=z,y,q,s),s.point(D,E),h(D,E,B,w,x,y,k,l,m,n,o,p,q,s))}}var b=.5,c=Math.cos(30*Fa),d=16;return e.precision=function(a){return arguments.length?(d=(b=a*a)>0&&16,e):Math.sqrt(b)},e}function Qd(a){var b=Pd(function(b,c){return a([b*Ga,c*Ga])});return function(a){return Vd(b(a))}}function Rd(a){this.stream=a}function Sd(a,b){return{point:b,sphere:function(){a.sphere()},lineStart:function(){a.lineStart()},lineEnd:function(){a.lineEnd()},polygonStart:function(){a.polygonStart()},polygonEnd:function(){a.polygonEnd()}}}function Td(a){return Ud(function(){return a})()}function Ud(b){function v(a){return a=e(a[0]*Fa,a[1]*Fa),[a[0]*g+o,p-a[1]*g]}function w(a){return(a=e.invert((a[0]-o)/g,(p-a[1])/g))&&[a[0]*Ga,a[1]*Ga]}function x(){e=dd(d=Yd(l,m,n),c);var a=c(j,k);return o=h-a[0]*g,p=i+a[1]*g,y()}function y(){return u&&(u.valid=!1,u=null),v}var c,d,e,o,p,u,f=Pd(function(a,b){return a=c(a,b),[a[0]*g+o,p-a[1]*g]}),g=150,h=480,i=250,j=0,k=0,l=0,m=0,n=0,q=md,r=F,s=null,t=null;return v.stream=function(a){return u&&(u.valid=!1),u=Vd(q(d,f(r(a)))),u.valid=!0,u},v.clipAngle=function(a){return arguments.length?(q=null==a?(s=a,md):rd((s=+a)*Fa),y()):s},v.clipExtent=function(a){return arguments.length?(t=a,r=a?ud(a[0][0],a[0][1],a[1][0],a[1][1]):F,y()):t},v.scale=function(a){return arguments.length?(g=+a,x()):g},v.translate=function(a){return arguments.length?(h=+a[0],i=+a[1],x()):[h,i]},v.center=function(a){return arguments.length?(j=a[0]%360*Fa,k=a[1]%360*Fa,x()):[j*Ga,k*Ga]},v.rotate=function(a){return arguments.length?(l=a[0]%360*Fa,m=a[1]%360*Fa,n=a.length>2?a[2]%360*Fa:0,x()):[l*Ga,m*Ga,n*Ga]},a.rebind(v,f,"precision"),function(){return c=b.apply(this,arguments),v.invert=c.invert&&w,x()}}function Vd(a){return Sd(a,function(b,c){a.point(b*Fa,c*Fa)})}function Wd(a,b){return[a,b]}function Xd(a,b){return[a>Ba?a-Ca:a<-Ba?a+Ca:a,b]}function Yd(a,b,c){return a?b||c?dd($d(a),_d(b,c)):$d(a):b||c?_d(b,c):Xd}function Zd(a){return function(b,c){return b+=a,[b>Ba?b-Ca:b<-Ba?b+Ca:b,c]}}function $d(a){var b=Zd(a);return b.invert=Zd(-a),b}function _d(a,b){function g(a,b){var g=Math.cos(b),h=Math.cos(a)*g,i=Math.sin(a)*g,j=Math.sin(b),k=j*c+h*d;return[Math.atan2(i*e-k*f,h*c-j*d),Ka(k*e+i*f)]}var c=Math.cos(a),d=Math.sin(a),e=Math.cos(b),f=Math.sin(b);return g.invert=function(a,b){var g=Math.cos(b),h=Math.cos(a)*g,i=Math.sin(a)*g,j=Math.sin(b),k=j*e-i*f;return[Math.atan2(i*e+j*f,h*c+k*d),Ka(k*c-h*d)]},g}function ae(a,b){var c=Math.cos(a),d=Math.sin(a);return function(e,f,g,h){var i=g*b;null!=e?(e=be(c,e),f=be(c,f),(g>0?e<f:e>f)&&(e+=g*Ca)):(e=a+g*Ca,f=a-.5*i);for(var j,k=e;g>0?k>f:k<f;k-=i)h.point((j=Mc([c,-d*Math.cos(k),-d*Math.sin(k)]))[0],j[1])}}function be(a,b){var c=Gc(b);c[0]-=a,Lc(c);var d=Ja(-c[1]);return((-c[2]<0?-d:d)+2*Math.PI-za)%(2*Math.PI)}function ce(b,c,d){var e=a.range(b,c-za,d).concat(c);return function(a){return e.map(function(b){return[a,b]})}}function de(b,c,d){var e=a.range(b,c-za,d).concat(c);return function(a){return e.map(function(b){return[b,a]})}}function ee(a){return a.source}function fe(a){return a.target}function ge(a,b,c,d){var e=Math.cos(b),f=Math.sin(b),g=Math.cos(d),h=Math.sin(d),i=e*Math.cos(a),j=e*Math.sin(a),k=g*Math.cos(c),l=g*Math.sin(c),m=2*Math.asin(Math.sqrt(Oa(d-b)+e*g*Oa(c-a))),n=1/Math.sin(m),o=m?function(a){var b=Math.sin(a*=m)*n,c=Math.sin(m-a)*n,d=c*i+b*k,e=c*j+b*l,g=c*f+b*h;return[Math.atan2(e,d)*Ga,Math.atan2(g,Math.sqrt(d*d+e*e))*Ga]}:function(){return[a*Ga,b*Ga]};return o.distance=m,o}function je(){function d(d,e){var f=Math.sin(e*=Fa),g=Math.cos(e),h=r((d*=Fa)-a),i=Math.cos(h);he+=Math.atan2(Math.sqrt((h=g*Math.sin(h))*h+(h=c*f-b*g*i)*h),b*f+c*g*i),a=d,b=f,c=g}var a,b,c;ie.point=function(e,f){a=e*Fa,b=Math.sin(f*=Fa),c=Math.cos(f),ie.point=d},ie.lineEnd=function(){ie.point=ie.lineEnd=J}}function ke(a,b){function c(b,c){var d=Math.cos(b),e=Math.cos(c),f=a(d*e);return[f*e*Math.sin(b),f*Math.sin(c)]}return c.invert=function(a,c){var d=Math.sqrt(a*a+c*c),e=b(d),f=Math.sin(e),g=Math.cos(e);return[Math.atan2(a*f,d*g),Math.asin(d&&c*f/d)]},c}function ne(a,b){function g(a,b){f>0?b<-Ea+za&&(b=-Ea+za):b>Ea-za&&(b=Ea-za);var c=f/Math.pow(d(b),e);return[c*Math.sin(e*a),f-c*Math.cos(e*a)]}var c=Math.cos(a),d=function(a){return Math.tan(Ba/4+a/2)},e=a===b?Math.sin(a):Math.log(c/Math.cos(b))/Math.log(d(b)/d(a)),f=c*Math.pow(d(a),e)/e;return e?(g.invert=function(a,b){var c=f-b,d=Ha(e)*Math.sqrt(a*a+c*c);return[Math.atan2(a,c)/e,2*Math.atan(Math.pow(f/d,1/e))-Ea]},g):qe}function oe(a,b){function f(a,b){var c=e-b;return[c*Math.sin(d*a),e-c*Math.cos(d*a)]}var c=Math.cos(a),d=a===b?Math.sin(a):(c-Math.cos(b))/(b-a),e=c/d+a;return r(d)<za?Wd:(f.invert=function(a,b){var c=e-b;return[Math.atan2(a,c)/d,e-Ha(d)*Math.sqrt(a*a+c*c)]},f)}function qe(a,b){return[a,Math.log(Math.tan(Ba/4+b/2))]}function re(a){var f,b=Td(a),c=b.scale,d=b.translate,e=b.clipExtent;return b.scale=function(){var a=c.apply(b,arguments);return a===b?f?b.clipExtent(null):b:a},b.translate=function(){var a=d.apply(b,arguments);return a===b?f?b.clipExtent(null):b:a},b.clipExtent=function(a){var g=e.apply(b,arguments);if(g===b){if(f=null==a){var h=Ba*c(),i=d();e([[i[0]-h,i[1]-h],[i[0]+h,i[1]+h]])}}else f&&(g=null);return g},b.clipExtent(null)}function ue(a,b){return[Math.log(Math.tan(Ba/4+b/2)),-a]}function ve(a){return a[0]}function we(a){return a[1]}function xe(a){for(var b=a.length,c=[0,1],d=2,e=2;e<b;e++){for(;d>1&&Ia(a[c[d-2]],a[c[d-1]],a[e])<=0;)--d;c[d++]=e}return c.slice(0,d)}function ye(a,b){return a[0]-b[0]||a[1]-b[1]}function Ae(a,b,c){return(c[0]-b[0])*(a[1]-b[1])<(c[1]-b[1])*(a[0]-b[0])}function Be(a,b,c,d){var e=a[0],f=c[0],g=b[0]-e,h=d[0]-f,i=a[1],j=c[1],k=b[1]-i,l=d[1]-j,m=(h*(i-j)-l*(e-f))/(l*g-h*k);return[e+m*g,i+m*k]}function Ce(a){var b=a[0],c=a[a.length-1];return!(b[0]-c[0]||b[1]-c[1])}function Ke(){df(this),this.edge=this.site=this.circle=null}function Le(a){var b=Ge.pop()||new Ke;return b.site=a,b}function Me(a){We(a),Fe.remove(a),Ge.push(a),df(a)}function Ne(a){var b=a.circle,c=b.x,d=b.cy,e={x:c,y:d},f=a.P,g=a.N,h=[a];Me(a);for(var i=f;i.circle&&r(c-i.circle.x)<za&&r(d-i.circle.cy)<za;)f=i.P,h.unshift(i),Me(i),i=f;h.unshift(i),We(i);for(var j=g;j.circle&&r(c-j.circle.x)<za&&r(d-j.circle.cy)<za;)g=j.N,h.push(j),Me(j),j=g;h.push(j),We(j);var l,k=h.length;for(l=1;l<k;++l)j=h[l],i=h[l-1],af(j.edge,i.site,j.site,e);i=h[0],j=h[k-1],j.edge=$e(i.site,j.site,null,e),Ve(i),Ve(j)}function Oe(a){for(var d,e,f,g,b=a.x,c=a.y,h=Fe._;h;)if((f=Pe(h,c)-b)>za)h=h.L;else{if(!((g=b-Qe(h,c))>za)){f>-za?(d=h.P,e=h):g>-za?(d=h,e=h.N):d=e=h;break}if(!h.R){d=h;break}h=h.R}var i=Le(a);if(Fe.insert(d,i),d||e){if(d===e)return We(d),e=Le(d.site),Fe.insert(i,e),i.edge=e.edge=$e(d.site,i.site),Ve(d),void Ve(e);if(!e)return void(i.edge=$e(d.site,i.site));We(d),We(e);var j=d.site,k=j.x,l=j.y,m=a.x-k,n=a.y-l,o=e.site,p=o.x-k,q=o.y-l,r=2*(m*q-n*p),s=m*m+n*n,t=p*p+q*q,u={x:(q*s-n*t)/r+k,y:(m*t-p*s)/r+l};af(e.edge,j,o,u),i.edge=$e(j,a,null,u),e.edge=$e(a,o,null,u),Ve(d),Ve(e)}}function Pe(a,b){var c=a.site,d=c.x,e=c.y,f=e-b;if(!f)return d;var g=a.P;if(!g)return-1/0;c=g.site;var h=c.x,i=c.y,j=i-b;if(!j)return h;var k=h-d,l=1/f-1/j,m=k/j;return l?(-m+Math.sqrt(m*m-2*l*(k*k/(-2*j)-i+j/2+e-f/2)))/l+d:(d+h)/2}function Qe(a,b){var c=a.N;if(c)return Pe(c,b);var d=a.site;return d.y===b?d.x:1/0}function Re(a){this.site=a,this.edges=[]}function Se(a){for(var f,g,h,i,l,m,n,o,p,q,b=a[0][0],c=a[1][0],d=a[0][1],e=a[1][1],j=Ee,k=j.length;k--;)if((l=j[k])&&l.prepare())for(n=l.edges,o=n.length,m=0;m<o;)q=n[m].end(),h=q.x,i=q.y,p=n[++m%o].start(),f=p.x,g=p.y,(r(h-f)>za||r(i-g)>za)&&(n.splice(m,0,new bf(_e(l.site,q,r(h-b)<za&&e-i>za?{x:b,y:r(f-b)<za?g:e}:r(i-e)<za&&c-h>za?{x:r(g-e)<za?f:c,y:e}:r(h-c)<za&&i-d>za?{x:c,y:r(f-c)<za?g:d}:r(i-d)<za&&h-b>za?{x:r(g-d)<za?f:b,y:d}:null),l.site,null)),++o)}function Te(a,b){return b.angle-a.angle}function Ue(){df(this),this.x=this.y=this.arc=this.site=this.cy=null}function Ve(a){var b=a.P,c=a.N;if(b&&c){var d=b.site,e=a.site,f=c.site;if(d!==f){var g=e.x,h=e.y,i=d.x-g,j=d.y-h,k=f.x-g,l=f.y-h,m=2*(i*l-j*k);if(!(m>=-Aa)){var n=i*i+j*j,o=k*k+l*l,p=(l*n-j*o)/m,q=(i*o-k*n)/m,l=q+h,r=Je.pop()||new Ue;r.arc=a,r.site=e,r.x=p+g,r.y=l+Math.sqrt(p*p+q*q),r.cy=l,a.circle=r;for(var s=null,t=Ie._;t;)if(r.y<t.y||r.y===t.y&&r.x<=t.x){if(!t.L){s=t.P;break}t=t.L}else{if(!t.R){s=t;break}t=t.R}Ie.insert(s,r),s||(He=r)}}}}function We(a){var b=a.circle;b&&(b.P||(He=b.N),Ie.remove(b),Je.push(b),df(b),a.circle=null)}function Xe(a){for(var e,b=De,c=sd(a[0][0],a[0][1],a[1][0],a[1][1]),d=b.length;d--;)e=b[d],(!Ye(e,a)||!c(e)||r(e.a.x-e.b.x)<za&&r(e.a.y-e.b.y)<za)&&(e.a=e.b=null,b.splice(d,1))}function Ye(a,b){var c=a.b;if(c)return!0;var q,r,d=a.a,e=b[0][0],f=b[1][0],g=b[0][1],h=b[1][1],i=a.l,j=a.r,k=i.x,l=i.y,m=j.x,n=j.y,o=(k+m)/2,p=(l+n)/2;if(n===l){if(o<e||o>=f)return;if(k>m){if(d){if(d.y>=h)return}else d={x:o,y:g};c={x:o,y:h}}else{if(d){if(d.y<g)return}else d={x:o,y:h};c={x:o,y:g}}}else if(q=(k-m)/(n-l),r=p-q*o,q<-1||q>1)if(k>m){if(d){if(d.y>=h)return}else d={x:(g-r)/q,y:g};c={x:(h-r)/q,y:h}}else{if(d){if(d.y<g)return}else d={x:(h-r)/q,y:h};c={x:(g-r)/q,y:g}}else if(l<n){if(d){if(d.x>=f)return}else d={x:e,y:q*e+r};c={x:f,y:q*f+r}}else{if(d){if(d.x<e)return}else d={x:f,y:q*f+r};c={x:e,y:q*e+r}}return a.a=d,a.b=c,!0}function Ze(a,b){this.l=a,this.r=b,this.a=this.b=null}function $e(a,b,c,d){var e=new Ze(a,b);return De.push(e),c&&af(e,a,b,c),d&&af(e,b,a,d),Ee[a.i].edges.push(new bf(e,a,b)),Ee[b.i].edges.push(new bf(e,b,a)),e}function _e(a,b,c){var d=new Ze(a,null);return d.a=b,d.b=c,De.push(d),d}function af(a,b,c,d){a.a||a.b?a.l===c?a.b=d:a.a=d:(a.a=d,a.l=b,a.r=c)}function bf(a,b,c){var d=a.a,e=a.b;this.edge=a,this.site=b,this.angle=c?Math.atan2(c.y-b.y,c.x-b.x):a.l===b?Math.atan2(e.x-d.x,d.y-e.y):Math.atan2(d.x-e.x,e.y-d.y)}function cf(){this._=null}function df(a){a.U=a.C=a.L=a.R=a.P=a.N=null}function ef(a,b){var c=b,d=b.R,e=c.U;e?e.L===c?e.L=d:e.R=d:a._=d,d.U=e,c.U=d,c.R=d.L,c.R&&(c.R.U=c),d.L=c}function ff(a,b){var c=b,d=b.L,e=c.U;e?e.L===c?e.L=d:e.R=d:a._=d,d.U=e,c.U=d,c.L=d.R,c.L&&(c.L.U=c),d.R=c}function gf(a){for(;a.L;)a=a.L;return a}function hf(a,b){var d,e,f,c=a.sort(jf).pop();for(De=[],Ee=new Array(a.length),Fe=new cf,Ie=new cf;;)if(f=He,c&&(!f||c.y<f.y||c.y===f.y&&c.x<f.x))c.x===d&&c.y===e||(Ee[c.i]=new Re(c),Oe(c),d=c.x,e=c.y),c=a.pop();else{if(!f)break;Ne(f.arc)}b&&(Xe(b),Se(b));var g={cells:Ee,edges:De};return Fe=Ie=De=Ee=null,g}function jf(a,b){return b.y-a.y||b.x-a.x}function lf(a,b,c){return(a.x-c.x)*(b.y-a.y)-(a.x-b.x)*(c.y-a.y)}function mf(a){return a.x}function nf(a){return a.y}function of(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function pf(a,b,c,d,e,f){if(!a(b,c,d,e,f)){var g=.5*(c+e),h=.5*(d+f),i=b.nodes;i[0]&&pf(a,i[0],c,d,g,h),i[1]&&pf(a,i[1],g,d,e,h),i[2]&&pf(a,i[2],c,h,g,f),i[3]&&pf(a,i[3],g,h,e,f)}}function qf(a,b,c,d,e,f,g){var i,h=1/0;return function a(j,k,l,m,n){if(!(k>f||l>g||m<d||n<e)){if(o=j.point){var o,p=b-j.x,q=c-j.y,r=p*p+q*q;if(r<h){var s=Math.sqrt(h=r);d=b-s,e=c-s,f=b+s,g=c+s,i=o}}for(var t=j.nodes,u=.5*(k+m),v=.5*(l+n),w=b>=u,x=c>=v,y=x<<1|w,z=y+4;y<z;++y)if(j=t[3&y])switch(3&y){case 0:a(j,k,l,u,v);break;case 1:a(j,u,l,m,v);break;case 2:a(j,k,v,u,n);break;case 3:a(j,u,v,m,n)}}}(a,d,e,f,g),i}function rf(b,c){b=a.rgb(b),c=a.rgb(c);var d=b.r,e=b.g,f=b.b,g=c.r-d,h=c.g-e,i=c.b-f;return function(a){return"#"+pb(Math.round(d+g*a))+pb(Math.round(e+h*a))+pb(Math.round(f+i*a))}}function sf(a,b){var e,c={},d={};for(e in a)e in b?c[e]=xf(a[e],b[e]):d[e]=a[e];for(e in b)e in a||(d[e]=b[e]);return function(a){for(e in c)d[e]=c[e](a);return d}}function tf(a,b){return a=+a,b=+b,function(c){return a*(1-c)+b*c}}function uf(a,b){var d,e,f,c=vf.lastIndex=wf.lastIndex=0,g=-1,h=[],i=[];for(a+="",b+="";(d=vf.exec(a))&&(e=wf.exec(b));)(f=e.index)>c&&(f=b.slice(c,f),h[g]?h[g]+=f:h[++g]=f),(d=d[0])===(e=e[0])?h[g]?h[g]+=e:h[++g]=e:(h[++g]=null,i.push({i:g,x:tf(d,e)})),c=wf.lastIndex;return c<b.length&&(f=b.slice(c),h[g]?h[g]+=f:h[++g]=f),h.length<2?i[0]?(b=i[0].x,function(a){return b(a)+""}):function(){return b}:(b=i.length,function(a){for(var d,c=0;c<b;++c)h[(d=i[c]).i]=d.x(a);return h.join("")})}function xf(b,c){for(var e,d=a.interpolators.length;--d>=0&&!(e=a.interpolators[d](b,c)););return e}function yf(a,b){var h,c=[],d=[],e=a.length,f=b.length,g=Math.min(a.length,b.length);for(h=0;h<g;++h)c.push(xf(a[h],b[h]));for(;h<e;++h)d[h]=a[h];for(;h<f;++h)d[h]=b[h];return function(a){for(h=0;h<g;++h)d[h]=c[h](a);return d}}function Cf(a){return function(b){return b<=0?0:b>=1?1:a(b)}}function Df(a){return function(b){return 1-a(1-b)}}function Ef(a){return function(b){return.5*(b<.5?a(2*b):2-a(2-2*b))}}function Ff(a){return a*a}function Gf(a){return a*a*a}function Hf(a){if(a<=0)return 0;if(a>=1)return 1;var b=a*a,c=b*a;return 4*(a<.5?c:3*(a-b)+c-.75)}function If(a){return function(b){return Math.pow(b,a)}}function Jf(a){return 1-Math.cos(a*Ea)}function Kf(a){return Math.pow(2,10*(a-1))}function Lf(a){return 1-Math.sqrt(1-a*a)}function Mf(a,b){var c;return arguments.length<2&&(b=.45),arguments.length?c=b/Ca*Math.asin(1/a):(a=1,c=b/4),function(d){return 1+a*Math.pow(2,-10*d)*Math.sin((d-c)*Ca/b)}}function Nf(a){return a||(a=1.70158),function(b){return b*b*((a+1)*b-a)}}function Of(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}function Pf(b,c){b=a.hcl(b),c=a.hcl(c);var d=b.h,e=b.c,f=b.l,g=c.h-d,h=c.c-e,i=c.l-f;return isNaN(h)&&(h=0,e=isNaN(e)?c.c:e),isNaN(g)?(g=0,d=isNaN(d)?c.h:d):g>180?g-=360:g<-180&&(g+=360),function(a){return _a(d+g*a,e+h*a,f+i*a)+""}}function Qf(b,c){b=a.hsl(b),c=a.hsl(c);var d=b.h,e=b.s,f=b.l,g=c.h-d,h=c.s-e,i=c.l-f;return isNaN(h)&&(h=0,e=isNaN(e)?c.s:e),isNaN(g)?(g=0,d=isNaN(d)?c.h:d):g>180?g-=360:g<-180&&(g+=360),function(a){return Ya(d+g*a,e+h*a,f+i*a)+""}}function Rf(b,c){b=a.lab(b),c=a.lab(c);var d=b.l,e=b.a,f=b.b,g=c.l-d,h=c.a-e,i=c.b-f;return function(a){return gb(d+g*a,e+h*a,f+i*a)+""}}function Sf(a,b){return b-=a,function(c){return Math.round(a+b*c)}}function Tf(a){var b=[a.a,a.b],c=[a.c,a.d],d=Vf(b),e=Uf(b,c),f=Vf(Wf(c,b,-e))||0;b[0]*c[1]<c[0]*b[1]&&(b[0]*=-1,b[1]*=-1,d*=-1,e*=-1),this.rotate=(d?Math.atan2(b[1],b[0]):Math.atan2(-c[0],c[1]))*Ga,this.translate=[a.e,a.f],this.scale=[d,f],this.skew=f?Math.atan2(e,f)*Ga:0}function Uf(a,b){return a[0]*b[0]+a[1]*b[1]}function Vf(a){var b=Math.sqrt(Uf(a,a));return b&&(a[0]/=b,a[1]/=b),b}function Wf(a,b,c){return a[0]+=c*b[0],a[1]+=c*b[1],a}function Yf(a){return a.length?a.pop()+",":""}function Zf(a,b,c,d){if(a[0]!==b[0]||a[1]!==b[1]){var e=c.push("translate(",null,",",null,")");d.push({i:e-4,x:tf(a[0],b[0])},{i:e-2,x:tf(a[1],b[1])})}else(b[0]||b[1])&&c.push("translate("+b+")")}function $f(a,b,c,d){a!==b?(a-b>180?b+=360:b-a>180&&(a+=360),d.push({i:c.push(Yf(c)+"rotate(",null,")")-2,x:tf(a,b)})):b&&c.push(Yf(c)+"rotate("+b+")")}function _f(a,b,c,d){a!==b?d.push({i:c.push(Yf(c)+"skewX(",null,")")-2,x:tf(a,b)}):b&&c.push(Yf(c)+"skewX("+b+")")}function ag(a,b,c,d){if(a[0]!==b[0]||a[1]!==b[1]){var e=c.push(Yf(c)+"scale(",null,",",null,")");d.push({i:e-4,x:tf(a[0],b[0])},{i:e-2,x:tf(a[1],b[1])})}else 1===b[0]&&1===b[1]||c.push(Yf(c)+"scale("+b+")")}function bg(b,c){var d=[],e=[];return b=a.transform(b),c=a.transform(c),Zf(b.translate,c.translate,d,e),$f(b.rotate,c.rotate,d,e),_f(b.skew,c.skew,d,e),ag(b.scale,c.scale,d,e),b=c=null,function(a){for(var f,b=-1,c=e.length;++b<c;)d[(f=e[b]).i]=f.x(a);return d.join("")}}function cg(a,b){return b=(b-=a=+a)||1/b,function(c){return(c-a)/b}}function dg(a,b){return b=(b-=a=+a)||1/b,function(c){return Math.max(0,Math.min(1,(c-a)/b))}}function eg(a){for(var b=a.source,c=a.target,d=gg(b,c),e=[b];b!==d;)b=b.parent,e.push(b);for(var f=e.length;c!==d;)e.splice(f,0,c),c=c.parent;return e}function fg(a){for(var b=[],c=a.parent;null!=c;)b.push(a),a=c,c=c.parent;return b.push(a),b}function gg(a,b){if(a===b)return a;for(var c=fg(a),d=fg(b),e=c.pop(),f=d.pop(),g=null;e===f;)g=e,e=c.pop(),f=d.pop();return g}function hg(a){a.fixed|=2}function ig(a){a.fixed&=-7}function jg(a){a.fixed|=4,a.px=a.x,a.py=a.y}function kg(a){a.fixed&=-5}function lg(a,b,c){var d=0,e=0;if(a.charge=0,!a.leaf)for(var i,f=a.nodes,g=f.length,h=-1;++h<g;)null!=(i=f[h])&&(lg(i,b,c),a.charge+=i.charge,d+=i.charge*i.cx,e+=i.charge*i.cy);if(a.point){a.leaf||(a.point.x+=Math.random()-.5,a.point.y+=Math.random()-.5);var j=b*c[a.point.index];a.charge+=a.pointCharge=j,d+=j*a.point.x,e+=j*a.point.y}a.cx=d/a.charge,a.cy=e/a.charge}function pg(b,c){return a.rebind(b,c,"sort","children","value"),b.nodes=b,b.links=vg,b}function qg(a,b){for(var c=[a];null!=(a=c.pop());)if(b(a),(e=a.children)&&(d=e.length))for(var d,e;--d>=0;)c.push(e[d])}function rg(a,b){for(var c=[a],d=[];null!=(a=c.pop());)if(d.push(a),(g=a.children)&&(f=g.length))for(var f,g,e=-1;++e<f;)c.push(g[e]);for(;null!=(a=d.pop());)b(a)}function sg(a){return a.children}function tg(a){return a.value}function ug(a,b){return b.value-a.value}function vg(b){return a.merge(b.map(function(a){return(a.children||[]).map(function(b){return{source:a,target:b}})}))}function xg(a){return a.x}function yg(a){return a.y}function zg(a,b,c){a.y0=b,a.y=c}function Cg(b){return a.range(b.length)}function Dg(a){for(var b=-1,c=a[0].length,d=[];++b<c;)d[b]=0;return d}function Eg(a){for(var e,b=1,c=0,d=a[0][1],f=a.length;b<f;++b)(e=a[b][1])>d&&(c=b,d=e);return c}function Fg(a){return a.reduce(Gg,0)}function Gg(a,b){return a+b[1]}function Hg(a,b){return Ig(a,Math.ceil(Math.log(b.length)/Math.LN2+1))}function Ig(a,b){for(var c=-1,d=+a[0],e=(a[1]-d)/b,f=[];++c<=b;)f[c]=e*c+d;return f}function Jg(b){return[a.min(b),a.max(b)]}function Kg(a,b){return a.value-b.value}function Lg(a,b){var c=a._pack_next;a._pack_next=b,b._pack_prev=a,b._pack_next=c,c._pack_prev=b}function Mg(a,b){a._pack_next=b,b._pack_prev=a}function Ng(a,b){var c=b.x-a.x,d=b.y-a.y,e=a.r+b.r;return.999*e*e>c*c+d*d}function Og(a){function n(a){c=Math.min(a.x-a.r,c),d=Math.max(a.x+a.r,d),e=Math.min(a.y-a.r,e),f=Math.max(a.y+a.r,f)}if((b=a.children)&&(m=b.length)){var b,g,h,i,j,k,l,m,c=1/0,d=-1/0,e=1/0,f=-1/0;if(b.forEach(Pg),g=b[0],g.x=-g.r,g.y=0,n(g),m>1&&(h=b[1],h.x=h.r,h.y=0,n(h),m>2))for(i=b[2],Sg(g,h,i),n(i),Lg(g,i),g._pack_prev=i,Lg(i,h),h=g._pack_next,j=3;j<m;j++){Sg(g,h,i=b[j]);var o=0,p=1,q=1;for(k=h._pack_next;k!==h;k=k._pack_next,p++)if(Ng(k,i)){o=1;break}if(1==o)for(l=g._pack_prev;l!==k._pack_prev&&!Ng(l,i);l=l._pack_prev,q++);o?(p<q||p==q&&h.r<g.r?Mg(g,h=k):Mg(g=l,h),j--):(Lg(g,i),h=i,n(i))}var r=(c+d)/2,s=(e+f)/2,t=0;for(j=0;j<m;j++)i=b[j],i.x-=r,i.y-=s,t=Math.max(t,i.r+Math.sqrt(i.x*i.x+i.y*i.y));a.r=t,b.forEach(Qg)}}function Pg(a){a._pack_next=a._pack_prev=a}function Qg(a){delete a._pack_next,delete a._pack_prev}function Rg(a,b,c,d){var e=a.children;if(a.x=b+=d*a.x,a.y=c+=d*a.y,a.r*=d,e)for(var f=-1,g=e.length;++f<g;)Rg(e[f],b,c,d)}function Sg(a,b,c){var d=a.r+c.r,e=b.x-a.x,f=b.y-a.y;if(d&&(e||f)){var g=b.r+c.r,h=e*e+f*f;g*=g,d*=d;var i=.5+(d-g)/(2*h),j=Math.sqrt(Math.max(0,2*g*(d+h)-(d-=h)*d-g*g))/(2*h);c.x=a.x+i*e+j*f,c.y=a.y+i*f-j*e}else c.x=a.x+d,c.y=a.y}function Tg(a,b){return a.parent==b.parent?1:2}function Ug(a){var b=a.children;return b.length?b[0]:a.t}function Vg(a){var c,b=a.children;return(c=b.length)?b[c-1]:a.t}function Wg(a,b,c){var d=c/(b.i-a.i);b.c-=d,b.s+=c,a.c+=d,b.z+=c,b.m+=c}function Xg(a){for(var f,b=0,c=0,d=a.children,e=d.length;--e>=0;)f=d[e],f.z+=b,f.m+=b,b+=f.s+(c+=f.c)}function Yg(a,b,c){return a.a.parent===b.parent?a.a:c}function Zg(b){return 1+a.max(b,function(a){return a.y})}function $g(a){return a.reduce(function(a,b){return a+b.x},0)/a.length}function _g(a){var b=a.children;return b&&b.length?_g(b[0]):a}function ah(a){var c,b=a.children;return b&&(c=b.length)?ah(b[c-1]):a}function bh(a){return{x:a.x,y:a.y,dx:a.dx,dy:a.dy}}function ch(a,b){var c=a.x+b[3],d=a.y+b[0],e=a.dx-b[1]-b[3],f=a.dy-b[0]-b[2];return e<0&&(c+=e/2,e=0),f<0&&(d+=f/2,f=0),{x:c,y:d,dx:e,dy:f}}function dh(a){var b=a[0],c=a[a.length-1];return b<c?[b,c]:[c,b]}function eh(a){return a.rangeExtent?a.rangeExtent():dh(a.range())}function fh(a,b,c,d){var e=c(a[0],a[1]),f=d(b[0],b[1]);return function(a){return f(e(a))}}function gh(a,b){var g,c=0,d=a.length-1,e=a[c],f=a[d];return f<e&&(g=c,c=d,d=g,g=e,e=f,f=g),a[c]=b.floor(e),a[d]=b.ceil(f),a}function hh(a){return a?{floor:function(b){return Math.floor(b/a)*a},ceil:function(b){return Math.ceil(b/a)*a}}:ih}function jh(b,c,d,e){var f=[],g=[],h=0,i=Math.min(b.length,c.length)-1;for(b[i]<b[0]&&(b=b.slice().reverse(),c=c.slice().reverse());++h<=i;)f.push(d(b[h-1],b[h])),g.push(e(c[h-1],c[h]));return function(c){var d=a.bisect(b,c,1,i)-1;return g[d](f[d](c))}}function kh(a,b,c,d){function g(){var g=Math.min(a.length,b.length)>2?jh:fh,i=d?dg:cg;return e=g(a,b,i,c),f=g(b,a,i,xf),h}function h(a){return e(a)}var e,f;return h.invert=function(a){return f(a)},h.domain=function(b){return arguments.length?(a=b.map(Number),g()):a},h.range=function(a){return arguments.length?(b=a,g()):b},h.rangeRound=function(a){return h.range(a).interpolate(Sf)},h.clamp=function(a){return arguments.length?(d=a,g()):d},h.interpolate=function(a){return arguments.length?(c=a,g()):c},h.ticks=function(b){return oh(a,b)},h.tickFormat=function(b,c){return ph(a,b,c)},h.nice=function(b){return mh(a,b),g()},h.copy=function(){return kh(a,b,c,d)},g()}function lh(b,c){return a.rebind(b,c,"range","rangeRound","interpolate","clamp")}function mh(a,b){return gh(a,hh(nh(a,b)[2])),gh(a,hh(nh(a,b)[2])),a}function nh(a,b){null==b&&(b=10);var c=dh(a),d=c[1]-c[0],e=Math.pow(10,Math.floor(Math.log(d/b)/Math.LN10)),f=b/d*e;return f<=.15?e*=10:f<=.35?e*=5:f<=.75&&(e*=2),c[0]=Math.ceil(c[0]/e)*e,c[1]=Math.floor(c[1]/e)*e+.5*e,c[2]=e,c}function oh(b,c){return a.range.apply(a,nh(b,c))}function ph(b,c,d){var e=nh(b,c);if(d){var f=Ob.exec(d);if(f.shift(),"s"===f[8]){var g=a.formatPrefix(Math.max(r(e[0]),r(e[1])));return f[7]||(f[7]="."+rh(g.scale(e[2]))),f[8]="f",d=a.format(f.join("")),function(a){return d(g.scale(a))+g.symbol}}f[7]||(f[7]="."+sh(f[8],e)),d=f.join("")}else d=",."+rh(e[2])+"f";return a.format(d)}function rh(a){return-Math.floor(Math.log(a)/Math.LN10+.01)}function sh(a,b){var c=rh(b[2]);return a in qh?Math.abs(c-rh(Math.max(r(b[0]),r(b[1]))))+ +("e"!==a):c-2*("%"===a)}function th(b,c,d,e){function f(a){return(d?Math.log(a<0?0:a):-Math.log(a>0?0:-a))/Math.log(c)}function g(a){return d?Math.pow(c,a):-Math.pow(c,-a)}function h(a){return b(f(a))}return h.invert=function(a){return g(b.invert(a))},h.domain=function(a){return arguments.length?(d=a[0]>=0,b.domain((e=a.map(Number)).map(f)),h):e},h.base=function(a){return arguments.length?(c=+a,b.domain(e.map(f)),h):c},h.nice=function(){var a=gh(e.map(f),d?Math:vh);return b.domain(a),e=a.map(g),h},h.ticks=function(){var a=dh(e),b=[],h=a[0],i=a[1],j=Math.floor(f(h)),k=Math.ceil(f(i)),l=c%1?2:c;if(isFinite(k-j)){if(d){for(;j<k;j++)for(var m=1;m<l;m++)b.push(g(j)*m);b.push(g(j))}else for(b.push(g(j));j++<k;)for(var m=l-1;m>0;m--)b.push(g(j)*m);for(j=0;b[j]<h;j++);for(k=b.length;b[k-1]>i;k--);b=b.slice(j,k)}return b},h.tickFormat=function(b,d){if(!arguments.length)return uh;arguments.length<2?d=uh:"function"!=typeof d&&(d=a.format(d));var e=Math.max(1,c*b/h.ticks().length);return function(a){var b=a/g(Math.round(f(a)));return b*c<c-.5&&(b*=c),b<=e?d(a):""}},h.copy=function(){return th(b.copy(),c,d,e)},lh(h,b)}function wh(a,b,c){function f(b){return a(d(b))}var d=xh(b),e=xh(1/b);return f.invert=function(b){return e(a.invert(b))},f.domain=function(b){return arguments.length?(a.domain((c=b.map(Number)).map(d)),f):c},f.ticks=function(a){return oh(c,a)},f.tickFormat=function(a,b){return ph(c,a,b)},f.nice=function(a){return f.domain(mh(c,a))},f.exponent=function(g){return arguments.length?(d=xh(b=g),e=xh(1/b),a.domain(c.map(d)),f):b},f.copy=function(){return wh(a.copy(),b,c)},lh(f,a)}function xh(a){return function(b){return b<0?-Math.pow(-b,a):Math.pow(b,a)}}function yh(b,c){function g(a){return e[((d.get(a)||("range"===c.t?d.set(a,b.push(a)):NaN))-1)%e.length]}function h(c,d){return a.range(b.length).map(function(a){return c+d*a})}var d,e,f;return g.domain=function(a){if(!arguments.length)return b;b=[],d=new u;for(var h,e=-1,f=a.length;++e<f;)d.has(h=a[e])||d.set(h,b.push(h));return g[c.t].apply(g,c.a)},g.range=function(a){return arguments.length?(e=a,f=0,c={t:"range",a:arguments},g):e},g.rangePoints=function(a,d){arguments.length<2&&(d=0);var i=a[0],j=a[1],k=b.length<2?(i=(i+j)/2,0):(j-i)/(b.length-1+d);return e=h(i+k*d/2,k),f=0,c={t:"rangePoints",a:arguments},g},g.rangeRoundPoints=function(a,d){arguments.length<2&&(d=0);var i=a[0],j=a[1],k=b.length<2?(i=j=Math.round((i+j)/2),0):(j-i)/(b.length-1+d)|0;return e=h(i+Math.round(k*d/2+(j-i-(b.length-1+d)*k)/2),k),f=0,c={t:"rangeRoundPoints",a:arguments},g},g.rangeBands=function(a,d,i){arguments.length<2&&(d=0),arguments.length<3&&(i=d);var j=a[1]<a[0],k=a[j-0],l=a[1-j],m=(l-k)/(b.length-d+2*i);return e=h(k+m*i,m),j&&e.reverse(),f=m*(1-d),c={t:"rangeBands",a:arguments},g},g.rangeRoundBands=function(a,d,i){arguments.length<2&&(d=0),arguments.length<3&&(i=d);var j=a[1]<a[0],k=a[j-0],l=a[1-j],m=Math.floor((l-k)/(b.length-d+2*i));return e=h(k+Math.round((l-k-(b.length-d)*m)/2),m),j&&e.reverse(),f=Math.round(m*(1-d)),c={t:"rangeRoundBands",a:arguments},g},g.rangeBand=function(){return f},g.rangeExtent=function(){return dh(c.a[0])},g.copy=function(){return yh(b,c)},g.domain(b)}function Dh(b,c){function e(){var e=0,g=c.length;for(d=[];++e<g;)d[e-1]=a.quantile(b,e/g);return f}function f(b){if(!isNaN(b=+b))return c[a.bisect(d,b)]}var d;return f.domain=function(a){return arguments.length?(b=a.map(m).filter(n).sort(l),e()):b},f.range=function(a){return arguments.length?(c=a,e()):c},f.quantiles=function(){return d},f.invertExtent=function(a){return a=c.indexOf(a),a<0?[NaN,NaN]:[a>0?d[a-1]:b[0],a<d.length?d[a]:b[b.length-1]]},f.copy=function(){return Dh(b,c)},e()}function Eh(a,b,c){function f(b){return c[Math.max(0,Math.min(e,Math.floor(d*(b-a))))]}function g(){return d=c.length/(b-a),e=c.length-1,f}var d,e;return f.domain=function(c){return arguments.length?(a=+c[0],b=+c[c.length-1],g()):[a,b]},f.range=function(a){return arguments.length?(c=a,g()):c},f.invertExtent=function(b){return b=c.indexOf(b),b=b<0?NaN:b/d+a,[b,b+1/d]},f.copy=function(){return Eh(a,b,c)},g()}function Fh(b,c){function d(d){if(d<=d)return c[a.bisect(b,d)]}return d.domain=function(a){return arguments.length?(b=a,d):b},d.range=function(a){return arguments.length?(c=a,d):c},d.invertExtent=function(a){return a=c.indexOf(a),[b[a-1],b[a]]},d.copy=function(){return Fh(b,c)},d}function Gh(a){function b(a){return+a}return b.invert=b,b.domain=b.range=function(c){return arguments.length?(a=c.map(b),b):a},b.ticks=function(b){return oh(a,b)},b.tickFormat=function(b,c){return ph(a,b,c)},b.copy=function(){return Gh(a)},b}function Hh(){return 0}function Jh(a){return a.innerRadius}function Kh(a){return a.outerRadius}function Lh(a){return a.startAngle}function Mh(a){return a.endAngle}function Nh(a){return a&&a.padAngle}function Oh(a,b,c,d){return(a-c)*b-(b-d)*a>0?0:1}function Ph(a,b,c,d,e){var f=a[0]-b[0],g=a[1]-b[1],h=(e?d:-d)/Math.sqrt(f*f+g*g),i=h*g,j=-h*f,k=a[0]+i,l=a[1]+j,m=b[0]+i,n=b[1]+j,o=(k+m)/2,p=(l+n)/2,q=m-k,r=n-l,s=q*q+r*r,t=c-d,u=k*n-m*l,v=(r<0?-1:1)*Math.sqrt(Math.max(0,t*t*s-u*u)),w=(u*r-q*v)/s,x=(-u*q-r*v)/s,y=(u*r+q*v)/s,z=(-u*q+r*v)/s,A=w-o,B=x-p,C=y-o,D=z-p;return A*A+B*B>C*C+D*D&&(w=y,x=z),[[w-i,x-j],[w*c/t,x*c/t]]}function Qh(a){function h(f){function o(){h.push("M",e(a(i),g))}for(var l,h=[],i=[],j=-1,k=f.length,m=wb(b),n=wb(c);++j<k;)d.call(this,l=f[j],j)?i.push([+m.call(this,l,j),+n.call(this,l,j)]):i.length&&(o(),i=[]);return i.length&&o(),h.length?h.join(""):null}var b=ve,c=we,d=ed,e=Sh,f=e.key,g=.7;return h.x=function(a){return arguments.length?(b=a,h):b},h.y=function(a){return arguments.length?(c=a,h):c},h.defined=function(a){return arguments.length?(d=a,h):d},h.interpolate=function(a){return arguments.length?(f="function"==typeof a?e=a:(e=Rh.get(a)||Sh).key,h):f},h.tension=function(a){return arguments.length?(g=a,h):g},h}function Sh(a){return a.length>1?a.join("L"):a+"Z"}function Th(a){return a.join("L")+"Z"}function Uh(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("H",(d[0]+(d=a[b])[0])/2,"V",d[1]);return c>1&&e.push("H",d[0]),e.join("")}function Vh(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("V",(d=a[b])[1],"H",d[0]);return e.join("")}function Wh(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("H",(d=a[b])[0],"V",d[1]);return e.join("")}function Xh(a,b){return a.length<4?Sh(a):a[1]+$h(a.slice(1,-1),_h(a,b))}function Yh(a,b){return a.length<3?Th(a):a[0]+$h((a.push(a[0]),a),_h([a[a.length-2]].concat(a,[a[1]]),b))}function Zh(a,b){return a.length<3?Sh(a):a[0]+$h(a,_h(a,b))}function $h(a,b){if(b.length<1||a.length!=b.length&&a.length!=b.length+2)return Sh(a);var c=a.length!=b.length,d="",e=a[0],f=a[1],g=b[0],h=g,i=1;if(c&&(d+="Q"+(f[0]-2*g[0]/3)+","+(f[1]-2*g[1]/3)+","+f[0]+","+f[1],e=a[1],i=2),b.length>1){h=b[1],f=a[i],i++,d+="C"+(e[0]+g[0])+","+(e[1]+g[1])+","+(f[0]-h[0])+","+(f[1]-h[1])+","+f[0]+","+f[1];for(var j=2;j<b.length;j++,i++)f=a[i],h=b[j],d+="S"+(f[0]-h[0])+","+(f[1]-h[1])+","+f[0]+","+f[1]}if(c){var k=a[i];d+="Q"+(f[0]+2*h[0]/3)+","+(f[1]+2*h[1]/3)+","+k[0]+","+k[1]}return d}function _h(a,b){for(var e,c=[],d=(1-b)/2,f=a[0],g=a[1],h=1,i=a.length;++h<i;)e=f,f=g,g=a[h],c.push([d*(g[0]-e[0]),d*(g[1]-e[1])]);return c}function ai(a){if(a.length<3)return Sh(a);var b=1,c=a.length,d=a[0],e=d[0],f=d[1],g=[e,e,e,(d=a[1])[0]],h=[f,f,f,d[1]],i=[e,",",f,"L",ei(hi,g),",",ei(hi,h)];for(a.push(a[c-1]);++b<=c;)d=a[b],g.shift(),g.push(d[0]),h.shift(),h.push(d[1]),ii(i,g,h);return a.pop(),i.push("L",d),i.join("")}function bi(a){if(a.length<4)return Sh(a);for(var e,b=[],c=-1,d=a.length,f=[0],g=[0];++c<3;)e=a[c],f.push(e[0]),g.push(e[1]);for(b.push(ei(hi,f)+","+ei(hi,g)),--c;++c<d;)e=a[c],f.shift(),f.push(e[0]),g.shift(),g.push(e[1]),ii(b,f,g);return b.join("")}function ci(a){for(var b,f,c=-1,d=a.length,e=d+4,g=[],h=[];++c<4;)f=a[c%d],g.push(f[0]),h.push(f[1]);for(b=[ei(hi,g),",",ei(hi,h)],--c;++c<e;)f=a[c%d],g.shift(),g.push(f[0]),h.shift(),h.push(f[1]),ii(b,g,h);return b.join("")}function di(a,b){var c=a.length-1;if(c)for(var i,j,d=a[0][0],e=a[0][1],f=a[c][0]-d,g=a[c][1]-e,h=-1;++h<=c;)i=a[h],j=h/c,i[0]=b*i[0]+(1-b)*(d+j*f),i[1]=b*i[1]+(1-b)*(e+j*g);return ai(a)}function ei(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}function ii(a,b,c){a.push("C",ei(fi,b),",",ei(fi,c),",",ei(gi,b),",",ei(gi,c),",",ei(hi,b),",",ei(hi,c))}function ji(a,b){return(b[1]-a[1])/(b[0]-a[0])}function ki(a){for(var b=0,c=a.length-1,d=[],e=a[0],f=a[1],g=d[0]=ji(e,f);++b<c;)d[b]=(g+(g=ji(e=f,f=a[b+1])))/2;return d[b]=g,d}function li(a){for(var c,d,e,f,b=[],g=ki(a),h=-1,i=a.length-1;++h<i;)c=ji(a[h],a[h+1]),r(c)<za?g[h]=g[h+1]=0:(d=g[h]/c,e=g[h+1]/c,(f=d*d+e*e)>9&&(f=3*c/Math.sqrt(f),g[h]=f*d,g[h+1]=f*e));for(h=-1;++h<=i;)f=(a[Math.min(i,h+1)][0]-a[Math.max(0,h-1)][0])/(6*(1+g[h]*g[h])),b.push([f||0,g[h]*f||0]);return b}function mi(a){return a.length<3?Sh(a):a[0]+$h(a,li(a))}function ni(a){for(var b,e,f,c=-1,d=a.length;++c<d;)b=a[c],e=b[0],f=b[1]-Ea,b[0]=e*Math.cos(f),b[1]=e*Math.sin(f);return a}function oi(a){function l(h){function x(){l.push("M",g(a(n),k),j,i(a(m.reverse()),k),"Z")}for(var q,v,w,l=[],m=[],n=[],o=-1,p=h.length,r=wb(b),s=wb(d),t=b===c?function(){return v}:wb(c),u=d===e?function(){return w}:wb(e);++o<p;)f.call(this,q=h[o],o)?(m.push([v=+r.call(this,q,o),w=+s.call(this,q,o)]),n.push([+t.call(this,q,o),+u.call(this,q,o)])):m.length&&(x(),m=[],n=[]);return m.length&&x(),l.length?l.join(""):null}var b=ve,c=ve,d=0,e=we,f=ed,g=Sh,h=g.key,i=g,j="L",k=.7;return l.x=function(a){return arguments.length?(b=c=a,l):c},l.x0=function(a){return arguments.length?(b=a,l):b},l.x1=function(a){return arguments.length?(c=a,l):c},l.y=function(a){return arguments.length?(d=e=a,l):e},l.y0=function(a){return arguments.length?(d=a,l):d},l.y1=function(a){return arguments.length?(e=a,l):e},l.defined=function(a){return arguments.length?(f=a,l):f},l.interpolate=function(a){return arguments.length?(h="function"==typeof a?g=a:(g=Rh.get(a)||Sh).key,i=g.reverse||g,j=g.closed?"M":"L",l):h},l.tension=function(a){return arguments.length?(k=a,l):k},l}function pi(a){return a.radius}function qi(a){return[a.x,a.y]}function ri(a){return function(){var b=a.apply(this,arguments),c=b[0],d=b[1]-Ea;return[c*Math.cos(d),c*Math.sin(d)]}}function si(){return 64}function ti(){return"circle"}function ui(a){var b=Math.sqrt(a/Ba);return"M0,"+b+"A"+b+","+b+" 0 1,1 0,"+-b+"A"+b+","+b+" 0 1,1 0,"+b+"Z"}function zi(a){return function(){var b,c,d;(b=this[a])&&(d=b[c=b.active])&&(d.timer.c=null,d.timer.t=NaN,--b.count?delete b[c]:delete this[a],b.active+=.5,d.event&&d.event.interrupt.call(this,this.__data__,d.index))}}function Ai(a,b,c){return Q(a,Bi),a.namespace=b,a.id=c,a}function Fi(a,b,c,d){var e=a.id,f=a.namespace;return la(a,"function"==typeof c?function(a,g,h){a[f][e].tween.set(b,d(c.call(a,a.__data__,g,h)))}:(c=d(c),function(a){a[f][e].tween.set(b,c)}))}function Gi(a){return null==a&&(a=""),function(){this.textContent=a}}function Hi(a){return null==a?"__transition__":"__transition_"+a+"__"}function Ii(a,b,c,d,e){function m(a){var b=g.delay;if(i.t=b+h,b<=a)return n(a-b);i.c=n}function n(c){var e=f.active,m=f[e];m&&(m.timer.c=null,m.timer.t=NaN,--f.count,delete f[e],m.event&&m.event.interrupt.call(a,a.__data__,m.index));for(var n in f)if(+n<d){var p=f[n];p.timer.c=null,p.timer.t=NaN,--f.count,delete f[n]}i.c=o,Gb(function(){return i.c&&o(c||1)&&(i.c=null,i.t=NaN),1},0,h),f.active=d,g.event&&g.event.start.call(a,a.__data__,b),l=[],g.tween.forEach(function(c,d){(d=d.call(a,a.__data__,b))&&l.push(d)}),k=g.ease,j=g.duration}function o(e){for(var h=e/j,i=k(h),m=l.length;m>0;)l[--m].call(a,i);if(h>=1)return g.event&&g.event.end.call(a,a.__data__,b),--f.count?delete f[d]:delete a[c],1}var h,i,j,k,l,f=a[c]||(a[c]={active:0,count:0}),g=f[d];g||(h=e.time,i=Gb(m,0,h),g=f[d]={tween:new u,time:h,timer:i,delay:e.delay,duration:e.duration,ease:e.ease,index:b},e=null,++f.count)}function Li(a,b,c){a.attr("transform",function(a){var d=b(a);return"translate("+(isFinite(d)?d:c(a))+",0)"})}function Mi(a,b,c){a.attr("transform",function(a){var d=b(a);return"translate(0,"+(isFinite(d)?d:c(a))+")"})}function Si(a){return a.toISOString()}function Ti(b,c,d){function e(a){return b(a)}function f(b,d){var e=b[1]-b[0],f=e/d,g=a.bisect(Vi,f);return g==Vi.length?[c.year,nh(b.map(function(a){return a/31536e6}),d)[2]]:g?c[f/Vi[g-1]<Vi[g]/f?g-1:g]:[Yi,nh(b,d)[2]]}return e.invert=function(a){return Ui(b.invert(a))},e.domain=function(a){return arguments.length?(b.domain(a),e):b.domain().map(Ui)},e.nice=function(a,b){function h(c){return!isNaN(c)&&!a.range(c,Ui(+c+1),b).length}var c=e.domain(),d=dh(c),g=null==a?f(d,10):"number"==typeof a&&f(d,a);return g&&(a=g[0],b=g[1]),e.domain(gh(c,b>1?{floor:function(b){for(;h(b=a.floor(b));)b=Ui(b-1);return b},ceil:function(b){for(;h(b=a.ceil(b));)b=Ui(+b+1);return b}}:a))},e.ticks=function(a,b){var c=dh(e.domain()),d=null==a?f(c,10):"number"==typeof a?f(c,a):!a.range&&[{range:a},b];return d&&(a=d[0],b=d[1]),a.range(c[0],Ui(+c[1]+1),b<1?1:b)},e.tickFormat=function(){return d},e.copy=function(){return Ti(b.copy(),c,d)},lh(e,b)}function Ui(a){return new Date(a)}function _i(a){return JSON.parse(a.responseText)}function aj(a){var b=d.createRange();return b.selectNode(d.body),b.createContextualFragment(a.responseText)}var a={version:"3.5.17"},b=[].slice,c=function(a){return b.call(a)},d=this.document;if(d)try{c(d.documentElement.childNodes)[0].nodeType}catch(a){c=function(a){for(var b=a.length,c=new Array(b);b--;)c[b]=a[b];return c}}if(Date.now||(Date.now=function(){return+new Date}),d)try{d.createElement("DIV").style.setProperty("opacity",0,"")}catch(a){var g=this.Element.prototype,h=g.setAttribute,i=g.setAttributeNS,j=this.CSSStyleDeclaration.prototype,k=j.setProperty;g.setAttribute=function(a,b){h.call(this,a,b+"")},g.setAttributeNS=function(a,b,c){i.call(this,a,b,c+"")},j.setProperty=function(a,b,c){k.call(this,a,b+"",c)}}a.ascending=l,a.descending=function(a,b){return b<a?-1:b>a?1:b>=a?0:NaN},a.min=function(a,b){var e,f,c=-1,d=a.length;if(1===arguments.length){for(;++c<d;)if(null!=(f=a[c])&&f>=f){e=f;break}for(;++c<d;)null!=(f=a[c])&&e>f&&(e=f)}else{for(;++c<d;)if(null!=(f=b.call(a,a[c],c))&&f>=f){e=f;break}for(;++c<d;)null!=(f=b.call(a,a[c],c))&&e>f&&(e=f)}return e},a.max=function(a,b){var e,f,c=-1,d=a.length;if(1===arguments.length){for(;++c<d;)if(null!=(f=a[c])&&f>=f){e=f;break}for(;++c<d;)null!=(f=a[c])&&f>e&&(e=f)}else{for(;++c<d;)if(null!=(f=b.call(a,a[c],c))&&f>=f){e=f;break}for(;++c<d;)null!=(f=b.call(a,a[c],c))&&f>e&&(e=f)}return e},a.extent=function(a,b){var e,f,g,c=-1,d=a.length;if(1===arguments.length){for(;++c<d;)if(null!=(f=a[c])&&f>=f){e=g=f;break}for(;++c<d;)null!=(f=a[c])&&(e>f&&(e=f),g<f&&(g=f))}else{for(;++c<d;)if(null!=(f=b.call(a,a[c],c))&&f>=f){e=g=f;break}for(;++c<d;)null!=(f=b.call(a,a[c],c))&&(e>f&&(e=f),g<f&&(g=f))}return[e,g]},a.sum=function(a,b){var e,c=0,d=a.length,f=-1;if(1===arguments.length)for(;++f<d;)n(e=+a[f])&&(c+=e);else for(;++f<d;)n(e=+b.call(a,a[f],f))&&(c+=e);return c},a.mean=function(a,b){var e,c=0,d=a.length,f=-1,g=d;if(1===arguments.length)for(;++f<d;)n(e=m(a[f]))?c+=e:--g;else for(;++f<d;)n(e=m(b.call(a,a[f],f)))?c+=e:--g;if(g)return c/g},a.quantile=function(a,b){var c=(a.length-1)*b+1,d=Math.floor(c),e=+a[d-1],f=c-d;return f?e+f*(a[d]-e):e},a.median=function(b,c){var f,d=[],e=b.length,g=-1;if(1===arguments.length)for(;++g<e;)n(f=m(b[g]))&&d.push(f);else for(;++g<e;)n(f=m(c.call(b,b[g],g)))&&d.push(f);if(d.length)return a.quantile(d.sort(l),.5)},a.variance=function(a,b){var e,f,c=a.length,d=0,g=0,h=-1,i=0;if(1===arguments.length)for(;++h<c;)n(e=m(a[h]))&&(f=e-d,d+=f/++i,g+=f*(e-d));else for(;++h<c;)n(e=m(b.call(a,a[h],h)))&&(f=e-d,d+=f/++i,g+=f*(e-d));if(i>1)return g/(i-1)},a.deviation=function(){var b=a.variance.apply(this,arguments);return b?Math.sqrt(b):b};var p=o(l);a.bisectLeft=p.left,a.bisect=a.bisectRight=p.right,a.bisector=function(a){return o(1===a.length?function(b,c){return l(a(b),c)}:a)},a.shuffle=function(a,b,c){(d=arguments.length)<3&&(c=a.length,d<2&&(b=0));for(var e,f,d=c-b;d;)f=Math.random()*d--|0,e=a[d+b],a[d+b]=a[f+b],a[f+b]=e;return a},a.permute=function(a,b){for(var c=b.length,d=new Array(c);c--;)d[c]=a[b[c]];return d},a.pairs=function(a){for(var b=0,c=a.length-1,e=a[0],f=new Array(c<0?0:c);b<c;)f[b]=[e,e=a[++b]];return f},a.transpose=function(b){if(!(g=b.length))return[];for(var c=-1,d=a.min(b,q),e=new Array(d);++c<d;)for(var g,f=-1,h=e[c]=new Array(g);++f<g;)h[f]=b[f][c];return e},a.zip=function(){return a.transpose(arguments)},a.keys=function(a){var b=[];for(var c in a)b.push(c);return b},a.values=function(a){var b=[];for(var c in a)b.push(a[c]);return b},a.entries=function(a){var b=[];for(var c in a)b.push({key:c,value:a[c]});return b},a.merge=function(a){for(var c,f,g,b=a.length,d=-1,e=0;++d<b;)e+=a[d].length;for(f=new Array(e);--b>=0;)for(g=a[b],c=g.length;--c>=0;)f[--e]=g[c];return f};var r=Math.abs;a.range=function(a,b,c){if(arguments.length<3&&(c=1,arguments.length<2&&(b=a,a=0)),(b-a)/c==1/0)throw new Error("infinite range");var g,d=[],e=s(r(c)),f=-1;if(a*=e,b*=e,c*=e,c<0)for(;(g=a+c*++f)>b;)d.push(g/e);else for(;(g=a+c*++f)<b;)d.push(g/e);return d},a.map=function(a,b){var c=new u;if(a instanceof u)a.forEach(function(a,b){c.set(a,b)});else if(Array.isArray(a)){var f,d=-1,e=a.length;if(1===arguments.length)for(;++d<e;)c.set(d,a[d]);else for(;++d<e;)c.set(b.call(a,f=a[d],d),f)}else for(var g in a)c.set(g,a[g]);return c};var v="__proto__",w="\0";t(u,{has:z,get:function(a){return this._[x(a)]},set:function(a,b){return this._[x(a)]=b},remove:A,keys:B,values:function(){var a=[];for(var b in this._)a.push(this._[b]);return a},entries:function(){var a=[];for(var b in this._)a.push({key:y(b),value:this._[b]});return a},size:C,empty:D,forEach:function(a){for(var b in this._)a.call(this,y(b),this._[b])}}),a.nest=function(){function g(a,d,h){if(h>=c.length)return f?f.call(b,d):e?d.sort(e):d;for(var l,m,n,p,i=-1,j=d.length,k=c[h++],o=new u;++i<j;)(p=o.get(l=k(m=d[i])))?p.push(m):o.set(l,[m]);return a?(m=a(),n=function(b,c){m.set(b,g(a,c,h))}):(m={},n=function(b,c){m[b]=g(a,c,h)}),o.forEach(n),m}function h(a,b){if(b>=c.length)return a;var e=[],f=d[b++];return a.forEach(function(a,c){e.push({key:a,values:h(c,b)})}),f?e.sort(function(a,b){return f(a.key,b.key)}):e}var e,f,b={},c=[],d=[];return b.map=function(a,b){return g(b,a,0)},b.entries=function(b){return h(g(a.map,b,0),0)},b.key=function(a){return c.push(a),b},b.sortKeys=function(a){return d[c.length-1]=a,b},b.sortValues=function(a){return e=a,b},b.rollup=function(a){return f=a,b},b},a.set=function(a){var b=new E;if(a)for(var c=0,d=a.length;c<d;++c)b.add(a[c]);return b},t(E,{has:z,add:function(a){return this._[x(a+="")]=!0,a},remove:A,values:B,size:C,empty:D,forEach:function(a){for(var b in this._)a.call(this,y(b))}}),a.behavior={},a.rebind=function(a,b){for(var e,c=1,d=arguments.length;++c<d;)a[e=arguments[c]]=G(a,b,b[e]);return a};var I=["webkit","ms","moz","Moz","o","O"];a.dispatch=function(){for(var a=new K,b=-1,c=arguments.length;++b<c;)a[arguments[b]]=L(a);return a},K.prototype.on=function(a,b){var c=a.indexOf("."),d="";if(c>=0&&(d=a.slice(c+1),a=a.slice(0,c)),a)return arguments.length<2?this[a].on(d):this[a].on(d,b);if(2===arguments.length){if(null==b)for(a in this)this.hasOwnProperty(a)&&this[a].on(d,null);return this}},a.event=null,a.requote=function(a){return a.replace(P,"\\$&")};var P=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Q={}.__proto__?function(a,b){a.__proto__=b}:function(a,b){for(var c in b)a[c]=b[c]},S=function(a,b){return b.querySelector(a)},T=function(a,b){return b.querySelectorAll(a)},U=function(a,b){var c=a.matches||a[H(a,"matchesSelector")];return(U=function(a,b){return c.call(a,b)})(a,b)};"function"==typeof Sizzle&&(S=function(a,b){return Sizzle(a,b)[0]||null},T=Sizzle,U=Sizzle.matchesSelector),a.selection=function(){return a.select(d.documentElement)};var V=a.selection.prototype=[];V.select=function(a){var c,d,e,f,b=[];a=W(a);for(var g=-1,h=this.length;++g<h;){b.push(c=[]),c.parentNode=(e=this[g]).parentNode;for(var i=-1,j=e.length;++i<j;)(f=e[i])?(c.push(d=a.call(f,f.__data__,i,g)),d&&"__data__"in f&&(d.__data__=f.__data__)):c.push(null)}return R(b)},V.selectAll=function(a){var d,e,b=[];a=X(a);for(var f=-1,g=this.length;++f<g;)for(var h=this[f],i=-1,j=h.length;++i<j;)(e=h[i])&&(b.push(d=c(a.call(e,e.__data__,i,f))),d.parentNode=e);return R(b)};var Y="http://www.w3.org/1999/xhtml",Z={svg:"http://www.w3.org/2000/svg",xhtml:Y,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};a.ns={prefix:Z,qualify:function(a){var b=a.indexOf(":"),c=a;return b>=0&&"xmlns"!==(c=a.slice(0,b))&&(a=a.slice(b+1)),Z.hasOwnProperty(c)?{space:Z[c],local:a}:a}},V.attr=function(b,c){if(arguments.length<2){if("string"==typeof b){var d=this.node();return b=a.ns.qualify(b),b.local?d.getAttributeNS(b.space,b.local):d.getAttribute(b)}for(c in b)this.each($(c,b[c]));return this}return this.each($(b,c))},V.classed=function(a,b){if(arguments.length<2){if("string"==typeof a){var c=this.node(),d=(a=ba(a)).length,e=-1;if(b=c.classList){for(;++e<d;)if(!b.contains(a[e]))return!1}else for(b=c.getAttribute("class");++e<d;)if(!aa(a[e]).test(b))return!1;return!0}for(b in a)this.each(ca(b,a[b]));return this}return this.each(ca(a,b))},V.style=function(a,b,c){var d=arguments.length;if(d<3){if("string"!=typeof a){d<2&&(b="");for(c in a)this.each(ea(c,a[c],b));return this}if(d<2){var e=this.node();return f(e).getComputedStyle(e,null).getPropertyValue(a)}c=""}return this.each(ea(a,b,c))},V.property=function(a,b){if(arguments.length<2){if("string"==typeof a)return this.node()[a];for(b in a)this.each(fa(b,a[b]));return this}return this.each(fa(a,b))},V.text=function(a){return arguments.length?this.each("function"==typeof a?function(){var b=a.apply(this,arguments);this.textContent=null==b?"":b}:null==a?function(){this.textContent=""}:function(){this.textContent=a}):this.node().textContent},V.html=function(a){return arguments.length?this.each("function"==typeof a?function(){var b=a.apply(this,arguments);this.innerHTML=null==b?"":b}:null==a?function(){this.innerHTML=""}:function(){this.innerHTML=a}):this.node().innerHTML},V.append=function(a){return a=ga(a),this.select(function(){return this.appendChild(a.apply(this,arguments))})},V.insert=function(a,b){return a=ga(a),b=W(b),this.select(function(){return this.insertBefore(a.apply(this,arguments),b.apply(this,arguments)||null)})},V.remove=function(){return this.each(ha)},V.data=function(a,b){function g(a,c){var d,n,o,e=a.length,f=c.length,g=Math.min(e,f),k=new Array(f),l=new Array(f),m=new Array(e);if(b){var r,p=new u,q=new Array(e);for(d=-1;++d<e;)(n=a[d])&&(p.has(r=b.call(n,n.__data__,d))?m[d]=n:p.set(r,n),q[d]=r);for(d=-1;++d<f;)(n=p.get(r=b.call(c,o=c[d],d)))?!0!==n&&(k[d]=n,n.__data__=o):l[d]=ia(o),p.set(r,!0);for(d=-1;++d<e;)d in q&&!0!==p.get(q[d])&&(m[d]=a[d])}else{for(d=-1;++d<g;)n=a[d],o=c[d],n?(n.__data__=o,k[d]=n):l[d]=ia(o);for(;d<f;++d)l[d]=ia(c[d]);for(;d<e;++d)m[d]=a[d]}l.update=k,l.parentNode=k.parentNode=m.parentNode=a.parentNode,h.push(l),i.push(k),j.push(m)}var e,f,c=-1,d=this.length;if(!arguments.length){for(a=new Array(d=(e=this[0]).length);++c<d;)(f=e[c])&&(a[c]=f.__data__);return a}var h=ma([]),i=R([]),j=R([]);if("function"==typeof a)for(;++c<d;)g(e=this[c],a.call(e,e.parentNode.__data__,c));else for(;++c<d;)g(e=this[c],a);return i.enter=function(){return h},i.exit=function(){return j},i},V.datum=function(a){return arguments.length?this.property("__data__",a):this.property("__data__")},V.filter=function(a){var c,d,e,b=[];"function"!=typeof a&&(a=ja(a));for(var f=0,g=this.length;f<g;f++){b.push(c=[]),c.parentNode=(d=this[f]).parentNode;for(var h=0,i=d.length;h<i;h++)(e=d[h])&&a.call(e,e.__data__,h,f)&&c.push(e)}return R(b)},V.order=function(){for(var a=-1,b=this.length;++a<b;)for(var f,c=this[a],d=c.length-1,e=c[d];--d>=0;)(f=c[d])&&(e&&e!==f.nextSibling&&e.parentNode.insertBefore(f,e),e=f);return this},V.sort=function(a){a=ka.apply(this,arguments);for(var b=-1,c=this.length;++b<c;)this[b].sort(a);return this.order()},V.each=function(a){return la(this,function(b,c,d){a.call(b,b.__data__,c,d)})},V.call=function(a){var b=c(arguments);return a.apply(b[0]=this,b),this},V.empty=function(){return!this.node()},V.node=function(){for(var a=0,b=this.length;a<b;a++)for(var c=this[a],d=0,e=c.length;d<e;d++){var f=c[d];if(f)return f}return null},V.size=function(){var a=0;return la(this,function(){++a}),a};var na=[];a.selection.enter=ma,a.selection.enter.prototype=na,na.append=V.append,na.empty=V.empty,na.node=V.node,na.call=V.call,na.size=V.size,na.select=function(a){for(var c,d,e,f,g,b=[],h=-1,i=this.length;++h<i;){e=(f=this[h]).update,b.push(c=[]),c.parentNode=f.parentNode;for(var j=-1,k=f.length;++j<k;)(g=f[j])?(c.push(e[j]=d=a.call(f.parentNode,g.__data__,j,h)),d.__data__=g.__data__):c.push(null)}return R(b)},na.insert=function(a,b){return arguments.length<2&&(b=oa(this)),V.insert.call(this,a,b)},a.select=function(a){var b;return"string"==typeof a?(b=[S(a,d)],b.parentNode=d.documentElement):(b=[a],b.parentNode=e(a)),R([b])},a.selectAll=function(a){var b;return"string"==typeof a?(b=c(T(a,d)),b.parentNode=d.documentElement):(b=c(a),b.parentNode=null),R([b])},V.on=function(a,b,c){var d=arguments.length;if(d<3){if("string"!=typeof a){d<2&&(b=!1);for(c in a)this.each(pa(c,a[c],b));return this}if(d<2)return(d=this.node()["__on"+a])&&d._;c=!1}return this.each(pa(a,b,c))};var qa=a.map({mouseenter:"mouseover",mouseleave:"mouseout"});d&&qa.forEach(function(a){"on"+a in d&&qa.remove(a)});var ta,ua=0;a.mouse=function(a){return xa(a,N())};var wa=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;a.touch=function(a,b,c){if(arguments.length<3&&(c=b,b=N().changedTouches),b)for(var f,d=0,e=b.length;d<e;++d)if((f=b[d]).identifier===c)return xa(a,f)},a.behavior.drag=function(){function g(){this.on("mousedown.drag",d).on("touchstart.drag",e)}function h(d,e,f,g,h){return function(){function t(){var b,c,a=e(k,n);a&&(b=a[0]-s[0],c=a[1]-s[1],m|=b|c,s=a,l({type:"drag",x:a[0]+p[0],y:a[1]+p[1],dx:b,dy:c}))}function u(){e(k,n)&&(q.on(g+o,null).on(h+o,null),r(m),l({type:"dragend"}))}var p,i=this,j=a.event.target.correspondingElement||a.event.target,k=i.parentNode,l=b.of(i,arguments),m=0,n=d(),o=".drag"+(null==n?"":"-"+n),q=a.select(f(j)).on(g+o,t).on(h+o,u),r=va(j),s=e(k,n);c?(p=c.apply(i,arguments),p=[p.x-s[0],p.y-s[1]]):p=[0,0],l({type:"dragstart"})}}var b=O(g,"drag","dragstart","dragend"),c=null,d=h(J,a.mouse,f,"mousemove","mouseup"),e=h(ya,a.touch,F,"touchmove","touchend");return g.origin=function(a){return arguments.length?(c=a,g):c},a.rebind(g,b,"on")},a.touches=function(a,b){return arguments.length<2&&(b=N().touches),b?c(b).map(function(b){var c=xa(a,b);return c.identifier=b.identifier,c}):[]};var za=1e-6,Aa=za*za,Ba=Math.PI,Ca=2*Ba,Da=Ca-za,Ea=Ba/2,Fa=Ba/180,Ga=180/Ba,Pa=Math.SQRT2,Qa=2,Ra=4;a.interpolateZoom=function(a,b){var l,m,c=a[0],d=a[1],e=a[2],f=b[0],g=b[1],h=b[2],i=f-c,j=g-d,k=i*i+j*j;if(k<Aa)m=Math.log(h/e)/Pa,l=function(a){return[c+a*i,d+a*j,e*Math.exp(Pa*a*m)]};else{var n=Math.sqrt(k),o=(h*h-e*e+Ra*k)/(2*e*Qa*n),p=(h*h-e*e-Ra*k)/(2*h*Qa*n),q=Math.log(Math.sqrt(o*o+1)-o),r=Math.log(Math.sqrt(p*p+1)-p);m=(r-q)/Pa,l=function(a){var b=a*m,f=Ma(q),g=e/(Qa*n)*(f*Na(Pa*b+q)-La(q));return[c+g*i,d+g*j,e*f/Ma(Pa*b+q)]}}return l.duration=1e3*m,l},a.behavior.zoom=function(){function w(a){a.on(l,G).on(Ua+".zoom",I).on("dblclick.zoom",J).on(p,H)}function x(a){return[(a[0]-b.x)/b.k,(a[1]-b.y)/b.k]}function y(a){return[a[0]*b.k+b.x,a[1]*b.k+b.y]}function z(a){b.k=Math.max(i[0],Math.min(i[1],a))}function A(a,c){c=y(c),b.x+=a[0]-c[0],b.y+=a[1]-c[1]}function B(c,d,f,g){c.__chart__={x:b.x,y:b.y,k:b.k},z(Math.pow(2,g)),A(e=d,f),c=a.select(c),j>0&&(c=c.transition().duration(j)),c.call(w.event)}function C(){t&&t.domain(s.range().map(function(a){return(a-b.x)/b.k}).map(s.invert)),v&&v.domain(u.range().map(function(a){return(a-b.y)/b.k}).map(u.invert))}function D(a){k++||a({type:"zoomstart"})}function E(a){C(),a({type:"zoom",scale:b.k,translate:[b.x,b.y]})}function F(a){--k||(a({type:"zoomend"}),e=null)}function G(){function i(){d=1,A(a.mouse(b),g),E(c)}function j(){e.on(m,null).on(n,null),h(d),F(c)}var b=this,c=r.of(b,arguments),d=0,e=a.select(f(b)).on(m,i).on(n,j),g=x(a.mouse(b)),h=va(b);yi.call(b),D(c)}function H(){function o(){var d=a.touches(c);return g=b.k,d.forEach(function(a){a.identifier in e&&(e[a.identifier]=x(a))}),d}function s(){var d=a.event.target;a.select(d).on(i,t).on(j,u),k.push(d);for(var g=a.event.changedTouches,h=0,l=g.length;h<l;++h)e[g[h].identifier]=null;var m=o(),n=Date.now();if(1===m.length){if(n-q<500){var p=m[0];B(c,p,e[p.identifier],Math.floor(Math.log(b.k)/Math.LN2)+1),M()}q=n}else if(m.length>1){var p=m[0],r=m[1],s=p[0]-r[0],v=p[1]-r[1];f=s*s+v*v}}function t(){var h,i,j,k,b=a.touches(c);yi.call(c);for(var l=0,m=b.length;l<m;++l,k=null)if(j=b[l],k=e[j.identifier]){if(i)break;h=j,i=k}if(k){var n=(n=j[0]-h[0])*n+(n=j[1]-h[1])*n,o=f&&Math.sqrt(n/f);h=[(h[0]+j[0])/2,(h[1]+j[1])/2],i=[(i[0]+k[0])/2,(i[1]+k[1])/2],z(o*g)}q=null,A(h,i),E(d)}function u(){if(a.event.touches.length){for(var b=a.event.changedTouches,c=0,f=b.length;c<f;++c)delete e[b[c].identifier];for(var g in e)return void o()}a.selectAll(k).on(h,null),m.on(l,G).on(p,H),n(),F(d)}var g,c=this,d=r.of(c,arguments),e={},f=0,h=".zoom-"+a.event.changedTouches[0].identifier,i="touchmove"+h,j="touchend"+h,k=[],m=a.select(c),n=va(c);s(),D(d),m.on(l,null).on(p,s)}function I(){var d=r.of(this,arguments);o?clearTimeout(o):(yi.call(this),c=x(e=g||a.mouse(this)),D(d)),o=setTimeout(function(){o=null,F(d)},50),M(),z(Math.pow(2,.002*Ta())*b.k),A(e,c),E(d)}function J(){var c=a.mouse(this),d=Math.log(b.k)/Math.LN2;B(this,c,x(c),a.event.shiftKey?Math.ceil(d)-1:Math.floor(d)+1)}var c,e,g,o,q,s,t,u,v,b={x:0,y:0,k:1},h=[960,500],i=Sa,j=250,k=0,l="mousedown.zoom",m="mousemove.zoom",n="mouseup.zoom",p="touchstart.zoom",r=O(w,"zoomstart","zoom","zoomend");return Ua||(Ua="onwheel"in d?(Ta=function(){return-a.event.deltaY*(a.event.deltaMode?120:1)},"wheel"):"onmousewheel"in d?(Ta=function(){return a.event.wheelDelta},"mousewheel"):(Ta=function(){return-a.event.detail},"MozMousePixelScroll")),w.event=function(c){c.each(function(){var c=r.of(this,arguments),d=b;Di?a.select(this).transition().each("start.zoom",function(){b=this.__chart__||{x:0,y:0,k:1},D(c)}).tween("zoom:zoom",function(){var f=h[0],g=h[1],i=e?e[0]:f/2,j=e?e[1]:g/2,k=a.interpolateZoom([(i-b.x)/b.k,(j-b.y)/b.k,f/b.k],[(i-d.x)/d.k,(j-d.y)/d.k,f/d.k]);return function(a){var d=k(a),e=f/d[2];this.__chart__=b={x:i-d[0]*e,y:j-d[1]*e,k:e},E(c)}}).each("interrupt.zoom",function(){F(c)}).each("end.zoom",function(){F(c)}):(this.__chart__=b,D(c),E(c),F(c))})},w.translate=function(a){return arguments.length?(b={x:+a[0],y:+a[1],k:b.k},C(),w):[b.x,b.y]},w.scale=function(a){return arguments.length?(b={x:b.x,y:b.y,k:null},z(+a),C(),w):b.k},w.scaleExtent=function(a){return arguments.length?(i=null==a?Sa:[+a[0],+a[1]],w):i},w.center=function(a){return arguments.length?(g=a&&[+a[0],+a[1]],w):g},w.size=function(a){return arguments.length?(h=a&&[+a[0],+a[1]],w):h},w.duration=function(a){return arguments.length?(j=+a,w):j},w.x=function(a){return arguments.length?(t=a,s=a.copy(),b={x:0,y:0,k:1},w):t},w.y=function(a){return arguments.length?(v=a,u=a.copy(),b={x:0,y:0,k:1},w):v},a.rebind(w,r,"on")};var Ta,Ua,Sa=[0,1/0];a.color=Va,Va.prototype.toString=function(){return this.rgb()+""},a.hsl=Wa;var Xa=Wa.prototype=new Va;Xa.brighter=function(a){return a=Math.pow(.7,arguments.length?a:1),new Wa(this.h,this.s,this.l/a)},Xa.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),new Wa(this.h,this.s,a*this.l)},Xa.rgb=function(){return Ya(this.h,this.s,this.l)},a.hcl=Za;var $a=Za.prototype=new Va;$a.brighter=function(a){return new Za(this.h,this.c,Math.min(100,this.l+bb*(arguments.length?a:1)))},$a.darker=function(a){return new Za(this.h,this.c,Math.max(0,this.l-bb*(arguments.length?a:1)))},$a.rgb=function(){return _a(this.h,this.c,this.l).rgb()},a.lab=ab;var bb=18,cb=.95047,db=1,eb=1.08883,fb=ab.prototype=new Va;fb.brighter=function(a){return new ab(Math.min(100,this.l+bb*(arguments.length?a:1)),this.a,this.b)},fb.darker=function(a){return new ab(Math.max(0,this.l-bb*(arguments.length?a:1)),this.a,this.b)},fb.rgb=function(){return gb(this.l,this.a,this.b)},a.rgb=lb;var ob=lb.prototype=new Va;ob.brighter=function(a){a=Math.pow(.7,arguments.length?a:1);var b=this.r,c=this.g,d=this.b,e=30;return b||c||d?(b&&b<e&&(b=e),c&&c<e&&(c=e),d&&d<e&&(d=e),new lb(Math.min(255,b/a),Math.min(255,c/a),Math.min(255,d/a))):new lb(e,e,e)},ob.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),new lb(a*this.r,a*this.g,a*this.b)},ob.hsl=function(){return rb(this.r,this.g,this.b)},ob.toString=function(){return"#"+pb(this.r)+pb(this.g)+pb(this.b)};var vb=a.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});vb.forEach(function(a,b){vb.set(a,mb(b))}),a.functor=wb,a.xhr=xb(F),a.dsv=function(a,b){function e(a,c,d){arguments.length<3&&(d=c,c=null);var e=yb(a,b,null==c?f:g(c),d);return e.row=function(a){return arguments.length?e.response(null==(c=a)?f:g(a)):c},e}function f(a){return e.parse(a.responseText)}function g(a){return function(b){return e.parse(b.responseText,a)}}function h(b){return b.map(i).join(a)}function i(a){return c.test(a)?'"'+a.replace(/\"/g,'""')+'"':a}var c=new RegExp('["'+a+"\n]"),d=a.charCodeAt(0);return e.parse=function(a,b){var c;return e.parseRows(a,function(a,d){if(c)return c(a,d-1);var e=new Function("d","return {"+a.map(function(a,b){return JSON.stringify(a)+": d["+b+"]"}).join(",")+"}");c=b?function(a,c){return b(e(a),c)}:e})},e.parseRows=function(a,b){function l(){if(h>=g)return e;if(k)return k=!1,c;var b=h;if(34===a.charCodeAt(b)){for(var f=b;f++<g;)if(34===a.charCodeAt(f)){if(34!==a.charCodeAt(f+1))break;++f}h=f+2;var i=a.charCodeAt(f+1);return 13===i?(k=!0,10===a.charCodeAt(f+2)&&++h):10===i&&(k=!0),a.slice(b+1,f).replace(/""/g,'"')}for(;h<g;){var i=a.charCodeAt(h++),j=1;if(10===i)k=!0;else if(13===i)k=!0,10===a.charCodeAt(h)&&(++h,++j);else if(i!==d)continue;return a.slice(b,h-j)}return a.slice(b)}for(var j,k,c={},e={},f=[],g=a.length,h=0,i=0;(j=l())!==e;){for(var m=[];j!==c&&j!==e;)m.push(j),j=l();b&&null==(m=b(m,i++))||f.push(m)}return f},e.format=function(b){if(Array.isArray(b[0]))return e.formatRows(b);var c=new E,d=[];return b.forEach(function(a){for(var b in a)c.has(b)||d.push(c.add(b))}),[d.map(i).join(a)].concat(b.map(function(b){return d.map(function(a){return i(b[a])}).join(a)})).join("\n")},e.formatRows=function(a){return a.map(h).join("\n")},e},a.csv=a.dsv(",","text/csv"),a.tsv=a.dsv("\t","text/tab-separated-values");var Bb,Cb,Db,Eb,Fb=this[H(this,"requestAnimationFrame")]||function(a){setTimeout(a,17)};a.timer=function(){Gb.apply(this,arguments)},a.timer.flush=function(){Ib(),Jb()},a.round=function(a,b){return b?Math.round(a*(b=Math.pow(10,b)))/b:Math.round(a)};var Lb=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(Mb);a.formatPrefix=function(b,c){var d=0;return(b=+b)&&(b<0&&(b*=-1),c&&(b=a.round(b,Kb(b,c))),d=1+Math.floor(1e-12+Math.log(b)/Math.LN10),d=Math.max(-24,Math.min(24,3*Math.floor((d-1)/3)))),Lb[8+d/3]};var Ob=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Pb=a.map({b:function(a){return a.toString(2)},c:function(a){return String.fromCharCode(a)},o:function(a){return a.toString(8)},x:function(a){return a.toString(16)},X:function(a){return a.toString(16).toUpperCase()},g:function(a,b){return a.toPrecision(b)},e:function(a,b){return a.toExponential(b)},f:function(a,b){return a.toFixed(b)},r:function(b,c){return(b=a.round(b,Kb(b,c))).toFixed(Math.max(0,Math.min(20,Kb(b*(1+1e-15),c))))}}),Rb=a.time={},Sb=Date;Tb.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Ub.setUTCDate.apply(this._,arguments)},setDay:function(){Ub.setUTCDay.apply(this._,arguments)},setFullYear:function(){Ub.setUTCFullYear.apply(this._,arguments)},setHours:function(){Ub.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Ub.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Ub.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Ub.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Ub.setUTCSeconds.apply(this._,arguments)},setTime:function(){Ub.setTime.apply(this._,arguments)}};var Ub=Date.prototype;Rb.year=Vb(function(a){return a=Rb.day(a),a.setMonth(0,1),a},function(a,b){a.setFullYear(a.getFullYear()+b)},function(a){return a.getFullYear()}),Rb.years=Rb.year.range,Rb.years.utc=Rb.year.utc.range,Rb.day=Vb(function(a){var b=new Sb(2e3,0);return b.setFullYear(a.getFullYear(),a.getMonth(),a.getDate()),b},function(a,b){a.setDate(a.getDate()+b)},function(a){return a.getDate()-1}),Rb.days=Rb.day.range,Rb.days.utc=Rb.day.utc.range,Rb.dayOfYear=function(a){var b=Rb.year(a);return Math.floor((a-b-6e4*(a.getTimezoneOffset()-b.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(a,b){b=7-b;var c=Rb[a]=Vb(function(a){return(a=Rb.day(a)).setDate(a.getDate()-(a.getDay()+b)%7),a},function(a,b){a.setDate(a.getDate()+7*Math.floor(b))},function(a){var c=Rb.year(a).getDay();return Math.floor((Rb.dayOfYear(a)+(c+b)%7)/7)-(c!==b)});Rb[a+"s"]=c.range,Rb[a+"s"].utc=c.utc.range,Rb[a+"OfYear"]=function(a){var c=Rb.year(a).getDay();return Math.floor((Rb.dayOfYear(a)+(c+b)%7)/7)}}),Rb.week=Rb.sunday,Rb.weeks=Rb.sunday.range,Rb.weeks.utc=Rb.sunday.utc.range,Rb.weekOfYear=Rb.sundayOfYear;var Yb={"-":"",_:" ",0:"0"},Zb=/^\s*\d+/,$b=/^%/;a.locale=function(a){return{numberFormat:Nb(a),timeFormat:Xb(a)}};var tc=a.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});a.format=tc.numberFormat,a.geo={},uc.prototype={s:0,t:0,add:function(a){wc(a,this.t,vc),wc(vc.s,this.s,this),this.s?this.t+=vc.t:this.s=vc.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var vc=new uc;a.geo.stream=function(a,b){a&&yc.hasOwnProperty(a.type)?yc[a.type](a,b):xc(a,b)};var yc={Feature:function(a,b){xc(a.geometry,b)},FeatureCollection:function(a,b){for(var c=a.features,d=-1,e=c.length;++d<e;)xc(c[d].geometry,b)}},zc={Sphere:function(a,b){b.sphere()},Point:function(a,b){a=a.coordinates,b.point(a[0],a[1],a[2])},MultiPoint:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)a=c[d],b.point(a[0],a[1],a[2])},LineString:function(a,b){Ac(a.coordinates,b,0)},MultiLineString:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)Ac(c[d],b,0)},Polygon:function(a,b){Bc(a.coordinates,b)},MultiPolygon:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)Bc(c[d],b)},GeometryCollection:function(a,b){for(var c=a.geometries,d=-1,e=c.length;++d<e;)xc(c[d],b)}};a.geo.area=function(b){return Cc=0,a.geo.stream(b,Ec),Cc};var Cc,Dc=new uc,Ec={sphere:function(){Cc+=4*Ba},point:J,lineStart:J,lineEnd:J,polygonStart:function(){Dc.reset(),Ec.lineStart=Fc},polygonEnd:function(){var a=2*Dc;Cc+=a<0?4*Ba+a:a,Ec.lineStart=Ec.lineEnd=Ec.point=J}};a.geo.bounds=function(){function n(a,f){k.push(l=[b=a,d=a]),f<c&&(c=f),f>e&&(e=f)}function o(a,g){var h=Gc([a*Fa,g*Fa]);if(i){var j=Ic(i,h),k=[j[1],-j[0],0],l=Ic(k,j);Lc(l),l=Mc(l);var m=a-f,o=m>0?1:-1,p=l[0]*Ga*o,q=r(m)>180;if(q^(o*f<p&&p<o*a)){var s=l[1]*Ga;s>e&&(e=s)}else if(p=(p+360)%360-180,q^(o*f<p&&p<o*a)){var s=-l[1]*Ga;s<c&&(c=s)}else g<c&&(c=g),g>e&&(e=g);q?a<f?v(b,a)>v(b,d)&&(d=a):v(a,d)>v(b,d)&&(b=a):d>=b?(a<b&&(b=a),a>d&&(d=a)):a>f?v(b,a)>v(b,d)&&(d=a):v(a,d)>v(b,d)&&(b=a)}else n(a,g);i=h,f=a}function p(){m.point=o}function q(){l[0]=b,l[1]=d,m.point=n,i=null}function s(a,b){if(i){var c=a-f;j+=r(c)>180?c+(c>0?360:-360):c}else g=a,h=b;Ec.point(a,b),o(a,b)}function t(){Ec.lineStart()}function u(){s(g,h),Ec.lineEnd(),r(j)>za&&(b=-(d=180)),l[0]=b,l[1]=d,i=null}function v(a,b){return(b-=a)<0?b+360:b}function w(a,b){return a[0]-b[0]}function x(a,b){return b[0]<=b[1]?b[0]<=a&&a<=b[1]:a<b[0]||b[1]<a}var b,c,d,e,f,g,h,i,j,k,l,m={point:n,lineStart:p,lineEnd:q,polygonStart:function(){m.point=s,m.lineStart=t,m.lineEnd=u,j=0,Ec.polygonStart()},polygonEnd:function(){Ec.polygonEnd(),m.point=n,m.lineStart=p,m.lineEnd=q,Dc<0?(b=-(d=180),c=-(e=90)):j>za?e=90:j<-za&&(c=-90),l[0]=b,l[1]=d}};return function(f){e=d=-(b=c=1/0),k=[],a.geo.stream(f,m);var g=k.length;if(g){k.sort(w);for(var j,h=1,i=k[0],n=[i];h<g;++h)j=k[h],x(j[0],i)||x(j[1],i)?(v(i[0],j[1])>v(i[0],i[1])&&(i[1]=j[1]),v(j[0],i[1])>v(i[0],i[1])&&(i[0]=j[0])):n.push(i=j);for(var p,j,o=-1/0,g=n.length-1,h=0,i=n[g];h<=g;i=j,++h)j=n[h],(p=v(i[1],j[0]))>o&&(o=p,b=j[0],d=i[1])}return k=l=null,b===1/0||c===1/0?[[NaN,NaN],[NaN,NaN]]:[[b,c],[d,e]]}}(),a.geo.centroid=function(b){Oc=Pc=Qc=Rc=Sc=Tc=Uc=Vc=Wc=Xc=Yc=0,a.geo.stream(b,Zc);var c=Wc,d=Xc,e=Yc,f=c*c+d*d+e*e;return f<Aa&&(c=Tc,d=Uc,e=Vc,Pc<za&&(c=Qc,d=Rc,e=Sc),(f=c*c+d*d+e*e)<Aa)?[NaN,NaN]:[Math.atan2(d,c)*Ga,Ka(e/Math.sqrt(f))*Ga]};var Oc,Pc,Qc,Rc,Sc,Tc,Uc,Vc,Wc,Xc,Yc,Zc={sphere:J,point:$c,lineStart:ad,lineEnd:bd,polygonStart:function(){Zc.lineStart=cd},polygonEnd:function(){Zc.lineStart=ad}},md=id(ed,nd,pd,[-Ba,-Ba/2]),td=1e9;a.geo.clipExtent=function(){var a,b,c,d,e,f,g={stream:function(a){return e&&(e.valid=!1),e=f(a),e.valid=!0,e},extent:function(h){return arguments.length?(f=ud(a=+h[0][0],b=+h[0][1],c=+h[1][0],d=+h[1][1]),e&&(e.valid=!1,e=null),g):[[a,b],[c,d]]}};return g.extent([[0,0],[960,500]])},(a.geo.conicEqualArea=function(){return vd(wd)}).raw=wd,a.geo.albers=function(){return a.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},a.geo.albersUsa=function(){function j(a){var b=a[0],c=a[1];return e=null,g(b,c),e||(h(b,c),e)||i(b,c),e}var e,g,h,i,b=a.geo.albers(),c=a.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),d=a.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f={point:function(a,b){e=[a,b]}};return j.invert=function(a){var e=b.scale(),f=b.translate(),g=(a[0]-f[0])/e,h=(a[1]-f[1])/e;return(h>=.12&&h<.234&&g>=-.425&&g<-.214?c:h>=.166&&h<.234&&g>=-.214&&g<-.115?d:b).invert(a)},j.stream=function(a){var e=b.stream(a),f=c.stream(a),g=d.stream(a);return{point:function(a,b){e.point(a,b),f.point(a,b),g.point(a,b)},sphere:function(){e.sphere(),f.sphere(),g.sphere()},lineStart:function(){e.lineStart(),f.lineStart(),g.lineStart()},lineEnd:function(){e.lineEnd(),f.lineEnd(),g.lineEnd()},polygonStart:function(){e.polygonStart(),f.polygonStart(),g.polygonStart()},polygonEnd:function(){e.polygonEnd(),f.polygonEnd(),g.polygonEnd()}}},j.precision=function(a){return arguments.length?(b.precision(a),c.precision(a),d.precision(a),j):b.precision()},j.scale=function(a){return arguments.length?(b.scale(a),c.scale(.35*a),d.scale(a),j.translate(b.translate())):b.scale()},j.translate=function(a){if(!arguments.length)return b.translate();var e=b.scale(),k=+a[0],l=+a[1];return g=b.translate(a).clipExtent([[k-.455*e,l-.238*e],[k+.455*e,l+.238*e]]).stream(f).point,h=c.translate([k-.307*e,l+.201*e]).clipExtent([[k-.425*e+za,l+.12*e+za],[k-.214*e-za,l+.234*e-za]]).stream(f).point,i=d.translate([k-.205*e,l+.212*e]).clipExtent([[k-.214*e+za,l+.166*e+za],[k-.115*e-za,l+.234*e-za]]).stream(f).point,j},j.scale(1070)};var xd,yd,Bd,Cd,Dd,Ed,zd={point:J,lineStart:J,lineEnd:J,polygonStart:function(){yd=0,zd.lineStart=Ad},polygonEnd:function(){zd.lineStart=zd.lineEnd=zd.point=J,xd+=r(yd/2)}},Fd={point:Gd,lineStart:J,lineEnd:J,polygonStart:J,polygonEnd:J},Jd={point:Kd,lineStart:Ld,lineEnd:Md,polygonStart:function(){Jd.lineStart=Nd},polygonEnd:function(){Jd.point=Kd,Jd.lineStart=Ld,Jd.lineEnd=Md}};a.geo.path=function(){function h(c){return c&&("function"==typeof b&&f.pointRadius(+b.apply(this,arguments)),g&&g.valid||(g=e(f)),a.geo.stream(c,g)),f.result()}function i(){return g=null,h}var c,d,e,f,g,b=4.5;return h.area=function(b){return xd=0,a.geo.stream(b,e(zd)),xd},h.centroid=function(b){return Qc=Rc=Sc=Tc=Uc=Vc=Wc=Xc=Yc=0,a.geo.stream(b,e(Jd)),Yc?[Wc/Yc,Xc/Yc]:Vc?[Tc/Vc,Uc/Vc]:Sc?[Qc/Sc,Rc/Sc]:[NaN,NaN]},h.bounds=function(b){return Dd=Ed=-(Bd=Cd=1/0),a.geo.stream(b,e(Fd)),[[Bd,Cd],[Dd,Ed]]},h.projection=function(a){return arguments.length?(e=(c=a)?a.stream||Qd(a):F,i()):c},h.context=function(a){return arguments.length?(f=null==(d=a)?new Hd:new Od(a),"function"!=typeof b&&f.pointRadius(b),i()):d},h.pointRadius=function(a){return arguments.length?(b="function"==typeof a?a:(f.pointRadius(+a),+a),h):b},h.projection(a.geo.albersUsa()).context(null)},a.geo.transform=function(a){return{stream:function(b){var c=new Rd(b);for(var d in a)c[d]=a[d];return c}}},Rd.prototype={point:function(a,b){this.stream.point(a,b)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},a.geo.projection=Td,a.geo.projectionMutator=Ud,(a.geo.equirectangular=function(){return Td(Wd)}).raw=Wd.invert=Wd,a.geo.rotation=function(a){function b(b){return b=a(b[0]*Fa,b[1]*Fa),b[0]*=Ga,b[1]*=Ga,b}return a=Yd(a[0]%360*Fa,a[1]*Fa,a.length>2?a[2]*Fa:0),b.invert=function(b){return b=a.invert(b[0]*Fa,b[1]*Fa),b[0]*=Ga,b[1]*=Ga,b},b},Xd.invert=Wd,a.geo.circle=function(){function e(){var b="function"==typeof a?a.apply(this,arguments):a,c=Yd(-b[0]*Fa,-b[1]*Fa,0).invert,e=[];return d(null,null,1,{point:function(a,b){e.push(a=c(a,b)),a[0]*=Ga,a[1]*=Ga}}),{type:"Polygon",coordinates:[e]}}var b,d,a=[0,0],c=6;return e.origin=function(b){return arguments.length?(a=b,e):a},e.angle=function(a){return arguments.length?(d=ae((b=+a)*Fa,c*Fa),e):b},e.precision=function(a){return arguments.length?(d=ae(b*Fa,(c=+a)*Fa),e):c},e.angle(90)},a.geo.distance=function(a,b){var l,c=(b[0]-a[0])*Fa,d=a[1]*Fa,e=b[1]*Fa,f=Math.sin(c),g=Math.cos(c),h=Math.sin(d),i=Math.cos(d),j=Math.sin(e),k=Math.cos(e);return Math.atan2(Math.sqrt((l=k*f)*l+(l=i*j-h*k*g)*l),h*j+i*k*g)},a.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:u()}}function u(){return a.range(Math.ceil(e/l)*l,d,l).map(p).concat(a.range(Math.ceil(i/m)*m,h,m).map(q)).concat(a.range(Math.ceil(c/j)*j,b,j).filter(function(a){return r(a%l)>za}).map(n)).concat(a.range(Math.ceil(g/k)*k,f,k).filter(function(a){return r(a%m)>za}).map(o))}var b,c,d,e,f,g,h,i,n,o,p,q,j=10,k=j,l=90,m=360,s=2.5;return t.lines=function(){return u().map(function(a){return{type:"LineString",coordinates:a}})},t.outline=function(){return{type:"Polygon",coordinates:[p(e).concat(q(h).slice(1),p(d).reverse().slice(1),q(i).reverse().slice(1))]}},t.extent=function(a){return arguments.length?t.majorExtent(a).minorExtent(a):t.minorExtent()},t.majorExtent=function(a){return arguments.length?(e=+a[0][0],d=+a[1][0],i=+a[0][1],h=+a[1][1],e>d&&(a=e,e=d,d=a),i>h&&(a=i,i=h,h=a),t.precision(s)):[[e,i],[d,h]]},t.minorExtent=function(a){return arguments.length?(c=+a[0][0],b=+a[1][0],g=+a[0][1],f=+a[1][1],c>b&&(a=c,c=b,b=a),g>f&&(a=g,g=f,f=a),t.precision(s)):[[c,g],[b,f]]},t.step=function(a){return arguments.length?t.majorStep(a).minorStep(a):t.minorStep()},t.majorStep=function(a){return arguments.length?(l=+a[0],m=+a[1],t):[l,m]},t.minorStep=function(a){return arguments.length?(j=+a[0],k=+a[1],t):[j,k]},t.precision=function(a){return arguments.length?(s=+a,n=ce(g,f,90),o=de(c,b,s),p=ce(i,h,90),q=de(e,d,s),t):s},t.majorExtent([[-180,-90+za],[180,90-za]]).minorExtent([[-180,-80-za],[180,80+za]])},a.geo.greatArc=function(){function f(){return{type:"LineString",coordinates:[c||b.apply(this,arguments),e||d.apply(this,arguments)]}}var c,e,b=ee,d=fe;return f.distance=function(){return a.geo.distance(c||b.apply(this,arguments),e||d.apply(this,arguments))},f.source=function(a){return arguments.length?(b=a,c="function"==typeof a?null:a,f):b},f.target=function(a){return arguments.length?(d=a,e="function"==typeof a?null:a,f):d},f.precision=function(){return arguments.length?f:0},f},a.geo.interpolate=function(a,b){return ge(a[0]*Fa,a[1]*Fa,b[0]*Fa,b[1]*Fa)},a.geo.length=function(b){return he=0,a.geo.stream(b,ie),he};var he,ie={sphere:J,point:J,lineStart:je,lineEnd:J,polygonStart:J,polygonEnd:J},le=ke(function(a){return Math.sqrt(2/(1+a))},function(a){return 2*Math.asin(a/2)});(a.geo.azimuthalEqualArea=function(){return Td(le)}).raw=le;var me=ke(function(a){var b=Math.acos(a);return b&&b/Math.sin(b)},F);(a.geo.azimuthalEquidistant=function(){return Td(me)}).raw=me,(a.geo.conicConformal=function(){return vd(ne)}).raw=ne,(a.geo.conicEquidistant=function(){return vd(oe)}).raw=oe;var pe=ke(function(a){return 1/a},Math.atan);(a.geo.gnomonic=function(){return Td(pe)}).raw=pe,qe.invert=function(a,b){return[a,2*Math.atan(Math.exp(b))-Ea]},(a.geo.mercator=function(){return re(qe)}).raw=qe;var se=ke(function(){return 1},Math.asin);(a.geo.orthographic=function(){return Td(se)}).raw=se;var te=ke(function(a){return 1/(1+a)},function(a){return 2*Math.atan(a)});(a.geo.stereographic=function(){return Td(te)}).raw=te,ue.invert=function(a,b){return[-b,2*Math.atan(Math.exp(a))-Ea]},(a.geo.transverseMercator=function(){var a=re(ue),b=a.center,c=a.rotate;return a.center=function(a){return a?b([-a[1],a[0]]):(a=b(),[a[1],-a[0]])},a.rotate=function(a){return a?c([a[0],a[1],a.length>2?a[2]+90:90]):(a=c(),[a[0],a[1],a[2]-90])},c([0,0,90])}).raw=ue,a.geom={},a.geom.hull=function(a){function d(a){if(a.length<3)return[];var f,d=wb(b),e=wb(c),g=a.length,h=[],i=[];for(f=0;f<g;f++)h.push([+d.call(this,a[f],f),+e.call(this,a[f],f),f]);for(h.sort(ye),f=0;f<g;f++)i.push([h[f][0],-h[f][1]]);var j=xe(h),k=xe(i),l=k[0]===j[0],m=k[k.length-1]===j[j.length-1],n=[];for(f=j.length-1;f>=0;--f)n.push(a[h[j[f]][2]]);for(f=+l;f<k.length-m;++f)n.push(a[h[k[f]][2]]);return n}var b=ve,c=we;return arguments.length?d(a):(d.x=function(a){return arguments.length?(b=a,d):b},d.y=function(a){return arguments.length?(c=a,d):c},d)},a.geom.polygon=function(a){return Q(a,ze),a};var ze=a.geom.polygon.prototype=[];ze.area=function(){for(var c,a=-1,b=this.length,d=this[b-1],e=0;++a<b;)c=d,d=this[a],e+=c[1]*d[0]-c[0]*d[1];return.5*e},ze.centroid=function(a){var f,h,b=-1,c=this.length,d=0,e=0,g=this[c-1];for(arguments.length||(a=-1/(6*this.area()));++b<c;)f=g,g=this[b],h=f[0]*g[1]-g[0]*f[1],d+=(f[0]+g[0])*h,e+=(f[1]+g[1])*h;return[d*a,e*a]},ze.clip=function(a){for(var b,f,g,i,j,k,c=Ce(a),d=-1,e=this.length-Ce(this),h=this[e-1];++d<e;){for(b=a.slice(),a.length=0,i=this[d],j=b[(g=b.length-c)-1],f=-1;++f<g;)k=b[f],Ae(k,h,i)?(Ae(j,h,i)||a.push(Be(j,k,h,i)),a.push(k)):Ae(j,h,i)&&a.push(Be(j,k,h,i)),j=k;c&&a.push(a[0]),h=i}return a};var De,Ee,Fe,He,Ie,Ge=[],Je=[];Re.prototype.prepare=function(){for(var c,a=this.edges,b=a.length;b--;)c=a[b].edge,c.b&&c.a||a.splice(b,1);return a.sort(Te),a.length},bf.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},cf.prototype={insert:function(a,b){var c,d,e;if(a){if(b.P=a,b.N=a.N,a.N&&(a.N.P=b),a.N=b,a.R){for(a=a.R;a.L;)a=a.L;a.L=b}else a.R=b;c=a}else this._?(a=gf(this._),b.P=null,b.N=a,a.P=a.L=b,c=a):(b.P=b.N=null,this._=b,c=null);for(b.L=b.R=null,b.U=c,b.C=!0,a=b;c&&c.C;)d=c.U,c===d.L?(e=d.R,e&&e.C?(c.C=e.C=!1,d.C=!0,a=d):(a===c.R&&(ef(this,c),a=c,c=a.U),c.C=!1,d.C=!0,ff(this,d))):(e=d.L,e&&e.C?(c.C=e.C=!1,d.C=!0,a=d):(a===c.L&&(ff(this,c),a=c,c=a.U),c.C=!1,d.C=!0,ef(this,d))),c=a.U;this._.C=!1},remove:function(a){a.N&&(a.N.P=a.P),a.P&&(a.P.N=a.N),a.N=a.P=null;var c,f,g,b=a.U,d=a.L,e=a.R;if(f=d?e?gf(e):d:e,b?b.L===a?b.L=f:b.R=f:this._=f,d&&e?(g=f.C,f.C=a.C,f.L=d,d.U=f,f!==e?(b=f.U,f.U=a.U,a=f.R,b.L=a,f.R=e,e.U=f):(f.U=b,b=f,a=f.R)):(g=a.C,a=f),a&&(a.U=b),!g){if(a&&a.C)return void(a.C=!1);do{if(a===this._)break;if(a===b.L){if(c=b.R,c.C&&(c.C=!1,b.C=!0,ef(this,b),c=b.R),c.L&&c.L.C||c.R&&c.R.C){c.R&&c.R.C||(c.L.C=!1,c.C=!0,ff(this,c),c=b.R),c.C=b.C,b.C=c.R.C=!1,ef(this,b),a=this._;break}}else if(c=b.L,c.C&&(c.C=!1,b.C=!0,ff(this,b),c=b.L),c.L&&c.L.C||c.R&&c.R.C){c.L&&c.L.C||(c.R.C=!1,c.C=!0,ef(this,c),c=b.L),c.C=b.C,b.C=c.L.C=!1,ff(this,b),a=this._;break}c.C=!0,a=b,b=b.U}while(!a.C);a&&(a.C=!1)}}},a.geom.voronoi=function(a){function g(a){var b=new Array(a.length),c=f[0][0],d=f[0][1],e=f[1][0],g=f[1][1];return hf(h(a),f).cells.forEach(function(f,h){var i=f.edges,j=f.site;(b[h]=i.length?i.map(function(a){var b=a.start();return[b.x,b.y]}):j.x>=c&&j.x<=e&&j.y>=d&&j.y<=g?[[c,g],[e,g],[e,d],[c,d]]:[]).point=a[h]}),b}function h(a){return a.map(function(a,b){return{x:Math.round(d(a,b)/za)*za,y:Math.round(e(a,b)/za)*za,i:b}})}var b=ve,c=we,d=b,e=c,f=kf;return a?g(a):(g.links=function(a){return hf(h(a)).edges.filter(function(a){return a.l&&a.r}).map(function(b){return{source:a[b.l.i],target:a[b.r.i]}})},g.triangles=function(a){var b=[];return hf(h(a)).cells.forEach(function(c,d){for(var j,e=c.site,f=c.edges.sort(Te),g=-1,h=f.length,k=f[h-1].edge,l=k.l===e?k.r:k.l;++g<h;)k,j=l,k=f[g].edge,l=k.l===e?k.r:k.l,d<j.i&&d<l.i&&lf(e,j,l)<0&&b.push([a[d],a[j.i],a[l.i]])}),b},g.x=function(a){return arguments.length?(d=wb(b=a),g):b},g.y=function(a){return arguments.length?(e=wb(c=a),g):c},g.clipExtent=function(a){return arguments.length?(f=null==a?kf:a,g):f===kf?null:f},g.size=function(a){return arguments.length?g.clipExtent(a&&[[0,0],a]):f===kf?null:f&&f[1]},g)};var kf=[[-1e6,-1e6],[1e6,1e6]];a.geom.delaunay=function(b){return a.geom.voronoi().triangles(b)},a.geom.quadtree=function(a,b,c,d,e){function i(a){function y(a,b,c,d,e,f,g,h){if(!isNaN(c)&&!isNaN(d))if(a.leaf){var i=a.x,j=a.y;if(null!=i)if(r(i-c)+r(j-d)<.01)z(a,b,c,d,e,f,g,h);else{var k=a.point;a.x=a.y=a.point=null,z(a,k,i,j,e,f,g,h),z(a,b,c,d,e,f,g,h)}else a.x=c,a.y=d,a.point=b}else z(a,b,c,d,e,f,g,h)}function z(a,b,c,d,e,f,g,h){var i=.5*(e+g),j=.5*(f+h),k=c>=i,l=d>=j,m=l<<1|k;a.leaf=!1,a=a.nodes[m]||(a.nodes[m]=of()),k?e=i:g=i,l?f=j:h=j,y(a,b,c,d,e,f,g,h)}var i,l,m,n,o,p,q,s,t,j=wb(f),k=wb(g);if(null!=b)p=b,q=c,s=d,t=e;else if(s=t=-(p=q=1/0),l=[],m=[],o=a.length,h)for(n=0;n<o;++n)i=a[n],i.x<p&&(p=i.x),i.y<q&&(q=i.y),i.x>s&&(s=i.x),i.y>t&&(t=i.y),l.push(i.x),m.push(i.y);else for(n=0;n<o;++n){var u=+j(i=a[n],n),v=+k(i,n);u<p&&(p=u),v<q&&(q=v),u>s&&(s=u),v>t&&(t=v),l.push(u),m.push(v)}var w=s-p,x=t-q;w>x?t=q+w:s=p+x;var A=of();if(A.add=function(a){y(A,a,+j(a,++n),+k(a,n),p,q,s,t)},A.visit=function(a){pf(a,A,p,q,s,t)},A.find=function(a){return qf(A,a[0],a[1],p,q,s,t)},n=-1,null==b){for(;++n<o;)y(A,a[n],l[n],m[n],p,q,s,t);--n}else a.forEach(A.add);return l=m=a=i=null,A}var h,f=ve,g=we;return(h=arguments.length)?(f=mf,g=nf,3===h&&(e=c,d=b,c=b=0),i(a)):(i.x=function(a){return arguments.length?(f=a,i):f},i.y=function(a){return arguments.length?(g=a,i):g},i.extent=function(a){return arguments.length?(null==a?b=c=d=e=null:(b=+a[0][0],c=+a[0][1],d=+a[1][0],e=+a[1][1]),i):null==b?null:[[b,c],[d,e]]},i.size=function(a){return arguments.length?(null==a?b=c=d=e=null:(b=c=0,d=+a[0],e=+a[1]),i):null==b?null:[d-b,e-c]},i)},a.interpolateRgb=rf,a.interpolateObject=sf,a.interpolateNumber=tf,a.interpolateString=uf;var vf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wf=new RegExp(vf.source,"g");a.interpolate=xf,a.interpolators=[function(a,b){var c=typeof b;return("string"===c?vb.has(b.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(b)?rf:uf:b instanceof Va?rf:Array.isArray(b)?yf:"object"===c&&isNaN(b)?sf:tf)(a,b)}],a.interpolateArray=yf;var zf=function(){return F},Af=a.map({linear:zf,poly:If,quad:function(){return Ff},cubic:function(){return Gf},sin:function(){return Jf},exp:function(){return Kf},circle:function(){return Lf},elastic:Mf,back:Nf,bounce:function(){return Of}}),Bf=a.map({in:F,out:Df,"in-out":Ef,"out-in":function(a){return Ef(Df(a))}});a.ease=function(a){var c=a.indexOf("-"),d=c>=0?a.slice(0,c):a,e=c>=0?a.slice(c+1):"in";return d=Af.get(d)||zf,e=Bf.get(e)||F,Cf(e(d.apply(null,b.call(arguments,1))))},a.interpolateHcl=Pf,a.interpolateHsl=Qf,a.interpolateLab=Rf,a.interpolateRound=Sf,a.transform=function(b){var c=d.createElementNS(a.ns.prefix.svg,"g");return(a.transform=function(a){if(null!=a){c.setAttribute("transform",a);var b=c.transform.baseVal.consolidate()}return new Tf(b?b.matrix:Xf)})(b)},Tf.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Xf={a:1,b:0,c:0,d:1,e:0,f:0};a.interpolateTransform=bg,a.layout={},a.layout.bundle=function(){return function(a){for(var b=[],c=-1,d=a.length;++c<d;)b.push(eg(a[c]));return b}},a.layout.chord=function(){function k(){var o,p,q,r,s,b={},k=[],m=a.range(f),n=[];for(c=[],d=[],o=0,r=-1;++r<f;){for(p=0,s=-1;++s<f;)p+=e[r][s];k.push(p),n.push(a.range(f)),o+=p}for(h&&m.sort(function(a,b){return h(k[a],k[b])}),i&&n.forEach(function(a,b){a.sort(function(a,c){return i(e[b][a],e[b][c])})}),o=(Ca-g*f)/o,p=0,r=-1;++r<f;){for(q=p,s=-1;++s<f;){var t=m[r],u=n[t][s],v=e[t][u],w=p,x=p+=v*o;b[t+"-"+u]={index:t,subindex:u,startAngle:w,endAngle:x,value:v}}d[t]={index:t,startAngle:q,endAngle:p,value:k[t]},p+=g}for(r=-1;++r<f;)for(s=r-1;++s<f;){var y=b[r+"-"+s],z=b[s+"-"+r];(y.value||z.value)&&c.push(y.value<z.value?{source:z,target:y}:{source:y,target:z})}j&&l()}function l(){c.sort(function(a,b){return j((a.source.value+a.target.value)/2,(b.source.value+b.target.value)/2)})}var c,d,e,f,h,i,j,b={},g=0;return b.matrix=function(a){return arguments.length?(f=(e=a)&&e.length,c=d=null,b):e},b.padding=function(a){return arguments.length?(g=a,c=d=null,b):g},b.sortGroups=function(a){return arguments.length?(h=a,c=d=null,b):h},b.sortSubgroups=function(a){return arguments.length?(i=a,c=null,b):i},b.sortChords=function(a){return arguments.length?(j=a,c&&l(),b):j},b.chords=function(){return c||k(),c},b.groups=function(){return d||k(),d},b},a.layout.force=function(){function t(a){return function(b,c,d,e){if(b.point!==a){var f=b.cx-a.x,g=b.cy-a.y,h=e-c,i=f*f+g*g;if(h*h/n<i){if(i<l){var j=b.charge/i;a.px-=f*j,a.py-=g*j}return!0}if(b.point&&i&&i<l){var j=b.pointCharge/i;a.px-=f*j,a.py-=g*j}}return!b.charge}}function u(c){c.px=a.event.x,c.py=a.event.y,b.resume()}var d,f,g,q,r,s,b={},c=a.dispatch("start","tick","end"),e=[1,1],h=.9,i=mg,j=ng,k=-30,l=og,m=.1,n=.64,o=[],p=[];return b.tick=function(){if((g*=.99)<.005)return d=null,c.end({type:"end",alpha:g=0}),!0;var i,j,l,n,u,v,w,x,y,b=o.length,f=p.length;for(j=0;j<f;++j)l=p[j],n=l.source,u=l.target,x=u.x-n.x,y=u.y-n.y,(v=x*x+y*y)&&(v=g*r[j]*((v=Math.sqrt(v))-q[j])/v,x*=v,y*=v,u.x-=x*(w=n.weight+u.weight?n.weight/(n.weight+u.weight):.5),u.y-=y*w,n.x+=x*(w=1-w),n.y+=y*w);if((w=g*m)&&(x=e[0]/2,y=e[1]/2,j=-1,w))for(;++j<b;)l=o[j],l.x+=(x-l.x)*w,l.y+=(y-l.y)*w;if(k)for(lg(i=a.geom.quadtree(o),g,s),j=-1;++j<b;)(l=o[j]).fixed||i.visit(t(l));for(j=-1;++j<b;)l=o[j],l.fixed?(l.x=l.px,l.y=l.py):(l.x-=(l.px-(l.px=l.x))*h,l.y-=(l.py-(l.py=l.y))*h);c.tick({type:"tick",alpha:g})},b.nodes=function(a){return arguments.length?(o=a,b):o},b.links=function(a){return arguments.length?(p=a,b):p},b.size=function(a){return arguments.length?(e=a,b):e},b.linkDistance=function(a){return arguments.length?(i="function"==typeof a?a:+a,b):i},b.distance=b.linkDistance,b.linkStrength=function(a){return arguments.length?(j="function"==typeof a?a:+a,b):j},b.friction=function(a){return arguments.length?(h=+a,b):h},b.charge=function(a){return arguments.length?(k="function"==typeof a?a:+a,b):k},b.chargeDistance=function(a){return arguments.length?(l=a*a,b):Math.sqrt(l)},b.gravity=function(a){return arguments.length?(m=+a,b):m},b.theta=function(a){return arguments.length?(n=a*a,b):Math.sqrt(n)},b.alpha=function(a){return arguments.length?(a=+a,g?a>0?g=a:(d.c=null,d.t=NaN,d=null,c.end({type:"end",alpha:g=0})):a>0&&(c.start({type:"start",alpha:g=a}),d=Gb(b.tick)),b):g},b.start=function(){function m(b,e){if(!h){for(h=new Array(c),i=0;i<c;++i)h[i]=[];for(i=0;i<d;++i){var f=p[i];h[f.source.index].push(f.target),h[f.target.index].push(f.source)}}for(var k,g=h[a],i=-1,j=g.length;++i<j;)if(!isNaN(k=g[i][b]))return k;return Math.random()*e}var a,h,l,c=o.length,d=p.length,f=e[0],g=e[1];for(a=0;a<c;++a)(l=o[a]).index=a,l.weight=0;for(a=0;a<d;++a)l=p[a],"number"==typeof l.source&&(l.source=o[l.source]),"number"==typeof l.target&&(l.target=o[l.target]),++l.source.weight,++l.target.weight;for(a=0;a<c;++a)l=o[a],isNaN(l.x)&&(l.x=m("x",f)),isNaN(l.y)&&(l.y=m("y",g)),isNaN(l.px)&&(l.px=l.x),isNaN(l.py)&&(l.py=l.y);if(q=[],"function"==typeof i)for(a=0;a<d;++a)q[a]=+i.call(this,p[a],a);else for(a=0;a<d;++a)q[a]=i;if(r=[],"function"==typeof j)for(a=0;a<d;++a)r[a]=+j.call(this,p[a],a);else for(a=0;a<d;++a)r[a]=j;if(s=[],"function"==typeof k)for(a=0;a<c;++a)s[a]=+k.call(this,o[a],a);else for(a=0;a<c;++a)s[a]=k;return b.resume()},b.resume=function(){return b.alpha(.1)},b.stop=function(){return b.alpha(0)},b.drag=function(){if(f||(f=a.behavior.drag().origin(F).on("dragstart.force",hg).on("drag.force",u).on("dragend.force",ig)),!arguments.length)return f;this.on("mouseover.force",jg).on("mouseout.force",kg).call(f)},a.rebind(b,c,"on")};var mg=20,ng=1,og=1/0;a.layout.hierarchy=function(){function d(e){var h,f=[e],g=[];for(e.depth=0;null!=(h=f.pop());)if(g.push(h),(j=b.call(d,h,h.depth))&&(i=j.length)){for(var i,j,k;--i>=0;)f.push(k=j[i]),k.parent=h,k.depth=h.depth+1;c&&(h.value=0),h.children=j}else c&&(h.value=+c.call(d,h,h.depth)||0),delete h.children;return rg(e,function(b){var d,e;a&&(d=b.children)&&d.sort(a),c&&(e=b.parent)&&(e.value+=b.value)}),g}var a=ug,b=sg,c=tg;return d.sort=function(b){return arguments.length?(a=b,d):a},d.children=function(a){return arguments.length?(b=a,d):b},d.value=function(a){return arguments.length?(c=a,d):c},d.revalue=function(a){return c&&(qg(a,function(a){a.children&&(a.value=0)}),rg(a,function(a){var b;a.children||(a.value=+c.call(d,a,a.depth)||0),(b=a.parent)&&(b.value+=a.value)})),a},d},a.layout.partition=function(){function d(a,b,c,e){var f=a.children;if(a.x=b,a.y=a.depth*e,a.dx=c,a.dy=e,f&&(h=f.length)){var h,i,j,g=-1;for(c=a.value?c/a.value:0;++g<h;)d(i=f[g],b,j=i.value*c,e),b+=j}}function e(a){var b=a.children,c=0;if(b&&(f=b.length))for(var f,d=-1;++d<f;)c=Math.max(c,e(b[d]));return 1+c}function f(a,f){var g=b.call(this,a,f);return d(g[0],0,c[0],c[1]/e(g[0])),g}var b=a.layout.hierarchy(),c=[1,1];return f.size=function(a){return arguments.length?(c=a,f):c},pg(f,b)},a.layout.pie=function(){function g(h){var s,i=h.length,j=h.map(function(a,c){return+b.call(g,a,c)}),k=+("function"==typeof d?d.apply(this,arguments):d),l=("function"==typeof e?e.apply(this,arguments):e)-k,m=Math.min(Math.abs(l)/i,+("function"==typeof f?f.apply(this,arguments):f)),n=m*(l<0?-1:1),o=a.sum(j),p=o?(l-i*n)/o:0,q=a.range(i),r=[];return null!=c&&q.sort(c===wg?function(a,b){return j[b]-j[a]}:function(a,b){return c(h[a],h[b])}),q.forEach(function(a){r[a]={data:h[a],value:s=j[a],startAngle:k,endAngle:k+=s*p+n,padAngle:m}}),r}var b=Number,c=wg,d=0,e=Ca,f=0;return g.value=function(a){return arguments.length?(b=a,g):b},g.sort=function(a){return arguments.length?(c=a,g):c},g.startAngle=function(a){return arguments.length?(d=a,g):d},g.endAngle=function(a){return arguments.length?(e=a,g):e},g.padAngle=function(a){return arguments.length?(f=a,g):f},g};var wg={};a.layout.stack=function(){function h(i,j){if(!(p=i.length))return i;var k=i.map(function(a,c){return b.call(h,a,c)}),l=k.map(function(a){return a.map(function(a,b){return[f.call(h,a,b),g.call(h,a,b)]})}),m=c.call(h,l,j);k=a.permute(k,m),l=a.permute(l,m);var p,q,r,s,n=d.call(h,l,j),o=k[0].length;for(r=0;r<o;++r)for(e.call(h,k[0][r],s=n[r],l[0][r][1]),q=1;q<p;++q)e.call(h,k[q][r],s+=l[q-1][r][1],l[q][r][1]);return i}var b=F,c=Cg,d=Dg,e=zg,f=xg,g=yg;return h.values=function(a){return arguments.length?(b=a,h):b},h.order=function(a){return arguments.length?(c="function"==typeof a?a:Ag.get(a)||Cg,h):c},h.offset=function(a){return arguments.length?(d="function"==typeof a?a:Bg.get(a)||Dg,h):d},h.x=function(a){return arguments.length?(f=a,h):f},h.y=function(a){return arguments.length?(g=a,h):g},h.out=function(a){return arguments.length?(e=a,h):e},h};var Ag=a.map({"inside-out":function(b){var d,e,c=b.length,f=b.map(Eg),g=b.map(Fg),h=a.range(c).sort(function(a,b){return f[a]-f[b]}),i=0,j=0,k=[],l=[];for(d=0;d<c;++d)e=h[d],i<j?(i+=g[e],k.push(e)):(j+=g[e],l.push(e));return l.reverse().concat(k)},reverse:function(b){return a.range(b.length).reverse()},default:Cg}),Bg=a.map({silhouette:function(a){var f,g,h,b=a.length,c=a[0].length,d=[],e=0,i=[];for(g=0;g<c;++g){for(f=0,h=0;f<b;f++)h+=a[f][g][1];h>e&&(e=h),d.push(h)}for(g=0;g<c;++g)i[g]=(e-d[g])/2;return i},wiggle:function(a){var e,f,g,h,i,j,k,l,m,b=a.length,c=a[0],d=c.length,n=[];for(n[0]=l=m=0,f=1;f<d;++f){for(e=0,h=0;e<b;++e)h+=a[e][f][1];for(e=0,i=0,k=c[f][0]-c[f-1][0];e<b;++e){for(g=0,j=(a[e][f][1]-a[e][f-1][1])/(2*k);g<e;++g)j+=(a[g][f][1]-a[g][f-1][1])/k;i+=j*a[e][f][1]}n[f]=l-=h?i/h*k:0,l<m&&(m=l)}for(f=0;f<d;++f)n[f]-=m;return n},expand:function(a){var e,f,g,b=a.length,c=a[0].length,d=1/b,h=[];for(f=0;f<c;++f){for(e=0,g=0;e<b;e++)g+=a[e][f][1];if(g)for(e=0;e<b;e++)a[e][f][1]/=g;else for(e=0;e<b;e++)a[e][f][1]=d}for(f=0;f<c;++f)h[f]=0;return h},zero:Dg});a.layout.histogram=function(){function f(f,g){for(var l,p,h=[],i=f.map(c,this),j=d.call(this,i,g),k=e.call(this,j,i,g),g=-1,m=i.length,n=k.length-1,o=b?1:1/m;++g<n;)l=h[g]=[],l.dx=k[g+1]-(l.x=k[g]),l.y=0;if(n>0)for(g=-1;++g<m;)(p=i[g])>=j[0]&&p<=j[1]&&(l=h[a.bisect(k,p,1,n)-1],l.y+=o,l.push(f[g]));return h}var b=!0,c=Number,d=Jg,e=Hg;return f.value=function(a){return arguments.length?(c=a,f):c},f.range=function(a){return arguments.length?(d=wb(a),f):d},f.bins=function(a){return arguments.length?(e="number"==typeof a?function(b){return Ig(b,a)}:wb(a),f):e},f.frequency=function(a){return arguments.length?(b=!!a,f):b},f},a.layout.pack=function(){function f(a,f){var g=b.call(this,a,f),h=g[0],i=d[0],j=d[1],k=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(h.x=h.y=0,rg(h,function(a){a.r=+k(a.value)}),rg(h,Og),c){var l=c*(e?1:Math.max(2*h.r/i,2*h.r/j))/2;rg(h,function(a){a.r+=l}),rg(h,Og),rg(h,function(a){a.r-=l})}return Rg(h,i/2,j/2,e?1:1/Math.max(2*h.r/i,2*h.r/j)),g}var e,b=a.layout.hierarchy().sort(Kg),c=0,d=[1,1];return f.size=function(a){return arguments.length?(d=a,f):d},f.radius=function(a){return arguments.length?(e=null==a||"function"==typeof a?a:+a,f):e},f.padding=function(a){return arguments.length?(c=+a,f):c},pg(f,b)},a.layout.tree=function(){function f(a,f){var j=b.call(this,a,f),l=j[0],m=g(l);if(rg(m,h),m.parent.m=-m.z,qg(m,i),e)qg(l,k);else{var n=l,o=l,p=l;qg(l,function(a){a.x<n.x&&(n=a),a.x>o.x&&(o=a),a.depth>p.depth&&(p=a)});var q=c(n,o)/2-n.x,r=d[0]/(o.x+c(o,n)/2+q),s=d[1]/(p.depth||1);qg(l,function(a){a.x=(a.x+q)*r,a.y=a.depth*s})}return j}function g(a){for(var d,b={A:null,children:[a]},c=[b];null!=(d=c.pop());)for(var f,e=d.children,g=0,h=e.length;g<h;++g)c.push((e[g]=f={_:e[g],parent:d,children:(f=e[g].children)&&f.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:g}).a=f);return b.children[0]}function h(a){var b=a.children,d=a.parent.children,e=a.i?d[a.i-1]:null;if(b.length){Xg(a);var f=(b[0].z+b[b.length-1].z)/2;e?(a.z=e.z+c(a._,e._),a.m=a.z-f):a.z=f}else e&&(a.z=e.z+c(a._,e._));a.parent.A=j(a,e,a.parent.A||d[0])}function i(a){a._.x=a.z+a.parent.m,a.m+=a.parent.m}function j(a,b,d){if(b){for(var m,e=a,f=a,g=b,h=e.parent.children[0],i=e.m,j=f.m,k=g.m,l=h.m;g=Vg(g),e=Ug(e),g&&e;)h=Ug(h),f=Vg(f),f.a=a,m=g.z+k-e.z-i+c(g._,e._),m>0&&(Wg(Yg(g,a,d),a,m),i+=m,j+=m),k+=g.m,i+=e.m,l+=h.m,j+=f.m;g&&!Vg(f)&&(f.t=g,f.m+=k-j),e&&!Ug(h)&&(h.t=e,h.m+=i-l,d=a)}return d}function k(a){a.x*=d[0],a.y=a.depth*d[1]}var b=a.layout.hierarchy().sort(null).value(null),c=Tg,d=[1,1],e=null;return f.separation=function(a){return arguments.length?(c=a,f):c},f.size=function(a){return arguments.length?(e=null==(d=a)?k:null,f):e?null:d},f.nodeSize=function(a){return arguments.length?(e=null==(d=a)?null:k,f):e?d:null},pg(f,b)},a.layout.cluster=function(){function f(a,f){var i,g=b.call(this,a,f),h=g[0],j=0;rg(h,function(a){var b=a.children;b&&b.length?(a.x=$g(b),a.y=Zg(b)):(a.x=i?j+=c(a,i):0,a.y=0,i=a)});var k=_g(h),l=ah(h),m=k.x-c(k,l)/2,n=l.x+c(l,k)/2;return rg(h,e?function(a){a.x=(a.x-h.x)*d[0],a.y=(h.y-a.y)*d[1]}:function(a){a.x=(a.x-m)/(n-m)*d[0],a.y=(1-(h.y?a.y/h.y:1))*d[1]}),g}var b=a.layout.hierarchy().sort(null).value(null),c=Tg,d=[1,1],e=!1;return f.separation=function(a){return arguments.length?(c=a,f):c},f.size=function(a){return arguments.length?(e=null==(d=a),f):e?null:d},f.nodeSize=function(a){return arguments.length?(e=null!=(d=a),f):e?d:null},pg(f,b)},a.layout.treemap=function(){function k(a,b){for(var e,f,c=-1,d=a.length;++c<d;)f=(e=a[c]).value*(b<0?0:b),e.area=isNaN(f)||f<=0?0:f}function l(a){var b=a.children;if(b&&b.length){var g,j,p,c=f(a),d=[],e=b.slice(),h=1/0,m="slice"===i?c.dx:"dice"===i?c.dy:"slice-dice"===i?1&a.depth?c.dy:c.dx:Math.min(c.dx,c.dy);for(k(e,c.dx*c.dy/a.value),d.area=0;(p=e.length)>0;)d.push(g=e[p-1]),d.area+=g.area,"squarify"!==i||(j=n(d,m))<=h?(e.pop(),h=j):(d.area-=d.pop().area,o(d,m,c,!1),m=Math.min(c.dx,c.dy),d.length=d.area=0,h=1/0);d.length&&(o(d,m,c,!0),d.length=d.area=0),b.forEach(l)}}function m(a){var b=a.children;if(b&&b.length){var e,c=f(a),d=b.slice(),g=[];for(k(d,c.dx*c.dy/a.value),g.area=0;e=d.pop();)g.push(e),g.area+=e.area,null!=e.z&&(o(g,e.z?c.dx:c.dy,c,!d.length),g.length=g.area=0);b.forEach(m)}}function n(a,b){for(var d,c=a.area,e=0,f=1/0,g=-1,h=a.length;++g<h;)(d=a[g].area)&&(d<f&&(f=d),d>e&&(e=d));return c*=c,b*=b,c?Math.max(b*e*j/c,c/(b*f*j)):1/0}function o(a,b,d,e){var k,f=-1,g=a.length,h=d.x,i=d.y,j=b?c(a.area/b):0;if(b==d.dx){for((e||j>d.dy)&&(j=d.dy);++f<g;)k=a[f],k.x=h,k.y=i,k.dy=j,h+=k.dx=Math.min(d.x+d.dx-h,j?c(k.area/j):0);k.z=!0,k.dx+=d.x+d.dx-h,d.y+=j,d.dy-=j}else{for((e||j>d.dx)&&(j=d.dx);++f<g;)k=a[f],k.x=h,k.y=i,k.dx=j,i+=k.dy=Math.min(d.y+d.dy-i,j?c(k.area/j):0);k.z=!1,k.dy+=d.y+d.dy-i,d.x+=j,d.dx-=j}}function p(a){var c=h||b(a),e=c[0];return e.x=e.y=0,e.value?(e.dx=d[0],e.dy=d[1]):e.dx=e.dy=0,h&&b.revalue(e),k([e],e.dx*e.dy/e.value),(h?m:l)(e),g&&(h=c),c}var h,b=a.layout.hierarchy(),c=Math.round,d=[1,1],e=null,f=bh,g=!1,i="squarify",j=.5*(1+Math.sqrt(5));return p.size=function(a){return arguments.length?(d=a,p):d},p.padding=function(a){function b(b){var c=a.call(p,b,b.depth);return null==c?bh(b):ch(b,"number"==typeof c?[c,c,c,c]:c)}function c(b){return ch(b,a)}if(!arguments.length)return e;var d;return f=null==(e=a)?bh:"function"==(d=typeof a)?b:"number"===d?(a=[a,a,a,a],c):c,p},p.round=function(a){return arguments.length?(c=a?Math.round:Number,p):c!=Number},p.sticky=function(a){return arguments.length?(g=a,h=null,p):g},p.ratio=function(a){return arguments.length?(j=a,p):j},p.mode=function(a){return arguments.length?(i=a+"",p):i},pg(p,b)},a.random={normal:function(a,b){var c=arguments.length;return c<2&&(b=1),c<1&&(a=0),function(){var c,d,e;do{c=2*Math.random()-1,d=2*Math.random()-1,e=c*c+d*d}while(!e||e>1);return a+b*c*Math.sqrt(-2*Math.log(e)/e)}},logNormal:function(){var b=a.random.normal.apply(a,arguments);return function(){return Math.exp(b())}},bates:function(b){var c=a.random.irwinHall(b);return function(){return c()/b}},irwinHall:function(a){return function(){for(var b=0,c=0;c<a;c++)b+=Math.random();return b}}},a.scale={};var ih={floor:F,ceil:F};a.scale.linear=function(){return kh([0,1],[0,1],xf,!1)};var qh={s:1,g:1,p:1,r:1,e:1};a.scale.log=function(){return th(a.scale.linear().domain([0,1]),10,!0,[1,10])};var uh=a.format(".0e"),vh={floor:function(a){return-Math.ceil(-a)},ceil:function(a){return-Math.floor(-a)}};a.scale.pow=function(){return wh(a.scale.linear(),1,[0,1])},a.scale.sqrt=function(){return a.scale.pow().exponent(.5)},a.scale.ordinal=function(){return yh([],{t:"range",a:[[]]})},a.scale.category10=function(){return a.scale.ordinal().range(zh)},a.scale.category20=function(){return a.scale.ordinal().range(Ah)},a.scale.category20b=function(){return a.scale.ordinal().range(Bh)},a.scale.category20c=function(){return a.scale.ordinal().range(Ch)};var zh=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(nb),Ah=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(nb),Bh=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(nb),Ch=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(nb);a.scale.quantile=function(){return Dh([],[])},a.scale.quantize=function(){return Eh(0,1,[0,1])},a.scale.threshold=function(){return Fh([.5],[0,1])},a.scale.identity=function(){return Gh([0,1])},a.svg={},a.svg.arc=function(){function h(){var h=Math.max(0,+a.apply(this,arguments)),j=Math.max(0,+b.apply(this,arguments)),k=e.apply(this,arguments)-Ea,l=f.apply(this,arguments)-Ea,m=Math.abs(l-k),n=k>l?0:1;if(j<h&&(o=j,j=h,h=o),m>=Da)return i(j,n)+(h?i(h,1-n):"")+"Z";var o,p,q,r,u,v,w,x,y,z,A,B,s=0,t=0,C=[];if((r=(+g.apply(this,arguments)||0)/2)&&(q=d===Ih?Math.sqrt(h*h+j*j):+d.apply(this,arguments),n||(t*=-1),j&&(t=Ka(q/j*Math.sin(r))),h&&(s=Ka(q/h*Math.sin(r)))),j){u=j*Math.cos(k+t),v=j*Math.sin(k+t),w=j*Math.cos(l-t),x=j*Math.sin(l-t);var D=Math.abs(l-k-2*t)<=Ba?0:1;if(t&&Oh(u,v,w,x)===n^D){var E=(k+l)/2;u=j*Math.cos(E),v=j*Math.sin(E),w=x=null}}else u=v=0;if(h){y=h*Math.cos(l-s),z=h*Math.sin(l-s),A=h*Math.cos(k+s),B=h*Math.sin(k+s);var F=Math.abs(k-l+2*s)<=Ba?0:1;if(s&&Oh(y,z,A,B)===1-n^F){var G=(k+l)/2;y=h*Math.cos(G),z=h*Math.sin(G),A=B=null}}else y=z=0;if(m>za&&(o=Math.min(Math.abs(j-h)/2,+c.apply(this,arguments)))>.001){p=h<j^n?0:1;var H=o,I=o;if(m<Ba){var J=null==A?[y,z]:null==w?[u,v]:Be([u,v],[A,B],[w,x],[y,z]),K=u-J[0],L=v-J[1],M=w-J[0],N=x-J[1],O=1/Math.sin(Math.acos((K*M+L*N)/(Math.sqrt(K*K+L*L)*Math.sqrt(M*M+N*N)))/2),P=Math.sqrt(J[0]*J[0]+J[1]*J[1]);I=Math.min(o,(h-P)/(O-1)),H=Math.min(o,(j-P)/(O+1))}if(null!=w){var Q=Ph(null==A?[y,z]:[A,B],[u,v],j,H,n),R=Ph([w,x],[y,z],j,H,n);o===H?C.push("M",Q[0],"A",H,",",H," 0 0,",p," ",Q[1],"A",j,",",j," 0 ",1-n^Oh(Q[1][0],Q[1][1],R[1][0],R[1][1]),",",n," ",R[1],"A",H,",",H," 0 0,",p," ",R[0]):C.push("M",Q[0],"A",H,",",H," 0 1,",p," ",R[0])}else C.push("M",u,",",v);if(null!=A){var S=Ph([u,v],[A,B],h,-I,n),T=Ph([y,z],null==w?[u,v]:[w,x],h,-I,n);o===I?C.push("L",T[0],"A",I,",",I," 0 0,",p," ",T[1],"A",h,",",h," 0 ",n^Oh(T[1][0],T[1][1],S[1][0],S[1][1]),",",1-n," ",S[1],"A",I,",",I," 0 0,",p," ",S[0]):C.push("L",T[0],"A",I,",",I," 0 0,",p," ",S[0])}else C.push("L",y,",",z)}else C.push("M",u,",",v),null!=w&&C.push("A",j,",",j," 0 ",D,",",n," ",w,",",x),C.push("L",y,",",z),null!=A&&C.push("A",h,",",h," 0 ",F,",",1-n," ",A,",",B);return C.push("Z"),C.join("")}function i(a,b){return"M0,"+a+"A"+a+","+a+" 0 1,"+b+" 0,"+-a+"A"+a+","+a+" 0 1,"+b+" 0,"+a}var a=Jh,b=Kh,c=Hh,d=Ih,e=Lh,f=Mh,g=Nh;return h.innerRadius=function(b){return arguments.length?(a=wb(b),h):a},h.outerRadius=function(a){return arguments.length?(b=wb(a),h):b},h.cornerRadius=function(a){return arguments.length?(c=wb(a),h):c},h.padRadius=function(a){return arguments.length?(d=a==Ih?Ih:wb(a),h):d},h.startAngle=function(a){return arguments.length?(e=wb(a),h):e},h.endAngle=function(a){return arguments.length?(f=wb(a),h):f},h.padAngle=function(a){return arguments.length?(g=wb(a),h):g},h.centroid=function(){var c=(+a.apply(this,arguments)+ +b.apply(this,arguments))/2,d=(+e.apply(this,arguments)+ +f.apply(this,arguments))/2-Ea;return[Math.cos(d)*c,Math.sin(d)*c]},h};var Ih="auto";a.svg.line=function(){return Qh(F)};var Rh=a.map({linear:Sh,"linear-closed":Th,step:Uh,"step-before":Vh,"step-after":Wh,basis:ai,"basis-open":bi,"basis-closed":ci,bundle:di,cardinal:Zh,"cardinal-open":Xh,"cardinal-closed":Yh,monotone:mi});Rh.forEach(function(a,b){b.key=a,b.closed=/-closed$/.test(a)});var fi=[0,2/3,1/3,0],gi=[0,1/3,2/3,0],hi=[0,1/6,2/3,1/6];a.svg.line.radial=function(){var a=Qh(ni);return a.radius=a.x,delete a.x,a.angle=a.y,delete a.y,a},Vh.reverse=Wh,Wh.reverse=Vh,a.svg.area=function(){return oi(F)},a.svg.area.radial=function(){var a=oi(ni);return a.radius=a.x,delete a.x,a.innerRadius=a.x0,delete a.x0,a.outerRadius=a.x1,delete a.x1,a.angle=a.y,delete a.y,a.startAngle=a.y0,delete a.y0,a.endAngle=a.y1,delete a.y1,a},a.svg.chord=function(){function f(c,d){var e=g(this,a,c,d),f=g(this,b,c,d);return"M"+e.p0+i(e.r,e.p1,e.a1-e.a0)+(h(e,f)?j(e.r,e.p1,e.r,e.p0):j(e.r,e.p1,f.r,f.p0)+i(f.r,f.p1,f.a1-f.a0)+j(f.r,f.p1,e.r,e.p0))+"Z"}function g(a,b,f,g){var h=b.call(a,f,g),i=c.call(a,h,g),j=d.call(a,h,g)-Ea,k=e.call(a,h,g)-Ea;return{r:i,a0:j,a1:k,p0:[i*Math.cos(j),i*Math.sin(j)],p1:[i*Math.cos(k),i*Math.sin(k)]}}function h(a,b){return a.a0==b.a0&&a.a1==b.a1}function i(a,b,c){return"A"+a+","+a+" 0 "+ +(c>Ba)+",1 "+b}function j(a,b,c,d){return"Q 0,0 "+d}var a=ee,b=fe,c=pi,d=Lh,e=Mh;return f.radius=function(a){return arguments.length?(c=wb(a),f):c},f.source=function(b){return arguments.length?(a=wb(b),f):a},f.target=function(a){return arguments.length?(b=wb(a),f):b},f.startAngle=function(a){return arguments.length?(d=wb(a),f):d},f.endAngle=function(a){return arguments.length?(e=wb(a),f):e},f},a.svg.diagonal=function(){function d(d,e){var f=a.call(this,d,e),g=b.call(this,d,e),h=(f.y+g.y)/2,i=[f,{x:f.x,y:h},{x:g.x,y:h},g];return i=i.map(c),"M"+i[0]+"C"+i[1]+" "+i[2]+" "+i[3]}var a=ee,b=fe,c=qi;return d.source=function(b){return arguments.length?(a=wb(b),d):a},d.target=function(a){return arguments.length?(b=wb(a),d):b},d.projection=function(a){return arguments.length?(c=a,d):c},d},a.svg.diagonal.radial=function(){var b=a.svg.diagonal(),c=qi,d=b.projection;return b.projection=function(a){return arguments.length?d(ri(c=a)):c},b},a.svg.symbol=function(){function c(c,d){return(vi.get(a.call(this,c,d))||ui)(b.call(this,c,d))}var a=ti,b=si;return c.type=function(b){return arguments.length?(a=wb(b),c):a},c.size=function(a){return arguments.length?(b=wb(a),c):b},c};var vi=a.map({circle:ui,cross:function(a){var b=Math.sqrt(a/5)/2;return"M"+-3*b+","+-b+"H"+-b+"V"+-3*b+"H"+b+"V"+-b+"H"+3*b+"V"+b+"H"+b+"V"+3*b+"H"+-b+"V"+b+"H"+-3*b+"Z"},diamond:function(a){var b=Math.sqrt(a/(2*xi)),c=b*xi;return"M0,"+-b+"L"+c+",0 0,"+b+" "+-c+",0Z"},square:function(a){var b=Math.sqrt(a)/2;return"M"+-b+","+-b+"L"+b+","+-b+" "+b+","+b+" "+-b+","+b+"Z"},"triangle-down":function(a){var b=Math.sqrt(a/wi),c=b*wi/2;return"M0,"+c+"L"+b+","+-c+" "+-b+","+-c+"Z"},"triangle-up":function(a){var b=Math.sqrt(a/wi),c=b*wi/2;return"M0,"+-c+"L"+b+","+c+" "+-b+","+c+"Z"}});a.svg.symbolTypes=vi.keys();var wi=Math.sqrt(3),xi=Math.tan(30*Fa);V.transition=function(a){for(var e,f,b=Di||++Ci,c=Hi(a),d=[],g=Ei||{time:Date.now(),ease:Hf,delay:0,duration:250},h=-1,i=this.length;++h<i;){d.push(e=[]);for(var j=this[h],k=-1,l=j.length;++k<l;)(f=j[k])&&Ii(f,k,c,b,g),e.push(f)}return Ai(d,c,b)},V.interrupt=function(a){return this.each(null==a?yi:zi(Hi(a)))};var Di,Ei,yi=zi(Hi()),Bi=[],Ci=0;Bi.call=V.call,Bi.empty=V.empty,Bi.node=V.node,Bi.size=V.size,a.transition=function(b,c){return b&&b.transition?Di?b.transition(c):b:a.selection().transition(b)},a.transition.prototype=Bi,Bi.select=function(a){var e,f,g,b=this.id,c=this.namespace,d=[];a=W(a);for(var h=-1,i=this.length;++h<i;){d.push(e=[]);for(var j=this[h],k=-1,l=j.length;++k<l;)(g=j[k])&&(f=a.call(g,g.__data__,k,h))?("__data__"in g&&(f.__data__=g.__data__),Ii(f,k,c,b,g[c][b]),e.push(f)):e.push(null)}return Ai(d,c,b)},Bi.selectAll=function(a){var e,f,g,h,i,b=this.id,c=this.namespace,d=[];a=X(a);for(var j=-1,k=this.length;++j<k;)for(var l=this[j],m=-1,n=l.length;++m<n;)if(g=l[m]){i=g[c][b],f=a.call(g,g.__data__,m,j),d.push(e=[]);for(var o=-1,p=f.length;++o<p;)(h=f[o])&&Ii(h,o,c,b,i),e.push(h)}return Ai(d,c,b)},Bi.filter=function(a){var c,d,e,b=[];"function"!=typeof a&&(a=ja(a));for(var f=0,g=this.length;f<g;f++){b.push(c=[]);for(var d=this[f],h=0,i=d.length;h<i;h++)(e=d[h])&&a.call(e,e.__data__,h,f)&&c.push(e)}return Ai(b,this.namespace,this.id)},Bi.tween=function(a,b){var c=this.id,d=this.namespace;return arguments.length<2?this.node()[d][c].tween.get(a):la(this,null==b?function(b){b[d][c].tween.remove(a)}:function(e){e[d][c].tween.set(a,b)})},Bi.attr=function(b,c){function f(){this.removeAttribute(e)}function g(){this.removeAttributeNS(e.space,e.local)}function h(a){return null==a?f:(a+="",function(){var c,b=this.getAttribute(e);return b!==a&&(c=d(b,a),function(a){this.setAttribute(e,c(a))})})}function i(a){return null==a?g:(a+="",function(){var c,b=this.getAttributeNS(e.space,e.local);return b!==a&&(c=d(b,a),function(a){this.setAttributeNS(e.space,e.local,c(a))})})}if(arguments.length<2){for(c in b)this.attr(c,b[c]);return this}var d="transform"==b?bg:xf,e=a.ns.qualify(b);return Fi(this,"attr."+b,c,e.local?i:h)},Bi.attrTween=function(b,c){function e(a,b){var e=c.call(this,a,b,this.getAttribute(d));return e&&function(a){this.setAttribute(d,e(a))}}function f(a,b){var e=c.call(this,a,b,this.getAttributeNS(d.space,d.local));return e&&function(a){this.setAttributeNS(d.space,d.local,e(a))}}var d=a.ns.qualify(b);return this.tween("attr."+b,d.local?f:e)},Bi.style=function(a,b,c){function e(){this.style.removeProperty(a)}function g(b){return null==b?e:(b+="",function(){var e,d=f(this).getComputedStyle(this,null).getPropertyValue(a);return d!==b&&(e=xf(d,b),function(b){this.style.setProperty(a,e(b),c)})})}var d=arguments.length;if(d<3){if("string"!=typeof a){d<2&&(b="");for(c in a)this.style(c,a[c],b);return this}c=""}return Fi(this,"style."+a,b,g)},Bi.styleTween=function(a,b,c){function d(d,e){var g=b.call(this,d,e,f(this).getComputedStyle(this,null).getPropertyValue(a));return g&&function(b){this.style.setProperty(a,g(b),c)}}return arguments.length<3&&(c=""),this.tween("style."+a,d)},Bi.text=function(a){return Fi(this,"text",a,Gi)},Bi.remove=function(){var a=this.namespace;return this.each("end.transition",function(){var b;this[a].count<2&&(b=this.parentNode)&&b.removeChild(this)})},Bi.ease=function(b){var c=this.id,d=this.namespace;return arguments.length<1?this.node()[d][c].ease:("function"!=typeof b&&(b=a.ease.apply(a,arguments)),la(this,function(a){a[d][c].ease=b}))},Bi.delay=function(a){var b=this.id,c=this.namespace;return arguments.length<1?this.node()[c][b].delay:la(this,"function"==typeof a?function(d,e,f){d[c][b].delay=+a.call(d,d.__data__,e,f)}:(a=+a,function(d){d[c][b].delay=a}))},Bi.duration=function(a){var b=this.id,c=this.namespace;return arguments.length<1?this.node()[c][b].duration:la(this,"function"==typeof a?function(d,e,f){d[c][b].duration=Math.max(1,a.call(d,d.__data__,e,f))}:(a=Math.max(1,a),function(d){d[c][b].duration=a}))},Bi.each=function(b,c){var d=this.id,e=this.namespace;if(arguments.length<2){var f=Ei,g=Di;try{Di=d,la(this,function(a,c,f){Ei=a[e][d],b.call(a,a.__data__,c,f)})}finally{Ei=f,Di=g}}else la(this,function(f){var g=f[e][d];(g.event||(g.event=a.dispatch("start","end","interrupt"))).on(b,c)});return this},Bi.transition=function(){for(var e,f,g,h,a=this.id,b=++Ci,c=this.namespace,d=[],i=0,j=this.length;i<j;i++){d.push(e=[]);for(var f=this[i],k=0,l=f.length;k<l;k++)(g=f[k])&&(h=g[c][a],Ii(g,k,c,b,{time:h.time,ease:h.ease,delay:h.delay+h.duration,duration:h.duration})),e.push(g)}return Ai(d,c,b)},a.svg.axis=function(){function k(c){c.each(function(){var t,c=a.select(this),k=this.__chart__||b,l=this.__chart__=b.copy(),m=null==i?l.ticks?l.ticks.apply(l,h):l.domain():i,n=null==j?l.tickFormat?l.tickFormat.apply(l,h):F:j,o=c.selectAll(".tick").data(m,l),p=o.enter().insert("g",".domain").attr("class","tick").style("opacity",za),q=a.transition(o.exit()).style("opacity",za).remove(),r=a.transition(o.order()).style("opacity",1),s=Math.max(e,0)+g,u=eh(l),v=c.selectAll(".domain").data([0]),w=(v.enter().append("path").attr("class","domain"),a.transition(v));p.append("line"),p.append("text");var D,E,G,H,x=p.select("line"),y=r.select("line"),z=o.select("text").text(n),A=p.select("text"),B=r.select("text"),C="top"===d||"left"===d?-1:1;if("bottom"===d||"top"===d?(t=Li,D="x",G="y",E="x2",H="y2",z.attr("dy",C<0?"0em":".71em").style("text-anchor","middle"),w.attr("d","M"+u[0]+","+C*f+"V0H"+u[1]+"V"+C*f)):(t=Mi,D="y",G="x",E="y2",H="x2",z.attr("dy",".32em").style("text-anchor",C<0?"end":"start"),w.attr("d","M"+C*f+","+u[0]+"H0V"+u[1]+"H"+C*f)),x.attr(H,C*e),A.attr(G,C*s),y.attr(E,0).attr(H,C*e),B.attr(D,0).attr(G,C*s),l.rangeBand){var I=l,J=I.rangeBand()/2;k=l=function(a){return I(a)+J}}else k.rangeBand?k=l:q.call(t,l,k);p.call(t,k,l),r.call(t,l,l)})}var j,b=a.scale.linear(),d=Ji,e=6,f=6,g=3,h=[10],i=null;return k.scale=function(a){return arguments.length?(b=a,k):b},k.orient=function(a){return arguments.length?(d=a in Ki?a+"":Ji,k):d},k.ticks=function(){return arguments.length?(h=c(arguments),k):h},k.tickValues=function(a){return arguments.length?(i=a,k):i},k.tickFormat=function(a){return arguments.length?(j=a,k):j},k.tickSize=function(a){var b=arguments.length;return b?(e=+a,f=+arguments[b-1],k):e},k.innerTickSize=function(a){return arguments.length?(e=+a,k):e},k.outerTickSize=function(a){return arguments.length?(f=+a,k):f},k.tickPadding=function(a){return arguments.length?(g=+a,k):g},k.tickSubdivide=function(){return arguments.length&&k},k};var Ji="bottom",Ki={top:1,right:1,bottom:1,left:1};a.svg.brush=function(){function m(b){b.each(function(){var b=a.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",q).on("touchstart.brush",q),e=b.selectAll(".background").data([0]);e.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),b.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var f=b.selectAll(".resize").data(l,F);f.exit().remove(),f.enter().append("g").attr("class",function(a){return"resize "+a}).style("cursor",function(a){return Ni[a]}).append("rect").attr("x",function(a){return/[ew]$/.test(a)?-3:null}).attr("y",function(a){return/^[ns]/.test(a)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),f.style("display",m.empty()?"none":null);var i,g=a.transition(b),h=a.transition(e);c&&(i=eh(c),h.attr("x",i[0]).attr("width",i[1]-i[0]),o(g)),d&&(i=eh(d),h.attr("y",i[0]).attr("height",i[1]-i[0]),p(g)),n(g)})}function n(a){a.selectAll(".resize").attr("transform",function(a){return"translate("+e[+/e$/.test(a)]+","+g[+/^s/.test(a)]+")"})}function o(a){a.select(".extent").attr("x",e[0]),a.selectAll(".extent,.n>rect,.s>rect").attr("width",e[1]-e[0])}function p(a){a.select(".extent").attr("y",g[0]),a.selectAll(".extent,.e>rect,.w>rect").attr("height",g[1]-g[0])}function q(){function E(){32==a.event.keyCode&&(w||(y=null,z[0]-=e[1],z[1]-=g[1],w=2),M())}function F(){32==a.event.keyCode&&2==w&&(z[0]+=e[1],z[1]+=g[1],w=0,M())}function G(){var b=a.mouse(l),f=!1;A&&(b[0]+=A[0],b[1]+=A[1]),w||(a.event.altKey?(y||(y=[(e[0]+e[1])/2,(g[0]+g[1])/2]),z[0]=e[+(b[0]<y[0])],z[1]=g[+(b[1]<y[1])]):y=null),u&&H(b,c,0)&&(o(s),f=!0),v&&H(b,d,1)&&(p(s),f=!0),f&&(n(s),r({type:"brush",mode:w?"move":"resize"}))}function H(a,b,c){var p,q,d=eh(b),f=d[0],l=d[1],m=z[c],n=c?g:e,o=n[1]-n[0];if(w&&(f-=m,l-=o+m),p=(c?k:j)?Math.max(f,Math.min(l,a[c])):a[c],w?q=(p+=m)+o:(y&&(m=Math.max(f,Math.min(l,2*y[c]-p))),m<p?(q=p,p=m):q=m),n[0]!=p||n[1]!=q)return c?i=null:h=null,n[0]=p,n[1]=q,!0}function I(){G(),s.style("pointer-events","all").selectAll(".resize").style("display",m.empty()?"none":null),a.select("body").style("cursor",null),B.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),x(),r({type:"brushend"})}var y,A,l=this,q=a.select(a.event.target),r=b.of(l,arguments),s=a.select(l),t=q.datum(),u=!/^(n|s)$/.test(t)&&c,v=!/^(e|w)$/.test(t)&&d,w=q.classed("extent"),x=va(l),z=a.mouse(l),B=a.select(f(l)).on("keydown.brush",E).on("keyup.brush",F);if(a.event.changedTouches?B.on("touchmove.brush",G).on("touchend.brush",I):B.on("mousemove.brush",G).on("mouseup.brush",I),s.interrupt().selectAll("*").interrupt(),w)z[0]=e[0]-z[0],z[1]=g[0]-z[1];else if(t){var C=+/w$/.test(t),D=+/^n/.test(t);A=[e[1-C]-z[0],g[1-D]-z[1]],z[0]=e[C],z[1]=g[D]}else a.event.altKey&&(y=z.slice());s.style("pointer-events","none").selectAll(".resize").style("display",null),a.select("body").style("cursor",q.style("cursor")),r({type:"brushstart"}),G()}var h,i,b=O(m,"brushstart","brush","brushend"),c=null,d=null,e=[0,0],g=[0,0],j=!0,k=!0,l=Oi[0];return m.event=function(c){c.each(function(){var c=b.of(this,arguments),d={x:e,y:g,i:h,j:i},f=this.__chart__||d;this.__chart__=d,Di?a.select(this).transition().each("start.brush",function(){h=f.i,i=f.j,e=f.x,g=f.y,c({type:"brushstart"})}).tween("brush:brush",function(){var a=yf(e,d.x),b=yf(g,d.y);return h=i=null,function(f){e=d.x=a(f),g=d.y=b(f),c({type:"brush",mode:"resize"})}}).each("end.brush",function(){h=d.i,i=d.j,c({type:"brush",mode:"resize"}),c({type:"brushend"})}):(c({type:"brushstart"}),c({type:"brush",mode:"resize"}),c({type:"brushend"}))})},m.x=function(a){return arguments.length?(c=a,l=Oi[!c<<1|!d],m):c},m.y=function(a){return arguments.length?(d=a,l=Oi[!c<<1|!d],m):d},m.clamp=function(a){return arguments.length?(c&&d?(j=!!a[0],k=!!a[1]):c?j=!!a:d&&(k=!!a),m):c&&d?[j,k]:c?j:d?k:null},m.extent=function(a){var b,f,j,k,l;return arguments.length?(c&&(b=a[0],f=a[1],d&&(b=b[0],f=f[0]),h=[b,f],c.invert&&(b=c(b),f=c(f)),f<b&&(l=b,b=f,f=l),b==e[0]&&f==e[1]||(e=[b,f])),d&&(j=a[0],k=a[1],c&&(j=j[1],k=k[1]),i=[j,k],d.invert&&(j=d(j),k=d(k)),k<j&&(l=j,j=k,k=l),j==g[0]&&k==g[1]||(g=[j,k])),m):(c&&(h?(b=h[0],f=h[1]):(b=e[0],f=e[1],c.invert&&(b=c.invert(b),f=c.invert(f)),f<b&&(l=b,b=f,f=l))),d&&(i?(j=i[0],k=i[1]):(j=g[0],k=g[1],d.invert&&(j=d.invert(j),k=d.invert(k)),k<j&&(l=j,j=k,k=l))),c&&d?[[b,j],[f,k]]:c?[b,f]:d&&[j,k])},m.clear=function(){return m.empty()||(e=[0,0],g=[0,0],h=i=null),m},m.empty=function(){return!!c&&e[0]==e[1]||!!d&&g[0]==g[1]},a.rebind(m,b,"on")};var Ni={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Oi=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Pi=Rb.format=tc.timeFormat,Qi=Pi.utc,Ri=Qi("%Y-%m-%dT%H:%M:%S.%LZ");Pi.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Si:Ri,Si.parse=function(a){var b=new Date(a);return isNaN(b)?null:b},Si.toString=Ri.toString,Rb.second=Vb(function(a){return new Sb(1e3*Math.floor(a/1e3))},function(a,b){a.setTime(a.getTime()+1e3*Math.floor(b))},function(a){return a.getSeconds()}),Rb.seconds=Rb.second.range,Rb.seconds.utc=Rb.second.utc.range,Rb.minute=Vb(function(a){return new Sb(6e4*Math.floor(a/6e4))},function(a,b){a.setTime(a.getTime()+6e4*Math.floor(b))},function(a){return a.getMinutes()}),Rb.minutes=Rb.minute.range,Rb.minutes.utc=Rb.minute.utc.range,Rb.hour=Vb(function(a){var b=a.getTimezoneOffset()/60;return new Sb(36e5*(Math.floor(a/36e5-b)+b))},function(a,b){a.setTime(a.getTime()+36e5*Math.floor(b))},function(a){return a.getHours()}),Rb.hours=Rb.hour.range,Rb.hours.utc=Rb.hour.utc.range,Rb.month=Vb(function(a){return a=Rb.day(a),a.setDate(1),a},function(a,b){a.setMonth(a.getMonth()+b)},function(a){return a.getMonth()}),Rb.months=Rb.month.range,Rb.months.utc=Rb.month.utc.range;var Vi=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Wi=[[Rb.second,1],[Rb.second,5],[Rb.second,15],[Rb.second,30],[Rb.minute,1],[Rb.minute,5],[Rb.minute,15],[Rb.minute,30],[Rb.hour,1],[Rb.hour,3],[Rb.hour,6],[Rb.hour,12],[Rb.day,1],[Rb.day,2],[Rb.week,1],[Rb.month,1],[Rb.month,3],[Rb.year,1]],Xi=Pi.multi([[".%L",function(a){return a.getMilliseconds()}],[":%S",function(a){return a.getSeconds()}],["%I:%M",function(a){return a.getMinutes()}],["%I %p",function(a){return a.getHours()}],["%a %d",function(a){return a.getDay()&&1!=a.getDate()}],["%b %d",function(a){return 1!=a.getDate()}],["%B",function(a){return a.getMonth()}],["%Y",ed]]),Yi={range:function(b,c,d){return a.range(Math.ceil(b/d)*d,+c,d).map(Ui)},floor:F,ceil:F};Wi.year=Rb.year,Rb.scale=function(){return Ti(a.scale.linear(),Wi,Xi)};var Zi=Wi.map(function(a){return[a[0].utc,a[1]]}),$i=Qi.multi([[".%L",function(a){return a.getUTCMilliseconds()}],[":%S",function(a){return a.getUTCSeconds()}],["%I:%M",function(a){return a.getUTCMinutes()}],["%I %p",function(a){return a.getUTCHours()}],["%a %d",function(a){return a.getUTCDay()&&1!=a.getUTCDate()}],["%b %d",function(a){return 1!=a.getUTCDate()}],["%B",function(a){return a.getUTCMonth()}],["%Y",ed]]);Zi.year=Rb.year.utc,Rb.scale.utc=function(){return Ti(a.scale.linear(),Zi,$i)},a.text=xb(function(a){return a.responseText}),a.json=function(a,b){return yb(a,"application/json",_i,b)},a.html=function(a,b){return yb(a,"text/html",aj,b)},a.xml=xb(function(a){return a.responseXML}),"function"==typeof define&&define.amd?(this.d3=a,define(a)):"object"==typeof module&&module.exports?module.exports=a:this.d3=a}(),function(){var a,b,c,d,e=[].slice,f=function(a,b){return function(){return a.apply(b,arguments)}},g={}.hasOwnProperty,h=function(a,b){function d(){this.constructor=a}for(var c in b)g.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a},i=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1};b=window.Morris={},a=jQuery,b.EventEmitter=function(){function a(){}return a.prototype.on=function(a,b){return null==this.handlers&&(this.handlers={}),null==this.handlers[a]&&(this.handlers[a]=[]),this.handlers[a].push(b),this},a.prototype.fire=function(){var a,b,c,d,f,g,h;if(c=arguments[0],a=2<=arguments.length?e.call(arguments,1):[],null!=this.handlers&&null!=this.handlers[c]){for(g=this.handlers[c],h=[],d=0,f=g.length;d<f;d++)b=g[d],h.push(b.apply(null,a));return h}},a}(),b.commas=function(a){var b,c,d,e;return null!=a?(d=a<0?"-":"",b=Math.abs(a),c=Math.floor(b).toFixed(0),d+=c.replace(/(?=(?:\d{3})+$)(?!^)/g,","),e=b.toString(),e.length>c.length&&(d+=e.slice(c.length)),d):"-"},b.pad2=function(a){return(a<10?"0":"")+a},b.Grid=function(c){function d(b){this.resizeHandler=f(this.resizeHandler,this);var c=this;if("string"==typeof b.element?this.el=a(document.getElementById(b.element)):this.el=a(b.element),null==this.el||0===this.el.length)throw new Error("Graph container element not found");"static"===this.el.css("position")&&this.el.css("position","relative"),this.options=a.extend({},this.gridDefaults,this.defaults||{},b),"string"==typeof this.options.units&&(this.options.postUnits=b.units),this.raphael=new Raphael(this.el[0]),this.elementWidth=null,this.elementHeight=null,this.dirty=!1,this.selectFrom=null,this.init&&this.init(),this.setData(this.options.data),this.el.bind("mousemove",function(a){var b,d,e,f,g;return d=c.el.offset(),g=a.pageX-d.left,c.selectFrom?(b=c.data[c.hitTest(Math.min(g,c.selectFrom))]._x,e=c.data[c.hitTest(Math.max(g,c.selectFrom))]._x,f=e-b,c.selectionRect.attr({x:b,width:f})):c.fire("hovermove",g,a.pageY-d.top)}),this.el.bind("mouseleave",function(a){return c.selectFrom&&(c.selectionRect.hide(),c.selectFrom=null),c.fire("hoverout")}),this.el.bind("touchstart touchmove touchend",function(a){var b,d;return d=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0],b=c.el.offset(),c.fire("hovermove",d.pageX-b.left,d.pageY-b.top)}),this.el.bind("click",function(a){var b;return b=c.el.offset(),c.fire("gridclick",a.pageX-b.left,a.pageY-b.top)}),this.options.rangeSelect&&(this.selectionRect=this.raphael.rect(0,0,0,this.el.innerHeight()).attr({fill:this.options.rangeSelectColor,stroke:!1}).toBack().hide(),this.el.bind("mousedown",function(a){var b;return b=c.el.offset(),c.startRange(a.pageX-b.left)}),this.el.bind("mouseup",function(a){var b;return b=c.el.offset(),c.endRange(a.pageX-b.left),c.fire("hovermove",a.pageX-b.left,a.pageY-b.top)})),this.options.resize&&a(window).bind("resize",function(a){return null!=c.timeoutId&&window.clearTimeout(c.timeoutId),c.timeoutId=window.setTimeout(c.resizeHandler,100)}),this.el.css("-webkit-tap-highlight-color","rgba(0,0,0,0)"),this.postInit&&this.postInit()}return h(d,c),d.prototype.gridDefaults={dateFormat:null,axes:!0,grid:!0,gridLineColor:"#aaa",gridStrokeWidth:.5,gridTextColor:"#888",gridTextSize:12,gridTextFamily:"sans-serif",gridTextWeight:"normal",hideHover:!1,yLabelFormat:null,xLabelAngle:0,numLines:5,padding:25,parseTime:!0,postUnits:"",preUnits:"",ymax:"auto",ymin:"auto 0",goals:[],goalStrokeWidth:1,goalLineColors:["#666633","#999966","#cc6666","#663333"],events:[],eventStrokeWidth:1,eventLineColors:["#005a04","#ccffbb","#3a5f0b","#005502"],rangeSelect:null,rangeSelectColor:"#eef",resize:!1},d.prototype.setData=function(a,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r;return null==c&&(c=!0),this.options.data=a,null==a||0===a.length?(this.data=[],this.raphael.clear(),void(null!=this.hover&&this.hover.hide())):(o=this.cumulative?0:null,p=this.cumulative?0:null,this.options.goals.length>0&&(h=Math.min.apply(Math,this.options.goals),g=Math.max.apply(Math,this.options.goals),p=null!=p?Math.min(p,h):h,o=null!=o?Math.max(o,g):g),this.data=function(){var c,d,g;for(g=[],f=c=0,d=a.length;c<d;f=++c)j=a[f],i={src:j},i.label=j[this.options.xkey],this.options.parseTime?(i.x=b.parseDate(i.label),this.options.dateFormat?i.label=this.options.dateFormat(i.x):"number"==typeof i.label&&(i.label=new Date(i.label).toString())):(i.x=f,this.options.xLabelFormat&&(i.label=this.options.xLabelFormat(i))),l=0,i.y=function(){var a,b,c,d;for(c=this.options.ykeys,d=[],e=a=0,b=c.length;a<b;e=++a)n=c[e],q=j[n],"string"==typeof q&&(q=parseFloat(q)),null!=q&&"number"!=typeof q&&(q=null),null!=q&&(this.cumulative?l+=q:null!=o?(o=Math.max(q,o),p=Math.min(q,p)):o=p=q),this.cumulative&&null!=l&&(o=Math.max(l,o),p=Math.min(l,p)),d.push(q);return d}.call(this),g.push(i);return g}.call(this),this.options.parseTime&&(this.data=this.data.sort(function(a,b){return(a.x>b.x)-(b.x>a.x)})),this.xmin=this.data[0].x,this.xmax=this.data[this.data.length-1].x,this.events=[],this.options.events.length>0&&(this.options.parseTime?this.events=function(){var a,c,e,f;for(e=this.options.events,f=[],a=0,c=e.length;a<c;a++)d=e[a],f.push(b.parseDate(d));return f}.call(this):this.events=this.options.events,this.xmax=Math.max(this.xmax,Math.max.apply(Math,this.events)),this.xmin=Math.min(this.xmin,Math.min.apply(Math,this.events))),this.xmin===this.xmax&&(this.xmin-=1,this.xmax+=1),this.ymin=this.yboundary("min",p),this.ymax=this.yboundary("max",o),this.ymin===this.ymax&&(p&&(this.ymin-=1),this.ymax+=1),!0!==(r=this.options.axes)&&"both"!==r&&"y"!==r&&!0!==this.options.grid||(this.options.ymax===this.gridDefaults.ymax&&this.options.ymin===this.gridDefaults.ymin?(this.grid=this.autoGridLines(this.ymin,this.ymax,this.options.numLines),this.ymin=Math.min(this.ymin,this.grid[0]),this.ymax=Math.max(this.ymax,this.grid[this.grid.length-1])):(k=(this.ymax-this.ymin)/(this.options.numLines-1),this.grid=function(){var a,c,d;for(d=[],m=a=this.ymin,c=this.ymax;k>0?a<=c:a>=c;m=a+=k)d.push(m);return d}.call(this))),this.dirty=!0,c?this.redraw():void 0)},d.prototype.yboundary=function(a,b){var c,d;return c=this.options["y"+a],"string"==typeof c?"auto"===c.slice(0,4)?c.length>5?(d=parseInt(c.slice(5),10),null==b?d:Math[a](b,d)):null!=b?b:0:parseInt(c,10):c},d.prototype.autoGridLines=function(a,b,c){var d,e,f,g,h,i,j,k,l;return h=b-a,l=Math.floor(Math.log(h)/Math.log(10)),j=Math.pow(10,l),e=Math.floor(a/j)*j,d=Math.ceil(b/j)*j,i=(d-e)/(c-1),1===j&&i>1&&Math.ceil(i)!==i&&(i=Math.ceil(i),d=e+i*(c-1)),e<0&&d>0&&(e=Math.floor(a/i)*i,d=Math.ceil(b/i)*i),i<1?(g=Math.floor(Math.log(i)/Math.log(10)),f=function(){var a,b;for(b=[],k=a=e;i>0?a<=d:a>=d;k=a+=i)b.push(parseFloat(k.toFixed(1-g)));return b}()):f=function(){var a,b;for(b=[],k=a=e;i>0?a<=d:a>=d;k=a+=i)b.push(k);return b}(),f},d.prototype._calc=function(){var a,b,c,d,e,f,g,h;if(e=this.el.width(),c=this.el.height(),(this.elementWidth!==e||this.elementHeight!==c||this.dirty)&&(this.elementWidth=e,this.elementHeight=c,this.dirty=!1,this.left=this.options.padding,this.right=this.elementWidth-this.options.padding,this.top=this.options.padding,this.bottom=this.elementHeight-this.options.padding,!0!==(g=this.options.axes)&&"both"!==g&&"y"!==g||(f=function(){var a,c,d,e;for(d=this.grid,e=[],a=0,c=d.length;a<c;a++)b=d[a],e.push(this.measureText(this.yAxisFormat(b)).width);return e}.call(this),this.left+=Math.max.apply(Math,f)),!0!==(h=this.options.axes)&&"both"!==h&&"x"!==h||(a=function(){var a,b,c;for(c=[],d=a=0,b=this.data.length;0<=b?a<b:a>b;d=0<=b?++a:--a)c.push(this.measureText(this.data[d].text,-this.options.xLabelAngle).height);return c}.call(this),this.bottom-=Math.max.apply(Math,a)),this.width=Math.max(1,this.right-this.left),this.height=Math.max(1,this.bottom-this.top),this.dx=this.width/(this.xmax-this.xmin),this.dy=this.height/(this.ymax-this.ymin),this.calc))return this.calc()},d.prototype.transY=function(a){return this.bottom-(a-this.ymin)*this.dy},d.prototype.transX=function(a){return 1===this.data.length?(this.left+this.right)/2:this.left+(a-this.xmin)*this.dx},d.prototype.redraw=function(){if(this.raphael.clear(),this._calc(),this.drawGrid(),this.drawGoals(),this.drawEvents(),this.draw)return this.draw()},d.prototype.measureText=function(a,b){var c,d;return null==b&&(b=0),d=this.raphael.text(100,100,a).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).rotate(b),c=d.getBBox(),d.remove(),c},d.prototype.yAxisFormat=function(a){return this.yLabelFormat(a)},d.prototype.yLabelFormat=function(a){return"function"==typeof this.options.yLabelFormat?this.options.yLabelFormat(a):""+this.options.preUnits+b.commas(a)+this.options.postUnits},d.prototype.drawGrid=function(){var a,b,c,d,e,f,g,h;if(!1!==this.options.grid||!0===(e=this.options.axes)||"both"===e||"y"===e){for(f=this.grid,h=[],c=0,d=f.length;c<d;c++)a=f[c],b=this.transY(a),!0!==(g=this.options.axes)&&"both"!==g&&"y"!==g||this.drawYAxisLabel(this.left-this.options.padding/2,b,this.yAxisFormat(a)),this.options.grid?h.push(this.drawGridLine("M"+this.left+","+b+"H"+(this.left+this.width))):h.push(void 0);return h}},d.prototype.drawGoals=function(){var a,b,c,d,e,f,g;for(f=this.options.goals,g=[],c=d=0,e=f.length;d<e;c=++d)b=f[c],a=this.options.goalLineColors[c%this.options.goalLineColors.length],g.push(this.drawGoal(b,a));return g},d.prototype.drawEvents=function(){var a,b,c,d,e,f,g;for(f=this.events,g=[],c=d=0,e=f.length;d<e;c=++d)b=f[c],a=this.options.eventLineColors[c%this.options.eventLineColors.length],g.push(this.drawEvent(b,a));return g},d.prototype.drawGoal=function(a,b){return this.raphael.path("M"+this.left+","+this.transY(a)+"H"+this.right).attr("stroke",b).attr("stroke-width",this.options.goalStrokeWidth)},d.prototype.drawEvent=function(a,b){return this.raphael.path("M"+this.transX(a)+","+this.bottom+"V"+this.top).attr("stroke",b).attr("stroke-width",this.options.eventStrokeWidth)},d.prototype.drawYAxisLabel=function(a,b,c){return this.raphael.text(a,b,c).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor).attr("text-anchor","end")},d.prototype.drawGridLine=function(a){return this.raphael.path(a).attr("stroke",this.options.gridLineColor).attr("stroke-width",this.options.gridStrokeWidth)},d.prototype.startRange=function(a){return this.hover.hide(),this.selectFrom=a,this.selectionRect.attr({x:a,width:0}).show()},d.prototype.endRange=function(a){var b,c;if(this.selectFrom)return c=Math.min(this.selectFrom,a),b=Math.max(this.selectFrom,a),this.options.rangeSelect.call(this.el,{start:this.data[this.hitTest(c)].x,end:this.data[this.hitTest(b)].x}),this.selectFrom=null},d.prototype.resizeHandler=function(){return this.timeoutId=null,this.raphael.setSize(this.el.width(),this.el.height()),this.redraw()},d}(b.EventEmitter),b.parseDate=function(a){var b,c,d,e,f,g,h,i,j,k,l;return"number"==typeof a?a:(c=a.match(/^(\d+) Q(\d)$/),e=a.match(/^(\d+)-(\d+)$/),f=a.match(/^(\d+)-(\d+)-(\d+)$/),h=a.match(/^(\d+) W(\d+)$/),i=a.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+)(Z|([+-])(\d\d):?(\d\d))?$/),j=a.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+):(\d+(\.\d+)?)(Z|([+-])(\d\d):?(\d\d))?$/),c?new Date(parseInt(c[1],10),3*parseInt(c[2],10)-1,1).getTime():e?new Date(parseInt(e[1],10),parseInt(e[2],10)-1,1).getTime():f?new Date(parseInt(f[1],10),parseInt(f[2],10)-1,parseInt(f[3],10)).getTime():h?(k=new Date(parseInt(h[1],10),0,1),4!==k.getDay()&&k.setMonth(0,1+(4-k.getDay()+7)%7),k.getTime()+6048e5*parseInt(h[2],10)):i?i[6]?(g=0,"Z"!==i[6]&&(g=60*parseInt(i[8],10)+parseInt(i[9],10),"+"===i[7]&&(g=0-g)),Date.UTC(parseInt(i[1],10),parseInt(i[2],10)-1,parseInt(i[3],10),parseInt(i[4],10),parseInt(i[5],10)+g)):new Date(parseInt(i[1],10),parseInt(i[2],10)-1,parseInt(i[3],10),parseInt(i[4],10),parseInt(i[5],10)).getTime():j?(l=parseFloat(j[6]),b=Math.floor(l),d=Math.round(1e3*(l-b)),j[8]?(g=0,"Z"!==j[8]&&(g=60*parseInt(j[10],10)+parseInt(j[11],10),"+"===j[9]&&(g=0-g)),Date.UTC(parseInt(j[1],10),parseInt(j[2],10)-1,parseInt(j[3],10),parseInt(j[4],10),parseInt(j[5],10)+g,b,d)):new Date(parseInt(j[1],10),parseInt(j[2],10)-1,parseInt(j[3],10),parseInt(j[4],10),parseInt(j[5],10),b,d).getTime()):new Date(parseInt(a,10),0,1).getTime())},b.Hover=function(){function c(c){null==c&&(c={}),this.options=a.extend({},b.Hover.defaults,c),this.el=a("<div class='"+this.options.class+"'></div>"),this.el.hide(),this.options.parent.append(this.el)}return c.defaults={class:"morris-hover morris-default-style"},c.prototype.update=function(a,b,c){return a?(this.html(a),this.show(),this.moveTo(b,c)):this.hide()},c.prototype.html=function(a){return this.el.html(a)},c.prototype.moveTo=function(a,b){var c,d,e,f,g,h;return g=this.options.parent.innerWidth(),f=this.options.parent.innerHeight(),d=this.el.outerWidth(),c=this.el.outerHeight(),e=Math.min(Math.max(0,a-d/2),g-d),null!=b?(h=b-c-10)<0&&(h=b+10)+c>f&&(h=f/2-c/2):h=f/2-c/2,this.el.css({left:e+"px",top:parseInt(h)+"px"})},c.prototype.show=function(){return this.el.show()},c.prototype.hide=function(){return this.el.hide()},c}(),b.Line=function(a){function c(a){if(this.hilight=f(this.hilight,this),this.onHoverOut=f(this.onHoverOut,this),this.onHoverMove=f(this.onHoverMove,this),this.onGridClick=f(this.onGridClick,this),!(this instanceof b.Line))return new b.Line(a);c.__super__.constructor.call(this,a)}return h(c,a),c.prototype.init=function(){if("always"!==this.options.hideHover)return this.hover=new b.Hover({parent:this.el}),this.on("hovermove",this.onHoverMove),this.on("hoverout",this.onHoverOut),this.on("gridclick",this.onGridClick)},c.prototype.defaults={lineWidth:3,pointSize:4,lineColors:["#0b62a4","#7A92A3","#4da74d","#afd8f8","#edc240","#cb4b4b","#9440ed"],pointStrokeWidths:[1],pointStrokeColors:["#ffffff"],pointFillColors:[],smooth:!0,xLabels:"auto",xLabelFormat:null,xLabelMargin:24,hideHover:!1},c.prototype.calc=function(){return this.calcPoints(),this.generatePaths()},c.prototype.calcPoints=function(){var a,b,c,d,e,f;for(e=this.data,f=[],c=0,d=e.length;c<d;c++)a=e[c],a._x=this.transX(a.x),a._y=function(){var c,d,e,f;for(e=a.y,f=[],c=0,d=e.length;c<d;c++)b=e[c],null!=b?f.push(this.transY(b)):f.push(b);return f}.call(this),f.push(a._ymax=Math.min.apply(Math,[this.bottom].concat(function(){var c,d,e,f;for(e=a._y,f=[],c=0,d=e.length;c<d;c++)null!=(b=e[c])&&f.push(b);return f}())));return f},c.prototype.hitTest=function(a){var b,c,d,e,f;if(0===this.data.length)return null;for(f=this.data.slice(1),b=d=0,e=f.length;d<e&&(c=f[b],!(a<(c._x+this.data[b]._x)/2));b=++d);return b},c.prototype.onGridClick=function(a,b){var c;return c=this.hitTest(a),this.fire("click",c,this.data[c].src,a,b)},c.prototype.onHoverMove=function(a,b){var c;return c=this.hitTest(a),this.displayHoverForRow(c)},c.prototype.onHoverOut=function(){if(!1!==this.options.hideHover)return this.displayHoverForRow(null)},c.prototype.displayHoverForRow=function(a){var b;return null!=a?((b=this.hover).update.apply(b,this.hoverContentForRow(a)),this.hilight(a)):(this.hover.hide(),this.hilight())},c.prototype.hoverContentForRow=function(a){var b,c,d,e,f,g,h;for(d=this.data[a],b="<div class='morris-hover-row-label'>"+d.label+"</div>",h=d.y,c=f=0,g=h.length;f<g;c=++f)e=h[c],b+="<div class='morris-hover-point' style='color: "+this.colorFor(d,c,"label")+"'>\n  "+this.options.labels[c]+":\n  "+this.yLabelFormat(e)+"\n</div>";return"function"==typeof this.options.hoverCallback&&(b=this.options.hoverCallback(a,this.options,b,d.src)),[b,d._x,d._ymax]},c.prototype.generatePaths=function(){var a,c,d,e;return this.paths=function(){var f,g,h,j;for(j=[],c=f=0,g=this.options.ykeys.length;0<=g?f<g:f>g;c=0<=g?++f:--f)e="boolean"==typeof this.options.smooth?this.options.smooth:(h=this.options.ykeys[c],i.call(this.options.smooth,h)>=0),a=function(){var a,b,e,f;for(e=this.data,f=[],a=0,b=e.length;a<b;a++)d=e[a],void 0!==d._y[c]&&f.push({x:d._x,y:d._y[c]});return f}.call(this),a.length>1?j.push(b.Line.createPath(a,e,this.bottom)):j.push(null);return j}.call(this)},c.prototype.draw=function(){var a;if(!0!==(a=this.options.axes)&&"both"!==a&&"x"!==a||this.drawXAxis(),this.drawSeries(),!1===this.options.hideHover)return this.displayHoverForRow(this.data.length-1)},c.prototype.drawXAxis=function(){var a,c,d,e,f,g,h,i,j,k,l=this;for(h=this.bottom+this.options.padding/2,f=null,e=null,a=function(a,b){var c,d,g,i,j;return c=l.drawXAxisLabel(l.transX(b),h,a),j=c.getBBox(),c.transform("r"+-l.options.xLabelAngle),d=c.getBBox(),c.transform("t0,"+d.height/2+"..."),0!==l.options.xLabelAngle&&(i=-.5*j.width*Math.cos(l.options.xLabelAngle*Math.PI/180),c.transform("t"+i+",0...")),d=c.getBBox(),(null==f||f>=d.x+d.width||null!=e&&e>=d.x)&&d.x>=0&&d.x+d.width<l.el.width()?(0!==l.options.xLabelAngle&&(g=1.25*l.options.gridTextSize/Math.sin(l.options.xLabelAngle*Math.PI/180),e=d.x-g),f=d.x-l.options.xLabelMargin):c.remove()},d=this.options.parseTime?1===this.data.length&&"auto"===this.options.xLabels?[[this.data[0].label,this.data[0].x]]:b.labelSeries(this.xmin,this.xmax,this.width,this.options.xLabels,this.options.xLabelFormat):function(){var a,b,c,d;for(c=this.data,d=[],a=0,b=c.length;a<b;a++)g=c[a],d.push([g.label,g.x]);return d}.call(this),d.reverse(),k=[],i=0,j=d.length;i<j;i++)c=d[i],k.push(a(c[0],c[1]));return k},c.prototype.drawSeries=function(){var a,b,c,d,e,f;for(this.seriesPoints=[],a=b=d=this.options.ykeys.length-1;d<=0?b<=0:b>=0;a=d<=0?++b:--b)this._drawLineFor(a);for(f=[],a=c=e=this.options.ykeys.length-1;e<=0?c<=0:c>=0;a=e<=0?++c:--c)f.push(this._drawPointFor(a));return f},c.prototype._drawPointFor=function(a){var b,c,d,e,f,g;for(this.seriesPoints[a]=[],f=this.data,g=[],d=0,e=f.length;d<e;d++)c=f[d],b=null,null!=c._y[a]&&(b=this.drawLinePoint(c._x,c._y[a],this.colorFor(c,a,"point"),a)),g.push(this.seriesPoints[a].push(b));return g},c.prototype._drawLineFor=function(a){var b;if(null!==(b=this.paths[a]))return this.drawLinePath(b,this.colorFor(null,a,"line"),a)},c.createPath=function(a,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r;for(k="",c&&(g=b.Line.gradients(a)),l={y:null},h=q=0,r=a.length;q<r;h=++q)e=a[h],null!=e.y&&(null!=l.y?c?(f=g[h],j=g[h-1],i=(e.x-l.x)/4,m=l.x+i,o=Math.min(d,l.y+i*j),n=e.x-i,p=Math.min(d,e.y-i*f),k+="C"+m+","+o+","+n+","+p+","+e.x+","+e.y):k+="L"+e.x+","+e.y:c&&null==g[h]||(k+="M"+e.x+","+e.y)),l=e;return k},c.gradients=function(a){var b,c,d,e,f,g,h,i;for(c=function(a,b){return(a.y-b.y)/(a.x-b.x)},i=[],d=g=0,h=a.length;g<h;d=++g)b=a[d],null!=b.y?(e=a[d+1]||{y:null},f=a[d-1]||{y:null},null!=f.y&&null!=e.y?i.push(c(f,e)):null!=f.y?i.push(c(f,b)):null!=e.y?i.push(c(b,e)):i.push(null)):i.push(null);return i},c.prototype.hilight=function(a){var b,c,d,e,f;if(null!==this.prevHilight&&this.prevHilight!==a)for(b=c=0,e=this.seriesPoints.length-1;0<=e?c<=e:c>=e;b=0<=e?++c:--c)this.seriesPoints[b][this.prevHilight]&&this.seriesPoints[b][this.prevHilight].animate(this.pointShrinkSeries(b));if(null!==a&&this.prevHilight!==a)for(b=d=0,f=this.seriesPoints.length-1;0<=f?d<=f:d>=f;b=0<=f?++d:--d)this.seriesPoints[b][a]&&this.seriesPoints[b][a].animate(this.pointGrowSeries(b));return this.prevHilight=a},c.prototype.colorFor=function(a,b,c){return"function"==typeof this.options.lineColors?this.options.lineColors.call(this,a,b,c):"point"===c?this.options.pointFillColors[b%this.options.pointFillColors.length]||this.options.lineColors[b%this.options.lineColors.length]:this.options.lineColors[b%this.options.lineColors.length]},c.prototype.drawXAxisLabel=function(a,b,c){return this.raphael.text(a,b,c).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)},c.prototype.drawLinePath=function(a,b,c){return this.raphael.path(a).attr("stroke",b).attr("stroke-width",this.lineWidthForSeries(c))},c.prototype.drawLinePoint=function(a,b,c,d){return this.raphael.circle(a,b,this.pointSizeForSeries(d)).attr("fill",c).attr("stroke-width",this.pointStrokeWidthForSeries(d)).attr("stroke",this.pointStrokeColorForSeries(d))},c.prototype.pointStrokeWidthForSeries=function(a){return this.options.pointStrokeWidths[a%this.options.pointStrokeWidths.length]},c.prototype.pointStrokeColorForSeries=function(a){return this.options.pointStrokeColors[a%this.options.pointStrokeColors.length]},c.prototype.lineWidthForSeries=function(a){return this.options.lineWidth instanceof Array?this.options.lineWidth[a%this.options.lineWidth.length]:this.options.lineWidth},c.prototype.pointSizeForSeries=function(a){return this.options.pointSize instanceof Array?this.options.pointSize[a%this.options.pointSize.length]:this.options.pointSize},c.prototype.pointGrowSeries=function(a){return Raphael.animation({r:this.pointSizeForSeries(a)+3},25,"linear")},c.prototype.pointShrinkSeries=function(a){return Raphael.animation({r:this.pointSizeForSeries(a)},25,"linear")},c}(b.Grid),b.labelSeries=function(c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r;if(j=200*(d-c)/e,i=new Date(c),void 0===(n=b.LABEL_SPECS[f]))for(r=b.AUTO_LABEL_ORDER,p=0,q=r.length;p<q;p++)if(k=r[p],m=b.LABEL_SPECS[k],j>=m.span){n=m;break}for(void 0===n&&(n=b.LABEL_SPECS.second),g&&(n=a.extend({},n,{fmt:g})),h=n.start(i),l=[];(o=h.getTime())<=d;)o>=c&&l.push([n.fmt(h),o]),n.incr(h);return l},c=function(a){return{span:60*a*1e3,start:function(a){return new Date(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours())},fmt:function(a){return b.pad2(a.getHours())+":"+b.pad2(a.getMinutes())},incr:function(b){return b.setUTCMinutes(b.getUTCMinutes()+a)}}},d=function(a){return{span:1e3*a,start:function(a){return new Date(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes())},fmt:function(a){return b.pad2(a.getHours())+":"+b.pad2(a.getMinutes())+":"+b.pad2(a.getSeconds())},incr:function(b){return b.setUTCSeconds(b.getUTCSeconds()+a)}}},b.LABEL_SPECS={decade:{span:1728e8,start:function(a){return new Date(a.getFullYear()-a.getFullYear()%10,0,1)},fmt:function(a){return""+a.getFullYear()},incr:function(a){return a.setFullYear(a.getFullYear()+10)}},year:{span:1728e7,start:function(a){return new Date(a.getFullYear(),0,1)},fmt:function(a){return""+a.getFullYear()},incr:function(a){return a.setFullYear(a.getFullYear()+1)}},month:{span:24192e5,start:function(a){return new Date(a.getFullYear(),a.getMonth(),1)},fmt:function(a){return a.getFullYear()+"-"+b.pad2(a.getMonth()+1)},incr:function(a){return a.setMonth(a.getMonth()+1)}},week:{span:6048e5,start:function(a){return new Date(a.getFullYear(),a.getMonth(),a.getDate())},fmt:function(a){return a.getFullYear()+"-"+b.pad2(a.getMonth()+1)+"-"+b.pad2(a.getDate())},incr:function(a){return a.setDate(a.getDate()+7)}},day:{span:864e5,start:function(a){return new Date(a.getFullYear(),a.getMonth(),a.getDate())},fmt:function(a){return a.getFullYear()+"-"+b.pad2(a.getMonth()+1)+"-"+b.pad2(a.getDate())},incr:function(a){return a.setDate(a.getDate()+1)}},hour:c(60),"30min":c(30),"15min":c(15),"10min":c(10),"5min":c(5),minute:c(1),"30sec":d(30),"15sec":d(15),"10sec":d(10),"5sec":d(5),second:d(1)},b.AUTO_LABEL_ORDER=["decade","year","month","week","day","hour","30min","15min","10min","5min","minute","30sec","15sec","10sec","5sec","second"],b.Area=function(c){function e(c){var f;if(!(this instanceof b.Area))return new b.Area(c);f=a.extend({},d,c),this.cumulative=!f.behaveLikeLine,"auto"===f.fillOpacity&&(f.fillOpacity=f.behaveLikeLine?.8:1),e.__super__.constructor.call(this,f)}var d;return h(e,c),d={fillOpacity:"auto",behaveLikeLine:!1},e.prototype.calcPoints=function(){var a,b,c,d,e,f,g;for(f=this.data,g=[],d=0,e=f.length;d<e;d++)a=f[d],a._x=this.transX(a.x),b=0,a._y=function(){var d,e,f,g;for(f=a.y,g=[],d=0,e=f.length;d<e;d++)c=f[d],this.options.behaveLikeLine?g.push(this.transY(c)):(b+=c||0,g.push(this.transY(b)));return g}.call(this),g.push(a._ymax=Math.max.apply(Math,a._y));return g},e.prototype.drawSeries=function(){var a,b,e,f,h,i,j,k;for(this.seriesPoints=[],b=this.options.behaveLikeLine?function(){i=[];for(var a=0,b=this.options.ykeys.length-1;0<=b?a<=b:a>=b;0<=b?a++:a--)i.push(a);return i}.apply(this):function(){j=[];for(var a=h=this.options.ykeys.length-1;h<=0?a<=0:a>=0;h<=0?a++:a--)j.push(a);return j}.apply(this),k=[],e=0,f=b.length;e<f;e++)a=b[e],this._drawFillFor(a),this._drawLineFor(a),k.push(this._drawPointFor(a));return k},e.prototype._drawFillFor=function(a){var b;if(null!==(b=this.paths[a]))return b=b+"L"+this.transX(this.xmax)+","+this.bottom+"L"+this.transX(this.xmin)+","+this.bottom+"Z",this.drawFilledPath(b,this.fillForSeries(a))},e.prototype.fillForSeries=function(a){var b;return b=Raphael.rgb2hsl(this.colorFor(this.data[a],a,"line")),Raphael.hsl(b.h,this.options.behaveLikeLine?.9*b.s:.75*b.s,Math.min(.98,this.options.behaveLikeLine?1.2*b.l:1.25*b.l))},e.prototype.drawFilledPath=function(a,b){return this.raphael.path(a).attr("fill",b).attr("fill-opacity",this.options.fillOpacity).attr("stroke","none")},e}(b.Line),b.Bar=function(c){function d(c){if(this.onHoverOut=f(this.onHoverOut,this),this.onHoverMove=f(this.onHoverMove,this),this.onGridClick=f(this.onGridClick,this),!(this instanceof b.Bar))return new b.Bar(c);d.__super__.constructor.call(this,a.extend({},c,{parseTime:!1}))}return h(d,c),d.prototype.init=function(){if(this.cumulative=this.options.stacked,"always"!==this.options.hideHover)return this.hover=new b.Hover({parent:this.el}),this.on("hovermove",this.onHoverMove),this.on("hoverout",this.onHoverOut),this.on("gridclick",this.onGridClick)},d.prototype.defaults={barSizeRatio:.75,barGap:3,barColors:["#0b62a4","#7a92a3","#4da74d","#afd8f8","#edc240","#cb4b4b","#9440ed"],barOpacity:1,barRadius:[0,0,0,0],xLabelMargin:50},d.prototype.calc=function(){var a;if(this.calcBars(),!1===this.options.hideHover)return(a=this.hover).update.apply(a,this.hoverContentForRow(this.data.length-1))},d.prototype.calcBars=function(){var a,b,c,d,e,f,g;for(f=this.data,g=[],a=d=0,e=f.length;d<e;a=++d)b=f[a],b._x=this.left+this.width*(a+.5)/this.data.length,g.push(b._y=function(){var a,d,e,f;for(e=b.y,f=[],a=0,d=e.length;a<d;a++)c=e[a],null!=c?f.push(this.transY(c)):f.push(null);return f}.call(this));return g},d.prototype.draw=function(){var a;return!0!==(a=this.options.axes)&&"both"!==a&&"x"!==a||this.drawXAxis(),this.drawSeries()},d.prototype.drawXAxis=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m;for(j=this.bottom+(this.options.xAxisLabelTopPadding||this.options.padding/2),g=null,f=null,m=[],a=k=0,l=this.data.length;0<=l?k<l:k>l;a=0<=l?++k:--k)h=this.data[this.data.length-1-a],b=this.drawXAxisLabel(h._x,j,h.label),i=b.getBBox(),b.transform("r"+-this.options.xLabelAngle),c=b.getBBox(),b.transform("t0,"+c.height/2+"..."),0!==this.options.xLabelAngle&&(e=-.5*i.width*Math.cos(this.options.xLabelAngle*Math.PI/180),b.transform("t"+e+",0...")),(null==g||g>=c.x+c.width||null!=f&&f>=c.x)&&c.x>=0&&c.x+c.width<this.el.width()?(0!==this.options.xLabelAngle&&(d=1.25*this.options.gridTextSize/Math.sin(this.options.xLabelAngle*Math.PI/180),f=c.x-d),m.push(g=c.x-this.options.xLabelMargin)):m.push(b.remove());return m},d.prototype.drawSeries=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o;return c=this.width/this.options.data.length,h=this.options.stacked?1:this.options.ykeys.length,a=(c*this.options.barSizeRatio-this.options.barGap*(h-1))/h,this.options.barSize&&(a=Math.min(a,this.options.barSize)),l=c-a*h-this.options.barGap*(h-1),g=l/2,o=this.ymin<=0&&this.ymax>=0?this.transY(0):null,this.bars=function(){var h,l,p,q;for(p=this.data,q=[],d=h=0,l=p.length;h<l;d=++h)i=p[d],e=0,q.push(function(){var h,l,p,q;for(p=i._y,q=[],j=h=0,l=p.length;h<l;j=++h)n=p[j],null!==n?(o?(m=Math.min(n,o),b=Math.max(n,o)):(m=n,b=this.bottom),f=this.left+d*c+g,this.options.stacked||(f+=j*(a+this.options.barGap)),k=b-m,this.options.verticalGridCondition&&this.options.verticalGridCondition(i.x)&&this.drawBar(this.left+d*c,this.top,c,Math.abs(this.top-this.bottom),this.options.verticalGridColor,this.options.verticalGridOpacity,this.options.barRadius),this.options.stacked&&(m-=e),this.drawBar(f,m,a,k,this.colorFor(i,j,"bar"),this.options.barOpacity,this.options.barRadius),q.push(e+=k)):q.push(null);return q}.call(this));return q}.call(this)},d.prototype.colorFor=function(a,b,c){var d,e;return"function"==typeof this.options.barColors?(d={x:a.x,y:a.y[b],label:a.label},e={index:b,key:this.options.ykeys[b],label:this.options.labels[b]},this.options.barColors.call(this,d,e,c)):this.options.barColors[b%this.options.barColors.length]},d.prototype.hitTest=function(a){return 0===this.data.length?null:(a=Math.max(Math.min(a,this.right),this.left),Math.min(this.data.length-1,Math.floor((a-this.left)/(this.width/this.data.length))))},d.prototype.onGridClick=function(a,b){var c;return c=this.hitTest(a),this.fire("click",c,this.data[c].src,a,b)},d.prototype.onHoverMove=function(a,b){var c,d;return c=this.hitTest(a),(d=this.hover).update.apply(d,this.hoverContentForRow(c))},d.prototype.onHoverOut=function(){if(!1!==this.options.hideHover)return this.hover.hide()},d.prototype.hoverContentForRow=function(a){var b,c,d,e,f,g,h,i;for(d=this.data[a],b="<div class='morris-hover-row-label'>"+d.label+"</div>",i=d.y,c=g=0,h=i.length;g<h;c=++g)f=i[c],b+="<div class='morris-hover-point' style='color: "+this.colorFor(d,c,"label")+"'>\n  "+this.options.labels[c]+":\n  "+this.yLabelFormat(f)+"\n</div>";return"function"==typeof this.options.hoverCallback&&(b=this.options.hoverCallback(a,this.options,b,d.src)),e=this.left+(a+.5)*this.width/this.data.length,[b,e]},d.prototype.drawXAxisLabel=function(a,b,c){return this.raphael.text(a,b,c).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)},d.prototype.drawBar=function(a,b,c,d,e,f,g){var h,i;return h=Math.max.apply(Math,g),i=0===h||h>d?this.raphael.rect(a,b,c,d):this.raphael.path(this.roundedRect(a,b,c,d,g)),i.attr("fill",e).attr("fill-opacity",f).attr("stroke","none")},d.prototype.roundedRect=function(a,b,c,d,e){return null==e&&(e=[0,0,0,0]),["M",a,e[0]+b,"Q",a,b,a+e[0],b,"L",a+c-e[1],b,"Q",a+c,b,a+c,b+e[1],"L",a+c,b+d-e[2],"Q",a+c,b+d,a+c-e[2],b+d,"L",a+e[3],b+d,"Q",a,b+d,a,b+d-e[3],"Z"]},d}(b.Grid),b.Donut=function(c){function d(c){this.resizeHandler=f(this.resizeHandler,this),this.select=f(this.select,this),this.click=f(this.click,this);var d=this;if(!(this instanceof b.Donut))return new b.Donut(c);if(this.options=a.extend({},this.defaults,c),"string"==typeof c.element?this.el=a(document.getElementById(c.element)):this.el=a(c.element),null===this.el||0===this.el.length)throw new Error("Graph placeholder not found.");void 0!==c.data&&0!==c.data.length&&(this.raphael=new Raphael(this.el[0]),this.options.resize&&a(window).bind("resize",function(a){return null!=d.timeoutId&&window.clearTimeout(d.timeoutId),d.timeoutId=window.setTimeout(d.resizeHandler,100)}),this.setData(c.data))}return h(d,c),d.prototype.defaults={colors:["#0B62A4","#3980B5","#679DC6","#95BBD7","#B0CCE1","#095791","#095085","#083E67","#052C48","#042135"],backgroundColor:"#FFFFFF",labelColor:"#000000",formatter:b.commas,resize:!1},d.prototype.redraw=function(){var a,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x;for(this.raphael.clear(),c=this.el.width()/2,d=this.el.height()/2,n=(Math.min(c,d)-10)/3,l=0,u=this.values,o=0,r=u.length;o<r;o++)m=u[o],l+=m;for(i=5/(2*n),a=1.9999*Math.PI-i*this.data.length,g=0,f=0,this.segments=[],v=this.values,e=p=0,s=v.length;p<s;e=++p)m=v[e],j=g+i+a*(m/l),k=new b.DonutSegment(c,d,2*n,n,g,j,this.data[e].color||this.options.colors[f%this.options.colors.length],this.options.backgroundColor,f,this.raphael),k.render(),this.segments.push(k),k.on("hover",this.select),k.on("click",this.click),g=j,f+=1;for(this.text1=this.drawEmptyDonutLabel(c,d-10,this.options.labelColor,15,800),this.text2=this.drawEmptyDonutLabel(c,d+10,this.options.labelColor,14),h=Math.max.apply(Math,this.values),f=0,w=this.values,x=[],q=0,t=w.length;q<t;q++){if((m=w[q])===h){this.select(f);break}x.push(f+=1)}return x},d.prototype.setData=function(a){var b;return this.data=a,this.values=function(){var a,c,d,e;for(d=this.data,e=[],a=0,c=d.length;a<c;a++)b=d[a],e.push(parseFloat(b.value));return e}.call(this),this.redraw()},d.prototype.click=function(a){return this.fire("click",a,this.data[a])},d.prototype.select=function(a){var b,c,d,e,f,g;for(g=this.segments,e=0,f=g.length;e<f;e++)c=g[e],c.deselect();return d=this.segments[a],d.select(),b=this.data[a],this.setLabels(b.label,this.options.formatter(b.value,b))},d.prototype.setLabels=function(a,b){var c,d,e,f,g,h,i,j;return c=2*(Math.min(this.el.width()/2,this.el.height()/2)-10)/3,f=1.8*c,e=c/2,d=c/3,this.text1.attr({text:a,transform:""}),g=this.text1.getBBox(),h=Math.min(f/g.width,e/g.height),this.text1.attr({transform:"S"+h+","+h+","+(g.x+g.width/2)+","+(g.y+g.height)}),this.text2.attr({text:b,transform:""}),i=this.text2.getBBox(),j=Math.min(f/i.width,d/i.height),this.text2.attr({transform:"S"+j+","+j+","+(i.x+i.width/2)+","+i.y})},d.prototype.drawEmptyDonutLabel=function(a,b,c,d,e){var f;return f=this.raphael.text(a,b,"").attr("font-size",d).attr("fill",c),null!=e&&f.attr("font-weight",e),f},d.prototype.resizeHandler=function(){return this.timeoutId=null,this.raphael.setSize(this.el.width(),this.el.height()),this.redraw()},d}(b.EventEmitter),b.DonutSegment=function(a){function b(a,b,c,d,e,g,h,i,j,k){this.cx=a,this.cy=b,this.inner=c,this.outer=d,this.color=h,this.backgroundColor=i,this.index=j,this.raphael=k,this.deselect=f(this.deselect,this),this.select=f(this.select,this),this.sin_p0=Math.sin(e),this.cos_p0=Math.cos(e),this.sin_p1=Math.sin(g),this.cos_p1=Math.cos(g),this.is_long=g-e>Math.PI?1:0,this.path=this.calcSegment(this.inner+3,this.inner+this.outer-5),this.selectedPath=this.calcSegment(this.inner+3,this.inner+this.outer),this.hilight=this.calcArc(this.inner)}return h(b,a),b.prototype.calcArcPoints=function(a){return[this.cx+a*this.sin_p0,this.cy+a*this.cos_p0,this.cx+a*this.sin_p1,this.cy+a*this.cos_p1]},b.prototype.calcSegment=function(a,b){var c,d,e,f,g,h,i,j,k,l;return k=this.calcArcPoints(a),c=k[0],e=k[1],d=k[2],f=k[3],l=this.calcArcPoints(b),g=l[0],i=l[1],h=l[2],j=l[3],"M"+c+","+e+"A"+a+","+a+",0,"+this.is_long+",0,"+d+","+f+"L"+h+","+j+"A"+b+","+b+",0,"+this.is_long+",1,"+g+","+i+"Z"},b.prototype.calcArc=function(a){var b,c,d,e,f;return f=this.calcArcPoints(a),b=f[0],d=f[1],c=f[2],e=f[3],"M"+b+","+d+"A"+a+","+a+",0,"+this.is_long+",0,"+c+","+e},b.prototype.render=function(){var a=this;return this.arc=this.drawDonutArc(this.hilight,this.color),this.seg=this.drawDonutSegment(this.path,this.color,this.backgroundColor,function(){return a.fire("hover",a.index)},function(){return a.fire("click",a.index)})},b.prototype.drawDonutArc=function(a,b){return this.raphael.path(a).attr({stroke:b,"stroke-width":2,opacity:0})},b.prototype.drawDonutSegment=function(a,b,c,d,e){return this.raphael.path(a).attr({fill:b,stroke:c,"stroke-width":3}).hover(d).click(e)},b.prototype.select=function(){if(!this.selected)return this.seg.animate({path:this.selectedPath},150,"<>"),this.arc.animate({opacity:1},150,"<>"),this.selected=!0},b.prototype.deselect=function(){if(this.selected)return this.seg.animate({path:this.path},150,"<>"),this.arc.animate({opacity:0},150,"<>"),this.selected=!1},b}(b.EventEmitter)}.call(this),function(a){a.color={},a.color.make=function(b,c,d,e){var f={};return f.r=b||0,f.g=c||0,f.b=d||0,f.a=null!=e?e:1,f.add=function(a,b){for(var c=0;c<a.length;++c)f[a.charAt(c)]+=b;return f.normalize()},f.scale=function(a,b){for(var c=0;c<a.length;++c)f[a.charAt(c)]*=b;return f.normalize()},f.toString=function(){return f.a>=1?"rgb("+[f.r,f.g,f.b].join(",")+")":"rgba("+[f.r,f.g,f.b,f.a].join(",")+")"},f.normalize=function(){function a(a,b,c){return b<a?a:b>c?c:b}return f.r=a(0,parseInt(f.r),255),f.g=a(0,parseInt(f.g),255),f.b=a(0,parseInt(f.b),255),f.a=a(0,f.a,1),f},f.clone=function(){return a.color.make(f.r,f.b,f.g,f.a)},f.normalize()},a.color.extract=function(b,c){var d;do{if(""!=(d=b.css(c).toLowerCase())&&"transparent"!=d)break;b=b.parent()}while(b.length&&!a.nodeName(b.get(0),"body"));return"rgba(0, 0, 0, 0)"==d&&(d="transparent"),a.color.parse(d)},a.color.parse=function(c){var d,e=a.color.make;if(d=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(c))return e(parseInt(d[1],10),parseInt(d[2],10),parseInt(d[3],10));if(d=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(c))return e(parseInt(d[1],10),parseInt(d[2],10),parseInt(d[3],10),parseFloat(d[4]));if(d=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(c))return e(2.55*parseFloat(d[1]),2.55*parseFloat(d[2]),2.55*parseFloat(d[3]));if(d=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(c))return e(2.55*parseFloat(d[1]),2.55*parseFloat(d[2]),2.55*parseFloat(d[3]),parseFloat(d[4]));if(d=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(c))return e(parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16));if(d=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(c))return e(parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16));var f=a.trim(c).toLowerCase();return"transparent"==f?e(255,255,255,0):(d=b[f]||[0,0,0],e(d[0],d[1],d[2]))};var b={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery),function(a){function c(b,c){var d=c.children("."+b)[0];if(null==d&&(d=document.createElement("canvas"),d.className=b,a(d).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(c),!d.getContext)){if(!window.G_vmlCanvasManager)throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");d=window.G_vmlCanvasManager.initElement(d)}this.element=d;var e=this.context=d.getContext("2d"),f=window.devicePixelRatio||1,g=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;this.pixelRatio=f/g,this.resize(c.width(),c.height()),this.textContainer=null,this.text={},this._textCache={}}function d(b,d,f,g){function v(a,b){b=[u].concat(b);for(var c=0;c<a.length;++c)a[c].apply(this,b)}function w(){for(var b={Canvas:c},d=0;d<g.length;++d){var e=g[d];e.init(u,b),e.options&&a.extend(!0,i,e.options)}}function x(c){a.extend(!0,i,c),c&&c.colors&&(i.colors=c.colors),null==i.xaxis.color&&(i.xaxis.color=a.color.parse(i.grid.color).scale("a",.22).toString()),null==i.yaxis.color&&(i.yaxis.color=a.color.parse(i.grid.color).scale("a",.22).toString()),null==i.xaxis.tickColor&&(i.xaxis.tickColor=i.grid.tickColor||i.xaxis.color),null==i.yaxis.tickColor&&(i.yaxis.tickColor=i.grid.tickColor||i.yaxis.color),null==i.grid.borderColor&&(i.grid.borderColor=i.grid.color),null==i.grid.tickColor&&(i.grid.tickColor=a.color.parse(i.grid.color).scale("a",.22).toString());var d,e,f,g=b.css("font-size"),h=g?+g.replace("px",""):13,j={style:b.css("font-style"),size:Math.round(.8*h),variant:b.css("font-variant"),weight:b.css("font-weight"),family:b.css("font-family")};for(f=i.xaxes.length||1,d=0;d<f;++d)e=i.xaxes[d],e&&!e.tickColor&&(e.tickColor=e.color),e=a.extend(!0,{},i.xaxis,e),i.xaxes[d]=e,e.font&&(e.font=a.extend({},j,e.font),e.font.color||(e.font.color=e.color),e.font.lineHeight||(e.font.lineHeight=Math.round(1.15*e.font.size)));for(f=i.yaxes.length||1,d=0;d<f;++d)e=i.yaxes[d],e&&!e.tickColor&&(e.tickColor=e.color),e=a.extend(!0,{},i.yaxis,e),i.yaxes[d]=e,e.font&&(e.font=a.extend({},j,e.font),e.font.color||(e.font.color=e.color),e.font.lineHeight||(e.font.lineHeight=Math.round(1.15*e.font.size)));for(i.xaxis.noTicks&&null==i.xaxis.ticks&&(i.xaxis.ticks=i.xaxis.noTicks),i.yaxis.noTicks&&null==i.yaxis.ticks&&(i.yaxis.ticks=i.yaxis.noTicks),i.x2axis&&(i.xaxes[1]=a.extend(!0,{},i.xaxis,i.x2axis),i.xaxes[1].position="top",null==i.x2axis.min&&(i.xaxes[1].min=null),null==i.x2axis.max&&(i.xaxes[1].max=null)),i.y2axis&&(i.yaxes[1]=a.extend(!0,{},i.yaxis,i.y2axis),i.yaxes[1].position="right",null==i.y2axis.min&&(i.yaxes[1].min=null),null==i.y2axis.max&&(i.yaxes[1].max=null)),i.grid.coloredAreas&&(i.grid.markings=i.grid.coloredAreas),i.grid.coloredAreasColor&&(i.grid.markingsColor=i.grid.coloredAreasColor),i.lines&&a.extend(!0,i.series.lines,i.lines),i.points&&a.extend(!0,i.series.points,i.points),i.bars&&a.extend(!0,i.series.bars,i.bars),null!=i.shadowSize&&(i.series.shadowSize=i.shadowSize),null!=i.highlightColor&&(i.series.highlightColor=i.highlightColor),d=0;d<i.xaxes.length;++d)E(o,d+1).options=i.xaxes[d];for(d=0;d<i.yaxes.length;++d)E(p,d+1).options=i.yaxes[d];for(var k in t)i.hooks[k]&&i.hooks[k].length&&(t[k]=t[k].concat(i.hooks[k]));v(t.processOptions,[i])}function y(a){h=z(a),F(),G()}function z(b){for(var c=[],d=0;d<b.length;++d){var e=a.extend(!0,{},i.series);null!=b[d].data?(e.data=b[d].data,delete b[d].data,a.extend(!0,e,b[d]),b[d].data=e.data):e.data=b[d],c.push(e)}return c}function A(a,b){var c=a[b+"axis"];return"object"==typeof c&&(c=c.n),"number"!=typeof c&&(c=1),c}function B(){return a.grep(o.concat(p),function(a){return a})}function C(a){var c,d,b={};for(c=0;c<o.length;++c)(d=o[c])&&d.used&&(b["x"+d.n]=d.c2p(a.left));for(c=0;c<p.length;++c)(d=p[c])&&d.used&&(b["y"+d.n]=d.c2p(a.top));return void 0!==b.x1&&(b.x=b.x1),void 0!==b.y1&&(b.y=b.y1),b}function D(a){var c,d,e,b={};for(c=0;c<o.length;++c)if((d=o[c])&&d.used&&(e="x"+d.n,null==a[e]&&1==d.n&&(e="x"),null!=a[e])){b.left=d.p2c(a[e]);break}for(c=0;c<p.length;++c)if((d=p[c])&&d.used&&(e="y"+d.n,null==a[e]&&1==d.n&&(e="y"),null!=a[e])){b.top=d.p2c(a[e]);break}return b}function E(b,c){return b[c-1]||(b[c-1]={n:c,direction:b==o?"x":"y",options:a.extend(!0,{},b==o?i.xaxis:i.yaxis)}),b[c-1]}function F(){var d,b=h.length,c=-1;for(d=0;d<h.length;++d){var e=h[d].color;null!=e&&(b--,"number"==typeof e&&e>c&&(c=e))}b<=c&&(b=c+1);var f,g=[],j=i.colors,k=j.length,l=0;for(d=0;d<b;d++)f=a.color.parse(j[d%k]||"#666"),d%k==0&&d&&(l=l>=0?l<.5?-l-.2:0:-l),g[d]=f.scale("rgb",1+l);var n,m=0;for(d=0;d<h.length;++d){if(n=h[d],null==n.color?(n.color=g[m].toString(),++m):"number"==typeof n.color&&(n.color=g[n.color].toString()),null==n.lines.show){var q,r=!0;for(q in n)if(n[q]&&n[q].show){r=!1;break}r&&(n.lines.show=!0)}null==n.lines.zero&&(n.lines.zero=!!n.lines.fill),n.xaxis=E(o,A(n,"x")),n.yaxis=E(p,A(n,"y"))}}function G(){function x(a,b,c){b<a.datamin&&b!=-d&&(a.datamin=b),c>a.datamax&&c!=d&&(a.datamax=c)}var e,f,g,i,k,l,m,q,r,s,u,w,b=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY,d=Number.MAX_VALUE;for(a.each(B(),function(a,d){d.datamin=b,d.datamax=c,d.used=!1}),e=0;e<h.length;++e)k=h[e],k.datapoints={points:[]},v(t.processRawData,[k,k.data,k.datapoints]);for(e=0;e<h.length;++e){if(k=h[e],u=k.data,!(w=k.datapoints.format)){if(w=[],w.push({x:!0,number:!0,required:!0}),w.push({y:!0,number:!0,required:!0}),k.bars.show||k.lines.show&&k.lines.fill){var y=!!(k.bars.show&&k.bars.zero||k.lines.show&&k.lines.zero);w.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:y}),k.bars.horizontal&&(delete w[w.length-1].y,w[w.length-1].x=!0)}k.datapoints.format=w}if(null==k.datapoints.pointsize){k.datapoints.pointsize=w.length,m=k.datapoints.pointsize,l=k.datapoints.points;var z=k.lines.show&&k.lines.steps;for(k.xaxis.used=k.yaxis.used=!0,f=g=0;f<u.length;++f,g+=m){s=u[f];var A=null==s;if(!A)for(i=0;i<m;++i)q=s[i],r=w[i],r&&(r.number&&null!=q&&(q=+q,isNaN(q)?q=null:q==1/0?q=d:q==-1/0&&(q=-d)),null==q&&(r.required&&(A=!0),null!=r.defaultValue&&(q=r.defaultValue))),l[g+i]=q;if(A)for(i=0;i<m;++i)q=l[g+i],null!=q&&(r=w[i],!1!==r.autoscale&&(r.x&&x(k.xaxis,q,q),r.y&&x(k.yaxis,q,q))),l[g+i]=null;else if(z&&g>0&&null!=l[g-m]&&l[g-m]!=l[g]&&l[g-m+1]!=l[g+1]){for(i=0;i<m;++i)l[g+m+i]=l[g+i];l[g+1]=l[g-m+1],g+=m}}}}for(e=0;e<h.length;++e)k=h[e],v(t.processDatapoints,[k,k.datapoints]);for(e=0;e<h.length;++e){k=h[e],l=k.datapoints.points,m=k.datapoints.pointsize,w=k.datapoints.format;var C=b,D=b,E=c,F=c;for(f=0;f<l.length;f+=m)if(null!=l[f])for(i=0;i<m;++i)q=l[f+i],(r=w[i])&&!1!==r.autoscale&&q!=d&&q!=-d&&(r.x&&(q<C&&(C=q),q>E&&(E=q)),r.y&&(q<D&&(D=q),q>F&&(F=q)));if(k.bars.show){var G;switch(k.bars.align){case"left":G=0;break;case"right":G=-k.bars.barWidth;break;default:G=-k.bars.barWidth/2}k.bars.horizontal?(D+=G,F+=G+k.bars.barWidth):(C+=G,E+=G+k.bars.barWidth)}x(k.xaxis,C,E),x(k.yaxis,D,F)}a.each(B(),function(a,d){d.datamin==b&&(d.datamin=null),d.datamax==c&&(d.datamax=null)})}function H(){b.css("padding",0).children().filter(function(){return!a(this).hasClass("flot-overlay")&&!a(this).hasClass("flot-base")}).remove(),"static"==b.css("position")&&b.css("position","relative"),j=new c("flot-base",b),k=new c("flot-overlay",b),m=j.context,n=k.context,l=a(k.element).unbind();var d=b.data("plot");d&&(d.shutdown(),k.clear()),b.data("plot",u)}function I(){i.grid.hoverable&&(l.mousemove(ha),l.bind("mouseleave",ia)),i.grid.clickable&&l.click(ja),v(t.bindEvents,[l])}function J(){fa&&clearTimeout(fa),l.unbind("mousemove",ha),l.unbind("mouseleave",ia),l.unbind("click",ja),v(t.shutdown,[l])}function K(a){function b(a){return a}var c,d,e=a.options.transform||b,f=a.options.inverseTransform;"x"==a.direction?(c=a.scale=r/Math.abs(e(a.max)-e(a.min)),d=Math.min(e(a.max),e(a.min))):(c=a.scale=s/Math.abs(e(a.max)-e(a.min)),c=-c,d=Math.max(e(a.max),e(a.min))),a.p2c=e==b?function(a){return(a-d)*c}:function(a){return(e(a)-d)*c},a.c2p=f?function(a){return f(d+a/c)}:function(a){return d+a/c}}function L(a){for(var b=a.options,c=a.ticks||[],d=b.labelWidth||0,e=b.labelHeight||0,f=d||("x"==a.direction?Math.floor(j.width/(c.length||1)):null),g=a.direction+"Axis "+a.direction+a.n+"Axis",h="flot-"+a.direction+"-axis flot-"+a.direction+a.n+"-axis "+g,i=b.font||"flot-tick-label tickLabel",k=0;k<c.length;++k){var l=c[k];if(l.label){var m=j.getTextInfo(h,l.label,i,null,f);d=Math.max(d,m.width),e=Math.max(e,m.height)}}a.labelWidth=b.labelWidth||d,a.labelHeight=b.labelHeight||e}function M(b){var c=b.labelWidth,d=b.labelHeight,e=b.options.position,f="x"===b.direction,g=b.options.tickLength,h=i.grid.axisMargin,k=i.grid.labelMargin,l=!0,m=!0,n=!0,r=!1;a.each(f?o:p,function(a,c){c&&(c.show||c.reserveSpace)&&(c===b?r=!0:c.options.position===e&&(r?m=!1:l=!1),r||(n=!1))}),m&&(h=0),null==g&&(g=n?"full":5),isNaN(+g)||(k+=+g),f?(d+=k,"bottom"==e?(q.bottom+=d+h,b.box={top:j.height-q.bottom,height:d}):(b.box={top:q.top+h,height:d},q.top+=d+h)):(c+=k,"left"==e?(b.box={left:q.left+h,width:c},q.left+=c+h):(q.right+=c+h,b.box={left:j.width-q.right,width:c})),b.position=e,b.tickLength=g,b.box.padding=k,b.innermost=l}function N(a){"x"==a.direction?(a.box.left=q.left-a.labelWidth/2,a.box.width=j.width-q.left-q.right+a.labelWidth):(a.box.top=q.top-a.labelHeight/2,a.box.height=j.height-q.bottom-q.top+a.labelHeight)}function O(){var d,b=i.grid.minBorderMargin;if(null==b)for(b=0,d=0;d<h.length;++d)b=Math.max(b,2*(h[d].points.radius+h[d].points.lineWidth/2));var e={left:b,right:b,top:b,bottom:b};a.each(B(),function(a,b){b.reserveSpace&&b.ticks&&b.ticks.length&&("x"===b.direction?(e.left=Math.max(e.left,b.labelWidth/2),e.right=Math.max(e.right,b.labelWidth/2)):(e.bottom=Math.max(e.bottom,b.labelHeight/2),e.top=Math.max(e.top,b.labelHeight/2)))}),q.left=Math.ceil(Math.max(e.left,q.left)),q.right=Math.ceil(Math.max(e.right,q.right)),q.top=Math.ceil(Math.max(e.top,q.top)),q.bottom=Math.ceil(Math.max(e.bottom,q.bottom))}function P(){var b,c=B(),d=i.grid.show;for(var e in q){var f=i.grid.margin||0;q[e]="number"==typeof f?f:f[e]||0}v(t.processOffset,[q]);for(var e in q)"object"==typeof i.grid.borderWidth?q[e]+=d?i.grid.borderWidth[e]:0:q[e]+=d?i.grid.borderWidth:0;if(a.each(c,function(a,b){var c=b.options;b.show=null==c.show?b.used:c.show,b.reserveSpace=null==c.reserveSpace?b.show:c.reserveSpace,Q(b)}),d){var g=a.grep(c,function(a){return a.show||a.reserveSpace});for(a.each(g,function(a,b){R(b),S(b),T(b,b.ticks),L(b)}),b=g.length-1;b>=0;--b)M(g[b]);O(),a.each(g,function(a,b){N(b)})}r=j.width-q.left-q.right,s=j.height-q.bottom-q.top,a.each(c,function(a,b){K(b)}),d&&Y(),da()}function Q(a){var b=a.options,c=+(null!=b.min?b.min:a.datamin),d=+(null!=b.max?b.max:a.datamax),e=d-c;if(0==e){var f=0==d?1:.01;null==b.min&&(c-=f),null!=b.max&&null==b.min||(d+=f)}else{var g=b.autoscaleMargin;null!=g&&(null==b.min&&(c-=e*g)<0&&null!=a.datamin&&a.datamin>=0&&(c=0),null==b.max&&(d+=e*g)>0&&null!=a.datamax&&a.datamax<=0&&(d=0))}a.min=c,a.max=d}function R(b){var d,c=b.options;d="number"==typeof c.ticks&&c.ticks>0?c.ticks:.3*Math.sqrt("x"==b.direction?j.width:j.height);var f=(b.max-b.min)/d,g=-Math.floor(Math.log(f)/Math.LN10),h=c.tickDecimals;null!=h&&g>h&&(g=h);var l,i=Math.pow(10,-g),k=f/i;if(k<1.5?l=1:k<3?(l=2,k>2.25&&(null==h||g+1<=h)&&(l=2.5,++g)):l=k<7.5?5:10,l*=i,null!=c.minTickSize&&l<c.minTickSize&&(l=c.minTickSize),b.delta=f,b.tickDecimals=Math.max(0,null!=h?h:g),b.tickSize=c.tickSize||l,"time"==c.mode&&!b.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");if(b.tickGenerator||(b.tickGenerator=function(a){var g,b=[],c=e(a.min,a.tickSize),d=0,f=Number.NaN;do{g=f,f=c+d*a.tickSize,b.push(f),++d}while(f<a.max&&f!=g);return b},b.tickFormatter=function(a,b){var c=b.tickDecimals?Math.pow(10,b.tickDecimals):1,d=""+Math.round(a*c)/c;if(null!=b.tickDecimals){var e=d.indexOf("."),f=-1==e?0:d.length-e-1;if(f<b.tickDecimals)return(f?d:d+".")+(""+c).substr(1,b.tickDecimals-f)}return d}),a.isFunction(c.tickFormatter)&&(b.tickFormatter=function(a,b){return""+c.tickFormatter(a,b)}),null!=c.alignTicksWithAxis){var m=("x"==b.direction?o:p)[c.alignTicksWithAxis-1];if(m&&m.used&&m!=b){var n=b.tickGenerator(b);if(n.length>0&&(null==c.min&&(b.min=Math.min(b.min,n[0])),null==c.max&&n.length>1&&(b.max=Math.max(b.max,n[n.length-1]))),b.tickGenerator=function(a){var c,d,b=[];for(d=0;d<m.ticks.length;++d)c=(m.ticks[d].v-m.min)/(m.max-m.min),c=a.min+c*(a.max-a.min),b.push(c);return b},!b.mode&&null==c.tickDecimals){var q=Math.max(0,1-Math.floor(Math.log(b.delta)/Math.LN10)),r=b.tickGenerator(b);r.length>1&&/\..*0$/.test((r[1]-r[0]).toFixed(q))||(b.tickDecimals=q)}}}}function S(b){var c=b.options.ticks,d=[];null==c||"number"==typeof c&&c>0?d=b.tickGenerator(b):c&&(d=a.isFunction(c)?c(b):c);var e,f;for(b.ticks=[],e=0;e<d.length;++e){var g=null,h=d[e];"object"==typeof h?(f=+h[0],h.length>1&&(g=h[1])):f=+h,null==g&&(g=b.tickFormatter(f,b)),isNaN(f)||b.ticks.push({v:f,label:g})}}function T(a,b){a.options.autoscaleMargin&&b.length>0&&(null==a.options.min&&(a.min=Math.min(a.min,b[0].v)),null==a.options.max&&b.length>1&&(a.max=Math.max(a.max,b[b.length-1].v)))}function U(){j.clear(),v(t.drawBackground,[m]);var a=i.grid;a.show&&a.backgroundColor&&W(),a.show&&!a.aboveData&&X();for(var b=0;b<h.length;++b)v(t.drawSeries,[m,h[b]]),Z(h[b]);v(t.draw,[m]),a.show&&a.aboveData&&X(),j.render(),la()}function V(a,b){for(var c,d,e,f,g=B(),h=0;h<g.length;++h)if(c=g[h],c.direction==b&&(f=b+c.n+"axis",a[f]||1!=c.n||(f=b+"axis"),a[f])){d=a[f].from,e=a[f].to;break}if(a[f]||(c="x"==b?o[0]:p[0],d=a[b+"1"],e=a[b+"2"]),null!=d&&null!=e&&d>e){var i=d;d=e,e=i}return{from:d,to:e,axis:c}}function W(){m.save(),m.translate(q.left,q.top),m.fillStyle=sa(i.grid.backgroundColor,s,0,"rgba(255, 255, 255, 0)"),m.fillRect(0,0,r,s),m.restore()}function X(){var b,c,d,e;m.save(),m.translate(q.left,q.top);var f=i.grid.markings;if(f)for(a.isFunction(f)&&(c=u.getAxes(),c.xmin=c.xaxis.min,c.xmax=c.xaxis.max,c.ymin=c.yaxis.min,c.ymax=c.yaxis.max,f=f(c)),b=0;b<f.length;++b){var g=f[b],h=V(g,"x"),j=V(g,"y");if(null==h.from&&(h.from=h.axis.min),null==h.to&&(h.to=h.axis.max),null==j.from&&(j.from=j.axis.min),null==j.to&&(j.to=j.axis.max),!(h.to<h.axis.min||h.from>h.axis.max||j.to<j.axis.min||j.from>j.axis.max)){h.from=Math.max(h.from,h.axis.min),h.to=Math.min(h.to,h.axis.max),j.from=Math.max(j.from,j.axis.min),j.to=Math.min(j.to,j.axis.max);var k=h.from===h.to,l=j.from===j.to;if(!k||!l)if(h.from=Math.floor(h.axis.p2c(h.from)),h.to=Math.floor(h.axis.p2c(h.to)),j.from=Math.floor(j.axis.p2c(j.from)),j.to=Math.floor(j.axis.p2c(j.to)),k||l){var n=g.lineWidth||i.grid.markingsLineWidth,o=n%2?.5:0;m.beginPath(),m.strokeStyle=g.color||i.grid.markingsColor,m.lineWidth=n,k?(m.moveTo(h.to+o,j.from),m.lineTo(h.to+o,j.to)):(m.moveTo(h.from,j.to+o),m.lineTo(h.to,j.to+o)),m.stroke()}else m.fillStyle=g.color||i.grid.markingsColor,m.fillRect(h.from,j.to,h.to-h.from,j.from-j.to)}}c=B(),d=i.grid.borderWidth;for(var p=0;p<c.length;++p){var x,y,z,A,t=c[p],v=t.box,w=t.tickLength;if(t.show&&0!=t.ticks.length){for(m.lineWidth=1,"x"==t.direction?(x=0,y="full"==w?"top"==t.position?0:s:v.top-q.top+("top"==t.position?v.height:0)):(y=0,x="full"==w?"left"==t.position?0:r:v.left-q.left+("left"==t.position?v.width:0)),t.innermost||(m.strokeStyle=t.options.color,m.beginPath(),z=A=0,"x"==t.direction?z=r+1:A=s+1,1==m.lineWidth&&("x"==t.direction?y=Math.floor(y)+.5:x=Math.floor(x)+.5),m.moveTo(x,y),m.lineTo(x+z,y+A),m.stroke()),m.strokeStyle=t.options.tickColor,m.beginPath(),b=0;b<t.ticks.length;++b){var C=t.ticks[b].v;z=A=0,isNaN(C)||C<t.min||C>t.max||"full"==w&&("object"==typeof d&&d[t.position]>0||d>0)&&(C==t.min||C==t.max)||("x"==t.direction?(x=t.p2c(C),A="full"==w?-s:w,"top"==t.position&&(A=-A)):(y=t.p2c(C),z="full"==w?-r:w,"left"==t.position&&(z=-z)),1==m.lineWidth&&("x"==t.direction?x=Math.floor(x)+.5:y=Math.floor(y)+.5),m.moveTo(x,y),m.lineTo(x+z,y+A))}m.stroke()}}d&&(e=i.grid.borderColor,"object"==typeof d||"object"==typeof e?("object"!=typeof d&&(d={top:d,right:d,bottom:d,left:d}),"object"!=typeof e&&(e={top:e,right:e,bottom:e,left:e}),d.top>0&&(m.strokeStyle=e.top,m.lineWidth=d.top,m.beginPath(),m.moveTo(0-d.left,0-d.top/2),m.lineTo(r,0-d.top/2),m.stroke()),d.right>0&&(m.strokeStyle=e.right,m.lineWidth=d.right,m.beginPath(),m.moveTo(r+d.right/2,0-d.top),m.lineTo(r+d.right/2,s),m.stroke()),d.bottom>0&&(m.strokeStyle=e.bottom,m.lineWidth=d.bottom,m.beginPath(),m.moveTo(r+d.right,s+d.bottom/2),m.lineTo(0,s+d.bottom/2),m.stroke()),d.left>0&&(m.strokeStyle=e.left,m.lineWidth=d.left,m.beginPath(),m.moveTo(0-d.left/2,s+d.bottom),m.lineTo(0-d.left/2,0),m.stroke())):(m.lineWidth=d,m.strokeStyle=i.grid.borderColor,m.strokeRect(-d/2,-d/2,r+d,s+d))),m.restore()}function Y(){a.each(B(),function(a,b){var g,h,i,k,l,c=b.box,d=b.direction+"Axis "+b.direction+b.n+"Axis",e="flot-"+b.direction+"-axis flot-"+b.direction+b.n+"-axis "+d,f=b.options.font||"flot-tick-label tickLabel";if(j.removeText(e),b.show&&0!=b.ticks.length)for(var m=0;m<b.ticks.length;++m)g=b.ticks[m],!g.label||g.v<b.min||g.v>b.max||("x"==b.direction?(k="center",h=q.left+b.p2c(g.v),"bottom"==b.position?i=c.top+c.padding:(i=c.top+c.height-c.padding,l="bottom")):(l="middle",i=q.top+b.p2c(g.v),"left"==b.position?(h=c.left+c.width-c.padding,k="right"):h=c.left+c.padding),j.addText(e,h,i,g.label,f,null,null,k,l))})}function Z(a){a.lines.show&&$(a),a.bars.show&&ba(a),a.points.show&&_(a)}function $(a){function b(a,b,c,d,e){var f=a.points,g=a.pointsize,h=null,i=null;m.beginPath();for(var j=g;j<f.length;j+=g){var k=f[j-g],l=f[j-g+1],n=f[j],o=f[j+1];if(null!=k&&null!=n){if(l<=o&&l<e.min){if(o<e.min)continue;k=(e.min-l)/(o-l)*(n-k)+k,l=e.min}else if(o<=l&&o<e.min){if(l<e.min)continue;n=(e.min-l)/(o-l)*(n-k)+k,o=e.min}if(l>=o&&l>e.max){if(o>e.max)continue;k=(e.max-l)/(o-l)*(n-k)+k,l=e.max}else if(o>=l&&o>e.max){if(l>e.max)continue;n=(e.max-l)/(o-l)*(n-k)+k,o=e.max}if(k<=n&&k<d.min){if(n<d.min)continue;l=(d.min-k)/(n-k)*(o-l)+l,k=d.min}else if(n<=k&&n<d.min){if(k<d.min)continue;o=(d.min-k)/(n-k)*(o-l)+l,n=d.min}if(k>=n&&k>d.max){if(n>d.max)continue;l=(d.max-k)/(n-k)*(o-l)+l,k=d.max}else if(n>=k&&n>d.max){if(k>d.max)continue;o=(d.max-k)/(n-k)*(o-l)+l,n=d.max}k==h&&l==i||m.moveTo(d.p2c(k)+b,e.p2c(l)+c),h=n,i=o,m.lineTo(d.p2c(n)+b,e.p2c(o)+c)}}m.stroke()}function c(a,b,c){for(var d=a.points,e=a.pointsize,f=Math.min(Math.max(0,c.min),c.max),g=0,i=!1,j=1,k=0,l=0;;){if(e>0&&g>d.length+e)break;g+=e;var n=d[g-e],o=d[g-e+j],p=d[g],q=d[g+j];if(i){if(e>0&&null!=n&&null==p){l=g,e=-e,j=2;continue}if(e<0&&g==k+e){m.fill(),i=!1,e=-e,j=1,g=k=l+e;continue}}if(null!=n&&null!=p){if(n<=p&&n<b.min){if(p<b.min)continue;o=(b.min-n)/(p-n)*(q-o)+o,n=b.min}else if(p<=n&&p<b.min){if(n<b.min)continue;q=(b.min-n)/(p-n)*(q-o)+o,p=b.min}if(n>=p&&n>b.max){if(p>b.max)continue;o=(b.max-n)/(p-n)*(q-o)+o,n=b.max}else if(p>=n&&p>b.max){if(n>b.max)continue;q=(b.max-n)/(p-n)*(q-o)+o,p=b.max}if(i||(m.beginPath(),m.moveTo(b.p2c(n),c.p2c(f)),i=!0),o>=c.max&&q>=c.max)m.lineTo(b.p2c(n),c.p2c(c.max)),m.lineTo(b.p2c(p),c.p2c(c.max));else if(o<=c.min&&q<=c.min)m.lineTo(b.p2c(n),c.p2c(c.min)),m.lineTo(b.p2c(p),c.p2c(c.min));else{var r=n,s=p;o<=q&&o<c.min&&q>=c.min?(n=(c.min-o)/(q-o)*(p-n)+n,o=c.min):q<=o&&q<c.min&&o>=c.min&&(p=(c.min-o)/(q-o)*(p-n)+n,q=c.min),o>=q&&o>c.max&&q<=c.max?(n=(c.max-o)/(q-o)*(p-n)+n,o=c.max):q>=o&&q>c.max&&o<=c.max&&(p=(c.max-o)/(q-o)*(p-n)+n,q=c.max),n!=r&&m.lineTo(b.p2c(r),c.p2c(o)),m.lineTo(b.p2c(n),c.p2c(o)),m.lineTo(b.p2c(p),c.p2c(q)),p!=s&&(m.lineTo(b.p2c(p),c.p2c(q)),m.lineTo(b.p2c(s),c.p2c(q)))}}}}m.save(),m.translate(q.left,q.top),m.lineJoin="round";var d=a.lines.lineWidth,e=a.shadowSize;if(d>0&&e>0){m.lineWidth=e,m.strokeStyle="rgba(0,0,0,0.1)";var f=Math.PI/18;b(a.datapoints,Math.sin(f)*(d/2+e/2),Math.cos(f)*(d/2+e/2),a.xaxis,a.yaxis),m.lineWidth=e/2,b(a.datapoints,Math.sin(f)*(d/2+e/4),Math.cos(f)*(d/2+e/4),a.xaxis,a.yaxis)}m.lineWidth=d,m.strokeStyle=a.color;var g=ca(a.lines,a.color,0,s);g&&(m.fillStyle=g,c(a.datapoints,a.xaxis,a.yaxis)),d>0&&b(a.datapoints,0,0,a.xaxis,a.yaxis),m.restore()}function _(a){function b(a,b,c,d,e,f,g,h){for(var i=a.points,j=a.pointsize,k=0;k<i.length;k+=j){var l=i[k],n=i[k+1];null==l||l<f.min||l>f.max||n<g.min||n>g.max||(m.beginPath(),l=f.p2c(l),n=g.p2c(n)+d,"circle"==h?m.arc(l,n,b,0,e?Math.PI:2*Math.PI,!1):h(m,l,n,b,e),m.closePath(),c&&(m.fillStyle=c,m.fill()),m.stroke())}}m.save(),m.translate(q.left,q.top);var c=a.points.lineWidth,d=a.shadowSize,e=a.points.radius,f=a.points.symbol;if(0==c&&(c=1e-4),c>0&&d>0){var g=d/2;m.lineWidth=g,m.strokeStyle="rgba(0,0,0,0.1)",b(a.datapoints,e,null,g+g/2,!0,a.xaxis,a.yaxis,f),m.strokeStyle="rgba(0,0,0,0.2)",b(a.datapoints,e,null,g/2,!0,a.xaxis,a.yaxis,f)}m.lineWidth=c,m.strokeStyle=a.color,b(a.datapoints,e,ca(a.points,a.color),0,!1,a.xaxis,a.yaxis,f),m.restore()}function aa(a,b,c,d,e,f,g,h,i,j,k){var l,m,n,o,p,q,r,s,t;j?(s=q=r=!0,p=!1,l=c,m=a,o=b+d,n=b+e,m<l&&(t=m,m=l,l=t,p=!0,q=!1)):(p=q=r=!0,s=!1,l=a+d,m=a+e,n=c,(o=b)<n&&(t=o,o=n,n=t,s=!0,r=!1)),m<g.min||l>g.max||o<h.min||n>h.max||(l<g.min&&(l=g.min,p=!1),m>g.max&&(m=g.max,q=!1),n<h.min&&(n=h.min,s=!1),o>h.max&&(o=h.max,r=!1),l=g.p2c(l),n=h.p2c(n),m=g.p2c(m),o=h.p2c(o),f&&(i.fillStyle=f(n,o),i.fillRect(l,o,m-l,n-o)),k>0&&(p||q||r||s)&&(i.beginPath(),i.moveTo(l,n),p?i.lineTo(l,o):i.moveTo(l,o),r?i.lineTo(m,o):i.moveTo(m,o),q?i.lineTo(m,n):i.moveTo(m,n),s?i.lineTo(l,n):i.moveTo(l,n),i.stroke()))}function ba(a){function b(b,c,d,e,f,g){for(var h=b.points,i=b.pointsize,j=0;j<h.length;j+=i)null!=h[j]&&aa(h[j],h[j+1],h[j+2],c,d,e,f,g,m,a.bars.horizontal,a.bars.lineWidth)}m.save(),m.translate(q.left,q.top),m.lineWidth=a.bars.lineWidth,m.strokeStyle=a.color;var c;switch(a.bars.align){case"left":c=0;break;case"right":c=-a.bars.barWidth;break;default:c=-a.bars.barWidth/2}var d=a.bars.fill?function(b,c){return ca(a.bars,a.color,b,c)}:null;b(a.datapoints,c,c+a.bars.barWidth,d,a.xaxis,a.yaxis),m.restore()}function ca(b,c,d,e){var f=b.fill;if(!f)return null;if(b.fillColor)return sa(b.fillColor,d,e,c);var g=a.color.parse(c);return g.a="number"==typeof f?f:.4,g.normalize(),g.toString()}function da(){if(null!=i.legend.container?a(i.legend.container).html(""):b.find(".legend").remove(),i.legend.show){for(var g,j,c=[],d=[],e=!1,f=i.legend.labelFormatter,k=0;k<h.length;++k)g=h[k],g.label&&(j=f?f(g.label,g):g.label)&&d.push({label:j,color:g.color});if(i.legend.sorted)if(a.isFunction(i.legend.sorted))d.sort(i.legend.sorted);else if("reverse"==i.legend.sorted)d.reverse();else{var l="descending"!=i.legend.sorted;d.sort(function(a,b){return a.label==b.label?0:a.label<b.label!=l?1:-1})}for(var k=0;k<d.length;++k){var m=d[k];k%i.legend.noColumns==0&&(e&&c.push("</tr>"),c.push("<tr>"),e=!0),c.push('<td class="legendColorBox"><div style="border:1px solid '+i.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+m.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+m.label+"</td>")}if(e&&c.push("</tr>"),0!=c.length){var n='<table style="font-size:smaller;color:'+i.grid.color+'">'+c.join("")+"</table>";if(null!=i.legend.container)a(i.legend.container).html(n);else{var o="",p=i.legend.position,r=i.legend.margin;null==r[0]&&(r=[r,r]),"n"==p.charAt(0)?o+="top:"+(r[1]+q.top)+"px;":"s"==p.charAt(0)&&(o+="bottom:"+(r[1]+q.bottom)+"px;"),"e"==p.charAt(1)?o+="right:"+(r[0]+q.right)+"px;":"w"==p.charAt(1)&&(o+="left:"+(r[0]+q.left)+"px;");var s=a('<div class="legend">'+n.replace('style="','style="position:absolute;'+o+";")+"</div>").appendTo(b);if(0!=i.legend.backgroundOpacity){var t=i.legend.backgroundColor;null==t&&(t=i.grid.backgroundColor,t=t&&"string"==typeof t?a.color.parse(t):a.color.extract(s,"background-color"),t.a=1,t=t.toString());var u=s.children();a('<div style="position:absolute;width:'+u.width()+"px;height:"+u.height()+"px;"+o+"background-color:"+t+';"> </div>').prependTo(s).css("opacity",i.legend.backgroundOpacity)}}}}}function ga(a,b,c){var j,k,l,d=i.grid.mouseActiveRadius,e=d*d+1,f=null;for(j=h.length-1;j>=0;--j)if(c(h[j])){var m=h[j],n=m.xaxis,o=m.yaxis,p=m.datapoints.points,q=n.c2p(a),r=o.c2p(b),s=d/n.scale,t=d/o.scale;if(l=m.datapoints.pointsize,n.options.inverseTransform&&(s=Number.MAX_VALUE),o.options.inverseTransform&&(t=Number.MAX_VALUE),m.lines.show||m.points.show)for(k=0;k<p.length;k+=l){var u=p[k],v=p[k+1];if(null!=u&&!(u-q>s||u-q<-s||v-r>t||v-r<-t)){var w=Math.abs(n.p2c(u)-a),x=Math.abs(o.p2c(v)-b),y=w*w+x*x;y<e&&(e=y,f=[j,k/l])}}if(m.bars.show&&!f){var z,A;switch(m.bars.align){case"left":z=0;break;case"right":z=-m.bars.barWidth;break;default:z=-m.bars.barWidth/2}for(A=z+m.bars.barWidth,k=0;k<p.length;k+=l){var u=p[k],v=p[k+1],B=p[k+2];null!=u&&((h[j].bars.horizontal?q<=Math.max(B,u)&&q>=Math.min(B,u)&&r>=v+z&&r<=v+A:q>=u+z&&q<=u+A&&r>=Math.min(B,v)&&r<=Math.max(B,v))&&(f=[j,k/l]))}}}return f?(j=f[0],k=f[1],l=h[j].datapoints.pointsize,{datapoint:h[j].datapoints.points.slice(k*l,(k+1)*l),dataIndex:k,series:h[j],seriesIndex:j}):null}function ha(a){i.grid.hoverable&&ka("plothover",a,function(a){return 0!=a.hoverable})}function ia(a){i.grid.hoverable&&ka("plothover",a,function(a){return!1})}function ja(a){ka("plotclick",a,function(a){return 0!=a.clickable})}function ka(a,c,d){var e=l.offset(),f=c.pageX-e.left-q.left,g=c.pageY-e.top-q.top,h=C({left:f,top:g});h.pageX=c.pageX,h.pageY=c.pageY;var j=ga(f,g,d);if(j&&(j.pageX=parseInt(j.series.xaxis.p2c(j.datapoint[0])+e.left+q.left,10),j.pageY=parseInt(j.series.yaxis.p2c(j.datapoint[1])+e.top+q.top,10)),i.grid.autoHighlight){for(var k=0;k<ea.length;++k){var m=ea[k];m.auto!=a||j&&m.series==j.series&&m.point[0]==j.datapoint[0]&&m.point[1]==j.datapoint[1]||oa(m.series,m.point)}j&&na(j.series,j.datapoint,a)}b.trigger(a,[h,j])}function la(){var a=i.interaction.redrawOverlayInterval;if(-1==a)return void ma();fa||(fa=setTimeout(ma,a))}function ma(){fa=null,n.save(),k.clear(),n.translate(q.left,q.top);var a,b;for(a=0;a<ea.length;++a)b=ea[a],b.series.bars.show?ra(b.series,b.point):qa(b.series,b.point);n.restore(),v(t.drawOverlay,[n])}function na(a,b,c){if("number"==typeof a&&(a=h[a]),"number"==typeof b){var d=a.datapoints.pointsize;b=a.datapoints.points.slice(d*b,d*(b+1))}var e=pa(a,b);-1==e?(ea.push({series:a,point:b,auto:c}),la()):c||(ea[e].auto=!1)}function oa(a,b){if(null==a&&null==b)return ea=[],void la();if("number"==typeof a&&(a=h[a]),"number"==typeof b){var c=a.datapoints.pointsize;b=a.datapoints.points.slice(c*b,c*(b+1))}var d=pa(a,b);-1!=d&&(ea.splice(d,1),la())}function pa(a,b){for(var c=0;c<ea.length;++c){var d=ea[c];if(d.series==a&&d.point[0]==b[0]&&d.point[1]==b[1])return c}return-1}function qa(b,c){var d=c[0],e=c[1],f=b.xaxis,g=b.yaxis,h="string"==typeof b.highlightColor?b.highlightColor:a.color.parse(b.color).scale("a",.5).toString();if(!(d<f.min||d>f.max||e<g.min||e>g.max)){var i=b.points.radius+b.points.lineWidth/2;n.lineWidth=i,n.strokeStyle=h;var j=1.5*i;d=f.p2c(d),e=g.p2c(e),n.beginPath(),"circle"==b.points.symbol?n.arc(d,e,j,0,2*Math.PI,!1):b.points.symbol(n,d,e,j,!1),n.closePath(),n.stroke()}}function ra(b,c){var f,d="string"==typeof b.highlightColor?b.highlightColor:a.color.parse(b.color).scale("a",.5).toString(),e=d;switch(b.bars.align){case"left":f=0;break;case"right":f=-b.bars.barWidth;break;default:f=-b.bars.barWidth/2}n.lineWidth=b.bars.lineWidth,n.strokeStyle=d,aa(c[0],c[1],c[2]||0,f,f+b.bars.barWidth,function(){return e},b.xaxis,b.yaxis,n,b.bars.horizontal,b.bars.lineWidth)}function sa(b,c,d,e){if("string"==typeof b)return b;for(var f=m.createLinearGradient(0,d,0,c),g=0,h=b.colors.length;g<h;++g){var i=b.colors[g];if("string"!=typeof i){var j=a.color.parse(e);null!=i.brightness&&(j=j.scale("rgb",i.brightness)),null!=i.opacity&&(j.a*=i.opacity),i=j.toString()}f.addColorStop(g/(h-1),i)}return f}var h=[],i={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1e3/60},hooks:{}},j=null,k=null,l=null,m=null,n=null,o=[],p=[],q={left:0,right:0,top:0,bottom:0},r=0,s=0,t={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},u=this;u.setData=y,u.setupGrid=P,u.draw=U,u.getPlaceholder=function(){return b},u.getCanvas=function(){return j.element},u.getPlotOffset=function(){return q},u.width=function(){return r},u.height=function(){return s},u.offset=function(){var a=l.offset();return a.left+=q.left,a.top+=q.top,a},u.getData=function(){return h},u.getAxes=function(){var b={};return a.each(o.concat(p),function(a,c){c&&(b[c.direction+(1!=c.n?c.n:"")+"axis"]=c)}),b},u.getXAxes=function(){return o},u.getYAxes=function(){return p},u.c2p=C,u.p2c=D,u.getOptions=function(){return i},u.highlight=na,u.unhighlight=oa,u.triggerRedrawOverlay=la,u.pointOffset=function(a){return{left:parseInt(o[A(a,"x")-1].p2c(+a.x)+q.left,10),top:parseInt(p[A(a,"y")-1].p2c(+a.y)+q.top,10)}},u.shutdown=J,u.destroy=function(){J(),b.removeData("plot").empty(),h=[],i=null,j=null,k=null,l=null,m=null,n=null,o=[],p=[],t=null,ea=[],u=null},u.resize=function(){var a=b.width(),c=b.height();j.resize(a,c),k.resize(a,c)},u.hooks=t,w(u),x(f),H(),y(d),P(),U(),I();var ea=[],fa=null}function e(a,b){return b*Math.floor(a/b)}var b=Object.prototype.hasOwnProperty;a.fn.detach||(a.fn.detach=function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})}),c.prototype.resize=function(a,b){if(a<=0||b<=0)throw new Error("Invalid dimensions for plot, width = "+a+", height = "+b);var c=this.element,d=this.context,e=this.pixelRatio;this.width!=a&&(c.width=a*e,c.style.width=a+"px",this.width=a),this.height!=b&&(c.height=b*e,c.style.height=b+"px",this.height=b),d.restore(),d.save(),d.scale(e,e)},c.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},c.prototype.render=function(){var a=this._textCache;for(var c in a)if(b.call(a,c)){var d=this.getTextLayer(c),e=a[c];d.hide();for(var f in e)if(b.call(e,f)){var g=e[f];for(var h in g)if(b.call(g,h)){for(var k,i=g[h].positions,j=0;k=i[j];j++)k.active?k.rendered||(d.append(k.element),k.rendered=!0):(i.splice(j--,1),k.rendered&&k.element.detach());0==i.length&&delete g[h]}}d.show()}},c.prototype.getTextLayer=function(b){var c=this.text[b];return null==c&&(null==this.textContainer&&(this.textContainer=a("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),c=this.text[b]=a("<div></div>").addClass(b).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)),c},c.prototype.getTextInfo=function(b,c,d,e,f){var g,h,i,j;if(c=""+c,g="object"==typeof d?d.style+" "+d.variant+" "+d.weight+" "+d.size+"px/"+d.lineHeight+"px "+d.family:d,h=this._textCache[b],null==h&&(h=this._textCache[b]={}),i=h[g],null==i&&(i=h[g]={}),null==(j=i[c])){var k=a("<div></div>").html(c).css({position:"absolute","max-width":f,top:-9999}).appendTo(this.getTextLayer(b));"object"==typeof d?k.css({font:g,color:d.color}):"string"==typeof d&&k.addClass(d),j=i[c]={width:k.outerWidth(!0),height:k.outerHeight(!0),element:k,positions:[]},k.detach()}return j},c.prototype.addText=function(a,b,c,d,e,f,g,h,i){var j=this.getTextInfo(a,d,e,f,g),k=j.positions;"center"==h?b-=j.width/2:"right"==h&&(b-=j.width),"middle"==i?c-=j.height/2:"bottom"==i&&(c-=j.height);for(var m,l=0;m=k[l];l++)if(m.x==b&&m.y==c)return void(m.active=!0);m={active:!0,rendered:!1,element:k.length?j.element.clone():j.element,x:b,y:c},k.push(m),m.element.css({top:Math.round(c),left:Math.round(b),"text-align":h})},c.prototype.removeText=function(a,c,d,e,f,g){if(null==e){var h=this._textCache[a];if(null!=h)for(var i in h)if(b.call(h,i)){var j=h[i];for(var k in j)if(b.call(j,k))for(var n,l=j[k].positions,m=0;n=l[m];m++)n.active=!1}}else for(var n,l=this.getTextInfo(a,e,f,g).positions,m=0;n=l[m];m++)n.x==c&&n.y==d&&(n.active=!1)},a.plot=function(b,c,e){return new d(a(b),c,e,a.plot.plugins)},a.plot.version="0.8.3",a.plot.plugins=[],a.fn.plot=function(b,c){return this.each(function(){a.plot(this,b,c)})}}(jQuery),function(a){function d(d){function n(b,c,d){k||(k=!0,e=b.getCanvas(),f=a(e).parent(),g=b.getOptions(),b.setData(o(b.getData())))}function o(b){for(var c=0,d=0,e=0,f=g.series.pie.combine.color,h=[],i=0;i<b.length;++i){var j=b[i].data;a.isArray(j)&&1==j.length&&(j=j[0]),a.isArray(j)?!isNaN(parseFloat(j[1]))&&isFinite(j[1])?j[1]=+j[1]:j[1]=0:j=!isNaN(parseFloat(j))&&isFinite(j)?[1,+j]:[1,0],b[i].data=[j]}for(var i=0;i<b.length;++i)c+=b[i].data[0][1];for(var i=0;i<b.length;++i){var j=b[i].data[0][1];j/c<=g.series.pie.combine.threshold&&(d+=j,e++,f||(f=b[i].color))}for(var i=0;i<b.length;++i){var j=b[i].data[0][1];(e<2||j/c>g.series.pie.combine.threshold)&&h.push(a.extend(b[i],{data:[[1,j]],color:b[i].color,label:b[i].label,angle:j*Math.PI*2/c,percent:j/(c/100)}))}return e>1&&h.push({data:[[1,d]],color:f,label:g.series.pie.combine.label,angle:d*Math.PI*2/c,percent:d/(c/100)}),h}function p(d,e){function s(){l.clearRect(0,0,m,n),f.children().filter(".pieLabel, .pieLabelBackground").remove()}function t(){var a=g.series.pie.shadow.left,b=g.series.pie.shadow.top,c=10,d=g.series.pie.shadow.alpha,e=g.series.pie.radius>1?g.series.pie.radius:h*g.series.pie.radius;if(!(e>=m/2-a||e*g.series.pie.tilt>=n/2-b||e<=c)){l.save(),l.translate(a,b),l.globalAlpha=d,l.fillStyle="#000",l.translate(i,j),l.scale(1,g.series.pie.tilt);for(var f=1;f<=c;f++)l.beginPath(),l.arc(0,0,e,0,2*Math.PI,!1),l.fill(),e-=f;l.restore()}}function u(){function k(a,b,e){a<=0||isNaN(a)||(e?l.fillStyle=b:(l.strokeStyle=b,l.lineJoin="round"),l.beginPath(),Math.abs(a-2*Math.PI)>1e-9&&l.moveTo(0,0),l.arc(0,0,c,d,d+a/2,!1),l.arc(0,0,c,d+a/2,d+a,!1),l.closePath(),d+=a,e?l.fill():l.stroke())}function o(){function k(b,c,e){if(0==b.data[0][1])return!0;var k,h=g.legend.labelFormatter,l=g.series.pie.label.formatter;k=h?h(b.label,b):b.label,l&&(k=l(k,b));var o=(c+b.angle+c)/2,p=i+Math.round(Math.cos(o)*d),q=j+Math.round(Math.sin(o)*d)*g.series.pie.tilt,r="<span class='pieLabel' id='pieLabel"+e+"' style='position:absolute;top:"+q+"px;left:"+p+"px;'>"+k+"</span>";f.append(r);var s=f.children("#pieLabel"+e),t=q-s.height()/2,u=p-s.width()/2;if(s.css("top",t),s.css("left",u),0-t>0||0-u>0||n-(t+s.height())<0||m-(u+s.width())<0)return!1;if(0!=g.series.pie.label.background.opacity){var v=g.series.pie.label.background.color;null==v&&(v=b.color);var w="top:"+t+"px;left:"+u+"px;";a("<div class='pieLabelBackground' style='position:absolute;width:"+s.width()+"px;height:"+s.height()+"px;"+w+"background-color:"+v+";'></div>").css("opacity",g.series.pie.label.background.opacity).insertBefore(s)}return!0}for(var c=b,d=g.series.pie.label.radius>1?g.series.pie.label.radius:h*g.series.pie.label.radius,e=0;e<p.length;++e){if(p[e].percent>=100*g.series.pie.label.threshold&&!k(p[e],c,e))return!1;c+=p[e].angle}return!0}var b=Math.PI*g.series.pie.startAngle,c=g.series.pie.radius>1?g.series.pie.radius:h*g.series.pie.radius;l.save(),l.translate(i,j),l.scale(1,g.series.pie.tilt),l.save();for(var d=b,e=0;e<p.length;++e)p[e].startAngle=d,k(p[e].angle,p[e].color,!0);if(l.restore(),g.series.pie.stroke.width>0){l.save(),l.lineWidth=g.series.pie.stroke.width,d=b;for(var e=0;e<p.length;++e)k(p[e].angle,g.series.pie.stroke.color,!1);l.restore()}return q(l),l.restore(),!g.series.pie.label.show||o()}if(f){var m=d.getPlaceholder().width(),n=d.getPlaceholder().height(),o=f.children().filter(".legend").children().width()||0;l=e,k=!1,h=Math.min(m,n/g.series.pie.tilt)/2,j=n/2+g.series.pie.offset.top,i=m/2,"auto"==g.series.pie.offset.left?(g.legend.position.match("w")?i+=o/2:i-=o/2,i<h?i=h:i>m-h&&(i=m-h)):i+=g.series.pie.offset.left;var p=d.getData(),r=0;do{r>0&&(h*=c),r+=1,s(),g.series.pie.tilt<=.8&&t()}while(!u()&&r<b);r>=b&&(s(),f.prepend("<div class='error'>Could not draw pie with labels contained inside canvas</div>")),d.setSeries&&d.insertLegend&&(d.setSeries(p),d.insertLegend())}}function q(a){if(g.series.pie.innerRadius>0){a.save();var b=g.series.pie.innerRadius>1?g.series.pie.innerRadius:h*g.series.pie.innerRadius;a.globalCompositeOperation="destination-out",a.beginPath(),a.fillStyle=g.series.pie.stroke.color,a.arc(0,0,b,0,2*Math.PI,!1),a.fill(),a.closePath(),a.restore(),a.save(),a.beginPath(),a.strokeStyle=g.series.pie.stroke.color,a.arc(0,0,b,0,2*Math.PI,!1),a.stroke(),a.closePath(),a.restore()}}function r(a,b){for(var c=!1,d=-1,e=a.length,f=e-1;++d<e;f=d)(a[d][1]<=b[1]&&b[1]<a[f][1]||a[f][1]<=b[1]&&b[1]<a[d][1])&&b[0]<(a[f][0]-a[d][0])*(b[1]-a[d][1])/(a[f][1]-a[d][1])+a[d][0]&&(c=!c);return c}function s(a,b){for(var g,k,c=d.getData(),e=d.getOptions(),f=e.series.pie.radius>1?e.series.pie.radius:h*e.series.pie.radius,m=0;m<c.length;++m){var n=c[m];if(n.pie.show){if(l.save(),l.beginPath(),l.moveTo(0,0),l.arc(0,0,f,n.startAngle,n.startAngle+n.angle/2,!1),l.arc(0,0,f,n.startAngle+n.angle/2,n.startAngle+n.angle,!1),l.closePath(),g=a-i,k=b-j,l.isPointInPath){if(l.isPointInPath(a-i,b-j))return l.restore(),{datapoint:[n.percent,n.data],dataIndex:0,series:n,seriesIndex:m}}else{if(r([[0,0],[f*Math.cos(n.startAngle),f*Math.sin(n.startAngle)],[f*Math.cos(n.startAngle+n.angle/4),f*Math.sin(n.startAngle+n.angle/4)],[f*Math.cos(n.startAngle+n.angle/2),f*Math.sin(n.startAngle+n.angle/2)],[f*Math.cos(n.startAngle+n.angle/1.5),f*Math.sin(n.startAngle+n.angle/1.5)],[f*Math.cos(n.startAngle+n.angle),f*Math.sin(n.startAngle+n.angle)]],[g,k]))return l.restore(),{datapoint:[n.percent,n.data],dataIndex:0,series:n,seriesIndex:m}}l.restore()}}return null}function t(a){v("plothover",a)}function u(a){v("plotclick",a)}function v(a,b){var c=d.offset(),e=parseInt(b.pageX-c.left),h=parseInt(b.pageY-c.top),i=s(e,h);if(g.grid.autoHighlight)for(var j=0;j<m.length;++j){var k=m[j];k.auto!=a||i&&k.series==i.series||x(k.series)}i&&w(i.series,a);var l={pageX:b.pageX,pageY:b.pageY};f.trigger(a,[l,i])}function w(a,b){var c=y(a);-1==c?(m.push({series:a,auto:b}),d.triggerRedrawOverlay()):b||(m[c].auto=!1)}function x(a){null==a&&(m=[],d.triggerRedrawOverlay());var b=y(a);-1!=b&&(m.splice(b,1),d.triggerRedrawOverlay())}function y(a){for(var b=0;b<m.length;++b){if(m[b].series==a)return b}return-1}function z(a,b){function f(a){a.angle<=0||isNaN(a.angle)||(b.fillStyle="rgba(255, 255, 255, "+c.series.pie.highlight.opacity+")",b.beginPath(),Math.abs(a.angle-2*Math.PI)>1e-9&&b.moveTo(0,0),b.arc(0,0,d,a.startAngle,a.startAngle+a.angle/2,!1),b.arc(0,0,d,a.startAngle+a.angle/2,a.startAngle+a.angle,!1),b.closePath(),b.fill())}var c=a.getOptions(),d=c.series.pie.radius>1?c.series.pie.radius:h*c.series.pie.radius;b.save(),b.translate(i,j),b.scale(1,c.series.pie.tilt);for(var e=0;e<m.length;++e)f(m[e].series);q(b),b.restore()}var e=null,f=null,g=null,h=null,i=null,j=null,k=!1,l=null,m=[];d.hooks.processOptions.push(function(a,b){b.series.pie.show&&(b.grid.show=!1,"auto"==b.series.pie.label.show&&(b.legend.show?b.series.pie.label.show=!1:b.series.pie.label.show=!0),"auto"==b.series.pie.radius&&(b.series.pie.label.show?b.series.pie.radius=.75:b.series.pie.radius=1),b.series.pie.tilt>1?b.series.pie.tilt=1:b.series.pie.tilt<0&&(b.series.pie.tilt=0))}),d.hooks.bindEvents.push(function(a,b){var c=a.getOptions();c.series.pie.show&&(c.grid.hoverable&&b.unbind("mousemove").mousemove(t),c.grid.clickable&&b.unbind("click").click(u))}),d.hooks.processDatapoints.push(function(a,b,c,d){a.getOptions().series.pie.show&&n(a,b,c,d)}),d.hooks.drawOverlay.push(function(a,b){a.getOptions().series.pie.show&&z(a,b)}),d.hooks.draw.push(function(a,b){a.getOptions().series.pie.show&&p(a,b)})}var b=10,c=.95,e={series:{pie:{show:!1,radius:"auto",innerRadius:0,startAngle:1.5,tilt:1,shadow:{left:5,top:15,alpha:.02},offset:{top:0,left:"auto"},stroke:{color:"#fff",width:1},label:{show:"auto",formatter:function(a,b){return"<div style='font-size:x-small;text-align:center;padding:2px;color:"+b.color+";'>"+a+"<br/>"+Math.round(b.percent)+"%</div>"},radius:1,background:{color:null,opacity:0},threshold:0},combine:{threshold:-1,color:null,label:"Other"},highlight:{opacity:.5}}}};a.plot.plugins.push({init:d,options:e,name:"pie",version:"1.1"})}(jQuery),function(a){function c(a,b,c,d){var e="categories"==b.xaxis.options.mode,f="categories"==b.yaxis.options.mode;if(e||f){var g=d.format;if(!g){var h=b;if(g=[],g.push({x:!0,number:!0,required:!0}),g.push({y:!0,number:!0,required:!0}),h.bars.show||h.lines.show&&h.lines.fill){var i=!!(h.bars.show&&h.bars.zero||h.lines.show&&h.lines.zero);g.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:i}),h.bars.horizontal&&(delete g[g.length-1].y,g[g.length-1].x=!0)}d.format=g}for(var j=0;j<g.length;++j)g[j].x&&e&&(g[j].number=!1),g[j].y&&f&&(g[j].number=!1)}}function d(a){var b=-1;for(var c in a)a[c]>b&&(b=a[c]);return b+1}function e(a){var b=[];for(var c in a.categories){var d=a.categories[c];d>=a.min&&d<=a.max&&b.push([d,c])}return b.sort(function(a,b){return a[0]-b[0]}),b}function f(b,c,d){if("categories"==b[c].options.mode){if(!b[c].categories){var f={},h=b[c].options.categories||{};if(a.isArray(h))for(var i=0;i<h.length;++i)f[h[i]]=i;else for(var j in h)f[j]=h[j];b[c].categories=f}b[c].options.ticks||(b[c].options.ticks=e),g(d,c,b[c].categories)}}function g(a,b,c){for(var e=a.points,f=a.pointsize,g=a.format,h=b.charAt(0),i=d(c),j=0;j<e.length;j+=f)if(null!=e[j])for(var k=0;k<f;++k){var l=e[j+k];null!=l&&g[k][h]&&(l in c||(c[l]=i,++i),e[j+k]=c[l])}}function h(a,b,c){f(b,"xaxis",c),f(b,"yaxis",c)}function i(a){a.hooks.processRawData.push(c),a.hooks.processDatapoints.push(h)}var b={xaxis:{categories:null},yaxis:{categories:null}};a.plot.plugins.push({init:i,options:b,name:"categories",version:"1.0"})}(jQuery),function(a,b,c){"$:nomunge";function n(c){!0===g&&(g=c||1);for(var h=d.length-1;h>=0;h--){var l=a(d[h]);if(l[0]==b||l.is(":visible")){var m=l.width(),o=l.height(),p=l.data(j);!p||m===p.w&&o===p.h||(l.trigger(i,[p.w=m,p.h=o]),g=c||!0)}else p=l.data(j),p.w=0,p.h=0}null!==f&&(g&&(null==c||c-g<1e3)?f=b.requestAnimationFrame(n):(f=setTimeout(n,e[k]),g=!1))}var f,d=[],e=a.resize=a.extend(a.resize,{}),g=!1,h="setTimeout",i="resize",j=i+"-special-event",k="pendingDelay",l="activeDelay",m="throttleWindow";e[k]=200,e[l]=20,e[m]=!0,a.event.special[i]={setup:function(){if(!e[m]&&this[h])return!1;var b=a(this);d.push(this),b.data(j,{w:b.width(),h:b.height()}),1===d.length&&(f=c,n())},teardown:function(){if(!e[m]&&this[h])return!1;for(var b=a(this),c=d.length-1;c>=0;c--)if(d[c]==this){d.splice(c,1);break}b.removeData(j),d.length||(g?cancelAnimationFrame(f):clearTimeout(f),f=null)},add:function(b){function f(b,e,f){var g=a(this),h=g.data(j)||{};h.w=e!==c?e:g.width(),h.h=f!==c?f:g.height(),d.apply(this,arguments)}if(!e[m]&&this[h])return!1;var d;if(a.isFunction(b))return d=b,f;d=b.handler,b.handler=f}},b.requestAnimationFrame||(b.requestAnimationFrame=function(){return b.webkitRequestAnimationFrame||b.mozRequestAnimationFrame||b.oRequestAnimationFrame||b.msRequestAnimationFrame||function(a,c){return b.setTimeout(function(){a((new Date).getTime())},e[l])}}()),b.cancelAnimationFrame||(b.cancelAnimationFrame=function(){return b.webkitCancelRequestAnimationFrame||b.mozCancelRequestAnimationFrame||b.oCancelRequestAnimationFrame||b.msCancelRequestAnimationFrame||clearTimeout}())}(jQuery,this),function(a){function c(a){function b(){var b=a.getPlaceholder();0!=b.width()&&0!=b.height()&&(a.resize(),a.setupGrid(),a.draw())}function c(a,c){a.getPlaceholder().resize(b)}function d(a,c){a.getPlaceholder().unbind("resize",b)}a.hooks.bindEvents.push(c),a.hooks.shutdown.push(d)}var b={};a.plot.plugins.push({init:c,options:b,name:"resize",version:"1.0"})}(jQuery),function(a){var b={tooltip:{show:!1,cssClass:"flotTip",content:"%s | X: %x | Y: %y",xDateFormat:null,yDateFormat:null,monthNames:null,dayNames:null,shifts:{x:10,y:20},defaultTheme:!0,snap:!0,lines:!1,clickTips:!1,onHover:function(a,b){},$compat:!1}};b.tooltipOpts=b.tooltip;var c=function(a){this.tipPosition={x:0,y:0},this.init(a)};c.prototype.init=function(b){function f(a){var c={};c.x=a.pageX,c.y=a.pageY,b.setTooltipPosition(c)}function g(d,e,f){c.clickmode?(a(b.getPlaceholder()).bind("plothover",h),b.hideTooltip(),c.clickmode=!1):(h(d,e,f),c.getDomElement().is(":visible")&&(a(b.getPlaceholder()).unbind("plothover",h),c.clickmode=!0))}function h(d,e,f){var g=function(a,b,c,d){return Math.sqrt((c-a)*(c-a)+(d-b)*(d-b))},h=function(a,b,c,d,e,f,h){if(!h||(h=function(a,b,c,d,e,f){if(void 0!==c)return{x:c,y:b};if(void 0!==d)return{x:a,y:d};var g,h=-1/((f-d)/(e-c));return{x:g=(e*(a*h-b+d)+c*(a*-h+b-f))/(h*(e-c)+d-f),y:h*g-h*a+b}}(a,b,c,d,e,f),h.x>=Math.min(c,e)&&h.x<=Math.max(c,e)&&h.y>=Math.min(d,f)&&h.y<=Math.max(d,f))){var k=d-f,l=e-c,m=c*f-d*e;return Math.abs(k*a+l*b+m)/Math.sqrt(k*k+l*l)}var i=g(a,b,c,d),j=g(a,b,e,f);return i>j?j:i};if(f)b.showTooltip(f,c.tooltipOptions.snap?f:e);else if(c.plotOptions.series.lines.show&&!0===c.tooltipOptions.lines){var i=c.plotOptions.grid.mouseActiveRadius,j={distance:i+1},k=e;a.each(b.getData(),function(a,d){for(var f=0,i=-1,l=1;l<d.data.length;l++)d.data[l-1][0]<=e.x&&d.data[l][0]>=e.x&&(f=l-1,i=l);if(-1===i)return void b.hideTooltip();var m={x:d.data[f][0],y:d.data[f][1]},n={x:d.data[i][0],y:d.data[i][1]},o=h(d.xaxis.p2c(e.x),d.yaxis.p2c(e.y),d.xaxis.p2c(m.x),d.yaxis.p2c(m.y),d.xaxis.p2c(n.x),d.yaxis.p2c(n.y),!1);if(o<j.distance){var p=g(m.x,m.y,e.x,e.y)<g(e.x,e.y,n.x,n.y)?f:i,r=(d.datapoints.pointsize,[e.x,m.y+(n.y-m.y)*((e.x-m.x)/(n.x-m.x))]);j={distance:o,item:{datapoint:r,dataIndex:p,series:d,seriesIndex:a}},c.tooltipOptions.snap&&(k={pageX:d.xaxis.p2c(r[0]),pageY:d.yaxis.p2c(r[1])})}}),j.distance<i+1?b.showTooltip(j.item,k):b.hideTooltip()}else b.hideTooltip()}var c=this,d=a.plot.plugins.length;if(this.plotPlugins=[],d)for(var e=0;e<d;e++)this.plotPlugins.push(a.plot.plugins[e].name);b.hooks.bindEvents.push(function(b,d){if(c.plotOptions=b.getOptions(),"boolean"==typeof c.plotOptions.tooltip&&(c.plotOptions.tooltipOpts.show=c.plotOptions.tooltip,c.plotOptions.tooltip=c.plotOptions.tooltipOpts,delete c.plotOptions.tooltipOpts),!1!==c.plotOptions.tooltip.show&&void 0!==c.plotOptions.tooltip.show){c.tooltipOptions=c.plotOptions.tooltip,c.tooltipOptions.$compat?(c.wfunc="width",c.hfunc="height"):(c.wfunc="innerWidth",c.hfunc="innerHeight");c.getDomElement();a(b.getPlaceholder()).bind("plothover",h),c.tooltipOptions.clickTips&&a(b.getPlaceholder()).bind("plotclick",g),c.clickmode=!1,a(d).bind("mousemove",f)}}),b.hooks.shutdown.push(function(b,c){a(b.getPlaceholder()).unbind("plothover",h),a(b.getPlaceholder()).unbind("plotclick",g),b.removeTooltip(),a(c).unbind("mousemove",f)}),b.setTooltipPosition=function(b){var d=c.getDomElement(),e=d.outerWidth()+c.tooltipOptions.shifts.x,f=d.outerHeight()+c.tooltipOptions.shifts.y;b.x-a(window).scrollLeft()>a(window)[c.wfunc]()-e&&(b.x-=e,b.x=Math.max(b.x,0)),b.y-a(window).scrollTop()>a(window)[c.hfunc]()-f&&(b.y-=f),isNaN(b.x)?c.tipPosition.x=c.tipPosition.xPrev:(c.tipPosition.x=b.x,c.tipPosition.xPrev=b.x),isNaN(b.y)?c.tipPosition.y=c.tipPosition.yPrev:(c.tipPosition.y=b.y,c.tipPosition.yPrev=b.y)},b.showTooltip=function(a,d,e){var f=c.getDomElement(),g=c.stringFormat(c.tooltipOptions.content,a);""!==g&&(f.html(g),b.setTooltipPosition({x:c.tipPosition.x,y:c.tipPosition.y}),f.css({left:c.tipPosition.x+c.tooltipOptions.shifts.x,top:c.tipPosition.y+c.tooltipOptions.shifts.y}).show(),"function"==typeof c.tooltipOptions.onHover&&c.tooltipOptions.onHover(a,f))},b.hideTooltip=function(){c.getDomElement().hide().html("")},b.removeTooltip=function(){c.getDomElement().remove()}},c.prototype.getDomElement=function(){var b=a("<div>");return this.tooltipOptions&&this.tooltipOptions.cssClass&&(b=a("."+this.tooltipOptions.cssClass),0===b.length&&(b=a("<div />").addClass(this.tooltipOptions.cssClass),b.appendTo("body").hide().css({position:"absolute"}),this.tooltipOptions.defaultTheme&&b.css({background:"#fff","z-index":"1040",padding:"0.4em 0.6em","border-radius":"0.5em","font-size":"0.8em",border:"1px solid #111",display:"none","white-space":"nowrap"}))),b},c.prototype.stringFormat=function(a,b){var n,o,p,q,r,c=/%p\.{0,1}(\d{0,})/,d=/%s/,e=/%c/,f=/%lx/,g=/%ly/,h=/%x\.{0,1}(\d{0,})/,i=/%y\.{0,1}(\d{0,})/,j="%x",k="%y",l="%ct",m="%n";if(void 0!==b.series.threshold?(n=b.datapoint[0],o=b.datapoint[1],p=b.datapoint[2]):void 0!==b.series.curvedLines?(n=b.datapoint[0],o=b.datapoint[1]):void 0!==b.series.lines&&b.series.lines.steps?(n=b.series.datapoints.points[2*b.dataIndex],o=b.series.datapoints.points[2*b.dataIndex+1],p=""):(n=b.series.data[b.dataIndex][0],o=b.series.data[b.dataIndex][1],p=b.series.data[b.dataIndex][2]),null===b.series.label&&b.series.originSeries&&(b.series.label=b.series.originSeries.label),"function"==typeof a&&(a=a(b.series.label,n,o,b)),"boolean"==typeof a&&!a)return"";if(p&&(a=a.replace(l,p)),void 0!==b.series.percent?q=b.series.percent:void 0!==b.series.percents&&(q=b.series.percents[b.dataIndex]),"number"==typeof q&&(a=this.adjustValPrecision(c,a,q)),b.series.hasOwnProperty("pie")&&void 0!==b.series.data[0][1]&&(r=b.series.data[0][1]),"number"==typeof r&&(a=a.replace(m,r)),a=void 0!==b.series.label?a.replace(d,b.series.label):a.replace(d,""),a=void 0!==b.series.color?a.replace(e,b.series.color):a.replace(e,""),a=this.hasAxisLabel("xaxis",b)?a.replace(f,b.series.xaxis.options.axisLabel):a.replace(f,""),a=this.hasAxisLabel("yaxis",b)?a.replace(g,b.series.yaxis.options.axisLabel):a.replace(g,""),this.isTimeMode("xaxis",b)&&this.isXDateFormat(b)&&(a=a.replace(h,this.timestampToDate(n,this.tooltipOptions.xDateFormat,b.series.xaxis.options))),this.isTimeMode("yaxis",b)&&this.isYDateFormat(b)&&(a=a.replace(i,this.timestampToDate(o,this.tooltipOptions.yDateFormat,b.series.yaxis.options))),"number"==typeof n&&(a=this.adjustValPrecision(h,a,n)),"number"==typeof o&&(a=this.adjustValPrecision(i,a,o)),void 0!==b.series.xaxis.ticks){var s;s=this.hasRotatedXAxisTicks(b)?"rotatedTicks":"ticks";var t=b.dataIndex+b.seriesIndex;for(var u in b.series.xaxis[s])if(b.series.xaxis[s].hasOwnProperty(t)&&!this.isTimeMode("xaxis",b)){var v=this.isCategoriesMode("xaxis",b)?b.series.xaxis[s][t].label:b.series.xaxis[s][t].v;v===n&&(a=a.replace(h,b.series.xaxis[s][t].label.replace(/\$/g,"$$$$")))}}if(void 0!==b.series.yaxis.ticks)for(var w in b.series.yaxis.ticks)if(b.series.yaxis.ticks.hasOwnProperty(w)){var x=this.isCategoriesMode("yaxis",b)?b.series.yaxis.ticks[w].label:b.series.yaxis.ticks[w].v;x===o&&(a=a.replace(i,b.series.yaxis.ticks[w].label.replace(/\$/g,"$$$$")))}return void 0!==b.series.xaxis.tickFormatter&&(a=a.replace(j,b.series.xaxis.tickFormatter(n,b.series.xaxis).replace(/\$/g,"$$"))),void 0!==b.series.yaxis.tickFormatter&&(a=a.replace(k,b.series.yaxis.tickFormatter(o,b.series.yaxis).replace(/\$/g,"$$"))),a},c.prototype.isTimeMode=function(a,b){return void 0!==b.series[a].options.mode&&"time"===b.series[a].options.mode},c.prototype.isXDateFormat=function(a){return void 0!==this.tooltipOptions.xDateFormat&&null!==this.tooltipOptions.xDateFormat},c.prototype.isYDateFormat=function(a){return void 0!==this.tooltipOptions.yDateFormat&&null!==this.tooltipOptions.yDateFormat},c.prototype.isCategoriesMode=function(a,b){return void 0!==b.series[a].options.mode&&"categories"===b.series[a].options.mode},c.prototype.timestampToDate=function(b,c,d){var e=a.plot.dateGenerator(b,d);return a.plot.formatDate(e,c,this.tooltipOptions.monthNames,this.tooltipOptions.dayNames)},c.prototype.adjustValPrecision=function(a,b,c){var d;return null!==b.match(a)&&""!==RegExp.$1&&(d=RegExp.$1,c=c.toFixed(d),b=b.replace(a,c)),b},c.prototype.hasAxisLabel=function(b,c){return-1!==a.inArray("axisLabels",this.plotPlugins)&&void 0!==c.series[b].options.axisLabel&&c.series[b].options.axisLabel.length>0},c.prototype.hasRotatedXAxisTicks=function(b){return-1!==a.inArray("tickRotor",this.plotPlugins)&&void 0!==b.series.xaxis.rotatedTicks};var d=function(a){new c(a)};a.plot.plugins.push({init:d,options:b,name:"tooltip",version:"0.8.5"})}(jQuery),function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.Chart=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){},{}],2:[function(a,b,c){function e(a){if(a){var b=/^#([a-fA-F0-9]{3})$/,c=/^#([a-fA-F0-9]{6})$/,e=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,f=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,g=/(\w+)/,h=[0,0,0],i=1,j=a.match(b);if(j){j=j[1];for(var k=0;k<h.length;k++)h[k]=parseInt(j[k]+j[k],16)}else if(j=a.match(c)){j=j[1];for(var k=0;k<h.length;k++)h[k]=parseInt(j.slice(2*k,2*k+2),16)}else if(j=a.match(e)){for(var k=0;k<h.length;k++)h[k]=parseInt(j[k+1]);i=parseFloat(j[4])}else if(j=a.match(f)){for(var k=0;k<h.length;k++)h[k]=Math.round(2.55*parseFloat(j[k+1]));i=parseFloat(j[4])}else if(j=a.match(g)){if("transparent"==j[1])return[0,0,0,0];if(!(h=d[j[1]]))return}for(var k=0;k<h.length;k++)h[k]=t(h[k],0,255);return i=i||0==i?t(i,0,1):1,h[3]=i,h}}function f(a){if(a){var b=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,c=a.match(b);if(c){var d=parseFloat(c[4]);return[t(parseInt(c[1]),0,360),t(parseFloat(c[2]),0,100),t(parseFloat(c[3]),0,100),t(isNaN(d)?1:d,0,1)]}}}function g(a){if(a){var b=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,c=a.match(b);if(c){var d=parseFloat(c[4]);return[t(parseInt(c[1]),0,360),t(parseFloat(c[2]),0,100),t(parseFloat(c[3]),0,100),t(isNaN(d)?1:d,0,1)]}}}function h(a){var b=e(a);return b&&b.slice(0,3)}function i(a){var b=f(a);return b&&b.slice(0,3)}function j(a){var b=e(a);return b?b[3]:(b=f(a))?b[3]:(b=g(a))?b[3]:void 0}function k(a){return"#"+u(a[0])+u(a[1])+u(a[2])}function l(a,b){return b<1||a[3]&&a[3]<1?m(a,b):"rgb("+a[0]+", "+a[1]+", "+a[2]+")"}function m(a,b){return void 0===b&&(b=void 0!==a[3]?a[3]:1),"rgba("+a[0]+", "+a[1]+", "+a[2]+", "+b+")"}function n(a,b){return b<1||a[3]&&a[3]<1?o(a,b):"rgb("+Math.round(a[0]/255*100)+"%, "+Math.round(a[1]/255*100)+"%, "+Math.round(a[2]/255*100)+"%)"}function o(a,b){return"rgba("+Math.round(a[0]/255*100)+"%, "+Math.round(a[1]/255*100)+"%, "+Math.round(a[2]/255*100)+"%, "+(b||a[3]||1)+")"}function p(a,b){return b<1||a[3]&&a[3]<1?q(a,b):"hsl("+a[0]+", "+a[1]+"%, "+a[2]+"%)"}function q(a,b){return void 0===b&&(b=void 0!==a[3]?a[3]:1),"hsla("+a[0]+", "+a[1]+"%, "+a[2]+"%, "+b+")"}function r(a,b){return void 0===b&&(b=void 0!==a[3]?a[3]:1),"hwb("+a[0]+", "+a[1]+"%, "+a[2]+"%"+(void 0!==b&&1!==b?", "+b:"")+")"}function s(a){return v[a.slice(0,3)]}function t(a,b,c){return Math.min(Math.max(b,a),c)}function u(a){var b=a.toString(16).toUpperCase();return b.length<2?"0"+b:b}var d=a(6);b.exports={getRgba:e,getHsla:f,getRgb:h,getHsl:i,getHwb:g,getAlpha:j,hexString:k,rgbString:l,rgbaString:m,percentString:n,percentaString:o,hslString:p,hslaString:q,hwbString:r,keyword:s};var v={};for(var w in d)v[d[w]]=w},{6:6}],3:[function(a,b,c){var d=a(5),e=a(2),f=function(a){if(a instanceof f)return a;if(!(this instanceof f))return new f(a);this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1};var b;if("string"==typeof a)if(b=e.getRgba(a))this.setValues("rgb",b);else if(b=e.getHsla(a))this.setValues("hsl",b);else{if(!(b=e.getHwb(a)))throw new Error('Unable to parse color from string "'+a+'"');this.setValues("hwb",b)}else if("object"==typeof a)if(b=a,void 0!==b.r||void 0!==b.red)this.setValues("rgb",b);else if(void 0!==b.l||void 0!==b.lightness)this.setValues("hsl",b);else if(void 0!==b.v||void 0!==b.value)this.setValues("hsv",b);else if(void 0!==b.w||void 0!==b.whiteness)this.setValues("hwb",b);else{if(void 0===b.c&&void 0===b.cyan)throw new Error("Unable to parse color from object "+JSON.stringify(a));this.setValues("cmyk",b)}};f.prototype={rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var a=this.values;return 1!==a.alpha?a.hwb.concat([a.alpha]):a.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var a=this.values;return a.rgb.concat([a.alpha])},hslaArray:function(){var a=this.values;return a.hsl.concat([a.alpha])},alpha:function(a){return void 0===a?this.values.alpha:(this.setValues("alpha",a),this)},red:function(a){return this.setChannel("rgb",0,a)},green:function(a){return this.setChannel("rgb",1,a)},blue:function(a){return this.setChannel("rgb",2,a)},hue:function(a){return a&&(a%=360,a=a<0?360+a:a),this.setChannel("hsl",0,a)},saturation:function(a){return this.setChannel("hsl",1,a)},lightness:function(a){return this.setChannel("hsl",2,a)},saturationv:function(a){return this.setChannel("hsv",1,a)},whiteness:function(a){return this.setChannel("hwb",1,a)},blackness:function(a){return this.setChannel("hwb",2,a)},value:function(a){return this.setChannel("hsv",2,a)},cyan:function(a){return this.setChannel("cmyk",0,a)},magenta:function(a){return this.setChannel("cmyk",1,a)},yellow:function(a){return this.setChannel("cmyk",2,a)},black:function(a){return this.setChannel("cmyk",3,a)},hexString:function(){return e.hexString(this.values.rgb)},rgbString:function(){return e.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return e.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return e.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return e.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return e.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return e.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return e.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var a=this.values.rgb;return a[0]<<16|a[1]<<8|a[2]},luminosity:function(){for(var a=this.values.rgb,b=[],c=0;c<a.length;c++){var d=a[c]/255;b[c]=d<=.03928?d/12.92:Math.pow((d+.055)/1.055,2.4)}return.2126*b[0]+.7152*b[1]+.0722*b[2]},contrast:function(a){var b=this.luminosity(),c=a.luminosity();return b>c?(b+.05)/(c+.05):(c+.05)/(b+.05)},level:function(a){var b=this.contrast(a);return b>=7.1?"AAA":b>=4.5?"AA":""},dark:function(){var a=this.values.rgb;return(299*a[0]+587*a[1]+114*a[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var a=[],b=0;b<3;b++)a[b]=255-this.values.rgb[b];return this.setValues("rgb",a),this},lighten:function(a){var b=this.values.hsl;return b[2]+=b[2]*a,this.setValues("hsl",b),this},darken:function(a){var b=this.values.hsl;return b[2]-=b[2]*a,this.setValues("hsl",b),this},saturate:function(a){var b=this.values.hsl;return b[1]+=b[1]*a,this.setValues("hsl",b),this},desaturate:function(a){var b=this.values.hsl;return b[1]-=b[1]*a,this.setValues("hsl",b),this},whiten:function(a){var b=this.values.hwb;return b[1]+=b[1]*a,this.setValues("hwb",b),this},blacken:function(a){var b=this.values.hwb;return b[2]+=b[2]*a,this.setValues("hwb",b),this},greyscale:function(){var a=this.values.rgb,b=.3*a[0]+.59*a[1]+.11*a[2];return this.setValues("rgb",[b,b,b]),this},clearer:function(a){var b=this.values.alpha;return this.setValues("alpha",b-b*a),this},opaquer:function(a){var b=this.values.alpha;return this.setValues("alpha",b+b*a),this},rotate:function(a){var b=this.values.hsl,c=(b[0]+a)%360;return b[0]=c<0?360+c:c,this.setValues("hsl",b),this},mix:function(a,b){var c=this,d=a,e=void 0===b?.5:b,f=2*e-1,g=c.alpha()-d.alpha(),h=((f*g==-1?f:(f+g)/(1+f*g))+1)/2,i=1-h;return this.rgb(h*c.red()+i*d.red(),h*c.green()+i*d.green(),h*c.blue()+i*d.blue()).alpha(c.alpha()*e+d.alpha()*(1-e))},toJSON:function(){return this.rgb()},clone:function(){var d,e,a=new f,b=this.values,c=a.values;for(var g in b)b.hasOwnProperty(g)&&(d=b[g],e={}.toString.call(d),"[object Array]"===e?c[g]=d.slice(0):"[object Number]"===e?c[g]=d:console.error("unexpected color value:",d));return a}},f.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},f.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},f.prototype.getValues=function(a){for(var b=this.values,c={},d=0;d<a.length;d++)c[a.charAt(d)]=b[a][d];return 1!==b.alpha&&(c.a=b.alpha),c},f.prototype.setValues=function(a,b){var h,c=this.values,e=this.spaces,f=this.maxes,g=1;if("alpha"===a)g=b;else if(b.length)c[a]=b.slice(0,a.length),g=b[a.length];else if(void 0!==b[a.charAt(0)]){for(h=0;h<a.length;h++)c[a][h]=b[a.charAt(h)];g=b.a}else if(void 0!==b[e[a][0]]){var i=e[a];for(h=0;h<a.length;h++)c[a][h]=b[i[h]];g=b.alpha}if(c.alpha=Math.max(0,Math.min(1,void 0===g?c.alpha:g)),"alpha"===a)return!1;var j;for(h=0;h<a.length;h++)j=Math.max(0,Math.min(f[a][h],c[a][h])),c[a][h]=Math.round(j);for(var k in e)k!==a&&(c[k]=d[a][k](c[a]));return!0},f.prototype.setSpace=function(a,b){var c=b[0];return void 0===c?this.getValues(a):("number"==typeof c&&(c=Array.prototype.slice.call(b)),this.setValues(a,c),this)},f.prototype.setChannel=function(a,b,c){var d=this.values[a];return void 0===c?d[b]:c===d[b]?this:(d[b]=c,this.setValues(a,d),this)},"undefined"!=typeof window&&(window.Color=f),b.exports=f},{2:2,5:5}],4:[function(a,c,d){function e(a){var h,i,j,b=a[0]/255,c=a[1]/255,d=a[2]/255,e=Math.min(b,c,d),f=Math.max(b,c,d),g=f-e;return f==e?h=0:b==f?h=(c-d)/g:c==f?h=2+(d-b)/g:d==f&&(h=4+(b-c)/g),h=Math.min(60*h,360),h<0&&(h+=360),j=(e+f)/2,i=f==e?0:j<=.5?g/(f+e):g/(2-f-e),[h,100*i,100*j]}function f(a){var h,i,j,b=a[0],c=a[1],d=a[2],e=Math.min(b,c,d),f=Math.max(b,c,d),g=f-e;return i=0==f?0:g/f*1e3/10,f==e?h=0:b==f?h=(c-d)/g:c==f?h=2+(d-b)/g:d==f&&(h=4+(b-c)/g),h=Math.min(60*h,360),h<0&&(h+=360),j=f/255*1e3/10,[h,i,j]}function h(a){var b=a[0],c=a[1],d=a[2],f=e(a)[0],g=1/255*Math.min(b,Math.min(c,d)),d=1-1/255*Math.max(b,Math.max(c,d));return[f,100*g,100*d]}function i(a){var e,f,g,h,b=a[0]/255,c=a[1]/255,d=a[2]/255;return h=Math.min(1-b,1-c,1-d),e=(1-b-h)/(1-h)||0,f=(1-c-h)/(1-h)||0,g=(1-d-h)/(1-h)||0,[100*e,100*f,100*g,100*h]}function j(a){return Z[JSON.stringify(a)]}function k(a){var b=a[0]/255,c=a[1]/255,d=a[2]/255;return b=b>.04045?Math.pow((b+.055)/1.055,2.4):b/12.92,c=c>.04045?Math.pow((c+.055)/1.055,2.4):c/12.92,d=d>.04045?Math.pow((d+.055)/1.055,2.4):d/12.92,[100*(.4124*b+.3576*c+.1805*d),100*(.2126*b+.7152*c+.0722*d),100*(.0193*b+.1192*c+.9505*d)]}function l(a){var f,g,h,b=k(a),c=b[0],d=b[1],e=b[2];return c/=95.047,d/=100,e/=108.883,c=c>.008856?Math.pow(c,1/3):7.787*c+16/116,d=d>.008856?Math.pow(d,1/3):7.787*d+16/116,e=e>.008856?Math.pow(e,1/3):7.787*e+16/116,f=116*d-16,g=500*(c-d),h=200*(d-e),[f,g,h]}function m(a){return M(l(a))}function n(a){var e,f,g,h,i,b=a[0]/360,c=a[1]/100,d=a[2]/100;if(0==c)return i=255*d,[i,i,i];f=d<.5?d*(1+c):d+c-d*c,e=2*d-f,h=[0,0,0];for(var j=0;j<3;j++)g=b+1/3*-(j-1),g<0&&g++,g>1&&g--,i=6*g<1?e+6*(f-e)*g:2*g<1?f:3*g<2?e+(f-e)*(2/3-g)*6:e,h[j]=255*i;return h}function o(a){var e,f,b=a[0],c=a[1]/100,d=a[2]/100;return 0===d?[0,0,0]:(d*=2,c*=d<=1?d:2-d,f=(d+c)/2,e=2*c/(d+c),[b,100*e,100*f])}function p(a){return h(n(a))}function q(a){return i(n(a))}function s(a){return j(n(a))}function t(a){var b=a[0]/60,c=a[1]/100,d=a[2]/100,e=Math.floor(b)%6,f=b-Math.floor(b),g=255*d*(1-c),h=255*d*(1-c*f),i=255*d*(1-c*(1-f)),d=255*d;switch(e){case 0:return[d,i,g];case 1:return[h,d,g];case 2:return[g,d,i];case 3:return[g,h,d];case 4:return[i,g,d];case 5:return[d,g,h]}}function u(a){var e,f,b=a[0],c=a[1]/100,d=a[2]/100;return f=(2-c)*d,e=c*d,e/=f<=1?f:2-f,e=e||0,f/=2,[b,100*e,100*f]}function v(a){return h(t(a))}function w(a){return i(t(a))}function x(a){return j(t(a))}function y(a){var h,i,j,k,c=a[0]/360,d=a[1]/100,e=a[2]/100,f=d+e;switch(f>1&&(d/=f,e/=f),h=Math.floor(6*c),i=1-e,j=6*c-h,0!=(1&h)&&(j=1-j),k=d+j*(i-d),h){default:case 6:case 0:r=i,g=k,b=d;break;case 1:r=k,g=i,b=d;break;case 2:r=d,g=i,b=k;break;case 3:r=d,g=k,b=i;break;case 4:r=k,g=d,b=i;break;case 5:r=i,g=d,b=k}return[255*r,255*g,255*b]}function z(a){return e(y(a))}function A(a){return f(y(a))}function B(a){return i(y(a))}function C(a){return j(y(a))}function D(a){var f,g,h,b=a[0]/100,c=a[1]/100,d=a[2]/100,e=a[3]/100;return f=1-Math.min(1,b*(1-e)+e),g=1-Math.min(1,c*(1-e)+e),h=1-Math.min(1,d*(1-e)+e),[255*f,255*g,255*h]}function E(a){return e(D(a))}function F(a){return f(D(a))}function G(a){return h(D(a))}function H(a){return j(D(a))}function I(a){var e,f,g,b=a[0]/100,c=a[1]/100,d=a[2]/100;return e=3.2406*b+-1.5372*c+-.4986*d,f=-.9689*b+1.8758*c+.0415*d,g=.0557*b+-.204*c+1.057*d,e=e>.0031308?1.055*Math.pow(e,1/2.4)-.055:e*=12.92,f=f>.0031308?1.055*Math.pow(f,1/2.4)-.055:f*=12.92,g=g>.0031308?1.055*Math.pow(g,1/2.4)-.055:g*=12.92,e=Math.min(Math.max(0,e),1),f=Math.min(Math.max(0,f),1),g=Math.min(Math.max(0,g),1),[255*e,255*f,255*g]}function J(a){var e,f,g,b=a[0],c=a[1],d=a[2];return b/=95.047,c/=100,d/=108.883,b=b>.008856?Math.pow(b,1/3):7.787*b+16/116,c=c>.008856?Math.pow(c,1/3):7.787*c+16/116,d=d>.008856?Math.pow(d,1/3):7.787*d+16/116,e=116*c-16,f=500*(b-c),g=200*(c-d),[e,f,g]}function K(a){return M(J(a))}function L(a){var e,f,g,h,b=a[0],c=a[1],d=a[2];return b<=8?(f=100*b/903.3,h=f/100*7.787+16/116):(f=100*Math.pow((b+16)/116,3),h=Math.pow(f/100,1/3)),e=e/95.047<=.008856?e=95.047*(c/500+h-16/116)/7.787:95.047*Math.pow(c/500+h,3),g=g/108.883<=.008859?g=108.883*(h-d/200-16/116)/7.787:108.883*Math.pow(h-d/200,3),[e,f,g]}function M(a){var e,f,g,b=a[0],c=a[1],d=a[2];return e=Math.atan2(d,c),f=360*e/2/Math.PI,f<0&&(f+=360),g=Math.sqrt(c*c+d*d),[b,g,f]}function N(a){return I(L(a))}function O(a){var e,f,g,b=a[0],c=a[1],d=a[2];return g=d/360*2*Math.PI,e=c*Math.cos(g),f=c*Math.sin(g),[b,e,f]}function P(a){return L(O(a))}function Q(a){return N(O(a))}function R(a){return Y[a]}function S(a){return e(R(a))}function T(a){return f(R(a))}function U(a){return h(R(a))}function V(a){return i(R(a))}function W(a){return l(R(a))}function X(a){return k(R(a))}c.exports={rgb2hsl:e,rgb2hsv:f,rgb2hwb:h,rgb2cmyk:i,rgb2keyword:j,rgb2xyz:k,rgb2lab:l,rgb2lch:m,hsl2rgb:n,hsl2hsv:o,hsl2hwb:p,hsl2cmyk:q,hsl2keyword:s,hsv2rgb:t,hsv2hsl:u,hsv2hwb:v,hsv2cmyk:w,hsv2keyword:x,hwb2rgb:y,hwb2hsl:z,hwb2hsv:A,hwb2cmyk:B,hwb2keyword:C,cmyk2rgb:D,cmyk2hsl:E,cmyk2hsv:F,cmyk2hwb:G,cmyk2keyword:H,keyword2rgb:R,keyword2hsl:S,keyword2hsv:T,keyword2hwb:U,keyword2cmyk:V,keyword2lab:W,keyword2xyz:X,xyz2rgb:I,xyz2lab:J,xyz2lch:K,lab2xyz:L,lab2rgb:N,lab2lch:M,lch2lab:O,lch2xyz:P,lch2rgb:Q};var Y={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Z={};for(var $ in Y)Z[JSON.stringify(Y[$])]=$},{}],5:[function(a,b,c){var d=a(4),e=function(){return new j};for(var f in d){e[f+"Raw"]=function(a){return function(b){return"number"==typeof b&&(b=Array.prototype.slice.call(arguments)),d[a](b)}}(f);var g=/(\w+)2(\w+)/.exec(f),h=g[1],i=g[2];e[h]=e[h]||{},e[h][i]=e[f]=function(a){return function(b){"number"==typeof b&&(b=Array.prototype.slice.call(arguments));var c=d[a](b);if("string"==typeof c||void 0===c)return c;for(var e=0;e<c.length;e++)c[e]=Math.round(c[e]);return c}}(f)}var j=function(){this.convs={}};j.prototype.routeSpace=function(a,b){var c=b[0];return void 0===c?this.getValues(a):("number"==typeof c&&(c=Array.prototype.slice.call(b)),this.setValues(a,c))},j.prototype.setValues=function(a,b){return this.space=a,this.convs={},this.convs[a]=b,this},j.prototype.getValues=function(a){var b=this.convs[a];if(!b){var c=this.space,d=this.convs[c];b=e[c][a](d),this.convs[a]=b}return b},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(a){j.prototype[a]=function(b){return this.routeSpace(a,arguments)}}),b.exports=e},{4:4}],6:[function(a,b,c){b.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],7:[function(a,b,c){var d=a(28)();a(26)(d),a(42)(d),a(22)(d),a(31)(d),a(25)(d),a(21)(d),a(23)(d),a(24)(d),a(29)(d),a(33)(d),a(34)(d),a(32)(d),a(35)(d),a(30)(d),a(27)(d),a(36)(d),a(37)(d),a(38)(d),a(39)(d),a(40)(d),a(45)(d),a(43)(d),a(44)(d),a(46)(d),a(47)(d),a(48)(d),a(15)(d),a(16)(d),a(17)(d),a(18)(d),a(19)(d),a(20)(d),a(8)(d),a(9)(d),a(10)(d),a(11)(d),a(12)(d),a(13)(d),a(14)(d),window.Chart=b.exports=d},{10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,42:42,43:43,44:44,45:45,46:46,47:47,48:48,8:8,9:9}],8:[function(a,b,c){"use strict";b.exports=function(a){a.Bar=function(b,c){return c.type="bar",new a(b,c)}}},{}],9:[function(a,b,c){"use strict";b.exports=function(a){a.Bubble=function(b,c){return c.type="bubble",new a(b,c)}}},{}],10:[function(a,b,c){"use strict";b.exports=function(a){a.Doughnut=function(b,c){return c.type="doughnut",new a(b,c)}}},{}],11:[function(a,b,c){"use strict";b.exports=function(a){a.Line=function(b,c){return c.type="line",new a(b,c)}}},{}],12:[function(a,b,c){"use strict";b.exports=function(a){a.PolarArea=function(b,c){return c.type="polarArea",new a(b,c)}}},{}],13:[function(a,b,c){"use strict";b.exports=function(a){a.Radar=function(b,c){return c.type="radar",new a(b,c)}}},{}],14:[function(a,b,c){"use strict";b.exports=function(a){var b={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-1"}],yAxes:[{type:"linear",position:"left",id:"y-axis-1"}]},tooltips:{callbacks:{title:function(){return""},label:function(a){return"("+a.xLabel+", "+a.yLabel+")"}}}};a.defaults.scatter=b,a.controllers.scatter=a.controllers.line,a.Scatter=function(b,c){return c.type="scatter",new a(b,c)}}},{}],15:[function(a,b,c){"use strict";b.exports=function(a){var b=a.helpers;a.defaults.bar={hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}},a.controllers.bar=a.DatasetController.extend({dataElementType:a.elements.Rectangle,initialize:function(b,c){a.DatasetController.prototype.initialize.call(this,b,c);var d=this,e=d.getMeta(),f=d.getDataset();e.stack=f.stack,e.bar=!0},getStackCount:function(){var a=this,c=a.getMeta(),d=a.getScaleForId(c.yAxisID),e=[];return b.each(a.chart.data.datasets,function(b,c){var f=a.chart.getDatasetMeta(c);f.bar&&a.chart.isDatasetVisible(c)&&(!1===d.options.stacked||!0===d.options.stacked&&-1===e.indexOf(f.stack)||void 0===d.options.stacked&&(void 0===f.stack||-1===e.indexOf(f.stack)))&&e.push(f.stack)},a),e.length},update:function(a){var c=this;b.each(c.getMeta().data,function(b,d){c.updateElement(b,d,a)},c)},updateElement:function(a,c,d){var e=this,f=e.getMeta(),g=e.getScaleForId(f.xAxisID),h=e.getScaleForId(f.yAxisID),i=h.getBasePixel(),j=e.chart.options.elements.rectangle,k=a.custom||{},l=e.getDataset();a._xScale=g,a._yScale=h,a._datasetIndex=e.index,a._index=c;var m=e.getRuler(c);a._model={x:e.calculateBarX(c,e.index,m),y:d?i:e.calculateBarY(c,e.index),label:e.chart.data.labels[c],datasetLabel:l.label,horizontal:!1,base:d?i:e.calculateBarBase(e.index,c),width:e.calculateBarWidth(m),backgroundColor:k.backgroundColor?k.backgroundColor:b.getValueAtIndexOrDefault(l.backgroundColor,c,j.backgroundColor),borderSkipped:k.borderSkipped?k.borderSkipped:j.borderSkipped,borderColor:k.borderColor?k.borderColor:b.getValueAtIndexOrDefault(l.borderColor,c,j.borderColor),borderWidth:k.borderWidth?k.borderWidth:b.getValueAtIndexOrDefault(l.borderWidth,c,j.borderWidth)},a.pivot()},calculateBarBase:function(a,b){var c=this,d=c.getMeta(),e=c.getScaleForId(d.yAxisID),f=e.getBaseValue(),g=f;if(!0===e.options.stacked||void 0===e.options.stacked&&void 0!==d.stack){for(var h=c.chart,i=h.data.datasets,j=Number(i[a].data[b]),k=0;k<a;k++){var l=i[k],m=h.getDatasetMeta(k);if(m.bar&&m.yAxisID===e.id&&h.isDatasetVisible(k)&&d.stack===m.stack){var n=Number(l.data[b]);f+=j<0?Math.min(n,g):Math.max(n,g)}}return e.getPixelForValue(f)}return e.getBasePixel()},getRuler:function(){var a=this,b=a.getMeta(),c=a.getScaleForId(b.xAxisID),d=a.getStackCount(),e=c.width/c.ticks.length,f=e*c.options.categoryPercentage,g=(e-e*c.options.categoryPercentage)/2,h=f/d;return{stackCount:d,tickWidth:e,categoryWidth:f,categorySpacing:g,fullBarWidth:h,barWidth:h*c.options.barPercentage,barSpacing:h-h*c.options.barPercentage}},calculateBarWidth:function(a){var b=this,c=b.getMeta(),d=b.getScaleForId(c.xAxisID);return d.options.barThickness?d.options.barThickness:a.barWidth},getStackIndex:function(a){var e,f,b=this,c=b.chart.getDatasetMeta(a),d=b.getScaleForId(c.yAxisID),g=[c.stack];for(f=0;f<a;++f)e=this.chart.getDatasetMeta(f),e.bar&&this.chart.isDatasetVisible(f)&&(!1===d.options.stacked||!0===d.options.stacked&&-1===g.indexOf(e.stack)||void 0===d.options.stacked&&(void 0===e.stack||-1===g.indexOf(e.stack)))&&g.push(e.stack);return g.length-1},calculateBarX:function(a,b,c){var d=this,e=d.getMeta(),f=d.getScaleForId(e.xAxisID),g=d.getStackIndex(b),h=f.getPixelForValue(null,a,b,d.chart.isCombo);return(h-=d.chart.isCombo?c.tickWidth/2:0)+c.barWidth/2+c.categorySpacing+c.barWidth*g+c.barSpacing/2+c.barSpacing*g},calculateBarY:function(a,b){var c=this,d=c.getMeta(),e=c.getScaleForId(d.yAxisID),f=Number(c.getDataset().data[a]);if(e.options.stacked||void 0===e.options.stacked&&void 0!==d.stack){for(var g=e.getBaseValue(),h=g,i=g,j=0;j<b;j++){var k=c.chart.data.datasets[j],l=c.chart.getDatasetMeta(j);if(l.bar&&l.yAxisID===e.id&&c.chart.isDatasetVisible(j)&&d.stack===l.stack){var m=Number(k.data[a]);m<0?i+=m||0:h+=m||0}}return f<0?e.getPixelForValue(i+f):e.getPixelForValue(h+f)}return e.getPixelForValue(f)},draw:function(b){var g,h,c=this,d=b||1,e=c.getMeta().data,f=c.getDataset();for(a.canvasHelpers.clipArea(c.chart.chart.ctx,c.chart.chartArea),g=0,h=e.length;g<h;++g){var i=f.data[g];null===i||void 0===i||isNaN(i)||e[g].transition(d).draw()}a.canvasHelpers.unclipArea(c.chart.chart.ctx)},setHoverStyle:function(a){var c=this.chart.data.datasets[a._datasetIndex],d=a._index,e=a.custom||{},f=a._model;f.backgroundColor=e.hoverBackgroundColor?e.hoverBackgroundColor:b.getValueAtIndexOrDefault(c.hoverBackgroundColor,d,b.getHoverColor(f.backgroundColor)),f.borderColor=e.hoverBorderColor?e.hoverBorderColor:b.getValueAtIndexOrDefault(c.hoverBorderColor,d,b.getHoverColor(f.borderColor)),f.borderWidth=e.hoverBorderWidth?e.hoverBorderWidth:b.getValueAtIndexOrDefault(c.hoverBorderWidth,d,f.borderWidth)},removeHoverStyle:function(a){var c=this.chart.data.datasets[a._datasetIndex],d=a._index,e=a.custom||{},f=a._model,g=this.chart.options.elements.rectangle;f.backgroundColor=e.backgroundColor?e.backgroundColor:b.getValueAtIndexOrDefault(c.backgroundColor,d,g.backgroundColor),f.borderColor=e.borderColor?e.borderColor:b.getValueAtIndexOrDefault(c.borderColor,d,g.borderColor),f.borderWidth=e.borderWidth?e.borderWidth:b.getValueAtIndexOrDefault(c.borderWidth,d,g.borderWidth)}}),a.defaults.horizontalBar={hover:{mode:"label"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{position:"left",type:"category",categoryPercentage:.8,barPercentage:.9,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{callbacks:{title:function(a,b){var c="";return a.length>0&&(a[0].yLabel?c=a[0].yLabel:b.labels.length>0&&a[0].index<b.labels.length&&(c=b.labels[a[0].index])),c},label:function(a,b){return(b.datasets[a.datasetIndex].label||"")+": "+a.xLabel}}}},a.controllers.horizontalBar=a.controllers.bar.extend({getStackCount:function(){var a=this,c=a.getMeta(),d=a.getScaleForId(c.xAxisID),e=[];return b.each(a.chart.data.datasets,function(b,c){var f=a.chart.getDatasetMeta(c);f.bar&&a.chart.isDatasetVisible(c)&&(!1===d.options.stacked||!0===d.options.stacked&&-1===e.indexOf(f.stack)||void 0===d.options.stacked&&(void 0===f.stack||-1===e.indexOf(f.stack)))&&e.push(f.stack)},a),e.length},updateElement:function(a,c,d){var e=this,f=e.getMeta(),g=e.getScaleForId(f.xAxisID),h=e.getScaleForId(f.yAxisID),i=g.getBasePixel(),j=a.custom||{},k=e.getDataset(),l=e.chart.options.elements.rectangle;a._xScale=g,a._yScale=h,a._datasetIndex=e.index,a._index=c;var m=e.getRuler(c);a._model={x:d?i:e.calculateBarX(c,e.index),y:e.calculateBarY(c,e.index,m),label:e.chart.data.labels[c],datasetLabel:k.label,horizontal:!0,base:d?i:e.calculateBarBase(e.index,c),height:e.calculateBarHeight(m),backgroundColor:j.backgroundColor?j.backgroundColor:b.getValueAtIndexOrDefault(k.backgroundColor,c,l.backgroundColor),borderSkipped:j.borderSkipped?j.borderSkipped:l.borderSkipped,borderColor:j.borderColor?j.borderColor:b.getValueAtIndexOrDefault(k.borderColor,c,l.borderColor),borderWidth:j.borderWidth?j.borderWidth:b.getValueAtIndexOrDefault(k.borderWidth,c,l.borderWidth)},a.pivot()},calculateBarBase:function(a,b){var c=this,d=c.getMeta(),e=c.getScaleForId(d.xAxisID),f=e.getBaseValue(),g=f;if(e.options.stacked||void 0===e.options.stacked&&void 0!==d.stack){for(var h=c.chart,i=h.data.datasets,j=Number(i[a].data[b]),k=0;k<a;k++){var l=i[k],m=h.getDatasetMeta(k);if(m.bar&&m.xAxisID===e.id&&h.isDatasetVisible(k)&&d.stack===m.stack){var n=Number(l.data[b]);f+=j<0?Math.min(n,g):Math.max(n,g)}}return e.getPixelForValue(f)}return e.getBasePixel()},getRuler:function(){var a=this,b=a.getMeta(),c=a.getScaleForId(b.yAxisID),d=a.getStackCount(),e=c.height/c.ticks.length,f=e*c.options.categoryPercentage,g=(e-e*c.options.categoryPercentage)/2,h=f/d;return{stackCount:d,tickHeight:e,categoryHeight:f,categorySpacing:g,fullBarHeight:h,barHeight:h*c.options.barPercentage,barSpacing:h-h*c.options.barPercentage}},calculateBarHeight:function(a){var b=this,c=b.getMeta(),d=b.getScaleForId(c.yAxisID);return d.options.barThickness?d.options.barThickness:a.barHeight},getStackIndex:function(a){var e,f,b=this,c=b.chart.getDatasetMeta(a),d=b.getScaleForId(c.xAxisID),g=[c.stack];for(f=0;f<a;++f)e=this.chart.getDatasetMeta(f),e.bar&&this.chart.isDatasetVisible(f)&&(!1===d.options.stacked||!0===d.options.stacked&&-1===g.indexOf(e.stack)||void 0===d.options.stacked&&(void 0===e.stack||-1===g.indexOf(e.stack)))&&g.push(e.stack);return g.length-1},calculateBarX:function(a,b){var c=this,d=c.getMeta(),e=c.getScaleForId(d.xAxisID),f=Number(c.getDataset().data[a]);if(e.options.stacked||void 0===e.options.stacked&&void 0!==d.stack){for(var g=e.getBaseValue(),h=g,i=g,j=0;j<b;j++){var k=c.chart.data.datasets[j],l=c.chart.getDatasetMeta(j);if(l.bar&&l.xAxisID===e.id&&c.chart.isDatasetVisible(j)&&d.stack===l.stack){var m=Number(k.data[a]);m<0?i+=m||0:h+=m||0}}return f<0?e.getPixelForValue(i+f):e.getPixelForValue(h+f)}return e.getPixelForValue(f)},calculateBarY:function(a,b,c){var d=this,e=d.getMeta(),f=d.getScaleForId(e.yAxisID),g=d.getStackIndex(b),h=f.getPixelForValue(null,a,b,d.chart.isCombo);return(h-=d.chart.isCombo?c.tickHeight/2:0)+c.barHeight/2+c.categorySpacing+c.barHeight*g+c.barSpacing/2+c.barSpacing*g}})}},{}],16:[function(a,b,c){"use strict";b.exports=function(a){var b=a.helpers;a.defaults.bubble={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(a,b){var c=b.datasets[a.datasetIndex].label||"",d=b.datasets[a.datasetIndex].data[a.index];return c+": ("+a.xLabel+", "+a.yLabel+", "+d.r+")"}}}},a.controllers.bubble=a.DatasetController.extend({dataElementType:a.elements.Point,update:function(a){var c=this,d=c.getMeta(),e=d.data;b.each(e,function(b,d){c.updateElement(b,d,a)})},updateElement:function(c,d,e){var f=this,g=f.getMeta(),h=f.getScaleForId(g.xAxisID),i=f.getScaleForId(g.yAxisID),j=c.custom||{},k=f.getDataset(),l=k.data[d],m=f.chart.options.elements.point,n=f.index;b.extend(c,{_xScale:h,_yScale:i,_datasetIndex:n,_index:d,_model:{x:e?h.getPixelForDecimal(.5):h.getPixelForValue("object"==typeof l?l:NaN,d,n,f.chart.isCombo),y:e?i.getBasePixel():i.getPixelForValue(l,d,n),radius:e?0:j.radius?j.radius:f.getRadius(l),hitRadius:j.hitRadius?j.hitRadius:b.getValueAtIndexOrDefault(k.hitRadius,d,m.hitRadius)}}),a.DatasetController.prototype.removeHoverStyle.call(f,c,m);var o=c._model;o.skip=j.skip?j.skip:isNaN(o.x)||isNaN(o.y),c.pivot()},getRadius:function(a){return a.r||this.chart.options.elements.point.radius},setHoverStyle:function(c){var d=this;a.DatasetController.prototype.setHoverStyle.call(d,c);var e=d.chart.data.datasets[c._datasetIndex],f=c._index,g=c.custom||{};c._model.radius=g.hoverRadius?g.hoverRadius:b.getValueAtIndexOrDefault(e.hoverRadius,f,d.chart.options.elements.point.hoverRadius)+d.getRadius(e.data[f])},removeHoverStyle:function(b){var c=this;a.DatasetController.prototype.removeHoverStyle.call(c,b,c.chart.options.elements.point);var d=c.chart.data.datasets[b._datasetIndex].data[b._index],e=b.custom||{};b._model.radius=e.radius?e.radius:c.getRadius(d)}})}},{}],17:[function(a,b,c){"use strict";b.exports=function(a){var b=a.helpers,c=a.defaults;c.doughnut={animation:{animateRotate:!0,animateScale:!1},aspectRatio:1,hover:{mode:"single"},legendCallback:function(a){var b=[];b.push('<ul class="'+a.id+'-legend">');var c=a.data,d=c.datasets,e=c.labels;if(d.length)for(var f=0;f<d[0].data.length;++f)b.push('<li><span style="background-color:'+d[0].backgroundColor[f]+'"></span>'),e[f]&&b.push(e[f]),b.push("</li>");return b.push("</ul>"),b.join("")},legend:{labels:{generateLabels:function(a){var c=a.data;return c.labels.length&&c.datasets.length?c.labels.map(function(d,e){var f=a.getDatasetMeta(0),g=c.datasets[0],h=f.data[e],i=h&&h.custom||{},j=b.getValueAtIndexOrDefault,k=a.options.elements.arc;return{text:d,fillStyle:i.backgroundColor?i.backgroundColor:j(g.backgroundColor,e,k.backgroundColor),strokeStyle:i.borderColor?i.borderColor:j(g.borderColor,e,k.borderColor),lineWidth:i.borderWidth?i.borderWidth:j(g.borderWidth,e,k.borderWidth),hidden:isNaN(g.data[e])||f.data[e].hidden,index:e}}):[]}},onClick:function(a,b){var e,f,g,c=b.index,d=this.chart;for(e=0,f=(d.data.datasets||[]).length;e<f;++e)g=d.getDatasetMeta(e),g.data[c]&&(g.data[c].hidden=!g.data[c].hidden);d.update()}},cutoutPercentage:50,rotation:-.5*Math.PI,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(a,c){var d=c.labels[a.index],e=": "+c.datasets[a.datasetIndex].data[a.index];return b.isArray(d)?(d=d.slice(),d[0]+=e):d+=e,d}}}},c.pie=b.clone(c.doughnut),b.extend(c.pie,{cutoutPercentage:0}),a.controllers.doughnut=a.controllers.pie=a.DatasetController.extend({dataElementType:a.elements.Arc,linkScales:b.noop,getRingIndex:function(a){for(var b=0,c=0;c<a;++c)this.chart.isDatasetVisible(c)&&++b;return b},update:function(a){var c=this,d=c.chart,e=d.chartArea,f=d.options,g=f.elements.arc,h=e.right-e.left-g.borderWidth,i=e.bottom-e.top-g.borderWidth,j=Math.min(h,i),k={x:0,y:0},l=c.getMeta(),m=f.cutoutPercentage,n=f.circumference;if(n<2*Math.PI){var o=f.rotation%(2*Math.PI);o+=2*Math.PI*(o>=Math.PI?-1:o<-Math.PI?1:0);var p=o+n,q={x:Math.cos(o),y:Math.sin(o)},r={x:Math.cos(p),y:Math.sin(p)},s=o<=0&&0<=p||o<=2*Math.PI&&2*Math.PI<=p,t=o<=.5*Math.PI&&.5*Math.PI<=p||o<=2.5*Math.PI&&2.5*Math.PI<=p,u=o<=-Math.PI&&-Math.PI<=p||o<=Math.PI&&Math.PI<=p,v=o<=.5*-Math.PI&&.5*-Math.PI<=p||o<=1.5*Math.PI&&1.5*Math.PI<=p,w=m/100,x={x:u?-1:Math.min(q.x*(q.x<0?1:w),r.x*(r.x<0?1:w)),y:v?-1:Math.min(q.y*(q.y<0?1:w),r.y*(r.y<0?1:w))},y={x:s?1:Math.max(q.x*(q.x>0?1:w),r.x*(r.x>0?1:w)),y:t?1:Math.max(q.y*(q.y>0?1:w),r.y*(r.y>0?1:w))},z={width:.5*(y.x-x.x),height:.5*(y.y-x.y)};j=Math.min(h/z.width,i/z.height),k={x:-.5*(y.x+x.x),y:-.5*(y.y+x.y)}}d.borderWidth=c.getMaxBorderWidth(l.data),d.outerRadius=Math.max((j-d.borderWidth)/2,0),d.innerRadius=Math.max(m?d.outerRadius/100*m:0,0),d.radiusLength=(d.outerRadius-d.innerRadius)/d.getVisibleDatasetCount(),d.offsetX=k.x*d.outerRadius,d.offsetY=k.y*d.outerRadius,l.total=c.calculateTotal(),c.outerRadius=d.outerRadius-d.radiusLength*c.getRingIndex(c.index),c.innerRadius=Math.max(c.outerRadius-d.radiusLength,0),b.each(l.data,function(b,d){c.updateElement(b,d,a)})},updateElement:function(a,c,d){var e=this,f=e.chart,g=f.chartArea,h=f.options,i=h.animation,j=(g.left+g.right)/2,k=(g.top+g.bottom)/2,l=h.rotation,m=h.rotation,n=e.getDataset(),o=d&&i.animateRotate?0:a.hidden?0:e.calculateCircumference(n.data[c])*(h.circumference/(2*Math.PI)),p=d&&i.animateScale?0:e.innerRadius,q=d&&i.animateScale?0:e.outerRadius,r=b.getValueAtIndexOrDefault;b.extend(a,{_datasetIndex:e.index,_index:c,_model:{x:j+f.offsetX,y:k+f.offsetY,startAngle:l,endAngle:m,circumference:o,outerRadius:q,innerRadius:p,label:r(n.label,c,f.data.labels[c])}});var s=a._model;this.removeHoverStyle(a),d&&i.animateRotate||(s.startAngle=0===c?h.rotation:e.getMeta().data[c-1]._model.endAngle,s.endAngle=s.startAngle+s.circumference),a.pivot()},removeHoverStyle:function(b){a.DatasetController.prototype.removeHoverStyle.call(this,b,this.chart.options.elements.arc)},calculateTotal:function(){var e,a=this.getDataset(),c=this.getMeta(),d=0;return b.each(c.data,function(b,c){e=a.data[c],isNaN(e)||b.hidden||(d+=Math.abs(e))}),d},calculateCircumference:function(a){var b=this.getMeta().total;return b>0&&!isNaN(a)?2*Math.PI*(a/b):0},getMaxBorderWidth:function(a){for(var e,f,b=0,c=this.index,d=a.length,g=0;g<d;g++)e=a[g]._model?a[g]._model.borderWidth:0,f=a[g]._chart?a[g]._chart.config.data.datasets[c].hoverBorderWidth:0,b=e>b?e:b,b=f>b?f:b;return b}})}},{}],18:[function(a,b,c){"use strict";b.exports=function(a){function c(a,c){return b.getValueOrDefault(a.showLine,c.showLines)}var b=a.helpers;a.defaults.line={showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}},a.controllers.line=a.DatasetController.extend({datasetElementType:a.elements.Line,dataElementType:a.elements.Point,update:function(a){var k,l,m,d=this,e=d.getMeta(),f=e.dataset,g=e.data||[],h=d.chart.options,i=h.elements.line,j=d.getScaleForId(e.yAxisID),n=d.getDataset(),o=c(n,h);for(o&&(m=f.custom||{},void 0!==n.tension&&void 0===n.lineTension&&(n.lineTension=n.tension),f._scale=j,f._datasetIndex=d.index,f._children=g,f._model={spanGaps:n.spanGaps?n.spanGaps:h.spanGaps,tension:m.tension?m.tension:b.getValueOrDefault(n.lineTension,i.tension),backgroundColor:m.backgroundColor?m.backgroundColor:n.backgroundColor||i.backgroundColor,borderWidth:m.borderWidth?m.borderWidth:n.borderWidth||i.borderWidth,borderColor:m.borderColor?m.borderColor:n.borderColor||i.borderColor,borderCapStyle:m.borderCapStyle?m.borderCapStyle:n.borderCapStyle||i.borderCapStyle,borderDash:m.borderDash?m.borderDash:n.borderDash||i.borderDash,borderDashOffset:m.borderDashOffset?m.borderDashOffset:n.borderDashOffset||i.borderDashOffset,borderJoinStyle:m.borderJoinStyle?m.borderJoinStyle:n.borderJoinStyle||i.borderJoinStyle,fill:m.fill?m.fill:void 0!==n.fill?n.fill:i.fill,steppedLine:m.steppedLine?m.steppedLine:b.getValueOrDefault(n.steppedLine,i.stepped),cubicInterpolationMode:m.cubicInterpolationMode?m.cubicInterpolationMode:b.getValueOrDefault(n.cubicInterpolationMode,i.cubicInterpolationMode),scaleTop:j.top,scaleBottom:j.bottom,scaleZero:j.getBasePixel()},f.pivot()),k=0,l=g.length;k<l;++k)d.updateElement(g[k],k,a);for(o&&0!==f._model.tension&&d.updateBezierControlPoints(),k=0,l=g.length;k<l;++k)g[k].pivot()},getPointBackgroundColor:function(a,c){var d=this.chart.options.elements.point.backgroundColor,e=this.getDataset(),f=a.custom||{};return f.backgroundColor?d=f.backgroundColor:e.pointBackgroundColor?d=b.getValueAtIndexOrDefault(e.pointBackgroundColor,c,d):e.backgroundColor&&(d=e.backgroundColor),d},getPointBorderColor:function(a,c){var d=this.chart.options.elements.point.borderColor,e=this.getDataset(),f=a.custom||{};return f.borderColor?d=f.borderColor:e.pointBorderColor?d=b.getValueAtIndexOrDefault(e.pointBorderColor,c,d):e.borderColor&&(d=e.borderColor),d},getPointBorderWidth:function(a,c){var d=this.chart.options.elements.point.borderWidth,e=this.getDataset(),f=a.custom||{};return isNaN(f.borderWidth)?isNaN(e.pointBorderWidth)?isNaN(e.borderWidth)||(d=e.borderWidth):d=b.getValueAtIndexOrDefault(e.pointBorderWidth,c,d):d=f.borderWidth,d},updateElement:function(a,c,d){var n,o,e=this,f=e.getMeta(),g=a.custom||{},h=e.getDataset(),i=e.index,j=h.data[c],k=e.getScaleForId(f.yAxisID),l=e.getScaleForId(f.xAxisID),m=e.chart.options.elements.point,p=e.chart.data.labels||[],q=1===p.length||1===h.data.length||e.chart.isCombo;void 0!==h.radius&&void 0===h.pointRadius&&(h.pointRadius=h.radius),void 0!==h.hitRadius&&void 0===h.pointHitRadius&&(h.pointHitRadius=h.hitRadius),n=l.getPixelForValue("object"==typeof j?j:NaN,c,i,q),o=d?k.getBasePixel():e.calculatePointY(j,c,i),a._xScale=l,a._yScale=k,a._datasetIndex=i,a._index=c,a._model={x:n,y:o,skip:g.skip||isNaN(n)||isNaN(o),radius:g.radius||b.getValueAtIndexOrDefault(h.pointRadius,c,m.radius),pointStyle:g.pointStyle||b.getValueAtIndexOrDefault(h.pointStyle,c,m.pointStyle),backgroundColor:e.getPointBackgroundColor(a,c),borderColor:e.getPointBorderColor(a,c),borderWidth:e.getPointBorderWidth(a,c),tension:f.dataset._model?f.dataset._model.tension:0,steppedLine:!!f.dataset._model&&f.dataset._model.steppedLine,hitRadius:g.hitRadius||b.getValueAtIndexOrDefault(h.pointHitRadius,c,m.hitRadius)}},calculatePointY:function(a,b,c){var j,k,l,d=this,e=d.chart,f=d.getMeta(),g=d.getScaleForId(f.yAxisID),h=0,i=0;if(g.options.stacked){for(j=0;j<c;j++)if(k=e.data.datasets[j],l=e.getDatasetMeta(j),"line"===l.type&&l.yAxisID===g.id&&e.isDatasetVisible(j)){var m=Number(g.getRightValue(k.data[b]));m<0?i+=m||0:h+=m||0}var n=Number(g.getRightValue(a));return n<0?g.getPixelForValue(i+n):g.getPixelForValue(h+n)}return g.getPixelForValue(a)},updateBezierControlPoints:function(){function k(a,b,c){return Math.max(Math.min(a,c),b)}var f,g,h,i,j,a=this,c=a.getMeta(),d=a.chart.chartArea,e=c.data||[];if(c.dataset._model.spanGaps&&(e=e.filter(function(a){return!a._model.skip})),"monotone"===c.dataset._model.cubicInterpolationMode)b.splineCurveMonotone(e);else for(f=0,g=e.length;f<g;++f)h=e[f],i=h._model,j=b.splineCurve(b.previousItem(e,f)._model,i,b.nextItem(e,f)._model,c.dataset._model.tension),i.controlPointPreviousX=j.previous.x,i.controlPointPreviousY=j.previous.y,i.controlPointNextX=j.next.x,i.controlPointNextY=j.next.y;if(a.chart.options.elements.line.capBezierPoints)for(f=0,g=e.length;f<g;++f)i=e[f]._model,i.controlPointPreviousX=k(i.controlPointPreviousX,d.left,d.right),i.controlPointPreviousY=k(i.controlPointPreviousY,d.top,d.bottom),i.controlPointNextX=k(i.controlPointNextX,d.left,d.right),i.controlPointNextY=k(i.controlPointNextY,d.top,d.bottom)},draw:function(b){var h,i,d=this,e=d.getMeta(),f=e.data||[],g=b||1;for(h=0,i=f.length;h<i;++h)f[h].transition(g);for(a.canvasHelpers.clipArea(d.chart.chart.ctx,d.chart.chartArea),c(d.getDataset(),d.chart.options)&&e.dataset.transition(g).draw(),a.canvasHelpers.unclipArea(d.chart.chart.ctx),h=0,i=f.length;h<i;++h)f[h].draw(d.chart.chartArea)},setHoverStyle:function(a){var c=this.chart.data.datasets[a._datasetIndex],d=a._index,e=a.custom||{},f=a._model;f.radius=e.hoverRadius||b.getValueAtIndexOrDefault(c.pointHoverRadius,d,this.chart.options.elements.point.hoverRadius),f.backgroundColor=e.hoverBackgroundColor||b.getValueAtIndexOrDefault(c.pointHoverBackgroundColor,d,b.getHoverColor(f.backgroundColor)),f.borderColor=e.hoverBorderColor||b.getValueAtIndexOrDefault(c.pointHoverBorderColor,d,b.getHoverColor(f.borderColor)),f.borderWidth=e.hoverBorderWidth||b.getValueAtIndexOrDefault(c.pointHoverBorderWidth,d,f.borderWidth)},removeHoverStyle:function(a){var c=this,d=c.chart.data.datasets[a._datasetIndex],e=a._index,f=a.custom||{},g=a._model;void 0!==d.radius&&void 0===d.pointRadius&&(d.pointRadius=d.radius),g.radius=f.radius||b.getValueAtIndexOrDefault(d.pointRadius,e,c.chart.options.elements.point.radius),g.backgroundColor=c.getPointBackgroundColor(a,e),g.borderColor=c.getPointBorderColor(a,e),g.borderWidth=c.getPointBorderWidth(a,e)}})}},{}],19:[function(a,b,c){"use strict";b.exports=function(a){var b=a.helpers;a.defaults.polarArea={scale:{type:"radialLinear",lineArc:!0,ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,aspectRatio:1,legendCallback:function(a){var b=[];b.push('<ul class="'+a.id+'-legend">');var c=a.data,d=c.datasets,e=c.labels;if(d.length)for(var f=0;f<d[0].data.length;++f)b.push('<li><span style="background-color:'+d[0].backgroundColor[f]+'"></span>'),e[f]&&b.push(e[f]),b.push("</li>");return b.push("</ul>"),b.join("")},legend:{labels:{generateLabels:function(a){var c=a.data;return c.labels.length&&c.datasets.length?c.labels.map(function(d,e){var f=a.getDatasetMeta(0),g=c.datasets[0],h=f.data[e],i=h.custom||{},j=b.getValueAtIndexOrDefault,k=a.options.elements.arc;return{text:d,fillStyle:i.backgroundColor?i.backgroundColor:j(g.backgroundColor,e,k.backgroundColor),strokeStyle:i.borderColor?i.borderColor:j(g.borderColor,e,k.borderColor),lineWidth:i.borderWidth?i.borderWidth:j(g.borderWidth,e,k.borderWidth),hidden:isNaN(g.data[e])||f.data[e].hidden,index:e}}):[]}},onClick:function(a,b){var e,f,g,c=b.index,d=this.chart;for(e=0,f=(d.data.datasets||[]).length;e<f;++e)g=d.getDatasetMeta(e),g.data[c].hidden=!g.data[c].hidden;d.update()}},tooltips:{callbacks:{title:function(){return""},label:function(a,b){return b.labels[a.index]+": "+a.yLabel}}}},a.controllers.polarArea=a.DatasetController.extend({dataElementType:a.elements.Arc,linkScales:b.noop,update:function(a){var c=this,d=c.chart,e=d.chartArea,f=c.getMeta(),g=d.options,h=g.elements.arc,i=Math.min(e.right-e.left,e.bottom-e.top);d.outerRadius=Math.max((i-h.borderWidth/2)/2,0),d.innerRadius=Math.max(g.cutoutPercentage?d.outerRadius/100*g.cutoutPercentage:1,0),d.radiusLength=(d.outerRadius-d.innerRadius)/d.getVisibleDatasetCount(),c.outerRadius=d.outerRadius-d.radiusLength*c.index,c.innerRadius=c.outerRadius-d.radiusLength,f.count=c.countVisibleElements(),b.each(f.data,function(b,d){c.updateElement(b,d,a)})},updateElement:function(a,c,d){for(var e=this,f=e.chart,g=e.getDataset(),h=f.options,i=h.animation,j=f.scale,k=b.getValueAtIndexOrDefault,l=f.data.labels,m=e.calculateCircumference(g.data[c]),n=j.xCenter,o=j.yCenter,p=0,q=e.getMeta(),r=0;r<c;++r)isNaN(g.data[r])||q.data[r].hidden||++p;var s=h.startAngle,t=a.hidden?0:j.getDistanceFromCenterForValue(g.data[c]),u=s+m*p,v=u+(a.hidden?0:m),w=i.animateScale?0:j.getDistanceFromCenterForValue(g.data[c]);b.extend(a,{_datasetIndex:e.index,_index:c,_scale:j,_model:{x:n,y:o,innerRadius:0,outerRadius:d?w:t,startAngle:d&&i.animateRotate?s:u,endAngle:d&&i.animateRotate?s:v,label:k(l,c,l[c])}}),e.removeHoverStyle(a),a.pivot()},removeHoverStyle:function(b){a.DatasetController.prototype.removeHoverStyle.call(this,b,this.chart.options.elements.arc)},countVisibleElements:function(){var a=this.getDataset(),c=this.getMeta(),d=0;return b.each(c.data,function(b,c){isNaN(a.data[c])||b.hidden||d++}),d},calculateCircumference:function(a){var b=this.getMeta().count;return b>0&&!isNaN(a)?2*Math.PI/b:0}})}},{}],20:[function(a,b,c){"use strict";b.exports=function(a){var b=a.helpers;a.defaults.radar={aspectRatio:1,scale:{type:"radialLinear"},elements:{line:{tension:0}}},a.controllers.radar=a.DatasetController.extend({datasetElementType:a.elements.Line,dataElementType:a.elements.Point,linkScales:b.noop,update:function(a){var c=this,d=c.getMeta(),e=d.dataset,f=d.data,g=e.custom||{},h=c.getDataset(),i=c.chart.options.elements.line,j=c.chart.scale;void 0!==h.tension&&void 0===h.lineTension&&(h.lineTension=h.tension),b.extend(d.dataset,{_datasetIndex:c.index,_children:f,_loop:!0,_model:{tension:g.tension?g.tension:b.getValueOrDefault(h.lineTension,i.tension),backgroundColor:g.backgroundColor?g.backgroundColor:h.backgroundColor||i.backgroundColor,borderWidth:g.borderWidth?g.borderWidth:h.borderWidth||i.borderWidth,borderColor:g.borderColor?g.borderColor:h.borderColor||i.borderColor,fill:g.fill?g.fill:void 0!==h.fill?h.fill:i.fill,borderCapStyle:g.borderCapStyle?g.borderCapStyle:h.borderCapStyle||i.borderCapStyle,borderDash:g.borderDash?g.borderDash:h.borderDash||i.borderDash,borderDashOffset:g.borderDashOffset?g.borderDashOffset:h.borderDashOffset||i.borderDashOffset,borderJoinStyle:g.borderJoinStyle?g.borderJoinStyle:h.borderJoinStyle||i.borderJoinStyle,scaleTop:j.top,scaleBottom:j.bottom,scaleZero:j.getBasePosition()}}),d.dataset.pivot(),b.each(f,function(b,d){c.updateElement(b,d,a)},c),c.updateBezierControlPoints()},updateElement:function(a,c,d){var e=this,f=a.custom||{},g=e.getDataset(),h=e.chart.scale,i=e.chart.options.elements.point,j=h.getPointPositionForValue(c,g.data[c]);b.extend(a,{_datasetIndex:e.index,_index:c,_scale:h,_model:{x:d?h.xCenter:j.x,y:d?h.yCenter:j.y,tension:f.tension?f.tension:b.getValueOrDefault(g.lineTension,e.chart.options.elements.line.tension),radius:f.radius?f.radius:b.getValueAtIndexOrDefault(g.pointRadius,c,i.radius),backgroundColor:f.backgroundColor?f.backgroundColor:b.getValueAtIndexOrDefault(g.pointBackgroundColor,c,i.backgroundColor),borderColor:f.borderColor?f.borderColor:b.getValueAtIndexOrDefault(g.pointBorderColor,c,i.borderColor),borderWidth:f.borderWidth?f.borderWidth:b.getValueAtIndexOrDefault(g.pointBorderWidth,c,i.borderWidth),pointStyle:f.pointStyle?f.pointStyle:b.getValueAtIndexOrDefault(g.pointStyle,c,i.pointStyle),hitRadius:f.hitRadius?f.hitRadius:b.getValueAtIndexOrDefault(g.hitRadius,c,i.hitRadius)}}),a._model.skip=f.skip?f.skip:isNaN(a._model.x)||isNaN(a._model.y)},updateBezierControlPoints:function(){var a=this.chart.chartArea,c=this.getMeta();b.each(c.data,function(d,e){var f=d._model,g=b.splineCurve(b.previousItem(c.data,e,!0)._model,f,b.nextItem(c.data,e,!0)._model,f.tension);f.controlPointPreviousX=Math.max(Math.min(g.previous.x,a.right),a.left),f.controlPointPreviousY=Math.max(Math.min(g.previous.y,a.bottom),a.top),f.controlPointNextX=Math.max(Math.min(g.next.x,a.right),a.left),f.controlPointNextY=Math.max(Math.min(g.next.y,a.bottom),a.top),d.pivot()})},draw:function(a){var c=this.getMeta(),d=a||1;b.each(c.data,function(a){a.transition(d)}),c.dataset.transition(d).draw(),b.each(c.data,function(a){a.draw()})},setHoverStyle:function(a){var c=this.chart.data.datasets[a._datasetIndex],d=a.custom||{},e=a._index,f=a._model;f.radius=d.hoverRadius?d.hoverRadius:b.getValueAtIndexOrDefault(c.pointHoverRadius,e,this.chart.options.elements.point.hoverRadius),f.backgroundColor=d.hoverBackgroundColor?d.hoverBackgroundColor:b.getValueAtIndexOrDefault(c.pointHoverBackgroundColor,e,b.getHoverColor(f.backgroundColor)),f.borderColor=d.hoverBorderColor?d.hoverBorderColor:b.getValueAtIndexOrDefault(c.pointHoverBorderColor,e,b.getHoverColor(f.borderColor)),f.borderWidth=d.hoverBorderWidth?d.hoverBorderWidth:b.getValueAtIndexOrDefault(c.pointHoverBorderWidth,e,f.borderWidth)},removeHoverStyle:function(a){var c=this.chart.data.datasets[a._datasetIndex],d=a.custom||{},e=a._index,f=a._model,g=this.chart.options.elements.point;f.radius=d.radius?d.radius:b.getValueAtIndexOrDefault(c.radius,e,g.radius),f.backgroundColor=d.backgroundColor?d.backgroundColor:b.getValueAtIndexOrDefault(c.pointBackgroundColor,e,g.backgroundColor),f.borderColor=d.borderColor?d.borderColor:b.getValueAtIndexOrDefault(c.pointBorderColor,e,g.borderColor),f.borderWidth=d.borderWidth?d.borderWidth:b.getValueAtIndexOrDefault(c.pointBorderWidth,e,g.borderWidth)}})}},{}],21:[function(a,b,c){"use strict";b.exports=function(a){var b=a.helpers;a.defaults.global.animation={duration:1e3,easing:"easeOutQuart",onProgress:b.noop,onComplete:b.noop},a.Animation=a.Element.extend({currentStep:null,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),a.animationService={frameDuration:17,animations:[],dropFrames:0,request:null,addAnimation:function(a,b,c,d){var e=this;d||(a.animating=!0);for(var f=0;f<e.animations.length;++f)if(e.animations[f].chartInstance===a)return void(e.animations[f].animationObject=b);e.animations.push({chartInstance:a,animationObject:b}),1===e.animations.length&&e.requestAnimationFrame()},cancelAnimation:function(a){var c=b.findIndex(this.animations,function(b){return b.chartInstance===a});-1!==c&&(this.animations.splice(c,1),a.animating=!1)},requestAnimationFrame:function(){var a=this;null===a.request&&(a.request=b.requestAnimFrame.call(window,function(){a.request=null,a.startDigest()}))},startDigest:function(){var a=this,b=Date.now(),c=0;a.dropFrames>1&&(c=Math.floor(a.dropFrames),a.dropFrames=a.dropFrames%1);for(var d=0;d<a.animations.length;)null===a.animations[d].animationObject.currentStep&&(a.animations[d].animationObject.currentStep=0),a.animations[d].animationObject.currentStep+=1+c,a.animations[d].animationObject.currentStep>a.animations[d].animationObject.numSteps&&(a.animations[d].animationObject.currentStep=a.animations[d].animationObject.numSteps),a.animations[d].animationObject.render(a.animations[d].chartInstance,a.animations[d].animationObject),a.animations[d].animationObject.onAnimationProgress&&a.animations[d].animationObject.onAnimationProgress.call&&a.animations[d].animationObject.onAnimationProgress.call(a.animations[d].chartInstance,a.animations[d]),a.animations[d].animationObject.currentStep===a.animations[d].animationObject.numSteps?(a.animations[d].animationObject.onAnimationComplete&&a.animations[d].animationObject.onAnimationComplete.call&&a.animations[d].animationObject.onAnimationComplete.call(a.animations[d].chartInstance,a.animations[d]),a.animations[d].chartInstance.animating=!1,a.animations.splice(d,1)):++d;var e=Date.now(),f=(e-b)/a.frameDuration;a.dropFrames+=f,a.animations.length>0&&a.requestAnimationFrame()}}}},{}],22:[function(a,b,c){"use strict";b.exports=function(a){var b=a.canvasHelpers={};b.drawPoint=function(b,c,d,e,f){var g,h,i,j,k,l;if("object"==typeof c&&("[object HTMLImageElement]"===(g=c.toString())||"[object HTMLCanvasElement]"===g))return void b.drawImage(c,e-c.width/2,f-c.height/2);if(!(isNaN(d)||d<=0)){switch(c){default:b.beginPath(),b.arc(e,f,d,0,2*Math.PI),b.closePath(),b.fill();break;case"triangle":b.beginPath(),h=3*d/Math.sqrt(3),k=h*Math.sqrt(3)/2,b.moveTo(e-h/2,f+k/3),b.lineTo(e+h/2,f+k/3),b.lineTo(e,f-2*k/3),b.closePath(),b.fill();break;case"rect":l=1/Math.SQRT2*d,b.beginPath(),b.fillRect(e-l,f-l,2*l,2*l),b.strokeRect(e-l,f-l,2*l,2*l);break;case"rectRounded":var m=d/Math.SQRT2,n=e-m,o=f-m,p=Math.SQRT2*d;a.helpers.drawRoundedRectangle(b,n,o,p,p,d/2),b.fill();break;case"rectRot":l=1/Math.SQRT2*d,b.beginPath(),b.moveTo(e-l,f),b.lineTo(e,f+l),b.lineTo(e+l,f),b.lineTo(e,f-l),b.closePath(),b.fill();break;case"cross":b.beginPath(),b.moveTo(e,f+d),b.lineTo(e,f-d),b.moveTo(e-d,f),b.lineTo(e+d,f),b.closePath();break;case"crossRot":b.beginPath(),i=Math.cos(Math.PI/4)*d,j=Math.sin(Math.PI/4)*d,b.moveTo(e-i,f-j),b.lineTo(e+i,f+j),b.moveTo(e-i,f+j),b.lineTo(e+i,f-j),b.closePath();break;case"star":b.beginPath(),b.moveTo(e,f+d),b.lineTo(e,f-d),b.moveTo(e-d,f),b.lineTo(e+d,f),i=Math.cos(Math.PI/4)*d,j=Math.sin(Math.PI/4)*d,b.moveTo(e-i,f-j),b.lineTo(e+i,f+j),b.moveTo(e-i,f+j),b.lineTo(e+i,f-j),b.closePath();break;case"line":b.beginPath(),b.moveTo(e-d,f),b.lineTo(e+d,f),b.closePath();break;case"dash":b.beginPath(),b.moveTo(e,f),b.lineTo(e+d,f),b.closePath()}b.stroke()}},b.clipArea=function(a,b){a.save(),a.beginPath(),a.rect(b.left,b.top,b.right-b.left,b.bottom-b.top),a.clip()},b.unclipArea=function(a){a.restore()}}},{}],23:[function(a,b,c){"use strict";b.exports=function(a){function e(c){c=c||{};var d=c.data=c.data||{};return d.datasets=d.datasets||[],d.labels=d.labels||[],c.options=b.configMerge(a.defaults.global,a.defaults[c.type],c.options||{}),c}function f(a){var b=a.options;b.scale?a.scale.options=b.scale:b.scales&&b.scales.xAxes.concat(b.scales.yAxes).forEach(function(b){a.scales[b.id].options=b}),a.tooltip._options=b.tooltips}var b=a.helpers,c=a.plugins,d=a.platform;a.types={},a.instances={},a.controllers={},a.Controller=function(c,f,g){var h=this;f=e(f);var i=d.acquireContext(c,f),j=i&&i.canvas,k=j&&j.height,l=j&&j.width;return g.ctx=i,g.canvas=j,g.config=f,g.width=l,g.height=k,g.aspectRatio=k?l/k:null,h.id=b.uid(),h.chart=g,h.config=f,h.options=f.options,h._bufferedRender=!1,a.instances[h.id]=h,Object.defineProperty(h,"data",{get:function(){return h.config.data}}),i&&j?(h.initialize(),h.update(),h):(console.error("Failed to create chart: can't acquire context from the given item"),h)},b.extend(a.Controller.prototype,{initialize:function(){var a=this;return c.notify(a,"beforeInit"),b.retinaScale(a.chart),a.bindEvents(),a.options.responsive&&a.resize(!0),a.ensureScalesHaveIDs(),a.buildScales(),a.initToolTip(),c.notify(a,"afterInit"),a},clear:function(){return b.clear(this.chart),this},stop:function(){return a.animationService.cancelAnimation(this),this},resize:function(a){var d=this,e=d.chart,f=d.options,g=e.canvas,h=f.maintainAspectRatio&&e.aspectRatio||null,i=Math.floor(b.getMaximumWidth(g)),j=Math.floor(h?i/h:b.getMaximumHeight(g));if((e.width!==i||e.height!==j)&&(g.width=e.width=i,g.height=e.height=j,g.style.width=i+"px",g.style.height=j+"px",b.retinaScale(e),!a)){var k={width:i,height:j};c.notify(d,"resize",[k]),d.options.onResize&&d.options.onResize(d,k),d.stop(),d.update(d.options.responsiveAnimationDuration)}},ensureScalesHaveIDs:function(){var a=this.options,c=a.scales||{},d=a.scale;b.each(c.xAxes,function(a,b){a.id=a.id||"x-axis-"+b}),b.each(c.yAxes,function(a,b){a.id=a.id||"y-axis-"+b}),d&&(d.id=d.id||"scale")},buildScales:function(){var c=this,d=c.options,e=c.scales={},f=[];d.scales&&(f=f.concat((d.scales.xAxes||[]).map(function(a){return{options:a,dtype:"category"}}),(d.scales.yAxes||[]).map(function(a){return{options:a,dtype:"linear"}}))),d.scale&&f.push({options:d.scale,dtype:"radialLinear",isDefault:!0}),b.each(f,function(d){var f=d.options,g=b.getValueOrDefault(f.type,d.dtype),h=a.scaleService.getScaleConstructor(g);if(h){var i=new h({id:f.id,options:f,ctx:c.chart.ctx,chart:c});e[i.id]=i,d.isDefault&&(c.scale=i)}}),a.scaleService.addScalesToLayout(this)},buildOrUpdateControllers:function(){var c=this,d=[],e=[];if(b.each(c.data.datasets,function(b,f){var g=c.getDatasetMeta(f);g.type||(g.type=b.type||c.config.type),d.push(g.type),g.controller?g.controller.updateIndex(f):(g.controller=new a.controllers[g.type](c,f),e.push(g.controller))},c),d.length>1)for(var f=1;f<d.length;f++)if(d[f]!==d[f-1]){c.isCombo=!0;break}return e},resetElements:function(){var a=this;b.each(a.data.datasets,function(b,c){a.getDatasetMeta(c).controller.reset()},a)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(a,d){var e=this;if(f(e),!1!==c.notify(e,"beforeUpdate")){e.tooltip._data=e.data;var g=e.buildOrUpdateControllers();b.each(e.data.datasets,function(a,b){e.getDatasetMeta(b).controller.buildOrUpdateElements()},e),e.updateLayout(),b.each(g,function(a){a.reset()}),e.updateDatasets(),c.notify(e,"afterUpdate"),e._bufferedRender?e._bufferedRequest={lazy:d,duration:a}:e.render(a,d)}},updateLayout:function(){var b=this;!1!==c.notify(b,"beforeLayout")&&(a.layoutService.update(this,this.chart.width,this.chart.height),c.notify(b,"afterScaleUpdate"),c.notify(b,"afterLayout"))},updateDatasets:function(){var a=this;if(!1!==c.notify(a,"beforeDatasetsUpdate")){for(var b=0,d=a.data.datasets.length;b<d;++b)a.getDatasetMeta(b).controller.update();c.notify(a,"afterDatasetsUpdate")}},render:function(d,e){var f=this;if(!1!==c.notify(f,"beforeRender")){var g=f.options.animation,h=function(){c.notify(f,"afterRender");var a=g&&g.onComplete;a&&a.call&&a.call(f)};if(g&&(void 0!==d&&0!==d||void 0===d&&0!==g.duration)){var i=new a.Animation;i.numSteps=(d||g.duration)/16.66,i.easing=g.easing,i.render=function(a,c){var d=b.easingEffects[c.easing],e=c.currentStep/c.numSteps,f=d(e);a.draw(f,e,c.currentStep)},i.onAnimationProgress=g.onProgress,i.onAnimationComplete=h,a.animationService.addAnimation(f,i,d,e)}else f.draw(),h();return f}},draw:function(a){var d=this;d.clear(),void 0!==a&&null!==a||(a=1),!1!==c.notify(d,"beforeDraw",[a])&&(b.each(d.boxes,function(a){a.draw(d.chartArea)},d),d.scale&&d.scale.draw(),d.drawDatasets(a),d.tooltip.transition(a).draw(),c.notify(d,"afterDraw",[a]))},drawDatasets:function(a){var d=this;!1!==c.notify(d,"beforeDatasetsDraw",[a])&&(b.each(d.data.datasets,function(b,c){d.isDatasetVisible(c)&&d.getDatasetMeta(c).controller.draw(a)},d,!0),c.notify(d,"afterDatasetsDraw",[a]))},getElementAtEvent:function(b){return a.Interaction.modes.single(this,b)},getElementsAtEvent:function(b){return a.Interaction.modes.label(this,b,{intersect:!0})},getElementsAtXAxis:function(b){return a.Interaction.modes["x-axis"](this,b,{intersect:!0})},getElementsAtEventForMode:function(b,c,d){var e=a.Interaction.modes[c];return"function"==typeof e?e(this,b,d):[]},getDatasetAtEvent:function(b){return a.Interaction.modes.dataset(this,b,{intersect:!0})},getDatasetMeta:function(a){var b=this,c=b.data.datasets[a];c._meta||(c._meta={});var d=c._meta[b.id];return d||(d=c._meta[b.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),d},getVisibleDatasetCount:function(){for(var a=0,b=0,c=this.data.datasets.length;b<c;++b)this.isDatasetVisible(b)&&a++;return a},isDatasetVisible:function(a){var b=this.getDatasetMeta(a);return"boolean"==typeof b.hidden?!b.hidden:!this.data.datasets[a].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroy:function(){var g,h,i,e=this,f=e.chart.canvas;for(e.stop(),h=0,i=e.data.datasets.length;h<i;++h)g=e.getDatasetMeta(h),g.controller&&(g.controller.destroy(),g.controller=null);f&&(e.unbindEvents(),b.clear(e.chart),d.releaseContext(e.chart.ctx),e.chart.canvas=null,e.chart.ctx=null),c.notify(e,"destroy"),delete a.instances[e.id]},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)},initToolTip:function(){var b=this;b.tooltip=new a.Tooltip({_chart:b.chart,_chartInstance:b,_data:b.data,_options:b.options.tooltips},b),b.tooltip.initialize()},bindEvents:function(){var a=this,c=a._listeners={},e=function(){a.eventHandler.apply(a,arguments)};b.each(a.options.events,function(b){d.addEventListener(a,b,e),c[b]=e}),a.options.responsive&&(e=function(){a.resize()},d.addEventListener(a,"resize",e),c.resize=e)},unbindEvents:function(){var a=this,c=a._listeners;c&&(delete a._listeners,b.each(c,function(b,c){d.removeEventListener(a,c,b)}))},updateHoverStyle:function(a,b,c){var e,f,g,d=c?"setHoverStyle":"removeHoverStyle";for(f=0,g=a.length;f<g;++f)(e=a[f])&&this.getDatasetMeta(e._datasetIndex).controller[d](e)},eventHandler:function(a){var b=this,d=b.tooltip;if(!1!==c.notify(b,"beforeEvent",[a])){b._bufferedRender=!0,b._bufferedRequest=null;var e=b.handleEvent(a);e|=d&&d.handleEvent(a),c.notify(b,"afterEvent",[a]);var f=b._bufferedRequest;return f?b.render(f.duration,f.lazy):e&&!b.animating&&(b.stop(),b.render(b.options.hover.animationDuration,!0)),b._bufferedRender=!1,b._bufferedRequest=null,b}},handleEvent:function(a){var c=this,d=c.options||{},e=d.hover,f=!1;return c.lastActive=c.lastActive||[],"mouseout"===a.type?c.active=[]:c.active=c.getElementsAtEventForMode(a,e.mode,e),e.onHover&&e.onHover.call(c,a.native,c.active),"mouseup"!==a.type&&"click"!==a.type||d.onClick&&d.onClick.call(c,a.native,c.active),c.lastActive.length&&c.updateHoverStyle(c.lastActive,e.mode,!1),c.active.length&&e.mode&&c.updateHoverStyle(c.active,e.mode,!0),f=!b.arrayEquals(c.active,c.lastActive),c.lastActive=c.active,f}})}},{}],24:[function(a,b,c){"use strict";b.exports=function(a){function d(a,d){if(a._chartjs)return void a._chartjs.listeners.push(d);Object.defineProperty(a,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[d]}}),c.forEach(function(c){var d="onData"+c.charAt(0).toUpperCase()+c.slice(1),e=a[c];Object.defineProperty(a,c,{configurable:!0,enumerable:!1,value:function(){var c=Array.prototype.slice.call(arguments),f=e.apply(this,c);return b.each(a._chartjs.listeners,function(a){"function"==typeof a[d]&&a[d].apply(a,c)}),f}})})}function e(a,b){var d=a._chartjs;if(d){var e=d.listeners,f=e.indexOf(b);-1!==f&&e.splice(f,1),e.length>0||(c.forEach(function(b){delete a[b]}),delete a._chartjs)}}var b=a.helpers,c=["push","pop","shift","splice","unshift"];a.DatasetController=function(a,b){this.initialize(a,b)},b.extend(a.DatasetController.prototype,{datasetElementType:null,dataElementType:null,initialize:function(a,b){var c=this;c.chart=a,c.index=b,c.linkScales(),c.addElements()},updateIndex:function(a){this.index=a},linkScales:function(){var a=this,b=a.getMeta(),c=a.getDataset();null===b.xAxisID&&(b.xAxisID=c.xAxisID||a.chart.options.scales.xAxes[0].id),null===b.yAxisID&&(b.yAxisID=c.yAxisID||a.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(a){return this.chart.scales[a]},reset:function(){this.update(!0)},destroy:function(){this._data&&e(this._data,this)},createMetaDataset:function(){var a=this,b=a.datasetElementType;return b&&new b({_chart:a.chart.chart,_datasetIndex:a.index})},createMetaData:function(a){var b=this,c=b.dataElementType;return c&&new c({_chart:b.chart.chart,_datasetIndex:b.index,_index:a})},addElements:function(){var e,f,a=this,b=a.getMeta(),c=a.getDataset().data||[],d=b.data;for(e=0,f=c.length;e<f;++e)d[e]=d[e]||a.createMetaData(e);b.dataset=b.dataset||a.createMetaDataset()},addElementAndReset:function(a){var b=this.createMetaData(a);this.getMeta().data.splice(a,0,b),this.updateElement(b,a,!0)},buildOrUpdateElements:function(){var a=this,b=a.getDataset(),c=b.data||(b.data=[]);a._data!==c&&(a._data&&e(a._data,a),d(c,a),a._data=c),a.resyncElements()},update:b.noop,draw:function(a){var c,d,b=a||1,e=this.getMeta().data;for(c=0,d=e.length;c<d;++c)e[c].transition(b).draw()},removeHoverStyle:function(a,c){var d=this.chart.data.datasets[a._datasetIndex],e=a._index,f=a.custom||{},g=b.getValueAtIndexOrDefault,h=a._model;h.backgroundColor=f.backgroundColor?f.backgroundColor:g(d.backgroundColor,e,c.backgroundColor),h.borderColor=f.borderColor?f.borderColor:g(d.borderColor,e,c.borderColor),h.borderWidth=f.borderWidth?f.borderWidth:g(d.borderWidth,e,c.borderWidth)},setHoverStyle:function(a){var c=this.chart.data.datasets[a._datasetIndex],d=a._index,e=a.custom||{},f=b.getValueAtIndexOrDefault,g=b.getHoverColor,h=a._model;h.backgroundColor=e.hoverBackgroundColor?e.hoverBackgroundColor:f(c.hoverBackgroundColor,d,g(h.backgroundColor)),h.borderColor=e.hoverBorderColor?e.hoverBorderColor:f(c.hoverBorderColor,d,g(h.borderColor)),h.borderWidth=e.hoverBorderWidth?e.hoverBorderWidth:f(c.hoverBorderWidth,d,h.borderWidth)},resyncElements:function(){var a=this,b=a.getMeta(),c=a.getDataset().data,d=b.data.length,e=c.length;e<d?b.data.splice(e,d-e):e>d&&a.insertElements(d,e-d)},insertElements:function(a,b){for(var c=0;c<b;++c)this.addElementAndReset(a+c)},onDataPush:function(){this.insertElements(this.getDataset().data.length-1,arguments.length)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(a,b){this.getMeta().data.splice(a,b),this.insertElements(a,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),a.DatasetController.extend=b.inherits}},{}],25:[function(a,b,c){"use strict";b.exports=function(a){var b=a.helpers;a.elements={},a.Element=function(a){b.extend(this,a),this.initialize.apply(this,arguments)},b.extend(a.Element.prototype,{initialize:function(){this.hidden=!1},pivot:function(){var a=this;return a._view||(a._view=b.clone(a._model)),a._start=b.clone(a._view),a},transition:function(a){var c=this;return c._view||(c._view=b.clone(c._model)),1===a?(c._view=c._model,c._start=null,c):(c._start||c.pivot(),b.each(c._model,function(d,e){if("_"===e[0]);else if(c._view.hasOwnProperty(e))if(d===c._view[e]);else if("string"==typeof d)try{var f=b.color(c._model[e]).mix(b.color(c._start[e]),a);c._view[e]=f.rgbString()}catch(a){c._view[e]=d}else if("number"==typeof d){var g=void 0!==c._start[e]&&!1===isNaN(c._start[e])?c._start[e]:0;c._view[e]=(c._model[e]-g)*a+g}else c._view[e]=d;else"number"!=typeof d||isNaN(c._view[e])?c._view[e]=d:c._view[e]=d*a},c),c)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return b.isNumber(this._model.x)&&b.isNumber(this._model.y)}}),a.Element.extend=b.inherits}},{}],26:[function(a,b,c){"use strict";var d=a(3);b.exports=function(a){function e(a,b,c){var d;return"string"==typeof a?(d=parseInt(a,10),-1!==a.indexOf("%")&&(d=d/100*b.parentNode[c])):d=a,d}function f(a){return void 0!==a&&null!==a&&"none"!==a}function g(a,b,c){var d=document.defaultView,g=a.parentNode,h=d.getComputedStyle(a)[b],i=d.getComputedStyle(g)[b],j=f(h),k=f(i),l=Number.POSITIVE_INFINITY;return j||k?Math.min(j?e(h,a,c):l,k?e(i,g,c):l):"none"}var b=a.helpers={};b.each=function(a,c,d,e){var f,g;if(b.isArray(a))if(g=a.length,e)for(f=g-1;f>=0;f--)c.call(d,a[f],f);else for(f=0;f<g;f++)c.call(d,a[f],f);else if("object"==typeof a){var h=Object.keys(a);for(g=h.length,f=0;f<g;f++)c.call(d,a[h[f]],h[f])}},b.clone=function(a){var c={};return b.each(a,function(a,d){b.isArray(a)?c[d]=a.slice(0):c[d]="object"==typeof a&&null!==a?b.clone(a):a}),c},b.extend=function(a){for(var c=function(b,c){a[c]=b},d=1,e=arguments.length;d<e;d++)b.each(arguments[d],c);return a},b.configMerge=function(c){var d=b.clone(c);return b.each(Array.prototype.slice.call(arguments,1),function(c){b.each(c,function(c,e){var f=d.hasOwnProperty(e),g=f?d[e]:{};"scales"===e?d[e]=b.scaleMerge(g,c):"scale"===e?d[e]=b.configMerge(g,a.scaleService.getScaleDefaults(c.type),c):!f||"object"!=typeof g||b.isArray(g)||null===g||"object"!=typeof c||b.isArray(c)?d[e]=c:d[e]=b.configMerge(g,c)})}),d},b.scaleMerge=function(c,d){var e=b.clone(c);return b.each(d,function(c,d){"xAxes"===d||"yAxes"===d?e.hasOwnProperty(d)?b.each(c,function(c,f){var g=b.getValueOrDefault(c.type,"xAxes"===d?"category":"linear"),h=a.scaleService.getScaleDefaults(g);f>=e[d].length||!e[d][f].type?e[d].push(b.configMerge(h,c)):c.type&&c.type!==e[d][f].type?e[d][f]=b.configMerge(e[d][f],h,c):e[d][f]=b.configMerge(e[d][f],c)}):(e[d]=[],b.each(c,function(c){var f=b.getValueOrDefault(c.type,"xAxes"===d?"category":"linear");e[d].push(b.configMerge(a.scaleService.getScaleDefaults(f),c))})):e.hasOwnProperty(d)&&"object"==typeof e[d]&&null!==e[d]&&"object"==typeof c?e[d]=b.configMerge(e[d],c):e[d]=c}),e},b.getValueAtIndexOrDefault=function(a,c,d){return void 0===a||null===a?d:b.isArray(a)?c<a.length?a[c]:d:a},b.getValueOrDefault=function(a,b){return void 0===a?b:a},b.indexOf=Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:function(a,b){for(var c=0,d=a.length;c<d;++c)if(a[c]===b)return c;return-1},b.where=function(a,c){if(b.isArray(a)&&Array.prototype.filter)return a.filter(c);var d=[];return b.each(a,function(a){c(a)&&d.push(a)}),d},b.findIndex=Array.prototype.findIndex?function(a,b,c){return a.findIndex(b,c)}:function(a,b,c){c=void 0===c?a:c;for(var d=0,e=a.length;d<e;++d)if(b.call(c,a[d],d,a))return d;return-1},b.findNextWhere=function(a,b,c){void 0!==c&&null!==c||(c=-1);for(var d=c+1;d<a.length;d++){var e=a[d];if(b(e))return e}},b.findPreviousWhere=function(a,b,c){void 0!==c&&null!==c||(c=a.length);for(var d=c-1;d>=0;d--){var e=a[d];if(b(e))return e}},b.inherits=function(a){var c=this,d=a&&a.hasOwnProperty("constructor")?a.constructor:function(){return c.apply(this,arguments)},e=function(){this.constructor=d};return e.prototype=c.prototype,d.prototype=new e,d.extend=b.inherits,a&&b.extend(d.prototype,a),d.__super__=c.prototype,d},b.noop=function(){},b.uid=function(){var a=0;return function(){return a++}}(),b.isNumber=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},b.almostEquals=function(a,b,c){return Math.abs(a-b)<c},b.almostWhole=function(a,b){var c=Math.round(a);return c-b<a&&c+b>a},b.max=function(a){return a.reduce(function(a,b){return isNaN(b)?a:Math.max(a,b)},Number.NEGATIVE_INFINITY)},b.min=function(a){return a.reduce(function(a,b){return isNaN(b)?a:Math.min(a,b)},Number.POSITIVE_INFINITY)},b.sign=Math.sign?function(a){return Math.sign(a)}:function(a){return a=+a,0===a||isNaN(a)?a:a>0?1:-1},b.log10=Math.log10?function(a){return Math.log10(a)}:function(a){return Math.log(a)/Math.LN10},b.toRadians=function(a){return a*(Math.PI/180)},b.toDegrees=function(a){return a*(180/Math.PI)},b.getAngleFromPoint=function(a,b){var c=b.x-a.x,d=b.y-a.y,e=Math.sqrt(c*c+d*d),f=Math.atan2(d,c);return f<-.5*Math.PI&&(f+=2*Math.PI),{angle:f,distance:e}},b.distanceBetweenPoints=function(a,b){return Math.sqrt(Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2))},b.aliasPixel=function(a){return a%2==0?0:.5},b.splineCurve=function(a,b,c,d){var e=a.skip?b:a,f=b,g=c.skip?b:c,h=Math.sqrt(Math.pow(f.x-e.x,2)+Math.pow(f.y-e.y,2)),i=Math.sqrt(Math.pow(g.x-f.x,2)+Math.pow(g.y-f.y,2)),j=h/(h+i),k=i/(h+i);j=isNaN(j)?0:j,k=isNaN(k)?0:k;var l=d*j,m=d*k;return{previous:{x:f.x-l*(g.x-e.x),y:f.y-l*(g.y-e.y)},next:{x:f.x+m*(g.x-e.x),y:f.y+m*(g.y-e.y)}}},b.EPSILON=Number.EPSILON||1e-14,b.splineCurveMonotone=function(a){var e,f,g,h,c=(a||[]).map(function(a){return{model:a._model,deltaK:0,mK:0}}),d=c.length;for(e=0;e<d;++e)if(g=c[e],!g.model.skip){if(f=e>0?c[e-1]:null,(h=e<d-1?c[e+1]:null)&&!h.model.skip){var i=h.model.x-g.model.x;g.deltaK=0!==i?(h.model.y-g.model.y)/i:0}!f||f.model.skip?g.mK=g.deltaK:!h||h.model.skip?g.mK=f.deltaK:this.sign(f.deltaK)!==this.sign(g.deltaK)?g.mK=0:g.mK=(f.deltaK+g.deltaK)/2}var j,k,l,m;for(e=0;e<d-1;++e)g=c[e],h=c[e+1],g.model.skip||h.model.skip||(b.almostEquals(g.deltaK,0,this.EPSILON)?g.mK=h.mK=0:(j=g.mK/g.deltaK,k=h.mK/g.deltaK,(m=Math.pow(j,2)+Math.pow(k,2))<=9||(l=3/Math.sqrt(m),g.mK=j*l*g.deltaK,h.mK=k*l*g.deltaK)));var n;for(e=0;e<d;++e)g=c[e],g.model.skip||(f=e>0?c[e-1]:null,h=e<d-1?c[e+1]:null,f&&!f.model.skip&&(n=(g.model.x-f.model.x)/3,g.model.controlPointPreviousX=g.model.x-n,g.model.controlPointPreviousY=g.model.y-n*g.mK),h&&!h.model.skip&&(n=(h.model.x-g.model.x)/3,g.model.controlPointNextX=g.model.x+n,g.model.controlPointNextY=g.model.y+n*g.mK))},b.nextItem=function(a,b,c){return c?b>=a.length-1?a[0]:a[b+1]:b>=a.length-1?a[a.length-1]:a[b+1]},b.previousItem=function(a,b,c){return c?b<=0?a[a.length-1]:a[b-1]:b<=0?a[0]:a[b-1]},b.niceNum=function(a,c){var d=Math.floor(b.log10(a)),e=a/Math.pow(10,d);return(c?e<1.5?1:e<3?2:e<7?5:10:e<=1?1:e<=2?2:e<=5?5:10)*Math.pow(10,d)};var c=b.easingEffects={linear:function(a){return a},easeInQuad:function(a){return a*a},easeOutQuad:function(a){return-1*a*(a-2)},easeInOutQuad:function(a){return(a/=.5)<1?.5*a*a:-.5*(--a*(a-2)-1)},easeInCubic:function(a){return a*a*a},easeOutCubic:function(a){return 1*((a=a/1-1)*a*a+1)},easeInOutCubic:function(a){return(a/=.5)<1?.5*a*a*a:.5*((a-=2)*a*a+2)},easeInQuart:function(a){return a*a*a*a},easeOutQuart:function(a){return-1*((a=a/1-1)*a*a*a-1)},easeInOutQuart:function(a){return(a/=.5)<1?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2)},easeInQuint:function(a){return 1*(a/=1)*a*a*a*a},easeOutQuint:function(a){return 1*((a=a/1-1)*a*a*a*a+1)},easeInOutQuint:function(a){return(a/=.5)<1?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)},easeInSine:function(a){return-1*Math.cos(a/1*(Math.PI/2))+1},easeOutSine:function(a){return 1*Math.sin(a/1*(Math.PI/2))},easeInOutSine:function(a){return-.5*(Math.cos(Math.PI*a/1)-1)},easeInExpo:function(a){return 0===a?1:1*Math.pow(2,10*(a/1-1))},easeOutExpo:function(a){return 1===a?1:1*(1-Math.pow(2,-10*a/1))},easeInOutExpo:function(a){return 0===a?0:1===a?1:(a/=.5)<1?.5*Math.pow(2,10*(a-1)):.5*(2-Math.pow(2,-10*--a))},easeInCirc:function(a){return a>=1?a:-1*(Math.sqrt(1-(a/=1)*a)-1)},easeOutCirc:function(a){return 1*Math.sqrt(1-(a=a/1-1)*a)},easeInOutCirc:function(a){return(a/=.5)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)},easeInElastic:function(a){var b=1.70158,c=0,d=1;return 0===a?0:1==(a/=1)?1:(c||(c=.3),d<Math.abs(1)?(d=1,b=c/4):b=c/(2*Math.PI)*Math.asin(1/d),-d*Math.pow(2,10*(a-=1))*Math.sin((1*a-b)*(2*Math.PI)/c))},easeOutElastic:function(a){var b=1.70158,c=0,d=1;return 0===a?0:1==(a/=1)?1:(c||(c=.3),d<Math.abs(1)?(d=1,b=c/4):b=c/(2*Math.PI)*Math.asin(1/d),d*Math.pow(2,-10*a)*Math.sin((1*a-b)*(2*Math.PI)/c)+1)},easeInOutElastic:function(a){var b=1.70158,c=0,d=1;return 0===a?0:2==(a/=.5)?1:(c||(c=.3*1.5*1),d<Math.abs(1)?(d=1,b=c/4):b=c/(2*Math.PI)*Math.asin(1/d),a<1?d*Math.pow(2,10*(a-=1))*Math.sin((1*a-b)*(2*Math.PI)/c)*-.5:d*Math.pow(2,-10*(a-=1))*Math.sin((1*a-b)*(2*Math.PI)/c)*.5+1)},easeInBack:function(a){var b=1.70158;return 1*(a/=1)*a*((b+1)*a-b)},easeOutBack:function(a){var b=1.70158;return 1*((a=a/1-1)*a*((b+1)*a+b)+1)},easeInOutBack:function(a){var b=1.70158;return(a/=.5)<1?a*a*((1+(b*=1.525))*a-b)*.5:.5*((a-=2)*a*((1+(b*=1.525))*a+b)+2)},easeInBounce:function(a){return 1-c.easeOutBounce(1-a)},easeOutBounce:function(a){return(a/=1)<1/2.75?7.5625*a*a*1:a<2/2.75?1*(7.5625*(a-=1.5/2.75)*a+.75):a<2.5/2.75?1*(7.5625*(a-=2.25/2.75)*a+.9375):1*(7.5625*(a-=2.625/2.75)*a+.984375)},easeInOutBounce:function(a){return a<.5?.5*c.easeInBounce(2*a):.5*c.easeOutBounce(2*a-1)+.5}};b.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){return window.setTimeout(a,1e3/60)}}(),b.getRelativePosition=function(a,c){var d,e,f=a.originalEvent||a,g=a.currentTarget||a.srcElement,h=g.getBoundingClientRect(),i=f.touches;i&&i.length>0?(d=i[0].clientX,e=i[0].clientY):(d=f.clientX,e=f.clientY);var j=parseFloat(b.getStyle(g,"padding-left")),k=parseFloat(b.getStyle(g,"padding-top")),l=parseFloat(b.getStyle(g,"padding-right")),m=parseFloat(b.getStyle(g,"padding-bottom")),n=h.right-h.left-j-l,o=h.bottom-h.top-k-m;return d=Math.round((d-h.left-j)/n*g.width/c.currentDevicePixelRatio),e=Math.round((e-h.top-k)/o*g.height/c.currentDevicePixelRatio),{x:d,y:e}},b.addEvent=function(a,b,c){a.addEventListener?a.addEventListener(b,c):a.attachEvent?a.attachEvent("on"+b,c):a["on"+b]=c},b.removeEvent=function(a,c,d){a.removeEventListener?a.removeEventListener(c,d,!1):a.detachEvent?a.detachEvent("on"+c,d):a["on"+c]=b.noop},b.getConstraintWidth=function(a){return g(a,"max-width","clientWidth")},b.getConstraintHeight=function(a){return g(a,"max-height","clientHeight")},b.getMaximumWidth=function(a){var c=a.parentNode,d=parseInt(b.getStyle(c,"padding-left"),10),e=parseInt(b.getStyle(c,"padding-right"),10),f=c.clientWidth-d-e,g=b.getConstraintWidth(a);return isNaN(g)?f:Math.min(f,g)},b.getMaximumHeight=function(a){var c=a.parentNode,d=parseInt(b.getStyle(c,"padding-top"),10),e=parseInt(b.getStyle(c,"padding-bottom"),10),f=c.clientHeight-d-e,g=b.getConstraintHeight(a);return isNaN(g)?f:Math.min(f,g)},b.getStyle=function(a,b){return a.currentStyle?a.currentStyle[b]:document.defaultView.getComputedStyle(a,null).getPropertyValue(b)},b.retinaScale=function(a){var b=a.currentDevicePixelRatio=window.devicePixelRatio||1;if(1!==b){var c=a.canvas,d=a.height,e=a.width;c.height=d*b,c.width=e*b,a.ctx.scale(b,b),c.style.height=d+"px",c.style.width=e+"px"}},b.clear=function(a){a.ctx.clearRect(0,0,a.width,a.height)},b.fontString=function(a,b,c){return b+" "+a+"px "+c},b.longestText=function(a,c,d,e){e=e||{};var f=e.data=e.data||{},g=e.garbageCollect=e.garbageCollect||[];e.font!==c&&(f=e.data={},g=e.garbageCollect=[],e.font=c),a.font=c;var h=0;b.each(d,function(c){void 0!==c&&null!==c&&!0!==b.isArray(c)?h=b.measureText(a,f,g,h,c):b.isArray(c)&&b.each(c,function(c){void 0===c||null===c||b.isArray(c)||(h=b.measureText(a,f,g,h,c))})});var i=g.length/2;if(i>d.length){for(var j=0;j<i;j++)delete f[g[j]];g.splice(0,i)}return h},b.measureText=function(a,b,c,d,e){var f=b[e];return f||(f=b[e]=a.measureText(e).width,c.push(e)),f>d&&(d=f),d},b.numberOfLabelLines=function(a){var c=1;return b.each(a,function(a){b.isArray(a)&&a.length>c&&(c=a.length)}),c},b.drawRoundedRectangle=function(a,b,c,d,e,f){a.beginPath(),a.moveTo(b+f,c),a.lineTo(b+d-f,c),a.quadraticCurveTo(b+d,c,b+d,c+f),a.lineTo(b+d,c+e-f),a.quadraticCurveTo(b+d,c+e,b+d-f,c+e),a.lineTo(b+f,c+e),a.quadraticCurveTo(b,c+e,b,c+e-f),a.lineTo(b,c+f),a.quadraticCurveTo(b,c,b+f,c),a.closePath()},b.color=function(b){return d?d(b instanceof CanvasGradient?a.defaults.global.defaultColor:b):(console.error("Color.js not found!"),b)},b.isArray=Array.isArray?function(a){return Array.isArray(a)}:function(a){return"[object Array]"===Object.prototype.toString.call(a)},b.arrayEquals=function(a,c){var d,e,f,g;if(!a||!c||a.length!==c.length)return!1;for(d=0,e=a.length;d<e;++d)if(f=a[d],g=c[d],f instanceof Array&&g instanceof Array){if(!b.arrayEquals(f,g))return!1}else if(f!==g)return!1;return!0},b.callCallback=function(a,b,c){a&&"function"==typeof a.call&&a.apply(c,b)},b.getHoverColor=function(a){return a instanceof CanvasPattern?a:b.color(a).saturate(.5).darken(.1).rgbString()}}},{3:3}],27:[function(a,b,c){"use strict";b.exports=function(a){function c(a,c){return a.native?{x:a.x,y:a.y}:b.getRelativePosition(a,c)}function d(a,b){var d,e,f,g,h,c=a.data.datasets;for(e=0,g=c.length;e<g;++e)if(a.isDatasetVisible(e))for(d=a.getDatasetMeta(e),f=0,h=d.data.length;f<h;++f){var i=d.data[f];i._view.skip||b(i)}}function e(a,b){var c=[];return d(a,function(a){a.inRange(b.x,b.y)&&c.push(a)}),c}function f(a,c,e,f){var g=Number.POSITIVE_INFINITY,h=[];return f||(f=b.distanceBetweenPoints),d(a,function(a){if(!e||a.inRange(c.x,c.y)){var b=a.getCenterPoint(),d=f(c,b);d<g?(h=[a],g=d):d===g&&h.push(a)}}),h}function g(a,b,d){var g=c(b,a.chart),h=function(a,b){return Math.abs(a.x-b.x)},i=d.intersect?e(a,g):f(a,g,!1,h),j=[];return i.length?(a.data.datasets.forEach(function(b,c){if(a.isDatasetVisible(c)){var d=a.getDatasetMeta(c),e=d.data[i[0]._index];e&&!e._view.skip&&j.push(e)}}),j):[]}var b=a.helpers;a.Interaction={modes:{single:function(a,b){var e=c(b,a.chart),f=[];return d(a,function(a){if(a.inRange(e.x,e.y))return f.push(a),f}),f.slice(0,1)},label:g,index:g,dataset:function(a,b,d){var g=c(b,a.chart),h=d.intersect?e(a,g):f(a,g,!1);return h.length>0&&(h=a.getDatasetMeta(h[0]._datasetIndex).data),h},"x-axis":function(a,b){return g(a,b,!0)},point:function(a,b){return e(a,c(b,a.chart))},nearest:function(a,b,d){var e=c(b,a.chart),g=f(a,e,d.intersect);return g.length>1&&g.sort(function(a,b){var c=a.getArea(),d=b.getArea(),e=c-d;return 0===e&&(e=a._datasetIndex-b._datasetIndex),e}),g.slice(0,1)},x:function(a,b,e){var f=c(b,a.chart),g=[],h=!1;return d(a,function(a){a.inXRange(f.x)&&g.push(a),a.inRange(f.x,f.y)&&(h=!0)}),e.intersect&&!h&&(g=[]),g},y:function(a,b,e){var f=c(b,a.chart),g=[],h=!1;return d(a,function(a){a.inYRange(f.y)&&g.push(a),a.inRange(f.x,f.y)&&(h=!0)}),e.intersect&&!h&&(g=[]),g}}}}},{}],28:[function(a,b,c){"use strict";b.exports=function(){var a=function(b,c){return this.controller=new a.Controller(b,c,this),this.controller};return a.defaults={global:{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!0,events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",showLines:!0,elements:{},legendCallback:function(a){var b=[];b.push('<ul class="'+a.id+'-legend">');for(var c=0;c<a.data.datasets.length;c++)b.push('<li><span style="background-color:'+a.data.datasets[c].backgroundColor+'"></span>'),a.data.datasets[c].label&&b.push(a.data.datasets[c].label),b.push("</li>");return b.push("</ul>"),b.join("")}}},a.Chart=a,a}},{}],29:[function(a,b,c){"use strict";b.exports=function(a){var b=a.helpers;a.layoutService={defaults:{},addBox:function(a,b){a.boxes||(a.boxes=[]),a.boxes.push(b)},removeBox:function(a,b){a.boxes&&a.boxes.splice(a.boxes.indexOf(b),1)},update:function(a,c,d){function y(a){var b,c=a.isHorizontal();c?(b=a.update(a.options.fullWidth?p:v,u),w-=b.height):(b=a.update(t,s),v-=b.width),x.push({horizontal:c,minSize:b,box:a})}function H(a){var c=b.findNextWhere(x,function(b){return b.box===a});if(c)if(a.isHorizontal()){var d={left:Math.max(D,z),right:Math.max(E,A),top:0,bottom:0};a.update(a.options.fullWidth?p:v,q/2,d)}else a.update(c.minSize.width,w)}function I(a){var c=b.findNextWhere(x,function(b){return b.box===a}),d={left:0,right:0,top:F,bottom:G};c&&a.update(c.minSize.width,w,d)}function P(a){a.isHorizontal()?(a.left=a.options.fullWidth?g:D,a.right=a.options.fullWidth?c-h:D+v,a.top=O,a.bottom=O+a.height,O=a.bottom):(a.left=N,a.right=N+a.width,a.top=F,a.bottom=F+w,N=a.right)}if(a){var e=a.options.layout,f=e?e.padding:null,g=0,h=0,i=0,j=0;isNaN(f)?(g=f.left||0,h=f.right||0,i=f.top||0,j=f.bottom||0):(g=f,h=f,i=f,j=f);var k=b.where(a.boxes,function(a){return"left"===a.options.position}),l=b.where(a.boxes,function(a){return"right"===a.options.position}),m=b.where(a.boxes,function(a){return"top"===a.options.position}),n=b.where(a.boxes,function(a){return"bottom"===a.options.position}),o=b.where(a.boxes,function(a){return"chartArea"===a.options.position});m.sort(function(a,b){return(b.options.fullWidth?1:0)-(a.options.fullWidth?1:0)}),n.sort(function(a,b){return(a.options.fullWidth?1:0)-(b.options.fullWidth?1:0)});var p=c-g-h,q=d-i-j,r=p/2,s=q/2,t=(c-r)/(k.length+l.length),u=(d-s)/(m.length+n.length),v=p,w=q,x=[];b.each(k.concat(l,m,n),y);var z=0,A=0,B=0,C=0;b.each(m.concat(n),function(a){if(a.getPadding){var b=a.getPadding();z=Math.max(z,b.left),A=Math.max(A,b.right)}}),b.each(k.concat(l),function(a){if(a.getPadding){var b=a.getPadding();B=Math.max(B,b.top),C=Math.max(C,b.bottom)}});var D=g,E=h,F=i,G=j;b.each(k.concat(l),H),b.each(k,function(a){D+=a.width}),b.each(l,function(a){E+=a.width}),b.each(m.concat(n),H),b.each(m,function(a){F+=a.height}),b.each(n,function(a){G+=a.height}),b.each(k.concat(l),I),D=g,E=h,F=i,G=j,b.each(k,function(a){D+=a.width}),b.each(l,function(a){E+=a.width}),b.each(m,function(a){F+=a.height}),b.each(n,function(a){G+=a.height});var J=Math.max(z-D,0);D+=J,E+=Math.max(A-E,0);var K=Math.max(B-F,0);F+=K,G+=Math.max(C-G,0);var L=d-F-G,M=c-D-E;M===v&&L===w||(b.each(k,function(a){a.height=L}),b.each(l,function(a){a.height=L}),b.each(m,function(a){a.options.fullWidth||(a.width=M)}),b.each(n,function(a){a.options.fullWidth||(a.width=M)}),w=L,v=M);var N=g+J,O=i+K;b.each(k.concat(m),P),N+=v,O+=w,b.each(l,P),b.each(n,P),a.chartArea={left:D,top:F,right:D+v,bottom:F+w},b.each(o,function(b){b.left=a.chartArea.left,b.top=a.chartArea.top,b.right=a.chartArea.right,b.bottom=a.chartArea.bottom,b.update(v,w)})}}}}},{}],30:[function(a,b,c){"use strict";b.exports=function(a){function d(a,b){return a.usePointStyle?b*Math.SQRT2:a.boxWidth}function e(b,c){var d=new a.Legend({ctx:b.chart.ctx,options:c,chart:b});b.legend=d,a.layoutService.addBox(b,d)}var b=a.helpers,c=b.noop;a.defaults.global.legend={display:!0,position:"top",fullWidth:!0,reverse:!1,onClick:function(a,b){var c=b.datasetIndex,d=this.chart,e=d.getDatasetMeta(c);e.hidden=null===e.hidden?!d.data.datasets[c].hidden:null,d.update()},onHover:null,labels:{boxWidth:40,padding:10,generateLabels:function(a){var c=a.data;return b.isArray(c.datasets)?c.datasets.map(function(c,d){return{text:c.label,fillStyle:b.isArray(c.backgroundColor)?c.backgroundColor[0]:c.backgroundColor,hidden:!a.isDatasetVisible(d),lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:c.borderWidth,strokeStyle:c.borderColor,pointStyle:c.pointStyle,datasetIndex:d}},this):[]}}},a.Legend=a.Element.extend({initialize:function(a){b.extend(this,a),this.legendHitBoxes=[],this.doughnutMode=!1},beforeUpdate:c,update:function(a,b,c){var d=this;return d.beforeUpdate(),d.maxWidth=a,d.maxHeight=b,d.margins=c,d.beforeSetDimensions(),d.setDimensions(),d.afterSetDimensions(),d.beforeBuildLabels(),d.buildLabels(),d.afterBuildLabels(),d.beforeFit(),d.fit(),d.afterFit(),d.afterUpdate(),d.minSize},afterUpdate:c,beforeSetDimensions:c,setDimensions:function(){var a=this;a.isHorizontal()?(a.width=a.maxWidth,a.left=0,a.right=a.width):(a.height=a.maxHeight,a.top=0,a.bottom=a.height),a.paddingLeft=0,a.paddingTop=0,a.paddingRight=0,a.paddingBottom=0,a.minSize={width:0,height:0}},afterSetDimensions:c,beforeBuildLabels:c,buildLabels:function(){var a=this,b=a.options.labels,c=b.generateLabels.call(a,a.chart);b.filter&&(c=c.filter(function(c){return b.filter(c,a.chart.data)})),a.options.reverse&&c.reverse(),a.legendItems=c},afterBuildLabels:c,beforeFit:c,fit:function(){var c=this,e=c.options,f=e.labels,g=e.display,h=c.ctx,i=a.defaults.global,j=b.getValueOrDefault,k=j(f.fontSize,i.defaultFontSize),l=j(f.fontStyle,i.defaultFontStyle),m=j(f.fontFamily,i.defaultFontFamily),n=b.fontString(k,l,m),o=c.legendHitBoxes=[],p=c.minSize,q=c.isHorizontal();if(q?(p.width=c.maxWidth,p.height=g?10:0):(p.width=g?10:0,p.height=c.maxHeight),g)if(h.font=n,q){var r=c.lineWidths=[0],s=c.legendItems.length?k+f.padding:0;h.textAlign="left",h.textBaseline="top",b.each(c.legendItems,function(a,b){var e=d(f,k),g=e+k/2+h.measureText(a.text).width;r[r.length-1]+g+f.padding>=c.width&&(s+=k+f.padding,r[r.length]=c.left),o[b]={left:0,top:0,width:g,height:k},r[r.length-1]+=g+f.padding}),p.height+=s}else{var t=f.padding,u=c.columnWidths=[],v=f.padding,w=0,x=0,y=k+t;b.each(c.legendItems,function(a,b){var c=d(f,k),e=c+k/2+h.measureText(a.text).width;x+y>p.height&&(v+=w+f.padding,u.push(w),w=0,x=0),w=Math.max(w,e),x+=y,o[b]={left:0,top:0,width:e,height:k}}),v+=w,u.push(w),p.width+=v}c.width=p.width,c.height=p.height},afterFit:c,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var c=this,e=c.options,f=e.labels,g=a.defaults.global,h=g.elements.line,i=c.width,j=c.lineWidths;if(e.display){var l,k=c.ctx,m=b.getValueOrDefault,n=m(f.fontColor,g.defaultFontColor),o=m(f.fontSize,g.defaultFontSize),p=m(f.fontStyle,g.defaultFontStyle),q=m(f.fontFamily,g.defaultFontFamily),r=b.fontString(o,p,q);k.textAlign="left",k.textBaseline="top",k.lineWidth=.5,k.strokeStyle=n,k.fillStyle=n,k.font=r;var s=d(f,o),t=c.legendHitBoxes,u=function(b,c,d){if(!(isNaN(s)||s<=0)){k.save(),k.fillStyle=m(d.fillStyle,g.defaultColor),k.lineCap=m(d.lineCap,h.borderCapStyle),k.lineDashOffset=m(d.lineDashOffset,h.borderDashOffset),k.lineJoin=m(d.lineJoin,h.borderJoinStyle),k.lineWidth=m(d.lineWidth,h.borderWidth),k.strokeStyle=m(d.strokeStyle,g.defaultColor);var f=0===m(d.lineWidth,h.borderWidth);if(k.setLineDash&&k.setLineDash(m(d.lineDash,h.borderDash)),e.labels&&e.labels.usePointStyle){var i=o*Math.SQRT2/2,j=i/Math.SQRT2,l=b+j,n=c+j;a.canvasHelpers.drawPoint(k,d.pointStyle,i,l,n)}else f||k.strokeRect(b,c,s,o),k.fillRect(b,c,s,o);k.restore()}},v=function(a,b,c,d){k.fillText(c.text,s+o/2+a,b),c.hidden&&(k.beginPath(),k.lineWidth=2,k.moveTo(s+o/2+a,b+o/2),k.lineTo(s+o/2+a+d,b+o/2),k.stroke())},w=c.isHorizontal();l=w?{x:c.left+(i-j[0])/2,y:c.top+f.padding,line:0}:{x:c.left+f.padding,y:c.top+f.padding,line:0};var x=o+f.padding;b.each(c.legendItems,function(a,b){var d=k.measureText(a.text).width,e=s+o/2+d,g=l.x,h=l.y;w?g+e>=i&&(h=l.y+=x,l.line++,g=l.x=c.left+(i-j[l.line])/2):h+x>c.bottom&&(g=l.x=g+c.columnWidths[l.line]+f.padding,h=l.y=c.top+f.padding,l.line++),u(g,h,a),t[b].left=g,t[b].top=h,v(g,h,a,d),w?l.x+=e+f.padding:l.y+=x})}},handleEvent:function(a){var b=this,c=b.options,d="mouseup"===a.type?"click":a.type,e=!1;if("mousemove"===d){if(!c.onHover)return}else{if("click"!==d)return;if(!c.onClick)return}var f=a.x,g=a.y;if(f>=b.left&&f<=b.right&&g>=b.top&&g<=b.bottom)for(var h=b.legendHitBoxes,i=0;i<h.length;++i){var j=h[i];if(f>=j.left&&f<=j.left+j.width&&g>=j.top&&g<=j.top+j.height){if("click"===d){c.onClick.call(b,a.native,b.legendItems[i]),e=!0;break}if("mousemove"===d){c.onHover.call(b,a.native,b.legendItems[i]),e=!0;break}}}return e}}),a.plugins.register({beforeInit:function(a){var b=a.options.legend;b&&e(a,b)},beforeUpdate:function(c){var d=c.options.legend;d?(d=b.configMerge(a.defaults.global.legend,d),c.legend?c.legend.options=d:e(c,d)):(a.layoutService.removeBox(c,c.legend),delete c.legend)},afterEvent:function(a,b){var c=a.legend;c&&c.handleEvent(b)}})}},{}],31:[function(a,b,c){"use strict";b.exports=function(a){var b=a.helpers;a.defaults.global.plugins={},a.plugins={_plugins:[],_cacheId:0,register:function(a){var b=this._plugins;[].concat(a).forEach(function(a){-1===b.indexOf(a)&&b.push(a)}),this._cacheId++},unregister:function(a){var b=this._plugins;[].concat(a).forEach(function(a){var c=b.indexOf(a);-1!==c&&b.splice(c,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(a,b,c){var f,g,h,i,j,d=this.descriptors(a),e=d.length;for(f=0;f<e;++f)if(g=d[f],h=g.plugin,"function"==typeof(j=h[b])&&(i=[a].concat(c||[]),i.push(g.options),!1===j.apply(h,i)))return!1;return!0},descriptors:function(c){var d=c._plugins||(c._plugins={});if(d.id===this._cacheId)return d.descriptors;var e=[],f=[],g=c&&c.config||{},h=a.defaults.global.plugins,i=g.options&&g.options.plugins||{};return this._plugins.concat(g.plugins||[]).forEach(function(a){if(-1===e.indexOf(a)){var d=a.id,g=i[d];!1!==g&&(!0===g&&(g=b.clone(h[d])),e.push(a),f.push({plugin:a,options:g||{}}))}}),d.descriptors=f,d.id=this._cacheId,f}},a.pluginService=a.plugins,a.PluginBase=b.inherits({})}},{}],32:[function(a,b,c){"use strict";b.exports=function(a){function c(a,c,d){return b.isArray(c)?b.longestText(a,d,c):a.measureText(c).width}function d(c){var d=b.getValueOrDefault,e=a.defaults.global,f=d(c.fontSize,e.defaultFontSize),g=d(c.fontStyle,e.defaultFontStyle),h=d(c.fontFamily,e.defaultFontFamily);return{size:f,style:g,family:h,font:b.fontString(f,g,h)}}var b=a.helpers;a.defaults.scale={display:!0,position:"left",gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{labelString:"",display:!1},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:a.Ticks.formatters.values}},a.Scale=a.Element.extend({getPadding:function(){var a=this;return{left:a.paddingLeft||0,top:a.paddingTop||0,right:a.paddingRight||0,bottom:a.paddingBottom||0}},beforeUpdate:function(){b.callCallback(this.options.beforeUpdate,[this])},update:function(a,c,d){var e=this;return e.beforeUpdate(),e.maxWidth=a,e.maxHeight=c,e.margins=b.extend({left:0,right:0,top:0,bottom:0},d),e.longestTextCache=e.longestTextCache||{},e.beforeSetDimensions(),e.setDimensions(),e.afterSetDimensions(),e.beforeDataLimits(),e.determineDataLimits(),e.afterDataLimits(),e.beforeBuildTicks(),e.buildTicks(),e.afterBuildTicks(),e.beforeTickToLabelConversion(),e.convertTicksToLabels(),e.afterTickToLabelConversion(),e.beforeCalculateTickRotation(),e.calculateTickRotation(),e.afterCalculateTickRotation(),e.beforeFit(),e.fit(),e.afterFit(),e.afterUpdate(),e.minSize},afterUpdate:function(){b.callCallback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){b.callCallback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var a=this;a.isHorizontal()?(a.width=a.maxWidth,a.left=0,a.right=a.width):(a.height=a.maxHeight,a.top=0,a.bottom=a.height),a.paddingLeft=0,a.paddingTop=0,a.paddingRight=0,a.paddingBottom=0},afterSetDimensions:function(){b.callCallback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){b.callCallback(this.options.beforeDataLimits,[this])},determineDataLimits:b.noop,afterDataLimits:function(){b.callCallback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){b.callCallback(this.options.beforeBuildTicks,[this])},buildTicks:b.noop,afterBuildTicks:function(){b.callCallback(this.options.afterBuildTicks,[this])},beforeTickToLabelConversion:function(){b.callCallback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var a=this,b=a.options.ticks;a.ticks=a.ticks.map(b.userCallback||b.callback)},afterTickToLabelConversion:function(){b.callCallback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){b.callCallback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var a=this,c=a.ctx,e=a.options.ticks,f=d(e);c.font=f.font;var g=e.minRotation||0;if(a.options.display&&a.isHorizontal())for(var j,h=b.longestText(c,f.font,a.ticks,a.longestTextCache),i=h,l=a.getPixelForTick(1)-a.getPixelForTick(0)-6;i>l&&g<e.maxRotation;){var m=b.toRadians(g);if(j=Math.cos(m),Math.sin(m)*h>a.maxHeight){g--;break}g++,i=j*h}a.labelRotation=g},afterCalculateTickRotation:function(){b.callCallback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){b.callCallback(this.options.beforeFit,[this])},fit:function(){var a=this,e=a.minSize={width:0,height:0},f=a.options,g=f.ticks,h=f.scaleLabel,i=f.gridLines,j=f.display,k=a.isHorizontal(),l=d(g),m=1.5*d(h).size,n=f.gridLines.tickMarkLength;if(e.width=k?a.isFullWidth()?a.maxWidth-a.margins.left-a.margins.right:a.maxWidth:j&&i.drawTicks?n:0,e.height=k?j&&i.drawTicks?n:0:a.maxHeight,h.display&&j&&(k?e.height+=m:e.width+=m),g.display&&j){var o=b.longestText(a.ctx,l.font,a.ticks,a.longestTextCache),p=b.numberOfLabelLines(a.ticks),q=.5*l.size;if(k){a.longestLabelWidth=o;var r=b.toRadians(a.labelRotation),s=Math.cos(r),t=Math.sin(r),u=t*o+l.size*p+q*p;e.height=Math.min(a.maxHeight,e.height+u),a.ctx.font=l.font;var v=a.ticks[0],w=c(a.ctx,v,l.font),x=a.ticks[a.ticks.length-1],y=c(a.ctx,x,l.font);0!==a.labelRotation?(a.paddingLeft="bottom"===f.position?s*w+3:s*q+3,a.paddingRight="bottom"===f.position?s*q+3:s*y+3):(a.paddingLeft=w/2+3,a.paddingRight=y/2+3)}else g.mirror?o=0:o+=a.options.ticks.padding,e.width+=o,a.paddingTop=l.size/2,a.paddingBottom=l.size/2}a.handleMargins(),a.width=e.width,a.height=e.height},handleMargins:function(){var a=this;a.margins&&(a.paddingLeft=Math.max(a.paddingLeft-a.margins.left,0),a.paddingTop=Math.max(a.paddingTop-a.margins.top,0),a.paddingRight=Math.max(a.paddingRight-a.margins.right,0),a.paddingBottom=Math.max(a.paddingBottom-a.margins.bottom,0))},afterFit:function(){b.callCallback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(a){return null===a||void 0===a?NaN:"number"!=typeof a||isFinite(a)?"object"==typeof a?a instanceof Date||a.isValid?a:this.getRightValue(this.isHorizontal()?a.x:a.y):a:NaN},getLabelForIndex:b.noop,getPixelForValue:b.noop,getValueForPixel:b.noop,getPixelForTick:function(a,b){var c=this;if(c.isHorizontal()){var d=c.width-(c.paddingLeft+c.paddingRight),e=d/Math.max(c.ticks.length-(c.options.gridLines.offsetGridLines?0:1),1),f=e*a+c.paddingLeft;b&&(f+=e/2);var g=c.left+Math.round(f);return g+=c.isFullWidth()?c.margins.left:0}var h=c.height-(c.paddingTop+c.paddingBottom);return c.top+a*(h/(c.ticks.length-1))},getPixelForDecimal:function(a){var b=this;if(b.isHorizontal()){var c=b.width-(b.paddingLeft+b.paddingRight),d=c*a+b.paddingLeft,e=b.left+Math.round(d);return e+=b.isFullWidth()?b.margins.left:0}return b.top+a*b.height},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var a=this,b=a.min,c=a.max;return a.beginAtZero?0:b<0&&c<0?c:b>0&&c>0?b:0},draw:function(c){var e=this,f=e.options;if(f.display){var m,p,g=e.ctx,h=a.defaults.global,i=f.ticks,j=f.gridLines,k=f.scaleLabel,l=0!==e.labelRotation,n=i.autoSkip,o=e.isHorizontal();i.maxTicksLimit&&(p=i.maxTicksLimit);var q=b.getValueOrDefault(i.fontColor,h.defaultFontColor),r=d(i),s=j.drawTicks?j.tickMarkLength:0,t=b.getValueOrDefault(j.borderDash,h.borderDash),u=b.getValueOrDefault(j.borderDashOffset,h.borderDashOffset),v=b.getValueOrDefault(k.fontColor,h.defaultFontColor),w=d(k),x=b.toRadians(e.labelRotation),y=Math.cos(x),z=e.longestLabelWidth*y;g.fillStyle=q;var A=[];if(o){if(m=!1,l&&(z/=2),(z+i.autoSkipPadding)*e.ticks.length>e.width-(e.paddingLeft+e.paddingRight)&&(m=1+Math.floor((z+i.autoSkipPadding)*e.ticks.length/(e.width-(e.paddingLeft+e.paddingRight)))),p&&e.ticks.length>p)for(;!m||e.ticks.length/(m||1)>p;)m||(m=1),m+=1;n||(m=!1)}var B="right"===f.position?e.left:e.right-s,C="right"===f.position?e.left+s:e.right,D="bottom"===f.position?e.top:e.bottom-s,E="bottom"===f.position?e.top+s:e.bottom;if(b.each(e.ticks,function(a,d){if(void 0!==a&&null!==a){var g=e.ticks.length===d+1;if((!(m>1&&d%m>0||d%m==0&&d+m>=e.ticks.length)||g)&&void 0!==a&&null!==a){var k,n;d===(void 0!==e.zeroLineIndex?e.zeroLineIndex:0)?(k=j.zeroLineWidth,n=j.zeroLineColor):(k=b.getValueAtIndexOrDefault(j.lineWidth,d),n=b.getValueAtIndexOrDefault(j.color,d));var p,q,r,v,w,y,z,F,G,H,I="middle",J="middle";if(o){"bottom"===f.position?(J=l?"middle":"top",I=l?"right":"center",H=e.top+s):(J=l?"middle":"bottom",I=l?"left":"center",H=e.bottom-s);var K=e.getPixelForTick(d)+b.aliasPixel(k);G=e.getPixelForTick(d,j.offsetGridLines)+i.labelOffset,p=r=w=z=K,q=D,v=E,y=c.top,F=c.bottom}else{var N,L="left"===f.position,M=i.padding;i.mirror?(I=L?"left":"right",N=M):(I=L?"right":"left",N=s+M),G=L?e.right-N:e.left+N;var O=e.getPixelForTick(d);O+=b.aliasPixel(k),H=e.getPixelForTick(d,j.offsetGridLines),p=B,r=C,w=c.left,z=c.right,q=v=y=F=O}A.push({tx1:p,ty1:q,tx2:r,ty2:v,x1:w,y1:y,x2:z,y2:F,labelX:G,labelY:H,glWidth:k,glColor:n,glBorderDash:t,glBorderDashOffset:u,rotation:-1*x,label:a,textBaseline:J,textAlign:I})}}}),b.each(A,function(a){if(j.display&&(g.save(),g.lineWidth=a.glWidth,g.strokeStyle=a.glColor,g.setLineDash&&(g.setLineDash(a.glBorderDash),g.lineDashOffset=a.glBorderDashOffset),g.beginPath(),j.drawTicks&&(g.moveTo(a.tx1,a.ty1),g.lineTo(a.tx2,a.ty2)),j.drawOnChartArea&&(g.moveTo(a.x1,a.y1),g.lineTo(a.x2,a.y2)),g.stroke(),g.restore()),i.display){g.save(),g.translate(a.labelX,a.labelY),g.rotate(a.rotation),g.font=r.font,g.textBaseline=a.textBaseline,g.textAlign=a.textAlign;var c=a.label;if(b.isArray(c))for(var d=0,e=0;d<c.length;++d)g.fillText(""+c[d],0,e),e+=1.5*r.size;else g.fillText(c,0,0);g.restore()}}),k.display){var F,G,H=0;if(o)F=e.left+(e.right-e.left)/2,G="bottom"===f.position?e.bottom-w.size/2:e.top+w.size/2;else{var I="left"===f.position;F=I?e.left+w.size/2:e.right-w.size/2,G=e.top+(e.bottom-e.top)/2,H=I?-.5*Math.PI:.5*Math.PI}g.save(),g.translate(F,G),g.rotate(H),g.textAlign="center",g.textBaseline="middle",g.fillStyle=v,g.font=w.font,g.fillText(k.labelString,0,0),g.restore()}if(j.drawBorder){g.lineWidth=b.getValueAtIndexOrDefault(j.lineWidth,0),g.strokeStyle=b.getValueAtIndexOrDefault(j.color,0);var J=e.left,K=e.right,L=e.top,M=e.bottom,N=b.aliasPixel(g.lineWidth);o?(L=M="top"===f.position?e.bottom:e.top,L+=N,M+=N):(J=K="left"===f.position?e.right:e.left,J+=N,K+=N),g.beginPath(),g.moveTo(J,L),g.lineTo(K,M),g.stroke()}}}})}},{}],33:[function(a,b,c){"use strict";b.exports=function(a){var b=a.helpers;a.scaleService={constructors:{},defaults:{},registerScaleType:function(a,c,d){this.constructors[a]=c,this.defaults[a]=b.clone(d)},getScaleConstructor:function(a){return this.constructors.hasOwnProperty(a)?this.constructors[a]:void 0},getScaleDefaults:function(c){return this.defaults.hasOwnProperty(c)?b.scaleMerge(a.defaults.scale,this.defaults[c]):{}},updateScaleDefaults:function(a,c){var d=this.defaults;d.hasOwnProperty(a)&&(d[a]=b.extend(d[a],c))},addScalesToLayout:function(c){b.each(c.scales,function(b){a.layoutService.addBox(c,b)})}}}},{}],34:[function(a,b,c){"use strict";b.exports=function(a){var b=a.helpers;a.Ticks={generators:{linear:function(a,c){var e,d=[];if(a.stepSize&&a.stepSize>0)e=a.stepSize;else{var f=b.niceNum(c.max-c.min,!1);e=b.niceNum(f/(a.maxTicks-1),!0)}var g=Math.floor(c.min/e)*e,h=Math.ceil(c.max/e)*e;a.min&&a.max&&a.stepSize&&b.almostWhole((a.max-a.min)/a.stepSize,e/1e3)&&(g=a.min,h=a.max);var i=(h-g)/e;i=b.almostEquals(i,Math.round(i),e/1e3)?Math.round(i):Math.ceil(i),d.push(void 0!==a.min?a.min:g);for(var j=1;j<i;++j)d.push(g+j*e);return d.push(void 0!==a.max?a.max:h),d},logarithmic:function(a,c){var i,j,d=[],e=b.getValueOrDefault,f=e(a.min,Math.pow(10,Math.floor(b.log10(c.min)))),g=Math.floor(b.log10(c.max)),h=Math.ceil(c.max/Math.pow(10,g));0===f?(i=Math.floor(b.log10(c.minNotZero)),j=Math.floor(c.minNotZero/Math.pow(10,i)),d.push(f),f=j*Math.pow(10,i)):(i=Math.floor(b.log10(f)),j=Math.floor(f/Math.pow(10,i)));do{d.push(f),++j,10===j&&(j=1,++i),f=j*Math.pow(10,i)}while(i<g||i===g&&j<h);var k=e(a.max,f);return d.push(k),d}},formatters:{values:function(a){return b.isArray(a)?a:""+a},linear:function(a,c,d){var e=d.length>3?d[2]-d[1]:d[1]-d[0];Math.abs(e)>1&&a!==Math.floor(a)&&(e=a-Math.floor(a));var f=b.log10(Math.abs(e)),g="";if(0!==a){var h=-1*Math.floor(f);h=Math.max(Math.min(h,20),0),g=a.toFixed(h)}else g="0";return g},logarithmic:function(a,c,d){var e=a/Math.pow(10,Math.floor(b.log10(a)));return 0===a?"0":1===e||2===e||5===e||0===c||c===d.length-1?a.toExponential():""}}}}},{}],35:[function(a,b,c){"use strict";b.exports=function(a){function d(b,c){var d=new a.Title({ctx:b.chart.ctx,options:c,chart:b});b.titleBlock=d,a.layoutService.addBox(b,d)}var b=a.helpers;a.defaults.global.title={display:!1,position:"top",fullWidth:!0,fontStyle:"bold",padding:10,text:""};var c=b.noop;a.Title=a.Element.extend({initialize:function(a){var c=this;b.extend(c,a),c.legendHitBoxes=[]},beforeUpdate:c,update:function(a,b,c){var d=this;return d.beforeUpdate(),d.maxWidth=a,d.maxHeight=b,d.margins=c,d.beforeSetDimensions(),d.setDimensions(),d.afterSetDimensions(),d.beforeBuildLabels(),d.buildLabels(),d.afterBuildLabels(),d.beforeFit(),d.fit(),d.afterFit(),d.afterUpdate(),d.minSize},afterUpdate:c,beforeSetDimensions:c,setDimensions:function(){var a=this;a.isHorizontal()?(a.width=a.maxWidth,a.left=0,a.right=a.width):(a.height=a.maxHeight,a.top=0,a.bottom=a.height),a.paddingLeft=0,a.paddingTop=0,a.paddingRight=0,a.paddingBottom=0,a.minSize={width:0,height:0}},afterSetDimensions:c,beforeBuildLabels:c,buildLabels:c,afterBuildLabels:c,beforeFit:c,fit:function(){var c=this,d=b.getValueOrDefault,e=c.options,f=a.defaults.global,g=e.display,h=d(e.fontSize,f.defaultFontSize),i=c.minSize;c.isHorizontal()?(i.width=c.maxWidth,i.height=g?h+2*e.padding:0):(i.width=g?h+2*e.padding:0,i.height=c.maxHeight),c.width=i.width,c.height=i.height},afterFit:c,isHorizontal:function(){var a=this.options.position;return"top"===a||"bottom"===a},draw:function(){var c=this,d=c.ctx,e=b.getValueOrDefault,f=c.options,g=a.defaults.global;if(f.display){var m,n,s,h=e(f.fontSize,g.defaultFontSize),i=e(f.fontStyle,g.defaultFontStyle),j=e(f.fontFamily,g.defaultFontFamily),k=b.fontString(h,i,j),l=0,o=c.top,p=c.left,q=c.bottom,r=c.right;d.fillStyle=e(f.fontColor,g.defaultFontColor),d.font=k,c.isHorizontal()?(m=p+(r-p)/2,n=o+(q-o)/2,s=r-p):(m="left"===f.position?p+h/2:r-h/2,n=o+(q-o)/2,s=q-o,l=Math.PI*("left"===f.position?-.5:.5)),d.save(),d.translate(m,n),d.rotate(l),d.textAlign="center",d.textBaseline="middle",d.fillText(f.text,0,0,s),d.restore()}}}),a.plugins.register({beforeInit:function(a){var b=a.options.title;b&&d(a,b)},beforeUpdate:function(c){var e=c.options.title;e?(e=b.configMerge(a.defaults.global.title,e),c.titleBlock?c.titleBlock.options=e:d(c,e)):(a.layoutService.removeBox(c,c.titleBlock),delete c.titleBlock)}})}},{}],36:[function(a,b,c){"use strict";b.exports=function(a){function c(a,c){var d=b.color(a);return d.alpha(c*d.alpha()).rgbaString()}function d(a,c){return c&&(b.isArray(c)?Array.prototype.push.apply(a,c):a.push(c)),a}function e(a){var b=a._xScale,c=a._yScale||a._scale,d=a._index,e=a._datasetIndex;return{xLabel:b?b.getLabelForIndex(d,e):"",yLabel:c?c.getLabelForIndex(d,e):"",index:d,datasetIndex:e,x:a._model.x,y:a._model.y}}function f(c){var d=a.defaults.global,e=b.getValueOrDefault;return{xPadding:c.xPadding,yPadding:c.yPadding,xAlign:c.xAlign,yAlign:c.yAlign,bodyFontColor:c.bodyFontColor,_bodyFontFamily:e(c.bodyFontFamily,d.defaultFontFamily),_bodyFontStyle:e(c.bodyFontStyle,d.defaultFontStyle),_bodyAlign:c.bodyAlign,bodyFontSize:e(c.bodyFontSize,d.defaultFontSize),bodySpacing:c.bodySpacing,titleFontColor:c.titleFontColor,_titleFontFamily:e(c.titleFontFamily,d.defaultFontFamily),_titleFontStyle:e(c.titleFontStyle,d.defaultFontStyle),titleFontSize:e(c.titleFontSize,d.defaultFontSize),_titleAlign:c.titleAlign,titleSpacing:c.titleSpacing,titleMarginBottom:c.titleMarginBottom,footerFontColor:c.footerFontColor,_footerFontFamily:e(c.footerFontFamily,d.defaultFontFamily),_footerFontStyle:e(c.footerFontStyle,d.defaultFontStyle),footerFontSize:e(c.footerFontSize,d.defaultFontSize),_footerAlign:c.footerAlign,footerSpacing:c.footerSpacing,footerMarginTop:c.footerMarginTop,caretSize:c.caretSize,cornerRadius:c.cornerRadius,backgroundColor:c.backgroundColor,opacity:0,legendColorBackground:c.multiKeyBackground,displayColors:c.displayColors}}function g(a,c){var d=a._chart.ctx,e=2*c.yPadding,f=0,g=c.body,h=g.reduce(function(a,b){return a+b.before.length+b.lines.length+b.after.length},0);h+=c.beforeBody.length+c.afterBody.length;var i=c.title.length,j=c.footer.length,k=c.titleFontSize,l=c.bodyFontSize,m=c.footerFontSize;e+=i*k,e+=i?(i-1)*c.titleSpacing:0,e+=i?c.titleMarginBottom:0,e+=h*l,e+=h?(h-1)*c.bodySpacing:0,e+=j?c.footerMarginTop:0,e+=j*m,e+=j?(j-1)*c.footerSpacing:0;var n=0,o=function(a){f=Math.max(f,d.measureText(a).width+n)};return d.font=b.fontString(k,c._titleFontStyle,c._titleFontFamily),b.each(c.title,o),d.font=b.fontString(l,c._bodyFontStyle,c._bodyFontFamily),b.each(c.beforeBody.concat(c.afterBody),o),n=c.displayColors?l+2:0,b.each(g,function(a){b.each(a.before,o),b.each(a.lines,o),b.each(a.after,o)}),n=0,d.font=b.fontString(m,c._footerFontStyle,c._footerFontFamily),b.each(c.footer,o),f+=2*c.xPadding,{width:f,height:e}}function h(a,b){var c=a._model,d=a._chart,e=a._chartInstance.chartArea,f="center",g="center";c.y<b.height?g="top":c.y>d.height-b.height&&(g="bottom");var h,i,j,k,l,m=(e.left+e.right)/2,n=(e.top+e.bottom)/2;"center"===g?(h=function(a){return a<=m},i=function(a){return a>m}):(h=function(a){return a<=b.width/2},i=function(a){return a>=d.width-b.width/2}),j=function(a){return a+b.width>d.width},k=function(a){return a-b.width<0},l=function(a){return a<=n?"top":"bottom"},h(c.x)?(f="left",j(c.x)&&(f="center",g=l(c.y))):i(c.x)&&(f="right",k(c.x)&&(f="center",g=l(c.y)));var o=a._options;return{xAlign:o.xAlign?o.xAlign:f,yAlign:o.yAlign?o.yAlign:g}}function i(a,b,c){var d=a.x,e=a.y,f=a.caretSize,g=a.caretPadding,h=a.cornerRadius,i=c.xAlign,j=c.yAlign,k=f+g,l=h+g;return"right"===i?d-=b.width:"center"===i&&(d-=b.width/2),"top"===j?e+=k:e-="bottom"===j?b.height+k:b.height/2,"center"===j?"left"===i?d+=k:"right"===i&&(d-=k):"left"===i?d-=l:"right"===i&&(d+=l),{x:d,y:e}}var b=a.helpers;a.defaults.global.tooltips={enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,callbacks:{beforeTitle:b.noop,title:function(a,b){var c="",d=b.labels,e=d?d.length:0;if(a.length>0){var f=a[0];f.xLabel?c=f.xLabel:e>0&&f.index<e&&(c=d[f.index])}return c},afterTitle:b.noop,beforeBody:b.noop,beforeLabel:b.noop,label:function(a,b){return(b.datasets[a.datasetIndex].label||"")+": "+a.yLabel},labelColor:function(a,b){var c=b.getDatasetMeta(a.datasetIndex),d=c.data[a.index],e=d._view;return{borderColor:e.borderColor,backgroundColor:e.backgroundColor}},afterLabel:b.noop,afterBody:b.noop,beforeFooter:b.noop,footer:b.noop,afterFooter:b.noop}},a.Tooltip=a.Element.extend({initialize:function(){this._model=f(this._options)},getTitle:function(){var a=this,b=a._options,c=b.callbacks,e=c.beforeTitle.apply(a,arguments),f=c.title.apply(a,arguments),g=c.afterTitle.apply(a,arguments),h=[];return h=d(h,e),h=d(h,f),h=d(h,g)},getBeforeBody:function(){var a=this._options.callbacks.beforeBody.apply(this,arguments);return b.isArray(a)?a:void 0!==a?[a]:[]},getBody:function(a,c){var e=this,f=e._options.callbacks,g=[];return b.each(a,function(a){var b={before:[],lines:[],after:[]};d(b.before,f.beforeLabel.call(e,a,c)),d(b.lines,f.label.call(e,a,c)),d(b.after,f.afterLabel.call(e,a,c)),g.push(b)}),g},getAfterBody:function(){var a=this._options.callbacks.afterBody.apply(this,arguments);return b.isArray(a)?a:void 0!==a?[a]:[]},getFooter:function(){var a=this,b=a._options.callbacks,c=b.beforeFooter.apply(a,arguments),e=b.footer.apply(a,arguments),f=b.afterFooter.apply(a,arguments),g=[];return g=d(g,c),g=d(g,e),g=d(g,f)},update:function(c){var t,u,d=this,j=d._options,k=d._model,l=d._model=f(j),m=d._active,n=d._data,o=d._chartInstance,p={xAlign:k.xAlign,yAlign:k.yAlign},q={x:k.x,y:k.y},r={width:k.width,height:k.height},s={x:k.caretX,y:k.caretY};if(m.length){l.opacity=1;var v=[];s=a.Tooltip.positioners[j.position](m,d._eventPosition);var w=[];for(t=0,u=m.length;t<u;++t)w.push(e(m[t]));j.filter&&(w=w.filter(function(a){return j.filter(a,n)})),j.itemSort&&(w=w.sort(function(a,b){return j.itemSort(a,b,n)})),b.each(w,function(a){v.push(j.callbacks.labelColor.call(d,a,o))}),l.title=d.getTitle(w,n),l.beforeBody=d.getBeforeBody(w,n),l.body=d.getBody(w,n),l.afterBody=d.getAfterBody(w,n),l.footer=d.getFooter(w,n),l.x=Math.round(s.x),l.y=Math.round(s.y),l.caretPadding=b.getValueOrDefault(s.padding,2),l.labelColors=v,l.dataPoints=w,r=g(this,l),p=h(this,r),q=i(l,r,p)}else l.opacity=0;return l.xAlign=p.xAlign,l.yAlign=p.yAlign,l.x=q.x,l.y=q.y,l.width=r.width,l.height=r.height,l.caretX=s.x,l.caretY=s.y,d._model=l,c&&j.custom&&j.custom.call(d,l),d},drawCaret:function(a,b,d){var g,h,i,j,k,l,e=this._view,f=this._chart.ctx,m=e.caretSize,n=e.cornerRadius,o=e.xAlign,p=e.yAlign,q=a.x,r=a.y,s=b.width,t=b.height;"center"===p?("left"===o?(g=q,h=g-m,i=g):(g=q+s,h=g+m,i=g),k=r+t/2,j=k-m,l=k+m):("left"===o?(g=q+n,h=g+m,i=h+m):"right"===o?(g=q+s-n,h=g-m,i=h-m):(h=q+s/2,g=h-m,i=h+m),"top"===p?(j=r,k=j-m,l=j):(j=r+t,k=j+m,l=j)),f.fillStyle=c(e.backgroundColor,d),f.beginPath(),f.moveTo(g,j),f.lineTo(h,k),f.lineTo(i,l),f.closePath(),f.fill()},drawTitle:function(a,d,e,f){var g=d.title;if(g.length){e.textAlign=d._titleAlign,e.textBaseline="top";var h=d.titleFontSize,i=d.titleSpacing;e.fillStyle=c(d.titleFontColor,f),e.font=b.fontString(h,d._titleFontStyle,d._titleFontFamily);var j,k;for(j=0,k=g.length;j<k;++j)e.fillText(g[j],a.x,a.y),a.y+=h+i,j+1===g.length&&(a.y+=d.titleMarginBottom-i)}},drawBody:function(a,d,e,f){var g=d.bodyFontSize,h=d.bodySpacing,i=d.body;e.textAlign=d._bodyAlign,e.textBaseline="top";var j=c(d.bodyFontColor,f);e.fillStyle=j,e.font=b.fontString(g,d._bodyFontStyle,d._bodyFontFamily);var k=0,l=function(b){e.fillText(b,a.x+k,a.y),a.y+=g+h};b.each(d.beforeBody,l);var m=d.displayColors;k=m?g+2:0,b.each(i,function(h,i){b.each(h.before,l),b.each(h.lines,function(b){m&&(e.fillStyle=c(d.legendColorBackground,f),e.fillRect(a.x,a.y,g,g),e.strokeStyle=c(d.labelColors[i].borderColor,f),e.strokeRect(a.x,a.y,g,g),e.fillStyle=c(d.labelColors[i].backgroundColor,f),e.fillRect(a.x+1,a.y+1,g-2,g-2),e.fillStyle=j),l(b)}),b.each(h.after,l)}),k=0,b.each(d.afterBody,l),a.y-=h},drawFooter:function(a,d,e,f){var g=d.footer;g.length&&(a.y+=d.footerMarginTop,e.textAlign=d._footerAlign,e.textBaseline="top",e.fillStyle=c(d.footerFontColor,f),e.font=b.fontString(d.footerFontSize,d._footerFontStyle,d._footerFontFamily),b.each(g,function(b){e.fillText(b,a.x,a.y),a.y+=d.footerFontSize+d.footerSpacing}))},drawBackground:function(a,d,e,f,g){e.fillStyle=c(d.backgroundColor,g),b.drawRoundedRectangle(e,a.x,a.y,f.width,f.height,d.cornerRadius),e.fill()},draw:function(){var a=this._chart.ctx,b=this._view;if(0!==b.opacity){var c={width:b.width,height:b.height},d={x:b.x,y:b.y},e=Math.abs(b.opacity<.001)?0:b.opacity;this._options.enabled&&(this.drawBackground(d,b,a,c,e),this.drawCaret(d,c,e),d.x+=b.xPadding,d.y+=b.yPadding,this.drawTitle(d,b,a,e),this.drawBody(d,b,a,e),this.drawFooter(d,b,a,e))}},handleEvent:function(a){var c=this,d=c._options,e=!1;if(c._lastActive=c._lastActive||[],"mouseout"===a.type?c._active=[]:c._active=c._chartInstance.getElementsAtEventForMode(a,d.mode,d),e=!b.arrayEquals(c._active,c._lastActive),c._lastActive=c._active,d.enabled||d.custom){c._eventPosition={x:a.x,y:a.y};var f=c._model;c.update(!0),c.pivot(),e|=f.x!==c._model.x||f.y!==c._model.y}return e}}),a.Tooltip.positioners={average:function(a){if(!a.length)return!1;var b,c,d=0,e=0,f=0;for(b=0,c=a.length;b<c;++b){var g=a[b];if(g&&g.hasValue()){var h=g.tooltipPosition();d+=h.x,e+=h.y,++f}}return{x:Math.round(d/f),y:Math.round(e/f)}},nearest:function(a,c){var f,h,i,d=c.x,e=c.y,g=Number.POSITIVE_INFINITY;for(h=0,i=a.length;h<i;++h){var j=a[h];if(j&&j.hasValue()){var k=j.getCenterPoint(),l=b.distanceBetweenPoints(c,k);l<g&&(g=l,f=j)}}if(f){var m=f.tooltipPosition();d=m.x,e=m.y}return{x:d,y:e}}}}},{}],37:[function(a,b,c){"use strict";b.exports=function(a){var b=a.helpers,c=a.defaults.global;c.elements.arc={backgroundColor:c.defaultColor,borderColor:"#fff",borderWidth:2},a.elements.Arc=a.Element.extend({inLabelRange:function(a){var b=this._view;return!!b&&Math.pow(a-b.x,2)<Math.pow(b.radius+b.hoverRadius,2)},inRange:function(a,c){var d=this._view;if(d){for(var e=b.getAngleFromPoint(d,{x:a,y:c}),f=e.angle,g=e.distance,h=d.startAngle,i=d.endAngle;i<h;)i+=2*Math.PI;for(;f>i;)f-=2*Math.PI;for(;f<h;)f+=2*Math.PI;var j=f>=h&&f<=i,k=g>=d.innerRadius&&g<=d.outerRadius;return j&&k}return!1},getCenterPoint:function(){var a=this._view,b=(a.startAngle+a.endAngle)/2,c=(a.innerRadius+a.outerRadius)/2;return{x:a.x+Math.cos(b)*c,y:a.y+Math.sin(b)*c}},getArea:function(){var a=this._view;return Math.PI*((a.endAngle-a.startAngle)/(2*Math.PI))*(Math.pow(a.outerRadius,2)-Math.pow(a.innerRadius,2))},tooltipPosition:function(){var a=this._view,b=a.startAngle+(a.endAngle-a.startAngle)/2,c=(a.outerRadius-a.innerRadius)/2+a.innerRadius;return{x:a.x+Math.cos(b)*c,y:a.y+Math.sin(b)*c}},draw:function(){var a=this._chart.ctx,b=this._view,c=b.startAngle,d=b.endAngle;a.beginPath(),a.arc(b.x,b.y,b.outerRadius,c,d),a.arc(b.x,b.y,b.innerRadius,d,c,!0),a.closePath(),a.strokeStyle=b.borderColor,a.lineWidth=b.borderWidth,a.fillStyle=b.backgroundColor,a.fill(),a.lineJoin="bevel",b.borderWidth&&a.stroke()}})}},{}],38:[function(a,b,c){"use strict";b.exports=function(a){var b=a.helpers,c=a.defaults.global;a.defaults.global.elements.line={tension:.4,backgroundColor:c.defaultColor,borderWidth:3,borderColor:c.defaultColor,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0},a.elements.Line=a.Element.extend({draw:function(){function i(a,b){var c=b._view;!0===b._view.steppedLine?(h.lineTo(c.x,a._view.y),h.lineTo(c.x,c.y)):0===b._view.tension?h.lineTo(c.x,c.y):h.bezierCurveTo(a._view.controlPointNextX,a._view.controlPointNextY,c.controlPointPreviousX,c.controlPointPreviousY,c.x,c.y)}var a=this,d=a._view,e=d.spanGaps,f=d.scaleZero,g=a._loop;g||("top"===d.fill?f=d.scaleTop:"bottom"===d.fill&&(f=d.scaleBottom));var h=a._chart.ctx;h.save();var j=a._children.slice(),k=-1;g&&j.length&&j.push(j[0]);var l,m,n,o;if(j.length&&d.fill){for(h.beginPath(),l=0;l<j.length;++l)m=j[l],n=b.previousItem(j,l),o=m._view,0===l?(g?h.moveTo(f.x,f.y):h.moveTo(o.x,f),o.skip||(k=l,h.lineTo(o.x,o.y))):(n=-1===k?n:j[k],o.skip?e||k!==l-1||(g?h.lineTo(f.x,f.y):h.lineTo(n._view.x,f)):(k!==l-1?e&&-1!==k?i(n,m):g?h.lineTo(o.x,o.y):(h.lineTo(o.x,f),h.lineTo(o.x,o.y)):i(n,m),k=l));g||-1===k||h.lineTo(j[k]._view.x,f),h.fillStyle=d.backgroundColor||c.defaultColor,h.closePath(),h.fill()}var p=c.elements.line;for(h.lineCap=d.borderCapStyle||p.borderCapStyle,h.setLineDash&&h.setLineDash(d.borderDash||p.borderDash),h.lineDashOffset=d.borderDashOffset||p.borderDashOffset,h.lineJoin=d.borderJoinStyle||p.borderJoinStyle,h.lineWidth=d.borderWidth||p.borderWidth,h.strokeStyle=d.borderColor||c.defaultColor,h.beginPath(),k=-1,l=0;l<j.length;++l)m=j[l],n=b.previousItem(j,l),o=m._view,0===l?o.skip||(h.moveTo(o.x,o.y),k=l):(n=-1===k?n:j[k],o.skip||(k!==l-1&&!e||-1===k?h.moveTo(o.x,o.y):i(n,m),k=l));h.stroke(),h.restore()}})}},{}],39:[function(a,b,c){"use strict";b.exports=function(a){function e(a){var b=this._view;return!!b&&Math.pow(a-b.x,2)<Math.pow(b.radius+b.hitRadius,2)}function f(a){var b=this._view;return!!b&&Math.pow(a-b.y,2)<Math.pow(b.radius+b.hitRadius,2)}var b=a.helpers,c=a.defaults.global,d=c.defaultColor;c.elements.point={radius:3,pointStyle:"circle",backgroundColor:d,borderWidth:1,borderColor:d,hitRadius:1,hoverRadius:4,hoverBorderWidth:1},a.elements.Point=a.Element.extend({inRange:function(a,b){var c=this._view;return!!c&&Math.pow(a-c.x,2)+Math.pow(b-c.y,2)<Math.pow(c.hitRadius+c.radius,2)},inLabelRange:e,inXRange:e,inYRange:f,getCenterPoint:function(){var a=this._view;return{x:a.x,y:a.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var a=this._view;return{x:a.x,y:a.y,padding:a.radius+a.borderWidth}},draw:function(e){var f=this._view,g=this._model,h=this._chart.ctx,i=f.pointStyle,j=f.radius,k=f.x,l=f.y,m=a.helpers.color,n=1.01,o=0;f.skip||(h.strokeStyle=f.borderColor||d,h.lineWidth=b.getValueOrDefault(f.borderWidth,c.elements.point.borderWidth),h.fillStyle=f.backgroundColor||d,void 0!==e&&(g.x<e.left||e.right*n<g.x||g.y<e.top||e.bottom*n<g.y)&&(g.x<e.left?o=(k-g.x)/(e.left-g.x):e.right*n<g.x?o=(g.x-k)/(g.x-e.right):g.y<e.top?o=(l-g.y)/(e.top-g.y):e.bottom*n<g.y&&(o=(g.y-l)/(g.y-e.bottom)),o=Math.round(100*o)/100,h.strokeStyle=m(h.strokeStyle).alpha(o).rgbString(),h.fillStyle=m(h.fillStyle).alpha(o).rgbString()),a.canvasHelpers.drawPoint(h,i,j,k,l))}})}},{}],40:[function(a,b,c){"use strict";b.exports=function(a){function c(a){return void 0!==a._view.width}function d(a){var d,e,f,g,b=a._view;if(c(a)){var h=b.width/2;d=b.x-h,e=b.x+h,f=Math.min(b.y,b.base),g=Math.max(b.y,b.base)}else{var i=b.height/2;d=Math.min(b.x,b.base),e=Math.max(b.x,b.base),f=b.y-i,g=b.y+i}return{left:d,top:f,right:e,bottom:g}}var b=a.defaults.global;b.elements.rectangle={backgroundColor:b.defaultColor,borderWidth:0,borderColor:b.defaultColor,borderSkipped:"bottom"},a.elements.Rectangle=a.Element.extend({draw:function(){function t(a){return q[(s+a)%4]}var c,d,e,f,g,h,i,a=this._chart.ctx,b=this._view,j=b.borderWidth;if(b.horizontal?(c=b.base,d=b.x,e=b.y-b.height/2,f=b.y+b.height/2,g=d>c?1:-1,h=1,i=b.borderSkipped||"left"):(c=b.x-b.width/2,d=b.x+b.width/2,e=b.y,f=b.base,g=1,h=f>e?1:-1,i=b.borderSkipped||"bottom"),j){var k=Math.min(Math.abs(c-d),Math.abs(e-f));j=j>k?k:j;var l=j/2,m=c+("left"!==i?l*g:0),n=d+("right"!==i?-l*g:0),o=e+("top"!==i?l*h:0),p=f+("bottom"!==i?-l*h:0);m!==n&&(e=o,f=p),o!==p&&(c=m,d=n)}a.beginPath(),a.fillStyle=b.backgroundColor,a.strokeStyle=b.borderColor,a.lineWidth=j;var q=[[c,f],[c,e],[d,e],[d,f]],r=["bottom","left","top","right"],s=r.indexOf(i,0);-1===s&&(s=0);var u=t(0);a.moveTo(u[0],u[1]);for(var v=1;v<4;v++)u=t(v),a.lineTo(u[0],u[1]);a.fill(),j&&a.stroke()},height:function(){var a=this._view;return a.base-a.y},inRange:function(a,b){var c=!1;if(this._view){var e=d(this);c=a>=e.left&&a<=e.right&&b>=e.top&&b<=e.bottom}return c},inLabelRange:function(a,b){var e=this;if(!e._view)return!1;var g=d(e);return c(e)?a>=g.left&&a<=g.right:b>=g.top&&b<=g.bottom},inXRange:function(a){var b=d(this);return a>=b.left&&a<=b.right},inYRange:function(a){var b=d(this);return a>=b.top&&a<=b.bottom},getCenterPoint:function(){var b,d,a=this._view;return c(this)?(b=a.x,d=(a.y+a.base)/2):(b=(a.x+a.base)/2,d=a.y),{x:b,y:d}},getArea:function(){var a=this._view;return a.width*Math.abs(a.y-a.base)},tooltipPosition:function(){var a=this._view;return{x:a.x,y:a.y}}})}},{}],41:[function(a,b,c){"use strict";b.exports=function(a){function d(a,c){var d=b.getStyle(a,c),e=d&&d.match(/(\d+)px/);return e?Number(e[1]):void 0}function e(a,b){var c=a.style,e=a.getAttribute("height"),f=a.getAttribute("width");if(a._chartjs={initial:{height:e,width:f,style:{display:c.display,height:c.height,width:c.width}}},c.display=c.display||"block",null===f||""===f){var g=d(a,"width");void 0!==g&&(a.width=g)}if(null===e||""===e)if(""===a.style.height)a.height=a.width/(b.options.aspectRatio||2);else{var h=d(a,"height");void 0!==g&&(a.height=h)}return a}function f(a,b,c,d,e){return{type:a,chart:b,native:e||null,x:void 0!==c?c:null,y:void 0!==d?d:null}}function g(a,d){var e=c[a.type]||a.type,g=b.getRelativePosition(a,d);return f(e,d,g.x,g.y,a)}function h(a){var c=document.createElement("iframe");return c.className="chartjs-hidden-iframe",c.style.cssText="display:block;overflow:hidden;border:0;margin:0;top:0;left:0;bottom:0;right:0;height:100%;width:100%;position:absolute;pointer-events:none;z-index:-1;",c.tabIndex=-1,b.addEvent(c,"load",function(){b.addEvent(c.contentWindow||c,"resize",a),a()}),c}function i(a,c,d){var e=a._chartjs={ticking:!1},g=function(){e.ticking||(e.ticking=!0,b.requestAnimFrame.call(window,function(){if(e.resizer)return e.ticking=!1,c(f("resize",d))}))};e.resizer=h(g),a.insertBefore(e.resizer,a.firstChild)}function j(a){if(a&&a._chartjs){var b=a._chartjs.resizer;b&&(b.parentNode.removeChild(b),a._chartjs.resizer=null),delete a._chartjs}}var b=a.helpers,c={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};return{acquireContext:function(a,b){if("string"==typeof a?a=document.getElementById(a):a.length&&(a=a[0]),a&&a.canvas&&(a=a.canvas),a instanceof HTMLCanvasElement){var c=a.getContext&&a.getContext("2d");if(c instanceof CanvasRenderingContext2D)return e(a,b),c}return null},releaseContext:function(a){var c=a.canvas;if(c._chartjs){var d=c._chartjs.initial;["height","width"].forEach(function(a){var b=d[a];void 0===b||null===b?c.removeAttribute(a):c.setAttribute(a,b)}),b.each(d.style||{},function(a,b){c.style[b]=a}),c.width=c.width,delete c._chartjs}},addEventListener:function(a,c,d){var e=a.chart.canvas;if("resize"===c)return void i(e.parentNode,d,a.chart);var f=d._chartjs||(d._chartjs={}),h=f.proxies||(f.proxies={}),j=h[a.id+"_"+c]=function(b){d(g(b,a.chart))};b.addEvent(e,c,j)},removeEventListener:function(a,c,d){var e=a.chart.canvas;if("resize"===c)return void j(e.parentNode,d);var f=d._chartjs||{},g=f.proxies||{},h=g[a.id+"_"+c];h&&b.removeEvent(e,c,h)}}}},{}],42:[function(a,b,c){"use strict";var d=a(41);b.exports=function(a){a.platform={acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},a.helpers.extend(a.platform,d(a))}},{41:41}],43:[function(a,b,c){"use strict";b.exports=function(a){var b=a.helpers,c={position:"bottom"},d=a.Scale.extend({getLabels:function(){var a=this.chart.data;return(this.isHorizontal()?a.xLabels:a.yLabels)||a.labels},determineDataLimits:function(){var a=this,c=a.getLabels();a.minIndex=0,a.maxIndex=c.length-1;var d;void 0!==a.options.ticks.min&&(d=b.indexOf(c,a.options.ticks.min),a.minIndex=-1!==d?d:a.minIndex),void 0!==a.options.ticks.max&&(d=b.indexOf(c,a.options.ticks.max),a.maxIndex=-1!==d?d:a.maxIndex),a.min=c[a.minIndex],a.max=c[a.maxIndex]},buildTicks:function(){var a=this,b=a.getLabels();a.ticks=0===a.minIndex&&a.maxIndex===b.length-1?b:b.slice(a.minIndex,a.maxIndex+1)},getLabelForIndex:function(a,b){var c=this,d=c.chart.data,e=c.isHorizontal();return d.yLabels&&!e?c.getRightValue(d.datasets[b].data[a]):c.ticks[a-c.minIndex]},getPixelForValue:function(a,b,c,d){var e=this,f=Math.max(e.maxIndex+1-e.minIndex-(e.options.gridLines.offsetGridLines?0:1),1);if(void 0!==a&&isNaN(b)){var g=e.getLabels(),h=g.indexOf(a);b=-1!==h?h:b}if(e.isHorizontal()){var i=e.width/f,j=i*(b-e.minIndex);return(e.options.gridLines.offsetGridLines&&d||e.maxIndex===e.minIndex&&d)&&(j+=i/2),e.left+Math.round(j)}var k=e.height/f,l=k*(b-e.minIndex);return e.options.gridLines.offsetGridLines&&d&&(l+=k/2),e.top+Math.round(l)},getPixelForTick:function(a,b){return this.getPixelForValue(this.ticks[a],a+this.minIndex,null,b)},getValueForPixel:function(a){var b=this,d=Math.max(b.ticks.length-(b.options.gridLines.offsetGridLines?0:1),1),e=b.isHorizontal(),f=(e?b.width:b.height)/d;return a-=e?b.left:b.top,b.options.gridLines.offsetGridLines&&(a-=f/2),a<=0?0:Math.round(a/f)},getBasePixel:function(){return this.bottom}});a.scaleService.registerScaleType("category",d,c)}},{}],44:[function(a,b,c){"use strict";b.exports=function(a){var b=a.helpers,c={position:"left",ticks:{callback:a.Ticks.formatters.linear}},d=a.LinearScaleBase.extend({determineDataLimits:function(){function h(b){return g?b.xAxisID===a.id:b.yAxisID===a.id}var a=this,c=a.options,d=a.chart,e=d.data,f=e.datasets,g=a.isHorizontal();a.min=null,a.max=null;var i=c.stacked;if(void 0===i&&b.each(f,function(a,b){if(!i){var c=d.getDatasetMeta(b);d.isDatasetVisible(b)&&h(c)&&void 0!==c.stack&&(i=!0)}}),c.stacked||i){var j={};b.each(f,function(e,f){var g=d.getDatasetMeta(f),i=[g.type,void 0===c.stacked&&void 0===g.stack?f:"",g.stack].join(".");void 0===j[i]&&(j[i]={positiveValues:[],negativeValues:[]});var k=j[i].positiveValues,l=j[i].negativeValues;d.isDatasetVisible(f)&&h(g)&&b.each(e.data,function(b,d){var e=+a.getRightValue(b);isNaN(e)||g.data[d].hidden||(k[d]=k[d]||0,l[d]=l[d]||0,c.relativePoints?k[d]=100:e<0?l[d]+=e:k[d]+=e)})}),b.each(j,function(c){var d=c.positiveValues.concat(c.negativeValues),e=b.min(d),f=b.max(d);a.min=null===a.min?e:Math.min(a.min,e),a.max=null===a.max?f:Math.max(a.max,f)})}else b.each(f,function(c,e){var f=d.getDatasetMeta(e);d.isDatasetVisible(e)&&h(f)&&b.each(c.data,function(b,c){var d=+a.getRightValue(b);isNaN(d)||f.data[c].hidden||(null===a.min?a.min=d:d<a.min&&(a.min=d),null===a.max?a.max=d:d>a.max&&(a.max=d))})});this.handleTickRangeOptions()},getTickLimit:function(){var c,d=this,e=d.options.ticks;if(d.isHorizontal())c=Math.min(e.maxTicksLimit?e.maxTicksLimit:11,Math.ceil(d.width/50));else{var f=b.getValueOrDefault(e.fontSize,a.defaults.global.defaultFontSize);c=Math.min(e.maxTicksLimit?e.maxTicksLimit:11,Math.ceil(d.height/(2*f)))}return c},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(a,b){return+this.getRightValue(this.chart.data.datasets[b].data[a])},getPixelForValue:function(a){var e,b=this,c=b.start,d=+b.getRightValue(a),f=b.end-c;return b.isHorizontal()?(e=b.left+b.width/f*(d-c),Math.round(e)):(e=b.bottom-b.height/f*(d-c),Math.round(e))},getValueForPixel:function(a){var b=this,c=b.isHorizontal(),d=c?b.width:b.height,e=(c?a-b.left:b.bottom-a)/d;return b.start+(b.end-b.start)*e},getPixelForTick:function(a){return this.getPixelForValue(this.ticksAsNumbers[a])}});a.scaleService.registerScaleType("linear",d,c)}},{}],45:[function(a,b,c){"use strict";b.exports=function(a){var b=a.helpers,c=b.noop;a.LinearScaleBase=a.Scale.extend({handleTickRangeOptions:function(){var a=this,c=a.options,d=c.ticks;if(d.beginAtZero){var e=b.sign(a.min),f=b.sign(a.max);e<0&&f<0?a.max=0:e>0&&f>0&&(a.min=0)}void 0!==d.min?a.min=d.min:void 0!==d.suggestedMin&&(a.min=Math.min(a.min,d.suggestedMin)),void 0!==d.max?a.max=d.max:void 0!==d.suggestedMax&&(a.max=Math.max(a.max,d.suggestedMax)),a.min===a.max&&(a.max++,d.beginAtZero||a.min--)},getTickLimit:c,handleDirectionalChanges:c,buildTicks:function(){var c=this,d=c.options,e=d.ticks,f=c.getTickLimit();f=Math.max(2,f);var g={maxTicks:f,min:e.min,max:e.max,stepSize:b.getValueOrDefault(e.fixedStepSize,e.stepSize)},h=c.ticks=a.Ticks.generators.linear(g,c);c.handleDirectionalChanges(),c.max=b.max(h),c.min=b.min(h),e.reverse?(h.reverse(),c.start=c.max,c.end=c.min):(c.start=c.min,c.end=c.max)},convertTicksToLabels:function(){var b=this;b.ticksAsNumbers=b.ticks.slice(),b.zeroLineIndex=b.ticks.indexOf(0),a.Scale.prototype.convertTicksToLabels.call(b)}})}},{}],46:[function(a,b,c){"use strict";b.exports=function(a){var b=a.helpers,c={position:"left",ticks:{callback:a.Ticks.formatters.logarithmic}},d=a.Scale.extend({determineDataLimits:function(){function j(b){return i?b.xAxisID===a.id:b.yAxisID===a.id}var a=this,c=a.options,d=c.ticks,e=a.chart,f=e.data,g=f.datasets,h=b.getValueOrDefault,i=a.isHorizontal();a.min=null,a.max=null,a.minNotZero=null;var k=c.stacked;if(void 0===k&&b.each(g,function(a,b){if(!k){var c=e.getDatasetMeta(b);e.isDatasetVisible(b)&&j(c)&&void 0!==c.stack&&(k=!0)}}),c.stacked||k){var l={};b.each(g,function(d,f){var g=e.getDatasetMeta(f),h=[g.type,void 0===c.stacked&&void 0===g.stack?f:"",g.stack].join(".");e.isDatasetVisible(f)&&j(g)&&(void 0===l[h]&&(l[h]=[]),b.each(d.data,function(b,d){var e=l[h],f=+a.getRightValue(b);isNaN(f)||g.data[d].hidden||(e[d]=e[d]||0,c.relativePoints?e[d]=100:e[d]+=f)}))}),b.each(l,function(c){var d=b.min(c),e=b.max(c);a.min=null===a.min?d:Math.min(a.min,d),a.max=null===a.max?e:Math.max(a.max,e)})}else b.each(g,function(c,d){var f=e.getDatasetMeta(d);e.isDatasetVisible(d)&&j(f)&&b.each(c.data,function(b,c){var d=+a.getRightValue(b);isNaN(d)||f.data[c].hidden||(null===a.min?a.min=d:d<a.min&&(a.min=d),null===a.max?a.max=d:d>a.max&&(a.max=d),0!==d&&(null===a.minNotZero||d<a.minNotZero)&&(a.minNotZero=d))})});a.min=h(d.min,a.min),a.max=h(d.max,a.max),a.min===a.max&&(0!==a.min&&null!==a.min?(a.min=Math.pow(10,Math.floor(b.log10(a.min))-1),a.max=Math.pow(10,Math.floor(b.log10(a.max))+1)):(a.min=1,a.max=10))},buildTicks:function(){var c=this,d=c.options,e=d.ticks,f={min:e.min,max:e.max},g=c.ticks=a.Ticks.generators.logarithmic(f,c);c.isHorizontal()||g.reverse(),c.max=b.max(g),c.min=b.min(g),e.reverse?(g.reverse(),c.start=c.max,c.end=c.min):(c.start=c.min,c.end=c.max)},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),a.Scale.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(a,b){return+this.getRightValue(this.chart.data.datasets[b].data[a])},getPixelForTick:function(a){return this.getPixelForValue(this.tickValues[a])},getPixelForValue:function(a){var d,e,h,c=this,f=c.start,g=+c.getRightValue(a),i=c.options,j=i.ticks;return c.isHorizontal()?(h=b.log10(c.end)-b.log10(f),0===g?e=c.left:(d=c.width,e=c.left+d/h*(b.log10(g)-b.log10(f)))):(d=c.height,0!==f||j.reverse?0===c.end&&j.reverse?(h=b.log10(c.start)-b.log10(c.minNotZero),e=g===c.end?c.top:g===c.minNotZero?c.top+.02*d:c.top+.02*d+.98*d/h*(b.log10(g)-b.log10(c.minNotZero))):(h=b.log10(c.end)-b.log10(f),d=c.height,e=c.bottom-d/h*(b.log10(g)-b.log10(f))):(h=b.log10(c.end)-b.log10(c.minNotZero),e=g===f?c.bottom:g===c.minNotZero?c.bottom-.02*d:c.bottom-.02*d-.98*d/h*(b.log10(g)-b.log10(c.minNotZero)))),e},getValueForPixel:function(a){var e,f,c=this,d=b.log10(c.end)-b.log10(c.start);return c.isHorizontal()?(f=c.width,e=c.start*Math.pow(10,(a-c.left)*d/f)):(f=c.height,e=Math.pow(10,(c.bottom-a)*d/f)/c.start),e}});a.scaleService.registerScaleType("logarithmic",d,c)}},{}],47:[function(a,b,c){"use strict";b.exports=function(a){function e(a){return a.options.lineArc?0:a.chart.data.labels.length}function f(a){var d=a.options.pointLabels,e=b.getValueOrDefault(d.fontSize,c.defaultFontSize),f=b.getValueOrDefault(d.fontStyle,c.defaultFontStyle),g=b.getValueOrDefault(d.fontFamily,c.defaultFontFamily);return{size:e,style:f,family:g,font:b.fontString(e,f,g)}}function g(a,c,d){return b.isArray(d)?{w:b.longestText(a,a.font,d),h:d.length*c+1.5*(d.length-1)*c}:{w:a.measureText(d).width,h:c}}function h(a,b,c,d,e){return a===d||a===e?{start:b-c/2,end:b+c/2}:a<d||a>e?{start:b-c-5,end:b}:{start:b,end:b+c+5}}function i(a){var k,l,m,c=f(a),d=Math.min(a.height/2,a.width/2),i={l:a.width,r:0,t:a.height,b:0},j={};a.ctx.font=c.font,a._pointLabelSizes=[];var n=e(a);for(k=0;k<n;k++){m=a.getPointPosition(k,d),l=g(a.ctx,c.size,a.pointLabels[k]||""),a._pointLabelSizes[k]=l;var o=a.getIndexAngle(k),p=b.toDegrees(o)%360,q=h(p,m.x,l.w,0,180),r=h(p,m.y,l.h,90,270);q.start<i.l&&(i.l=q.start,j.l=o),q.end>i.r&&(i.r=q.end,j.r=o),r.start<i.t&&(i.t=r.start,j.t=o),r.end>i.b&&(i.b=r.end,j.b=o)}a.setReductions(d,i,j)}function j(a){var b=Math.min(a.height/2,a.width/2);a.drawingArea=Math.round(b),a.setCenterPoint(0,0,0,0)}function k(a){return 0===a||180===a?"center":a<180?"left":"right"}function l(a,c,d,e){if(b.isArray(c))for(var f=d.y,g=1.5*e,h=0;h<c.length;++h)a.fillText(c[h],d.x,f),f+=g;else a.fillText(c,d.x,d.y)}function m(a,b,c){90===a||270===a?c.y-=b.h/2:(a>270||a<90)&&(c.y-=b.h)}function n(a){var d=a.ctx,g=b.getValueOrDefault,h=a.options,i=h.angleLines,j=h.pointLabels;d.lineWidth=i.lineWidth,d.strokeStyle=i.color;var n=a.getDistanceFromCenterForValue(h.reverse?a.min:a.max),o=f(a);d.textBaseline="top";for(var p=e(a)-1;p>=0;p--){if(i.display){var q=a.getPointPosition(p,n);d.beginPath(),d.moveTo(a.xCenter,a.yCenter),d.lineTo(q.x,q.y),d.stroke(),d.closePath()}var r=a.getPointPosition(p,n+5),s=g(j.fontColor,c.defaultFontColor);d.font=o.font,d.fillStyle=s;var t=a.getIndexAngle(p),u=b.toDegrees(t);d.textAlign=k(u),m(u,a._pointLabelSizes[p],r),l(d,a.pointLabels[p]||"",r,o.size)}}function o(a,c,d,f){var g=a.ctx;if(g.strokeStyle=b.getValueAtIndexOrDefault(c.color,f-1),g.lineWidth=b.getValueAtIndexOrDefault(c.lineWidth,f-1),a.options.lineArc)g.beginPath(),g.arc(a.xCenter,a.yCenter,d,0,2*Math.PI),g.closePath(),g.stroke();else{var h=e(a);if(0===h)return;g.beginPath();var i=a.getPointPosition(0,d);g.moveTo(i.x,i.y);for(var j=1;j<h;j++)i=a.getPointPosition(j,d),g.lineTo(i.x,i.y);g.closePath(),g.stroke()}}function p(a){return b.isNumber(a)?a:0}var b=a.helpers,c=a.defaults.global,d={display:!0,animate:!0,lineArc:!1,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:a.Ticks.formatters.linear},pointLabels:{fontSize:10,callback:function(a){return a}}},q=a.LinearScaleBase.extend({setDimensions:function(){var a=this,d=a.options,e=d.ticks;a.width=a.maxWidth,a.height=a.maxHeight,a.xCenter=Math.round(a.width/2),a.yCenter=Math.round(a.height/2);var f=b.min([a.height,a.width]),g=b.getValueOrDefault(e.fontSize,c.defaultFontSize);a.drawingArea=d.display?f/2-(g/2+e.backdropPaddingY):f/2},determineDataLimits:function(){var a=this,c=a.chart,d=Number.POSITIVE_INFINITY,e=Number.NEGATIVE_INFINITY;b.each(c.data.datasets,function(f,g){if(c.isDatasetVisible(g)){var h=c.getDatasetMeta(g);b.each(f.data,function(b,c){var f=+a.getRightValue(b);isNaN(f)||h.data[c].hidden||(d=Math.min(f,d),e=Math.max(f,e))})}}),a.min=d===Number.POSITIVE_INFINITY?0:d,a.max=e===Number.NEGATIVE_INFINITY?0:e,a.handleTickRangeOptions()},getTickLimit:function(){var a=this.options.ticks,d=b.getValueOrDefault(a.fontSize,c.defaultFontSize);return Math.min(a.maxTicksLimit?a.maxTicksLimit:11,Math.ceil(this.drawingArea/(1.5*d)))},convertTicksToLabels:function(){var b=this;a.LinearScaleBase.prototype.convertTicksToLabels.call(b),b.pointLabels=b.chart.data.labels.map(b.options.pointLabels.callback,b)},getLabelForIndex:function(a,b){return+this.getRightValue(this.chart.data.datasets[b].data[a])},fit:function(){this.options.lineArc?j(this):i(this)},setReductions:function(a,b,c){var d=this,e=b.l/Math.sin(c.l),f=Math.max(b.r-d.width,0)/Math.sin(c.r),g=-b.t/Math.cos(c.t),h=-Math.max(b.b-d.height,0)/Math.cos(c.b);e=p(e),f=p(f),g=p(g),h=p(h),d.drawingArea=Math.min(Math.round(a-(e+f)/2),Math.round(a-(g+h)/2)),d.setCenterPoint(e,f,g,h)},setCenterPoint:function(a,b,c,d){var e=this,f=e.width-b-e.drawingArea,g=a+e.drawingArea,h=c+e.drawingArea,i=e.height-d-e.drawingArea;e.xCenter=Math.round((g+f)/2+e.left),e.yCenter=Math.round((h+i)/2+e.top)},getIndexAngle:function(a){return a*(2*Math.PI/e(this))+(this.chart.options&&this.chart.options.startAngle?this.chart.options.startAngle:0)*Math.PI*2/360},getDistanceFromCenterForValue:function(a){var b=this;if(null===a)return 0;var c=b.drawingArea/(b.max-b.min);return b.options.reverse?(b.max-a)*c:(a-b.min)*c},getPointPosition:function(a,b){var c=this,d=c.getIndexAngle(a)-Math.PI/2;return{x:Math.round(Math.cos(d)*b)+c.xCenter,y:Math.round(Math.sin(d)*b)+c.yCenter}},getPointPositionForValue:function(a,b){return this.getPointPosition(a,this.getDistanceFromCenterForValue(b))},getBasePosition:function(){var a=this,b=a.min,c=a.max;return a.getPointPositionForValue(0,a.beginAtZero?0:b<0&&c<0?c:b>0&&c>0?b:0)},draw:function(){var a=this,d=a.options,e=d.gridLines,f=d.ticks,g=b.getValueOrDefault;if(d.display){var h=a.ctx,i=g(f.fontSize,c.defaultFontSize),j=g(f.fontStyle,c.defaultFontStyle),k=g(f.fontFamily,c.defaultFontFamily),l=b.fontString(i,j,k);b.each(a.ticks,function(b,j){if(j>0||d.reverse){var k=a.getDistanceFromCenterForValue(a.ticksAsNumbers[j]),m=a.yCenter-k;if(e.display&&0!==j&&o(a,e,k,j),f.display){var n=g(f.fontColor,c.defaultFontColor);if(h.font=l,f.showLabelBackdrop){var p=h.measureText(b).width;h.fillStyle=f.backdropColor,h.fillRect(a.xCenter-p/2-f.backdropPaddingX,m-i/2-f.backdropPaddingY,p+2*f.backdropPaddingX,i+2*f.backdropPaddingY)}h.textAlign="center",h.textBaseline="middle",h.fillStyle=n,h.fillText(b,a.xCenter,m)}}}),d.lineArc||n(a)}}});a.scaleService.registerScaleType("radialLinear",q,d)}},{}],48:[function(a,b,c){"use strict";var d=a(1);d="function"==typeof d?d:window.moment,b.exports=function(a){var b=a.helpers,c={units:[{name:"millisecond",steps:[1,2,5,10,20,50,100,250,500]},{name:"second",steps:[1,2,5,10,30]},{name:"minute",steps:[1,2,5,10,30]},{name:"hour",steps:[1,2,3,6,12]},{name:"day",steps:[1,2,5]},{name:"week",maxStep:4},{name:"month",maxStep:3},{name:"quarter",maxStep:4},{name:"year",maxStep:!1}]},e={position:"bottom",time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm:ss a",hour:"MMM D, hA",day:"ll",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"}},ticks:{autoSkip:!1}},f=a.Scale.extend({initialize:function(){if(!d)throw new Error("Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com");a.Scale.prototype.initialize.call(this)},getLabelMoment:function(a,b){return null===a||null===b?null:void 0!==this.labelMoments[a]?this.labelMoments[a][b]:null},getLabelDiff:function(a,b){var c=this;return null===a||null===b?null:(void 0===c.labelDiffs&&c.buildLabelDiffs(),void 0!==c.labelDiffs[a]?c.labelDiffs[a][b]:null)},getMomentStartOf:function(a){var b=this;return"week"===b.options.time.unit&&!1!==b.options.time.isoWeekday?a.clone().startOf("isoWeek").isoWeekday(b.options.time.isoWeekday):a.clone().startOf(b.tickUnit)},determineDataLimits:function(){var a=this;a.labelMoments=[];var c=[];a.chart.data.labels&&a.chart.data.labels.length>0?(b.each(a.chart.data.labels,function(b){var d=a.parseTime(b);d.isValid()&&(a.options.time.round&&d.startOf(a.options.time.round),c.push(d))},a),a.firstTick=d.min.call(a,c),a.lastTick=d.max.call(a,c)):(a.firstTick=null,a.lastTick=null),b.each(a.chart.data.datasets,function(e,f){var g=[],h=a.chart.isDatasetVisible(f);"object"==typeof e.data[0]&&null!==e.data[0]?b.each(e.data,function(b){var c=a.parseTime(a.getRightValue(b));c.isValid()&&(a.options.time.round&&c.startOf(a.options.time.round),g.push(c),h&&(a.firstTick=null!==a.firstTick?d.min(a.firstTick,c):c,a.lastTick=null!==a.lastTick?d.max(a.lastTick,c):c))},a):g=c,a.labelMoments.push(g)},a),a.options.time.min&&(a.firstTick=a.parseTime(a.options.time.min)),a.options.time.max&&(a.lastTick=a.parseTime(a.options.time.max)),a.firstTick=(a.firstTick||d()).clone(),a.lastTick=(a.lastTick||d()).clone()},buildLabelDiffs:function(){var a=this;a.labelDiffs=[];var c=[];a.chart.data.labels&&a.chart.data.labels.length>0&&b.each(a.chart.data.labels,function(b){var d=a.parseTime(b);d.isValid()&&(a.options.time.round&&d.startOf(a.options.time.round),c.push(d.diff(a.firstTick,a.tickUnit,!0)))},a),b.each(a.chart.data.datasets,function(d){var e=[];"object"==typeof d.data[0]&&null!==d.data[0]?b.each(d.data,function(b){var c=a.parseTime(a.getRightValue(b));c.isValid()&&(a.options.time.round&&c.startOf(a.options.time.round),e.push(c.diff(a.firstTick,a.tickUnit,!0)))},a):e=c,a.labelDiffs.push(e)},a)},buildTicks:function(){var d=this;d.ctx.save();var e=b.getValueOrDefault(d.options.ticks.fontSize,a.defaults.global.defaultFontSize),f=b.getValueOrDefault(d.options.ticks.fontStyle,a.defaults.global.defaultFontStyle),g=b.getValueOrDefault(d.options.ticks.fontFamily,a.defaults.global.defaultFontFamily),h=b.fontString(e,f,g);if(d.ctx.font=h,d.ticks=[],d.unitScale=1,d.scaleSizeInUnits=0,d.options.time.unit)d.tickUnit=d.options.time.unit||"day",d.displayFormat=d.options.time.displayFormats[d.tickUnit],d.scaleSizeInUnits=d.lastTick.diff(d.firstTick,d.tickUnit,!0),d.unitScale=b.getValueOrDefault(d.options.time.unitStepSize,1);else{var i=d.isHorizontal()?d.width:d.height,j=d.tickFormatFunction(d.firstTick,0,[]),k=d.ctx.measureText(j).width;k=k*Math.cos(b.toRadians(d.options.ticks.maxRotation))+e*Math.sin(b.toRadians(d.options.ticks.maxRotation));var n=i/k;d.tickUnit=d.options.time.minUnit,d.scaleSizeInUnits=d.lastTick.diff(d.firstTick,d.tickUnit,!0),d.displayFormat=d.options.time.displayFormats[d.tickUnit];for(var o=0,p=c.units[o];o<c.units.length;){if(d.unitScale=1,b.isArray(p.steps)&&Math.ceil(d.scaleSizeInUnits/n)<b.max(p.steps)){for(var q=0;q<p.steps.length;++q)if(p.steps[q]>=Math.ceil(d.scaleSizeInUnits/n)){d.unitScale=b.getValueOrDefault(d.options.time.unitStepSize,p.steps[q]);break}break}if(!1===p.maxStep||Math.ceil(d.scaleSizeInUnits/n)<p.maxStep){d.unitScale=b.getValueOrDefault(d.options.time.unitStepSize,Math.ceil(d.scaleSizeInUnits/n));break}++o,p=c.units[o],d.tickUnit=p.name;var r=d.firstTick.diff(d.getMomentStartOf(d.firstTick),d.tickUnit,!0),s=d.getMomentStartOf(d.lastTick.clone().add(1,d.tickUnit)).diff(d.lastTick,d.tickUnit,!0);d.scaleSizeInUnits=d.lastTick.diff(d.firstTick,d.tickUnit,!0)+r+s,d.displayFormat=d.options.time.displayFormats[p.name]}}var t;if(d.options.time.min?t=d.getMomentStartOf(d.firstTick):(d.firstTick=d.getMomentStartOf(d.firstTick),t=d.firstTick),!d.options.time.max){var u=d.getMomentStartOf(d.lastTick),v=u.diff(d.lastTick,d.tickUnit,!0);v<0?d.lastTick=d.getMomentStartOf(d.lastTick.add(1,d.tickUnit)):v>=0&&(d.lastTick=u),d.scaleSizeInUnits=d.lastTick.diff(d.firstTick,d.tickUnit,!0)}d.options.time.displayFormat&&(d.displayFormat=d.options.time.displayFormat),d.ticks.push(d.firstTick.clone());for(var w=d.unitScale;w<=d.scaleSizeInUnits;w+=d.unitScale){var x=t.clone().add(w,d.tickUnit);if(d.options.time.max&&x.diff(d.lastTick,d.tickUnit,!0)>=0)break;d.ticks.push(x)}0===d.ticks[d.ticks.length-1].diff(d.lastTick,d.tickUnit)&&0!==d.scaleSizeInUnits||(d.options.time.max?(d.ticks.push(d.lastTick.clone()),d.scaleSizeInUnits=d.lastTick.diff(d.ticks[0],d.tickUnit,!0)):(d.ticks.push(d.lastTick.clone()),d.scaleSizeInUnits=d.lastTick.diff(d.firstTick,d.tickUnit,!0))),d.ctx.restore(),d.labelDiffs=void 0},getLabelForIndex:function(a,b){var c=this,d=c.chart.data.labels&&a<c.chart.data.labels.length?c.chart.data.labels[a]:"",e=c.chart.data.datasets[b].data[a];return null!==e&&"object"==typeof e&&(d=c.getRightValue(e)),c.options.time.tooltipFormat&&(d=c.parseTime(d).format(c.options.time.tooltipFormat)),d},tickFormatFunction:function(a,c,d){var e=a.format(this.displayFormat),f=this.options.ticks,g=b.getValueOrDefault(f.callback,f.userCallback);return g?g(e,c,d):e},convertTicksToLabels:function(){var a=this;a.tickMoments=a.ticks,a.ticks=a.ticks.map(a.tickFormatFunction,a)},getPixelForValue:function(a,b,c){var d=this,e=null;if(void 0!==b&&void 0!==c&&(e=d.getLabelDiff(c,b)),null===e&&(a&&a.isValid||(a=d.parseTime(d.getRightValue(a))),a&&a.isValid&&a.isValid()&&(e=a.diff(d.firstTick,d.tickUnit,!0))),null!==e){var f=0!==e?e/d.scaleSizeInUnits:e;if(d.isHorizontal()){var g=d.width*f;return d.left+Math.round(g)}var h=d.height*f;return d.top+Math.round(h)}},getPixelForTick:function(a){return this.getPixelForValue(this.tickMoments[a],null,null)},getValueForPixel:function(a){var b=this,c=b.isHorizontal()?b.width:b.height,e=(a-(b.isHorizontal()?b.left:b.top))/c;return e*=b.scaleSizeInUnits,b.firstTick.clone().add(d.duration(e,b.tickUnit).asSeconds(),"seconds")},parseTime:function(a){var b=this;return"string"==typeof b.options.time.parser?d(a,b.options.time.parser):"function"==typeof b.options.time.parser?b.options.time.parser(a):"function"==typeof a.getMonth||"number"==typeof a?d(a):a.isValid&&a.isValid()?a:"string"!=typeof b.options.time.format&&b.options.time.format.call?(console.warn("options.time.format is deprecated and replaced by options.time.parser. See http://nnnick.github.io/Chart.js/docs-v2/#scales-time-scale"),b.options.time.format(a)):d(a,b.options.time.format)}});a.scaleService.registerScaleType("time",f,e)}},{1:1}]},{},[7])(7)}),function(a,b){"function"==typeof define&&define.amd?define("Chartist",[],function(){return a.Chartist=b()}):"object"==typeof exports?module.exports=b():a.Chartist=b()}(this,function(){var a={version:"0.10.0"};return function(a,b,c){"use strict";c.namespaces={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",ct:"http://gionkunz.github.com/chartist-js/ct"},c.noop=function(a){return a},c.alphaNumerate=function(a){return String.fromCharCode(97+a%26)},c.extend=function(a){var b,d,e;for(a=a||{},b=1;b<arguments.length;b++){d=arguments[b];for(var f in d)e=d[f],"object"!=typeof e||null===e||e instanceof Array?a[f]=e:a[f]=c.extend(a[f],e)}return a},c.replaceAll=function(a,b,c){return a.replace(new RegExp(b,"g"),c)},c.ensureUnit=function(a,b){return"number"==typeof a&&(a+=b),a},c.quantity=function(a){if("string"==typeof a){var b=/^(\d+)\s*(.*)$/g.exec(a);return{value:+b[1],unit:b[2]||void 0}}return{value:a}},c.querySelector=function(a){return a instanceof Node?a:b.querySelector(a)},c.times=function(a){return Array.apply(null,new Array(a))},c.sum=function(a,b){return a+(b||0)},c.mapMultiply=function(a){return function(b){return b*a}},c.mapAdd=function(a){return function(b){return b+a}},c.serialMap=function(a,b){var d=[],e=Math.max.apply(null,a.map(function(a){return a.length}));return c.times(e).forEach(function(c,e){var f=a.map(function(a){return a[e]});d[e]=b.apply(null,f)}),d},c.roundWithPrecision=function(a,b){var d=Math.pow(10,b||c.precision);return Math.round(a*d)/d},c.precision=8,c.escapingMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"},c.serialize=function(a){return null===a||void 0===a?a:("number"==typeof a?a=""+a:"object"==typeof a&&(a=JSON.stringify({data:a})),Object.keys(c.escapingMap).reduce(function(a,b){return c.replaceAll(a,b,c.escapingMap[b])},a))},c.deserialize=function(a){if("string"!=typeof a)return a;a=Object.keys(c.escapingMap).reduce(function(a,b){return c.replaceAll(a,c.escapingMap[b],b)},a);try{a=JSON.parse(a),a=void 0!==a.data?a.data:a}catch(a){}return a},c.createSvg=function(a,b,d,e){var f;return b=b||"100%",d=d||"100%",Array.prototype.slice.call(a.querySelectorAll("svg")).filter(function(b){return b.getAttributeNS(c.namespaces.xmlns,"ct")}).forEach(function(c){a.removeChild(c)}),f=new c.Svg("svg").attr({width:b,height:d}).addClass(e).attr({style:"width: "+b+"; height: "+d+";"}),a.appendChild(f._node),f},c.normalizeData=function(a,b,d){var e,f={raw:a,normalized:{}};return f.normalized.series=c.getDataArray({series:a.series||[]},b,d),e=f.normalized.series.every(function(a){return a instanceof Array})?Math.max.apply(null,f.normalized.series.map(function(a){return a.length})):f.normalized.series.length,f.normalized.labels=(a.labels||[]).slice(),Array.prototype.push.apply(f.normalized.labels,c.times(Math.max(0,e-f.normalized.labels.length)).map(function(){return""})),b&&c.reverseData(f.normalized),f},c.safeHasProperty=function(a,b){return null!==a&&"object"==typeof a&&a.hasOwnProperty(b)},c.isDataHoleValue=function(a){return null===a||void 0===a||"number"==typeof a&&isNaN(a)},c.reverseData=function(a){a.labels.reverse(),a.series.reverse();for(var b=0;b<a.series.length;b++)"object"==typeof a.series[b]&&void 0!==a.series[b].data?a.series[b].data.reverse():a.series[b]instanceof Array&&a.series[b].reverse()},c.getDataArray=function(a,b,d){function e(a){if(c.safeHasProperty(a,"value"))return e(a.value);if(c.safeHasProperty(a,"data"))return e(a.data);if(a instanceof Array)return a.map(e);if(!c.isDataHoleValue(a)){if(d){var b={};return"string"==typeof d?b[d]=c.getNumberOrUndefined(a):b.y=c.getNumberOrUndefined(a),b.x=a.hasOwnProperty("x")?c.getNumberOrUndefined(a.x):b.x,b.y=a.hasOwnProperty("y")?c.getNumberOrUndefined(a.y):b.y,b}return c.getNumberOrUndefined(a)}}return a.series.map(e)},c.normalizePadding=function(a,b){return b=b||0,"number"==typeof a?{top:a,right:a,bottom:a,left:a}:{top:"number"==typeof a.top?a.top:b,right:"number"==typeof a.right?a.right:b,bottom:"number"==typeof a.bottom?a.bottom:b,left:"number"==typeof a.left?a.left:b}},c.getMetaData=function(a,b){var c=a.data?a.data[b]:a[b];return c?c.meta:void 0},c.orderOfMagnitude=function(a){return Math.floor(Math.log(Math.abs(a))/Math.LN10)},c.projectLength=function(a,b,c){return b/c.range*a},c.getAvailableHeight=function(a,b){return Math.max((c.quantity(b.height).value||a.height())-(b.chartPadding.top+b.chartPadding.bottom)-b.axisX.offset,0)},c.getHighLow=function(a,b,d){function h(a){if(void 0!==a)if(a instanceof Array)for(var b=0;b<a.length;b++)h(a[b]);else{var c=d?+a[d]:+a;f&&c>e.high&&(e.high=c),g&&c<e.low&&(e.low=c)}}b=c.extend({},b,d?b["axis"+d.toUpperCase()]:{});var e={high:void 0===b.high?-Number.MAX_VALUE:+b.high,low:void 0===b.low?Number.MAX_VALUE:+b.low},f=void 0===b.high,g=void 0===b.low;return(f||g)&&h(a),(b.referenceValue||0===b.referenceValue)&&(e.high=Math.max(b.referenceValue,e.high),e.low=Math.min(b.referenceValue,e.low)),e.high<=e.low&&(0===e.low?e.high=1:e.low<0?e.high=0:e.high>0?e.low=0:(e.high=1,e.low=0)),e},c.isNumeric=function(a){return null!==a&&isFinite(a)},c.isFalseyButZero=function(a){return!a&&0!==a},c.getNumberOrUndefined=function(a){return c.isNumeric(a)?+a:void 0},c.isMultiValue=function(a){return"object"==typeof a&&("x"in a||"y"in a)},c.getMultiValue=function(a,b){return c.isMultiValue(a)?c.getNumberOrUndefined(a[b||"y"]):c.getNumberOrUndefined(a)},c.rho=function(a){function b(a,c){return a%c==0?c:b(c,a%c)}function c(a){return a*a+1}if(1===a)return a;var f,d=2,e=2;if(a%2==0)return 2;do{d=c(d)%a,e=c(c(e))%a,f=b(Math.abs(d-e),a)}while(1===f);return f},c.getBounds=function(a,b,d,e){function o(a,b){return a===(a+=b)&&(a*=1+(b>0?n:-n)),a}var f,h,i,g=0,j={high:b.high,low:b.low};j.valueRange=j.high-j.low,j.oom=c.orderOfMagnitude(j.valueRange),j.step=Math.pow(10,j.oom),j.min=Math.floor(j.low/j.step)*j.step,j.max=Math.ceil(j.high/j.step)*j.step,j.range=j.max-j.min,j.numberOfSteps=Math.round(j.range/j.step);var k=c.projectLength(a,j.step,j),l=k<d,m=e?c.rho(j.range):0;if(e&&c.projectLength(a,1,j)>=d)j.step=1;else if(e&&m<j.step&&c.projectLength(a,m,j)>=d)j.step=m;else for(;;){if(l&&c.projectLength(a,j.step,j)<=d)j.step*=2;else{if(l||!(c.projectLength(a,j.step/2,j)>=d))break;if(j.step/=2,e&&j.step%1!=0){j.step*=2;break}}if(g++>1e3)throw new Error("Exceeded maximum number of iterations while optimizing scale step!")}var n=2.221e-16;for(j.step=Math.max(j.step,n),h=j.min,i=j.max;h+j.step<=j.low;)h=o(h,j.step);for(;i-j.step>=j.high;)i=o(i,-j.step);j.min=h,j.max=i,j.range=j.max-j.min;var p=[];for(f=j.min;f<=j.max;f=o(f,j.step)){var q=c.roundWithPrecision(f);q!==p[p.length-1]&&p.push(q)}return j.values=p,j},c.polarToCartesian=function(a,b,c,d){var e=(d-90)*Math.PI/180;return{x:a+c*Math.cos(e),y:b+c*Math.sin(e)}},c.createChartRect=function(a,b,d){var e=!(!b.axisX&&!b.axisY),f=e?b.axisY.offset:0,g=e?b.axisX.offset:0,h=a.width()||c.quantity(b.width).value||0,i=a.height()||c.quantity(b.height).value||0,j=c.normalizePadding(b.chartPadding,d);h=Math.max(h,f+j.left+j.right),i=Math.max(i,g+j.top+j.bottom);var k={padding:j,width:function(){return this.x2-this.x1},height:function(){return this.y1-this.y2}};return e?("start"===b.axisX.position?(k.y2=j.top+g,k.y1=Math.max(i-j.bottom,k.y2+1)):(k.y2=j.top,k.y1=Math.max(i-j.bottom-g,k.y2+1)),"start"===b.axisY.position?(k.x1=j.left+f,k.x2=Math.max(h-j.right,k.x1+1)):(k.x1=j.left,k.x2=Math.max(h-j.right-f,k.x1+1))):(k.x1=j.left,k.x2=Math.max(h-j.right,k.x1+1),k.y2=j.top,k.y1=Math.max(i-j.bottom,k.y2+1)),k},c.createGrid=function(a,b,d,e,f,g,h,i){var j={};j[d.units.pos+"1"]=a,j[d.units.pos+"2"]=a,j[d.counterUnits.pos+"1"]=e,j[d.counterUnits.pos+"2"]=e+f;var k=g.elem("line",j,h.join(" "));i.emit("draw",c.extend({type:"grid",axis:d,index:b,group:g,element:k},j))},c.createGridBackground=function(a,b,c,d){var e=a.elem("rect",{x:b.x1,y:b.y2,width:b.width(),height:b.height()},c,!0);d.emit("draw",{type:"gridBackground",group:a,element:e})},c.createLabel=function(a,b,d,e,f,g,h,i,j,k,l){var m,n={};if(n[f.units.pos]=a+h[f.units.pos],n[f.counterUnits.pos]=h[f.counterUnits.pos],n[f.units.len]=b,n[f.counterUnits.len]=Math.max(0,g-10),k){var o='<span class="'+j.join(" ")+'" style="'+f.units.len+": "+Math.round(n[f.units.len])+"px; "+f.counterUnits.len+": "+Math.round(n[f.counterUnits.len])+'px">'+e[d]+"</span>";m=i.foreignObject(o,c.extend({style:"overflow: visible;"},n))}else m=i.elem("text",n,j.join(" ")).text(e[d]);l.emit("draw",c.extend({type:"label",axis:f,index:d,group:i,element:m,text:e[d]},n))},c.getSeriesOption=function(a,b,c){if(a.name&&b.series&&b.series[a.name]){var d=b.series[a.name];return d.hasOwnProperty(c)?d[c]:b[c]}return b[c]},c.optionsProvider=function(b,d,e){function j(b){var h=g;if(g=c.extend({},f),d)for(i=0;i<d.length;i++){var j=a.matchMedia(d[i][0]);j.matches&&(g=c.extend(g,d[i][1]))}e&&b&&e.emit("optionsChanged",{previousOptions:h,currentOptions:g})}function k(){h.forEach(function(a){a.removeListener(j)})}var g,i,f=c.extend({},b),h=[];if(!a.matchMedia)throw"window.matchMedia not found! Make sure you're using a polyfill.";if(d)for(i=0;i<d.length;i++){var l=a.matchMedia(d[i][0]);l.addListener(j),h.push(l)}return j(),{removeMediaQueryListeners:k,getCurrentOptions:function(){return c.extend({},g)}}},c.splitIntoSegments=function(a,b,d){var e={increasingX:!1,fillHoles:!1};d=c.extend({},e,d);for(var f=[],g=!0,h=0;h<a.length;h+=2)void 0===c.getMultiValue(b[h/2].value)?d.fillHoles||(g=!0):(d.increasingX&&h>=2&&a[h]<=a[h-2]&&(g=!0),g&&(f.push({pathCoordinates:[],valueData:[]}),g=!1),f[f.length-1].pathCoordinates.push(a[h],a[h+1]),f[f.length-1].valueData.push(b[h/2]));return f}}(window,document,a),function(a,b,c){"use strict";c.Interpolation={},c.Interpolation.none=function(a){var b={fillHoles:!1};return a=c.extend({},b,a),function(d,e){for(var f=new c.Svg.Path,g=!0,h=0;h<d.length;h+=2){var i=d[h],j=d[h+1],k=e[h/2];void 0!==c.getMultiValue(k.value)?(g?f.move(i,j,!1,k):f.line(i,j,!1,k),g=!1):a.fillHoles||(g=!0)}return f}},c.Interpolation.simple=function(a){var b={divisor:2,fillHoles:!1};a=c.extend({},b,a);var d=1/Math.max(1,a.divisor);return function(e,f){for(var h,i,j,g=new c.Svg.Path,k=0;k<e.length;k+=2){var l=e[k],m=e[k+1],n=(l-h)*d,o=f[k/2];void 0!==o.value?(void 0===j?g.move(l,m,!1,o):g.curve(h+n,i,l-n,m,l,m,!1,o),h=l,i=m,j=o):a.fillHoles||(h=l=j=void 0)}return g}},c.Interpolation.cardinal=function(a){var b={tension:1,fillHoles:!1};a=c.extend({},b,a);var d=Math.min(1,Math.max(0,a.tension)),e=1-d;return function b(f,g){var h=c.splitIntoSegments(f,g,{fillHoles:a.fillHoles});if(h.length){if(h.length>1){var i=[];return h.forEach(function(a){i.push(b(a.pathCoordinates,a.valueData))}),c.Svg.Path.join(i)}if(f=h[0].pathCoordinates,g=h[0].valueData,f.length<=4)return c.Interpolation.none()(f,g);for(var k,j=(new c.Svg.Path).move(f[0],f[1],!1,g[0]),l=0,m=f.length;m-2*!k>l;l+=2){var n=[{x:+f[l-2],y:+f[l-1]},{x:+f[l],y:+f[l+1]},{x:+f[l+2],y:+f[l+3]},{x:+f[l+4],y:+f[l+5]}];k?l?m-4===l?n[3]={x:+f[0],y:+f[1]}:m-2===l&&(n[2]={x:+f[0],y:+f[1]},n[3]={x:+f[2],y:+f[3]}):n[0]={x:+f[m-2],y:+f[m-1]}:m-4===l?n[3]=n[2]:l||(n[0]={x:+f[l],y:+f[l+1]}),j.curve(d*(-n[0].x+6*n[1].x+n[2].x)/6+e*n[2].x,d*(-n[0].y+6*n[1].y+n[2].y)/6+e*n[2].y,d*(n[1].x+6*n[2].x-n[3].x)/6+e*n[2].x,d*(n[1].y+6*n[2].y-n[3].y)/6+e*n[2].y,n[2].x,n[2].y,!1,g[(l+2)/2])}return j}return c.Interpolation.none()([])}},c.Interpolation.monotoneCubic=function(a){var b={fillHoles:!1};return a=c.extend({},b,a),function b(d,e){var f=c.splitIntoSegments(d,e,{fillHoles:a.fillHoles,increasingX:!0});if(f.length){if(f.length>1){var g=[];return f.forEach(function(a){g.push(b(a.pathCoordinates,a.valueData))}),c.Svg.Path.join(g)}if(d=f[0].pathCoordinates,e=f[0].valueData,d.length<=4)return c.Interpolation.none()(d,e);var j,p,h=[],i=[],k=d.length/2,l=[],m=[],n=[],o=[];for(j=0;j<k;j++)h[j]=d[2*j],i[j]=d[2*j+1];for(j=0;j<k-1;j++)n[j]=i[j+1]-i[j],o[j]=h[j+1]-h[j],m[j]=n[j]/o[j];for(l[0]=m[0],l[k-1]=m[k-2],j=1;j<k-1;j++)0===m[j]||0===m[j-1]||m[j-1]>0!=m[j]>0?l[j]=0:(l[j]=3*(o[j-1]+o[j])/((2*o[j]+o[j-1])/m[j-1]+(o[j]+2*o[j-1])/m[j]),isFinite(l[j])||(l[j]=0));for(p=(new c.Svg.Path).move(h[0],i[0],!1,e[0]),j=0;j<k-1;j++)p.curve(h[j]+o[j]/3,i[j]+l[j]*o[j]/3,h[j+1]-o[j]/3,i[j+1]-l[j+1]*o[j]/3,h[j+1],i[j+1],!1,e[j+1]);return p}return c.Interpolation.none()([])}},c.Interpolation.step=function(a){var b={postpone:!0,fillHoles:!1};return a=c.extend({},b,a),function(d,e){for(var g,h,i,f=new c.Svg.Path,j=0;j<d.length;j+=2){var k=d[j],l=d[j+1],m=e[j/2];void 0!==m.value?(void 0===i?f.move(k,l,!1,m):(a.postpone?f.line(k,h,!1,i):f.line(g,l,!1,m),f.line(k,l,!1,m)),g=k,h=l,i=m):a.fillHoles||(g=h=i=void 0)}return f}}}(window,document,a),function(a,b,c){"use strict";c.EventEmitter=function(){function b(b,c){a[b]=a[b]||[],a[b].push(c)}function c(b,c){a[b]&&(c?(a[b].splice(a[b].indexOf(c),1),0===a[b].length&&delete a[b]):delete a[b])}function d(b,c){a[b]&&a[b].forEach(function(a){a(c)}),a["*"]&&a["*"].forEach(function(a){a(b,c)})}var a=[];return{addEventHandler:b,removeEventHandler:c,emit:d}}}(window,document,a),function(a,b,c){"use strict";function d(a){var b=[];if(a.length)for(var c=0;c<a.length;c++)b.push(a[c]);return b}function e(a,b){var d=b||this.prototype||c.Class,e=Object.create(d);c.Class.cloneDefinitions(e,a);var f=function(){var b,a=e.constructor||function(){};return b=this===c?Object.create(e):this,a.apply(b,Array.prototype.slice.call(arguments,0)),b};return f.prototype=e,f.super=d,f.extend=this.extend,f}function f(){var a=d(arguments),b=a[0];return a.splice(1,a.length-1).forEach(function(a){Object.getOwnPropertyNames(a).forEach(function(c){delete b[c],Object.defineProperty(b,c,Object.getOwnPropertyDescriptor(a,c))})}),b}c.Class={extend:e,cloneDefinitions:f}}(window,document,a),function(a,b,c){"use strict";function d(a,b,d){return a&&(this.data=a||{},this.data.labels=this.data.labels||[],this.data.series=this.data.series||[],this.eventEmitter.emit("data",{type:"update",data:this.data})),b&&(this.options=c.extend({},d?this.options:this.defaultOptions,b),this.initializeTimeoutId||(this.optionsProvider.removeMediaQueryListeners(),this.optionsProvider=c.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter))),this.initializeTimeoutId||this.createChart(this.optionsProvider.getCurrentOptions()),this}function e(){return this.initializeTimeoutId?a.clearTimeout(this.initializeTimeoutId):(a.removeEventListener("resize",this.resizeListener),this.optionsProvider.removeMediaQueryListeners()),this}function f(a,b){return this.eventEmitter.addEventHandler(a,b),this}function g(a,b){return this.eventEmitter.removeEventHandler(a,b),this}function h(){a.addEventListener("resize",this.resizeListener),this.optionsProvider=c.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter),this.eventEmitter.addEventHandler("optionsChanged",function(){this.update()}.bind(this)),this.options.plugins&&this.options.plugins.forEach(function(a){a instanceof Array?a[0](this,a[1]):a(this)}.bind(this)),this.eventEmitter.emit("data",{type:"initial",data:this.data}),this.createChart(this.optionsProvider.getCurrentOptions()),this.initializeTimeoutId=void 0}function i(a,b,d,e,f){this.container=c.querySelector(a),this.data=b||{},this.data.labels=this.data.labels||[],this.data.series=this.data.series||[],this.defaultOptions=d,this.options=e,this.responsiveOptions=f,this.eventEmitter=c.EventEmitter(),this.supportsForeignObject=c.Svg.isSupported("Extensibility"),this.supportsAnimations=c.Svg.isSupported("AnimationEventsAttribute"),this.resizeListener=function(){this.update()}.bind(this),this.container&&(this.container.__chartist__&&this.container.__chartist__.detach(),this.container.__chartist__=this),this.initializeTimeoutId=setTimeout(h.bind(this),0)}c.Base=c.Class.extend({constructor:i,optionsProvider:void 0,container:void 0,svg:void 0,eventEmitter:void 0,createChart:function(){throw new Error("Base chart type can't be instantiated!")},update:d,detach:e,on:f,off:g,version:c.version,supportsForeignObject:!1})}(window,document,a),function(a,b,c){"use strict";function d(a,d,e,f,g){a instanceof Element?this._node=a:(this._node=b.createElementNS(c.namespaces.svg,a),"svg"===a&&this.attr({"xmlns:ct":c.namespaces.ct})),d&&this.attr(d),e&&this.addClass(e),f&&(g&&f._node.firstChild?f._node.insertBefore(this._node,f._node.firstChild):f._node.appendChild(this._node))}function e(a,b){return"string"==typeof a?b?this._node.getAttributeNS(b,a):this._node.getAttribute(a):(Object.keys(a).forEach(function(b){if(void 0!==a[b])if(-1!==b.indexOf(":")){var d=b.split(":");this._node.setAttributeNS(c.namespaces[d[0]],b,a[b])}else this._node.setAttribute(b,a[b])}.bind(this)),this)}function f(a,b,d,e){return new c.Svg(a,b,d,this,e)}function g(){return this._node.parentNode instanceof SVGElement?new c.Svg(this._node.parentNode):null}function h(){for(var a=this._node;"svg"!==a.nodeName;)a=a.parentNode;return new c.Svg(a)}function i(a){var b=this._node.querySelector(a);return b?new c.Svg(b):null}function j(a){var b=this._node.querySelectorAll(a);return b.length?new c.Svg.List(b):null}function k(){return this._node}function l(a,d,e,f){if("string"==typeof a){var g=b.createElement("div");g.innerHTML=a,a=g.firstChild}a.setAttribute("xmlns",c.namespaces.xmlns);var h=this.elem("foreignObject",d,e,f);return h._node.appendChild(a),h}function m(a){return this._node.appendChild(b.createTextNode(a)),this}function n(){for(;this._node.firstChild;)this._node.removeChild(this._node.firstChild);return this}function o(){return this._node.parentNode.removeChild(this._node),this.parent()}function p(a){return this._node.parentNode.replaceChild(a._node,this._node),a}function q(a,b){return b&&this._node.firstChild?this._node.insertBefore(a._node,this._node.firstChild):this._node.appendChild(a._node),this}function r(){return this._node.getAttribute("class")?this._node.getAttribute("class").trim().split(/\s+/):[]}function s(a){return this._node.setAttribute("class",this.classes(this._node).concat(a.trim().split(/\s+/)).filter(function(a,b,c){return c.indexOf(a)===b}).join(" ")),this}function t(a){var b=a.trim().split(/\s+/);return this._node.setAttribute("class",this.classes(this._node).filter(function(a){return-1===b.indexOf(a)}).join(" ")),this}function u(){return this._node.setAttribute("class",""),this}function v(){return this._node.getBoundingClientRect().height}function w(){return this._node.getBoundingClientRect().width}function x(a,b,d){return void 0===b&&(b=!0),Object.keys(a).forEach(function(f){function g(a,b){var g,h,i,e={};a.easing&&(i=a.easing instanceof Array?a.easing:c.Svg.Easing[a.easing],delete a.easing),a.begin=c.ensureUnit(a.begin,"ms"),a.dur=c.ensureUnit(a.dur,"ms"),i&&(a.calcMode="spline",a.keySplines=i.join(" "),a.keyTimes="0;1"),b&&(a.fill="freeze",e[f]=a.from,this.attr(e),h=c.quantity(a.begin||0).value,a.begin="indefinite"),g=this.elem("animate",c.extend({attributeName:f},a)),b&&setTimeout(function(){try{g._node.beginElement()}catch(b){e[f]=a.to,this.attr(e),g.remove()}}.bind(this),h),d&&g._node.addEventListener("beginEvent",function(){d.emit("animationBegin",{element:this,animate:g._node,params:a})}.bind(this)),g._node.addEventListener("endEvent",function(){d&&d.emit("animationEnd",{element:this,animate:g._node,params:a}),b&&(e[f]=a.to,this.attr(e),g.remove())}.bind(this))}a[f]instanceof Array?a[f].forEach(function(a){g.bind(this)(a,!1)}.bind(this)):g.bind(this)(a[f],b)}.bind(this)),this}function z(a){var b=this;this.svgElements=[];for(var d=0;d<a.length;d++)this.svgElements.push(new c.Svg(a[d]));Object.keys(c.Svg.prototype).filter(function(a){return-1===["constructor","parent","querySelector","querySelectorAll","replace","append","classes","height","width"].indexOf(a)}).forEach(function(a){b[a]=function(){var d=Array.prototype.slice.call(arguments,0);return b.svgElements.forEach(function(b){c.Svg.prototype[a].apply(b,d)}),b}})}c.Svg=c.Class.extend({constructor:d,attr:e,elem:f,parent:g,root:h,querySelector:i,querySelectorAll:j,getNode:k,foreignObject:l,text:m,empty:n,remove:o,replace:p,append:q,classes:r,addClass:s,removeClass:t,removeAllClasses:u,height:v,width:w,animate:x}),c.Svg.isSupported=function(a){return b.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#"+a,"1.1")};var y={easeInSine:[.47,0,.745,.715],easeOutSine:[.39,.575,.565,1],easeInOutSine:[.445,.05,.55,.95],easeInQuad:[.55,.085,.68,.53],easeOutQuad:[.25,.46,.45,.94],easeInOutQuad:[.455,.03,.515,.955],easeInCubic:[.55,.055,.675,.19],easeOutCubic:[.215,.61,.355,1],easeInOutCubic:[.645,.045,.355,1],easeInQuart:[.895,.03,.685,.22],easeOutQuart:[.165,.84,.44,1],easeInOutQuart:[.77,0,.175,1],easeInQuint:[.755,.05,.855,.06],easeOutQuint:[.23,1,.32,1],easeInOutQuint:[.86,0,.07,1],easeInExpo:[.95,.05,.795,.035],easeOutExpo:[.19,1,.22,1],easeInOutExpo:[1,0,0,1],easeInCirc:[.6,.04,.98,.335],easeOutCirc:[.075,.82,.165,1],easeInOutCirc:[.785,.135,.15,.86],easeInBack:[.6,-.28,.735,.045],easeOutBack:[.175,.885,.32,1.275],easeInOutBack:[.68,-.55,.265,1.55]};c.Svg.Easing=y,c.Svg.List=c.Class.extend({constructor:z})}(window,document,a),function(a,b,c){"use strict";function f(a,b,d,e,f,g){var h=c.extend({command:f?a.toLowerCase():a.toUpperCase()},b,g?{data:g}:{});d.splice(e,0,h)}function g(a,b){a.forEach(function(c,e){d[c.command.toLowerCase()].forEach(function(d,f){b(c,d,e,f,a)})})}function h(a,b){this.pathElements=[],this.pos=0,this.close=a,this.options=c.extend({},e,b)}function i(a){return void 0!==a?(this.pos=Math.max(0,Math.min(this.pathElements.length,a)),this):this.pos}function j(a){return this.pathElements.splice(this.pos,a),this}function k(a,b,c,d){return f("M",{x:+a,y:+b},this.pathElements,this.pos++,c,d),this}function l(a,b,c,d){return f("L",{x:+a,y:+b},this.pathElements,this.pos++,c,d),this}function m(a,b,c,d,e,g,h,i){return f("C",{x1:+a,y1:+b,x2:+c,y2:+d,x:+e,y:+g},this.pathElements,this.pos++,h,i),this}function n(a,b,c,d,e,g,h,i,j){return f("A",{rx:+a,ry:+b,xAr:+c,lAf:+d,sf:+e,x:+g,y:+h},this.pathElements,this.pos++,i,j),this}function o(a){var b=a.replace(/([A-Za-z])([0-9])/g,"$1 $2").replace(/([0-9])([A-Za-z])/g,"$1 $2").split(/[\s,]+/).reduce(function(a,b){return b.match(/[A-Za-z]/)&&a.push([]),a[a.length-1].push(b),a},[]);"Z"===b[b.length-1][0].toUpperCase()&&b.pop();var e=b.map(function(a){var b=a.shift(),e=d[b.toLowerCase()];return c.extend({command:b},e.reduce(function(b,c,d){return b[c]=+a[d],b},{}))}),f=[this.pos,0];return Array.prototype.push.apply(f,e),Array.prototype.splice.apply(this.pathElements,f),this.pos+=e.length,this}function p(){var a=Math.pow(10,this.options.accuracy);return this.pathElements.reduce(function(b,c){var e=d[c.command.toLowerCase()].map(function(b){return this.options.accuracy?Math.round(c[b]*a)/a:c[b]}.bind(this));return b+c.command+e.join(",")}.bind(this),"")+(this.close?"Z":"")}function q(a,b){return g(this.pathElements,function(c,d){c[d]*="x"===d[0]?a:b}),this}function r(a,b){return g(this.pathElements,function(c,d){c[d]+="x"===d[0]?a:b}),this}function s(a){return g(this.pathElements,function(b,c,d,e,f){var g=a(b,c,d,e,f);(g||0===g)&&(b[c]=g)}),this}function t(a){var b=new c.Svg.Path(a||this.close);return b.pos=this.pos,b.pathElements=this.pathElements.slice().map(function(b){return c.extend({},b)}),b.options=c.extend({},this.options),b}function u(a){var b=[new c.Svg.Path];return this.pathElements.forEach(function(d){d.command===a.toUpperCase()&&0!==b[b.length-1].pathElements.length&&b.push(new c.Svg.Path),b[b.length-1].pathElements.push(d)}),b}function v(a,b,d){for(var e=new c.Svg.Path(b,d),f=0;f<a.length;f++)for(var g=a[f],h=0;h<g.pathElements.length;h++)e.pathElements.push(g.pathElements[h]);return e}var d={m:["x","y"],l:["x","y"],c:["x1","y1","x2","y2","x","y"],a:["rx","ry","xAr","lAf","sf","x","y"]},e={accuracy:3};c.Svg.Path=c.Class.extend({constructor:h,position:i,remove:j,move:k,line:l,curve:m,arc:n,scale:q,translate:r,transform:s,parse:o,stringify:p,clone:t,splitByCommand:u}),c.Svg.Path.elementDescriptions=d,c.Svg.Path.join=v}(window,document,a),function(a,b,c){"use strict";function e(a,b,c,e){this.units=a,this.counterUnits=a===d.x?d.y:d.x,this.chartRect=b,this.axisLength=b[a.rectEnd]-b[a.rectStart],this.gridOffset=b[a.rectOffset],this.ticks=c,this.options=e}function f(a,b,d,e,f){var g=e["axis"+this.units.pos.toUpperCase()],h=this.ticks.map(this.projectValue.bind(this)),i=this.ticks.map(g.labelInterpolationFnc);h.forEach(function(j,k){var m,l={x:0,y:0};m=h[k+1]?h[k+1]-j:Math.max(this.axisLength-j,30),c.isFalseyButZero(i[k])&&""!==i[k]||("x"===this.units.pos?(j=this.chartRect.x1+j,l.x=e.axisX.labelOffset.x,"start"===e.axisX.position?l.y=this.chartRect.padding.top+e.axisX.labelOffset.y+(d?5:20):l.y=this.chartRect.y1+e.axisX.labelOffset.y+(d?5:20)):(j=this.chartRect.y1-j,l.y=e.axisY.labelOffset.y-(d?m:0),"start"===e.axisY.position?l.x=d?this.chartRect.padding.left+e.axisY.labelOffset.x:this.chartRect.x1-10:l.x=this.chartRect.x2+e.axisY.labelOffset.x+10),g.showGrid&&c.createGrid(j,k,this,this.gridOffset,this.chartRect[this.counterUnits.len](),a,[e.classNames.grid,e.classNames[this.units.dir]],f),g.showLabel&&c.createLabel(j,m,k,i,this,g.offset,l,b,[e.classNames.label,e.classNames[this.units.dir],"start"===g.position?e.classNames[g.position]:e.classNames.end],d,f))}.bind(this))}var d={x:{pos:"x",len:"width",dir:"horizontal",rectStart:"x1",rectEnd:"x2",rectOffset:"y2"},y:{pos:"y",len:"height",dir:"vertical",rectStart:"y2",rectEnd:"y1",rectOffset:"x1"}};c.Axis=c.Class.extend({constructor:e,createGridAndLabels:f,projectValue:function(a,b,c){throw new Error("Base axis can't be instantiated!")}}),c.Axis.units=d}(window,document,a),function(a,b,c){"use strict";function d(a,b,d,e){var f=e.highLow||c.getHighLow(b,e,a.pos);this.bounds=c.getBounds(d[a.rectEnd]-d[a.rectStart],f,e.scaleMinSpace||20,e.onlyInteger),this.range={min:this.bounds.min,max:this.bounds.max},c.AutoScaleAxis.super.constructor.call(this,a,d,this.bounds.values,e)}function e(a){return this.axisLength*(+c.getMultiValue(a,this.units.pos)-this.bounds.min)/this.bounds.range}c.AutoScaleAxis=c.Axis.extend({constructor:d,projectValue:e})}(window,document,a),function(a,b,c){"use strict";function d(a,b,d,e){var f=e.highLow||c.getHighLow(b,e,a.pos);this.divisor=e.divisor||1,this.ticks=e.ticks||c.times(this.divisor).map(function(a,b){return f.low+(f.high-f.low)/this.divisor*b}.bind(this)),this.ticks.sort(function(a,b){return a-b}),this.range={min:f.low,max:f.high},c.FixedScaleAxis.super.constructor.call(this,a,d,this.ticks,e),this.stepLength=this.axisLength/this.divisor}function e(a){return this.axisLength*(+c.getMultiValue(a,this.units.pos)-this.range.min)/(this.range.max-this.range.min)}c.FixedScaleAxis=c.Axis.extend({constructor:d,projectValue:e})}(window,document,a),function(a,b,c){"use strict";function d(a,b,d,e){c.StepAxis.super.constructor.call(this,a,d,e.ticks,e);var f=Math.max(1,e.ticks.length-(e.stretch?1:0));this.stepLength=this.axisLength/f}function e(a,b){return this.stepLength*b}c.StepAxis=c.Axis.extend({constructor:d,projectValue:e})}(window,document,a),function(a,b,c){"use strict";function e(a){var b=c.normalizeData(this.data,a.reverseData,!0);this.svg=c.createSvg(this.container,a.width,a.height,a.classNames.chart);var i,j,e=this.svg.elem("g").addClass(a.classNames.gridGroup),f=this.svg.elem("g"),g=this.svg.elem("g").addClass(a.classNames.labelGroup),h=c.createChartRect(this.svg,a,d.padding);i=void 0===a.axisX.type?new c.StepAxis(c.Axis.units.x,b.normalized.series,h,c.extend({},a.axisX,{ticks:b.normalized.labels,stretch:a.fullWidth})):a.axisX.type.call(c,c.Axis.units.x,b.normalized.series,h,a.axisX),j=void 0===a.axisY.type?new c.AutoScaleAxis(c.Axis.units.y,b.normalized.series,h,c.extend({},a.axisY,{high:c.isNumeric(a.high)?a.high:a.axisY.high,low:c.isNumeric(a.low)?a.low:a.axisY.low})):a.axisY.type.call(c,c.Axis.units.y,b.normalized.series,h,a.axisY),i.createGridAndLabels(e,g,this.supportsForeignObject,a,this.eventEmitter),j.createGridAndLabels(e,g,this.supportsForeignObject,a,this.eventEmitter),a.showGridBackground&&c.createGridBackground(e,h,a.classNames.gridBackground,this.eventEmitter),b.raw.series.forEach(function(d,e){var g=f.elem("g");g.attr({"ct:series-name":d.name,"ct:meta":c.serialize(d.meta)}),g.addClass([a.classNames.series,d.className||a.classNames.series+"-"+c.alphaNumerate(e)].join(" "));var k=[],l=[];b.normalized.series[e].forEach(function(a,f){var g={x:h.x1+i.projectValue(a,f,b.normalized.series[e]),y:h.y1-j.projectValue(a,f,b.normalized.series[e])};k.push(g.x,g.y),l.push({value:a,valueIndex:f,meta:c.getMetaData(d,f)})}.bind(this));var m={lineSmooth:c.getSeriesOption(d,a,"lineSmooth"),showPoint:c.getSeriesOption(d,a,"showPoint"),showLine:c.getSeriesOption(d,a,"showLine"),showArea:c.getSeriesOption(d,a,"showArea"),areaBase:c.getSeriesOption(d,a,"areaBase")},n="function"==typeof m.lineSmooth?m.lineSmooth:m.lineSmooth?c.Interpolation.monotoneCubic():c.Interpolation.none(),o=n(k,l);if(m.showPoint&&o.pathElements.forEach(function(b){var f=g.elem("line",{x1:b.x,y1:b.y,x2:b.x+.01,y2:b.y},a.classNames.point).attr({"ct:value":[b.data.value.x,b.data.value.y].filter(c.isNumeric).join(","),"ct:meta":c.serialize(b.data.meta)});this.eventEmitter.emit("draw",{type:"point",value:b.data.value,index:b.data.valueIndex,meta:b.data.meta,series:d,seriesIndex:e,axisX:i,axisY:j,group:g,element:f,x:b.x,y:b.y})}.bind(this)),m.showLine){var p=g.elem("path",{d:o.stringify()},a.classNames.line,!0);this.eventEmitter.emit("draw",{type:"line",values:b.normalized.series[e],path:o.clone(),chartRect:h,index:e,series:d,seriesIndex:e,seriesMeta:d.meta,axisX:i,axisY:j,group:g,element:p})}if(m.showArea&&j.range){var q=Math.max(Math.min(m.areaBase,j.range.max),j.range.min),r=h.y1-j.projectValue(q);o.splitByCommand("M").filter(function(b){return b.pathElements.length>1}).map(function(b){var c=b.pathElements[0],d=b.pathElements[b.pathElements.length-1];return b.clone(!0).position(0).remove(1).move(c.x,r).line(c.x,c.y).position(b.pathElements.length+1).line(d.x,r)}).forEach(function(f){var k=g.elem("path",{d:f.stringify()},a.classNames.area,!0);this.eventEmitter.emit("draw",{type:"area",values:b.normalized.series[e],path:f.clone(),series:d,seriesIndex:e,axisX:i,axisY:j,chartRect:h,index:e,group:g,element:k})}.bind(this))}}.bind(this)),this.eventEmitter.emit("created",{bounds:j.bounds,chartRect:h,axisX:i,axisY:j,svg:this.svg,options:a})}function f(a,b,e,f){c.Line.super.constructor.call(this,a,b,d,c.extend({},d,e),f)}var d={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:c.noop,type:void 0},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:c.noop,type:void 0,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,showLine:!0,showPoint:!0,showArea:!1,areaBase:0,lineSmooth:!0,showGridBackground:!1,low:void 0,high:void 0,chartPadding:{top:15,right:15,bottom:5,left:10},fullWidth:!1,reverseData:!1,classNames:{chart:"ct-chart-line",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",line:"ct-line",point:"ct-point",area:"ct-area",grid:"ct-grid",gridGroup:"ct-grids",gridBackground:"ct-grid-background",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};c.Line=c.Base.extend({constructor:f,createChart:e})}(window,document,a),function(a,b,c){"use strict";function e(a){var b,e;a.distributeSeries?(b=c.normalizeData(this.data,a.reverseData,a.horizontalBars?"x":"y"),b.normalized.series=b.normalized.series.map(function(a){return[a]})):b=c.normalizeData(this.data,a.reverseData,a.horizontalBars?"x":"y"),this.svg=c.createSvg(this.container,a.width,a.height,a.classNames.chart+(a.horizontalBars?" "+a.classNames.horizontalBars:""));var f=this.svg.elem("g").addClass(a.classNames.gridGroup),g=this.svg.elem("g"),h=this.svg.elem("g").addClass(a.classNames.labelGroup);if(a.stackBars&&0!==b.normalized.series.length){var i=c.serialMap(b.normalized.series,function(){return Array.prototype.slice.call(arguments).map(function(a){return a}).reduce(function(a,b){return{x:a.x+(b&&b.x)||0,y:a.y+(b&&b.y)||0}},{x:0,y:0})});e=c.getHighLow([i],a,a.horizontalBars?"x":"y")}else e=c.getHighLow(b.normalized.series,a,a.horizontalBars?"x":"y");e.high=+a.high||(0===a.high?0:e.high),e.low=+a.low||(0===a.low?0:e.low);var k,l,m,n,o,j=c.createChartRect(this.svg,a,d.padding);l=a.distributeSeries&&a.stackBars?b.normalized.labels.slice(0,1):b.normalized.labels,a.horizontalBars?(k=n=void 0===a.axisX.type?new c.AutoScaleAxis(c.Axis.units.x,b.normalized.series,j,c.extend({},a.axisX,{highLow:e,referenceValue:0})):a.axisX.type.call(c,c.Axis.units.x,b.normalized.series,j,c.extend({},a.axisX,{highLow:e,referenceValue:0})),m=o=void 0===a.axisY.type?new c.StepAxis(c.Axis.units.y,b.normalized.series,j,{ticks:l}):a.axisY.type.call(c,c.Axis.units.y,b.normalized.series,j,a.axisY)):(m=n=void 0===a.axisX.type?new c.StepAxis(c.Axis.units.x,b.normalized.series,j,{ticks:l}):a.axisX.type.call(c,c.Axis.units.x,b.normalized.series,j,a.axisX),k=o=void 0===a.axisY.type?new c.AutoScaleAxis(c.Axis.units.y,b.normalized.series,j,c.extend({},a.axisY,{highLow:e,referenceValue:0})):a.axisY.type.call(c,c.Axis.units.y,b.normalized.series,j,c.extend({},a.axisY,{highLow:e,referenceValue:0})));var p=a.horizontalBars?j.x1+k.projectValue(0):j.y1-k.projectValue(0),q=[];m.createGridAndLabels(f,h,this.supportsForeignObject,a,this.eventEmitter),k.createGridAndLabels(f,h,this.supportsForeignObject,a,this.eventEmitter),a.showGridBackground&&c.createGridBackground(f,j,a.classNames.gridBackground,this.eventEmitter),b.raw.series.forEach(function(d,e){var h,i,f=e-(b.raw.series.length-1)/2;h=a.distributeSeries&&!a.stackBars?m.axisLength/b.normalized.series.length/2:a.distributeSeries&&a.stackBars?m.axisLength/2:m.axisLength/b.normalized.series[e].length/2,i=g.elem("g"),i.attr({"ct:series-name":d.name,"ct:meta":c.serialize(d.meta)}),i.addClass([a.classNames.series,d.className||a.classNames.series+"-"+c.alphaNumerate(e)].join(" ")),b.normalized.series[e].forEach(function(g,l){var r,s,t,u;if(u=a.distributeSeries&&!a.stackBars?e:a.distributeSeries&&a.stackBars?0:l,r=a.horizontalBars?{x:j.x1+k.projectValue(g&&g.x?g.x:0,l,b.normalized.series[e]),y:j.y1-m.projectValue(g&&g.y?g.y:0,u,b.normalized.series[e])}:{x:j.x1+m.projectValue(g&&g.x?g.x:0,u,b.normalized.series[e]),y:j.y1-k.projectValue(g&&g.y?g.y:0,l,b.normalized.series[e])},m instanceof c.StepAxis&&(m.options.stretch||(r[m.units.pos]+=h*(a.horizontalBars?-1:1)),r[m.units.pos]+=a.stackBars||a.distributeSeries?0:f*a.seriesBarDistance*(a.horizontalBars?-1:1)),t=q[l]||p,q[l]=t-(p-r[m.counterUnits.pos]),void 0!==g){var v={};v[m.units.pos+"1"]=r[m.units.pos],v[m.units.pos+"2"]=r[m.units.pos],!a.stackBars||"accumulate"!==a.stackMode&&a.stackMode?(v[m.counterUnits.pos+"1"]=p,v[m.counterUnits.pos+"2"]=r[m.counterUnits.pos]):(v[m.counterUnits.pos+"1"]=t,v[m.counterUnits.pos+"2"]=q[l]),v.x1=Math.min(Math.max(v.x1,j.x1),j.x2),v.x2=Math.min(Math.max(v.x2,j.x1),j.x2),v.y1=Math.min(Math.max(v.y1,j.y2),j.y1),v.y2=Math.min(Math.max(v.y2,j.y2),j.y1);var w=c.getMetaData(d,l);s=i.elem("line",v,a.classNames.bar).attr({"ct:value":[g.x,g.y].filter(c.isNumeric).join(","),"ct:meta":c.serialize(w)}),this.eventEmitter.emit("draw",c.extend({type:"bar",value:g,index:l,meta:w,series:d,seriesIndex:e,axisX:n,axisY:o,chartRect:j,group:i,element:s},v))}}.bind(this))}.bind(this)),this.eventEmitter.emit("created",{bounds:k.bounds,chartRect:j,axisX:n,axisY:o,svg:this.svg,options:a})}function f(a,b,e,f){c.Bar.super.constructor.call(this,a,b,d,c.extend({},d,e),f)}var d={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:c.noop,scaleMinSpace:30,onlyInteger:!1},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:c.noop,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,high:void 0,low:void 0,referenceValue:0,chartPadding:{top:15,right:15,bottom:5,left:10},seriesBarDistance:15,stackBars:!1,stackMode:"accumulate",horizontalBars:!1,distributeSeries:!1,reverseData:!1,showGridBackground:!1,classNames:{chart:"ct-chart-bar",horizontalBars:"ct-horizontal-bars",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",bar:"ct-bar",grid:"ct-grid",gridGroup:"ct-grids",gridBackground:"ct-grid-background",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};c.Bar=c.Base.extend({constructor:f,createChart:e})}(window,document,a),function(a,b,c){"use strict";function e(a,b,c){var d=b.x>a.x;return d&&"explode"===c||!d&&"implode"===c?"start":d&&"implode"===c||!d&&"explode"===c?"end":"middle"}function f(a){var g,h,i,j,k,b=c.normalizeData(this.data),f=[],l=a.startAngle;this.svg=c.createSvg(this.container,a.width,a.height,a.donut?a.classNames.chartDonut:a.classNames.chartPie),h=c.createChartRect(this.svg,a,d.padding),i=Math.min(h.width()/2,h.height()/2),k=a.total||b.normalized.series.reduce(function(a,b){return a+b},0);var m=c.quantity(a.donutWidth);"%"===m.unit&&(m.value*=i/100),i-=a.donut?m.value/2:0,j="outside"===a.labelPosition||a.donut?i:"center"===a.labelPosition?0:i/2,j+=a.labelOffset;var n={x:h.x1+h.width()/2,y:h.y2+h.height()/2},o=1===b.raw.series.filter(function(a){return a.hasOwnProperty("value")?0!==a.value:0!==a}).length;b.raw.series.forEach(function(a,b){f[b]=this.svg.elem("g",null,null)}.bind(this)),a.showLabel&&(g=this.svg.elem("g",null,null)),b.raw.series.forEach(function(d,h){if(0!==b.normalized.series[h]||!a.ignoreEmptyValues){f[h].attr({"ct:series-name":d.name}),f[h].addClass([a.classNames.series,d.className||a.classNames.series+"-"+c.alphaNumerate(h)].join(" "));var p=k>0?l+b.normalized.series[h]/k*360:0,q=Math.max(0,l-(0===h||o?0:.2));p-q>=359.99&&(p=q+359.99);var r=c.polarToCartesian(n.x,n.y,i,q),s=c.polarToCartesian(n.x,n.y,i,p),t=new c.Svg.Path(!a.donut).move(s.x,s.y).arc(i,i,0,p-l>180,0,r.x,r.y);a.donut||t.line(n.x,n.y);var u=f[h].elem("path",{d:t.stringify()},a.donut?a.classNames.sliceDonut:a.classNames.slicePie);if(u.attr({"ct:value":b.normalized.series[h],"ct:meta":c.serialize(d.meta)}),a.donut&&u.attr({style:"stroke-width: "+m.value+"px"}),this.eventEmitter.emit("draw",{type:"slice",value:b.normalized.series[h],totalDataSum:k,index:h,meta:d.meta,series:d,group:f[h],element:u,path:t.clone(),center:n,radius:i,startAngle:l,endAngle:p}),a.showLabel){var v;v=1===b.raw.series.length?{x:n.x,y:n.y}:c.polarToCartesian(n.x,n.y,j,l+(p-l)/2);var w;w=b.normalized.labels&&!c.isFalseyButZero(b.normalized.labels[h])?b.normalized.labels[h]:b.normalized.series[h];var x=a.labelInterpolationFnc(w,h);if(x||0===x){var y=g.elem("text",{dx:v.x,dy:v.y,"text-anchor":e(n,v,a.labelDirection)},a.classNames.label).text(""+x);this.eventEmitter.emit("draw",{type:"label",index:h,group:g,element:y,text:""+x,x:v.x,y:v.y})}}l=p}}.bind(this)),this.eventEmitter.emit("created",{chartRect:h,svg:this.svg,options:a})}function g(a,b,e,f){c.Pie.super.constructor.call(this,a,b,d,c.extend({},d,e),f)}var d={width:void 0,height:void 0,chartPadding:5,classNames:{chartPie:"ct-chart-pie",chartDonut:"ct-chart-donut",series:"ct-series",slicePie:"ct-slice-pie",sliceDonut:"ct-slice-donut",label:"ct-label"},startAngle:0,total:void 0,donut:!1,donutWidth:60,showLabel:!0,labelOffset:0,labelPosition:"inside",labelInterpolationFnc:c.noop,labelDirection:"neutral",reverseData:!1,ignoreEmptyValues:!1};c.Pie=c.Base.extend({constructor:g,createChart:f,determineAnchorPosition:e})}(window,document,a),a}),function(a){"use strict";function f(a){this.owner=a}function g(a,b){if(Object.create)b.prototype=Object.create(a.prototype);else{var c=function(){};c.prototype=a.prototype,b.prototype=new c}return b.prototype.constructor=b,b}function h(a){var b=this.internal=new i(this);b.loadConfig(a),b.beforeInit(a),b.init(),b.afterInit(a),function a(b,c,d){Object.keys(b).forEach(function(e){c[e]=b[e].bind(d),Object.keys(b[e]).length>0&&a(b[e],c[e],d)})}(c,this,this)}function i(b){var c=this;c.d3=a.d3?a.d3:"undefined"!=typeof require?require("d3"):void 0,c.api=b,c.config=c.getDefaultConfig(),c.data={},c.cache={},c.axes={}}function j(a){f.call(this,a)}function A(a,b){function n(a,b){a.attr("transform",function(a){return"translate("+Math.ceil(b(a)+k)+", 0)"})}function o(a,b){a.attr("transform",function(a){return"translate(0,"+Math.ceil(b(a))+")"})}function p(a){var b=a[0],c=a[a.length-1];return b<c?[b,c]:[c,b]}function q(a){var b,c,d=[];if(a.ticks)return a.ticks.apply(a,j);for(c=a.domain(),b=Math.ceil(c[0]);b<c[1];b++)d.push(b);return d.length>0&&d[0]>0&&d.unshift(d[0]-(d[1]-d[0])),d}function r(){var d,a=c.copy();return b.isCategory&&(d=c.domain(),a.domain([d[0],d[1]-1])),a}function s(a){var b=i?i(a):a;return void 0!==b?b:""}function t(a){if(z)return z;var b={h:11.5,w:5.5};return a.select("text").text(s).each(function(a){var c=this.getBoundingClientRect(),d=s(a),e=c.height,f=d?c.width/d.length:void 0;e&&f&&(b.h=e,b.w=f)}).text(""),z=b,b}function u(c){return b.withoutTransition?c:a.transition(c)}function v(i){i.each(function(){function R(a,c){function i(a,b){f=void 0;for(var d=1;d<b.length;d++)if(" "===b.charAt(d)&&(f=d),e=b.substr(0,d+1),g=N.w*e.length,c<g)return i(a.concat(b.substr(0,f||d)),b.slice(f?f+1:d));return a.concat(b)}var e,f,g,d=s(a),h=[];return"[object Array]"===Object.prototype.toString.call(d)?d:((!c||c<=0)&&(c=Q?95:b.isCategory?Math.ceil(l(w[1])-l(w[0]))-12:110),i(h,d+""))}function S(a,b){var c=N.h;return 0===b&&(c="left"===d||"right"===d?-((O[a.index]-1)*(N.h/2)-3):".71em"),c}function T(a){var b=c(a)+(m?0:k);return E[0]<b&&b<E[1]?e:0}function V(a){return a?a>0?"start":"end":"middle"}function W(a){return a?"rotate("+a+")":""}function X(a){return a?8*Math.sin(Math.PI*(a/180)):0}function Y(a){return a?11.5-a/15*2.5*(a>0?1:-1):P}var B,C,D,i=v.g=a.select(this),j=this.__chart__||c,l=this.__chart__=r(),w=h||q(l),x=i.selectAll(".tick").data(w,l),y=x.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),z=x.exit().remove(),A=u(x).style("opacity",1),E=c.rangeExtent?c.rangeExtent():p(c.range()),F=i.selectAll(".domain").data([0]),G=(F.enter().append("path").attr("class","domain"),u(F));y.append("line"),y.append("text");var H=y.select("line"),I=A.select("line"),J=y.select("text"),K=A.select("text");b.isCategory?(k=Math.ceil((l(1)-l(0))/2),C=m?0:k,D=m?k:0):k=C=0;var L,M,N=t(i.select(".tick")),O=[],P=Math.max(e,0)+g,Q="left"===d||"right"===d;L=x.select("text"),M=L.selectAll("tspan").data(function(a,c){var d=b.tickMultiline?R(a,b.tickWidth):[].concat(s(a));return O[c]=d.length,d.map(function(a){return{index:c,splitted:a}})}),M.enter().append("tspan"),M.exit().remove(),M.text(function(a){return a.splitted});var U=b.tickTextRotate;switch(d){case"bottom":B=n,H.attr("y2",e),J.attr("y",P),I.attr("x1",C).attr("x2",C).attr("y2",T),K.attr("x",0).attr("y",Y(U)).style("text-anchor",V(U)).attr("transform",W(U)),M.attr("x",0).attr("dy",S).attr("dx",X(U)),G.attr("d","M"+E[0]+","+f+"V0H"+E[1]+"V"+f);break;case"top":B=n,H.attr("y2",-e),J.attr("y",-P),I.attr("x2",0).attr("y2",-e),K.attr("x",0).attr("y",-P),L.style("text-anchor","middle"),M.attr("x",0).attr("dy","0em"),G.attr("d","M"+E[0]+","+-f+"V0H"+E[1]+"V"+-f);break;case"left":B=o,H.attr("x2",-e),J.attr("x",-P),I.attr("x2",-e).attr("y1",D).attr("y2",D),K.attr("x",-P).attr("y",k),L.style("text-anchor","end"),M.attr("x",-P).attr("dy",S),G.attr("d","M"+-f+","+E[0]+"H0V"+E[1]+"H"+-f);break;case"right":B=o,H.attr("x2",e),J.attr("x",P),I.attr("x2",e).attr("y2",0),K.attr("x",P).attr("y",0),L.style("text-anchor","start"),M.attr("x",P).attr("dy",S),G.attr("d","M"+f+","+E[0]+"H0V"+E[1]+"H"+f)}if(l.rangeBand){var Z=l,$=Z.rangeBand()/2;j=l=function(a){return Z(a)+$}}else j.rangeBand?j=l:z.call(B,l);y.call(B,j),A.call(B,l)})}var f,i,j,m,c=a.scale.linear(),d="bottom",e=6,g=3,h=null,k=0,l=!0;return b=b||{},f=b.withOuterTick?6:0,v.scale=function(a){return arguments.length?(c=a,v):c},v.orient=function(a){return arguments.length?(d=a in{top:1,right:1,bottom:1,left:1}?a+"":"bottom",v):d},v.tickFormat=function(a){return arguments.length?(i=a,v):i},v.tickCentered=function(a){return arguments.length?(m=a,v):m},v.tickOffset=function(){return k},v.tickInterval=function(){var a,c;return b.isCategory?a=2*k:(c=v.g.select("path.domain").node().getTotalLength()-2*f,a=c/v.g.selectAll("line").size()),a===1/0?0:a},v.ticks=function(){return arguments.length?(j=arguments,v):j},v.tickCulling=function(a){return arguments.length?(l=a,v):l},v.tickValues=function(a){if("function"==typeof a)h=function(){return a(c.domain())};else{if(!arguments.length)return h;h=a}return v},v}var c,d,b={version:"0.4.11"};b.generate=function(a){return new h(a)},b.chart={fn:h.prototype,internal:{fn:i.prototype,axis:{fn:j.prototype}}},c=b.chart.fn,d=b.chart.internal.fn,b.chart.internal.axis.fn,d.beforeInit=function(){},d.afterInit=function(){},d.init=function(){var a=this,b=a.config;if(a.initParams(),b.data_url)a.convertUrlToData(b.data_url,b.data_mimeType,b.data_headers,b.data_keys,a.initWithData);else if(b.data_json)a.initWithData(a.convertJsonToData(b.data_json,b.data_keys));else if(b.data_rows)a.initWithData(a.convertRowsToData(b.data_rows));else{if(!b.data_columns)throw Error("url or json or rows or columns is required.");a.initWithData(a.convertColumnsToData(b.data_columns))}},d.initParams=function(){var a=this,b=a.d3,c=a.config;a.clipId="c3-"+ +new Date+"-clip",a.clipIdForXAxis=a.clipId+"-xaxis",a.clipIdForYAxis=a.clipId+"-yaxis",a.clipIdForGrid=a.clipId+"-grid",a.clipIdForSubchart=a.clipId+"-subchart",a.clipPath=a.getClipPath(a.clipId),a.clipPathForXAxis=a.getClipPath(a.clipIdForXAxis),a.clipPathForYAxis=a.getClipPath(a.clipIdForYAxis),a.clipPathForGrid=a.getClipPath(a.clipIdForGrid),a.clipPathForSubchart=a.getClipPath(a.clipIdForSubchart),a.dragStart=null,a.dragging=!1,a.flowing=!1,a.cancelClick=!1,a.mouseover=!1,a.transiting=!1,a.color=a.generateColor(),a.levelColor=a.generateLevelColor(),a.dataTimeFormat=c.data_xLocaltime?b.time.format:b.time.format.utc,a.axisTimeFormat=c.axis_x_localtime?b.time.format:b.time.format.utc,a.defaultAxisTimeFormat=a.axisTimeFormat.multi([[".%L",function(a){return a.getMilliseconds()}],[":%S",function(a){return a.getSeconds()}],["%I:%M",function(a){return a.getMinutes()}],["%I %p",function(a){return a.getHours()}],["%-m/%-d",function(a){return a.getDay()&&1!==a.getDate()}],["%-m/%-d",function(a){return 1!==a.getDate()}],["%-m/%-d",function(a){return a.getMonth()}],["%Y/%-m/%-d",function(){return!0}]]),a.hiddenTargetIds=[],a.hiddenLegendIds=[],a.focusedTargetIds=[],a.defocusedTargetIds=[],a.xOrient=c.axis_rotated?"left":"bottom",a.yOrient=c.axis_rotated?c.axis_y_inner?"top":"bottom":c.axis_y_inner?"right":"left",a.y2Orient=c.axis_rotated?c.axis_y2_inner?"bottom":"top":c.axis_y2_inner?"left":"right",a.subXOrient=c.axis_rotated?"left":"bottom",a.isLegendRight="right"===c.legend_position,a.isLegendInset="inset"===c.legend_position,a.isLegendTop="top-left"===c.legend_inset_anchor||"top-right"===c.legend_inset_anchor,a.isLegendLeft="top-left"===c.legend_inset_anchor||"bottom-left"===c.legend_inset_anchor,a.legendStep=0,a.legendItemWidth=0,a.legendItemHeight=0,a.currentMaxTickWidths={x:0,y:0,y2:0},a.rotated_padding_left=30,a.rotated_padding_right=c.axis_rotated&&!c.axis_x_show?0:30,a.rotated_padding_top=5,a.withoutFadeIn={},a.intervalForObserveInserted=void 0,a.axes.subx=b.selectAll([])},d.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},d.initWithData=function(a){var e,f,b=this,c=b.d3,d=b.config,g=!0;b.axis=new j(b),b.initPie&&b.initPie(),b.initBrush&&b.initBrush(),b.initZoom&&b.initZoom(),d.bindto?"function"==typeof d.bindto.node?b.selectChart=d.bindto:b.selectChart=c.select(d.bindto):b.selectChart=c.selectAll([]),b.selectChart.empty()&&(b.selectChart=c.select(document.createElement("div")).style("opacity",0),b.observeInserted(b.selectChart),g=!1),b.selectChart.html("").classed("c3",!0),b.data.xs={},b.data.targets=b.convertDataToTargets(a),d.data_filter&&(b.data.targets=b.data.targets.filter(d.data_filter)),d.data_hide&&b.addHiddenTargetIds(!0===d.data_hide?b.mapToIds(b.data.targets):d.data_hide),d.legend_hide&&b.addHiddenLegendIds(!0===d.legend_hide?b.mapToIds(b.data.targets):d.legend_hide),b.hasType("gauge")&&(d.legend_show=!1),b.updateSizes(),b.updateScales(),b.x.domain(c.extent(b.getXDomain(b.data.targets))),b.y.domain(b.getYDomain(b.data.targets,"y")),b.y2.domain(b.getYDomain(b.data.targets,"y2")),b.subX.domain(b.x.domain()),b.subY.domain(b.y.domain()),b.subY2.domain(b.y2.domain()),b.orgXDomain=b.x.domain(),b.brush&&b.brush.scale(b.subX),d.zoom_enabled&&b.zoom.scale(b.x),b.svg=b.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return d.onmouseover.call(b)}).on("mouseleave",function(){return d.onmouseout.call(b)}),b.config.svg_classname&&b.svg.attr("class",b.config.svg_classname),e=b.svg.append("defs"),b.clipChart=b.appendClip(e,b.clipId),b.clipXAxis=b.appendClip(e,b.clipIdForXAxis),b.clipYAxis=b.appendClip(e,b.clipIdForYAxis),b.clipGrid=b.appendClip(e,b.clipIdForGrid),b.clipSubchart=b.appendClip(e,b.clipIdForSubchart),b.updateSvgSize(),f=b.main=b.svg.append("g").attr("transform",b.getTranslate("main")),b.initSubchart&&b.initSubchart(),b.initTooltip&&b.initTooltip(),b.initLegend&&b.initLegend(),b.initTitle&&b.initTitle(),f.append("text").attr("class",k.text+" "+k.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),b.initRegion(),b.initGrid(),f.append("g").attr("clip-path",b.clipPath).attr("class",k.chart),d.grid_lines_front&&b.initGridLines(),b.initEventRect(),b.initChartElements(),f.insert("rect",d.zoom_privileged?null:"g."+k.regions).attr("class",k.zoomRect).attr("width",b.width).attr("height",b.height).style("opacity",0).on("dblclick.zoom",null),d.axis_x_extent&&b.brush.extent(b.getDefaultExtent()),b.axis.init(),b.updateTargets(b.data.targets),g&&(b.updateDimension(),b.config.oninit.call(b),b.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),b.bindResize(),b.api.element=b.selectChart.node()},d.smoothLines=function(a,b){var c=this;"grid"===b&&a.each(function(){var a=c.d3.select(this),b=a.attr("x1"),d=a.attr("x2"),e=a.attr("y1"),f=a.attr("y2");a.attr({x1:Math.ceil(b),x2:Math.ceil(d),y1:Math.ceil(e),y2:Math.ceil(f)})})},d.updateSizes=function(){var a=this,b=a.config,c=a.legend?a.getLegendHeight():0,d=a.legend?a.getLegendWidth():0,e=a.isLegendRight||a.isLegendInset?0:c,f=a.hasArcType(),g=b.axis_rotated||f?0:a.getHorizontalAxisHeight("x"),h=b.subchart_show&&!f?b.subchart_size_height+g:0;a.currentWidth=a.getCurrentWidth(),a.currentHeight=a.getCurrentHeight(),a.margin=b.axis_rotated?{top:a.getHorizontalAxisHeight("y2")+a.getCurrentPaddingTop(),right:f?0:a.getCurrentPaddingRight(),bottom:a.getHorizontalAxisHeight("y")+e+a.getCurrentPaddingBottom(),left:h+(f?0:a.getCurrentPaddingLeft())}:{top:4+a.getCurrentPaddingTop(),right:f?0:a.getCurrentPaddingRight(),bottom:g+h+e+a.getCurrentPaddingBottom(),left:f?0:a.getCurrentPaddingLeft()},a.margin2=b.axis_rotated?{top:a.margin.top,right:NaN,bottom:20+e,left:a.rotated_padding_left}:{top:a.currentHeight-h-e,right:NaN,bottom:g+e,left:a.margin.left},a.margin3={top:0,right:NaN,bottom:0,left:0},a.updateSizeForLegend&&a.updateSizeForLegend(c,d),a.width=a.currentWidth-a.margin.left-a.margin.right,a.height=a.currentHeight-a.margin.top-a.margin.bottom,a.width<0&&(a.width=0),a.height<0&&(a.height=0),a.width2=b.axis_rotated?a.margin.left-a.rotated_padding_left-a.rotated_padding_right:a.width,a.height2=b.axis_rotated?a.height:a.currentHeight-a.margin2.top-a.margin2.bottom,a.width2<0&&(a.width2=0),a.height2<0&&(a.height2=0),a.arcWidth=a.width-(a.isLegendRight?d+10:0),a.arcHeight=a.height-(a.isLegendRight?0:10),a.hasType("gauge")&&!b.gauge_fullCircle&&(a.arcHeight+=a.height-a.getGaugeLabelHeight()),a.updateRadius&&a.updateRadius(),a.isLegendRight&&f&&(a.margin3.left=a.arcWidth/2+1.1*a.radiusExpanded)},d.updateTargets=function(a){var b=this;b.updateTargetsForText(a),b.updateTargetsForBar(a),b.updateTargetsForLine(a),b.hasArcType()&&b.updateTargetsForArc&&b.updateTargetsForArc(a),b.updateTargetsForSubchart&&b.updateTargetsForSubchart(a),b.showTargets()},d.showTargets=function(){var a=this;a.svg.selectAll("."+k.target).filter(function(b){return a.isTargetToShow(b.id)}).transition().duration(a.config.transition_duration).style("opacity",1)},d.redraw=function(a,b){var j,l,m,n,o,p,q,r,s,t,u,w,x,z,A,B,C,D,E,F,G,H,I,K,L,M,N,P,Q,c=this,d=c.main,e=c.d3,f=c.config,g=c.getShapeIndices(c.isAreaType),h=c.getShapeIndices(c.isBarType),i=c.getShapeIndices(c.isLineType),y=c.hasArcType(),J=c.filterTargetsToShow(c.data.targets),O=c.xv.bind(c);if(a=a||{},j=v(a,"withY",!0),l=v(a,"withSubchart",!0),m=v(a,"withTransition",!0),p=v(a,"withTransform",!1),q=v(a,"withUpdateXDomain",!1),r=v(a,"withUpdateOrgXDomain",!1),s=v(a,"withTrimXDomain",!0),x=v(a,"withUpdateXAxis",q),t=v(a,"withLegend",!1),u=v(a,"withEventRect",!0),w=v(a,"withDimension",!0),n=v(a,"withTransitionForExit",m),o=v(a,"withTransitionForAxis",m),E=m?f.transition_duration:0,F=n?E:0,G=o?E:0,b=b||c.axis.generateTransitions(G),t&&f.legend_show?c.updateLegend(c.mapToIds(c.data.targets),a,b):w&&c.updateDimension(!0),c.isCategorized()&&0===J.length&&c.x.domain([0,c.axes.x.selectAll(".tick").size()]),J.length?(c.updateXDomain(J,q,r,s),f.axis_x_tick_values||(K=c.axis.updateXAxisTickValues(J))):(c.xAxis.tickValues([]),c.subXAxis.tickValues([])),f.zoom_rescale&&!a.flow&&(N=c.x.orgDomain()),c.y.domain(c.getYDomain(J,"y",N)),c.y2.domain(c.getYDomain(J,"y2",N)),!f.axis_y_tick_values&&f.axis_y_tick_count&&c.yAxis.tickValues(c.axis.generateTickValues(c.y.domain(),f.axis_y_tick_count)),!f.axis_y2_tick_values&&f.axis_y2_tick_count&&c.y2Axis.tickValues(c.axis.generateTickValues(c.y2.domain(),f.axis_y2_tick_count)),c.axis.redraw(b,y),c.axis.updateLabels(m),(q||x)&&J.length)if(f.axis_x_tick_culling&&K){for(L=1;L<K.length;L++)if(K.length/L<f.axis_x_tick_culling_max){M=L;break}c.svg.selectAll("."+k.axisX+" .tick text").each(function(a){var b=K.indexOf(a);b>=0&&e.select(this).style("display",b%M?"none":"block")})}else c.svg.selectAll("."+k.axisX+" .tick text").style("display","block");z=c.generateDrawArea?c.generateDrawArea(g,!1):void 0,A=c.generateDrawBar?c.generateDrawBar(h):void 0,B=c.generateDrawLine?c.generateDrawLine(i,!1):void 0,C=c.generateXYForText(g,h,i,!0),D=c.generateXYForText(g,h,i,!1),j&&(c.subY.domain(c.getYDomain(J,"y")),c.subY2.domain(c.getYDomain(J,"y2"))),c.updateXgridFocus(),d.select("text."+k.text+"."+k.empty).attr("x",c.width/2).attr("y",c.height/2).text(f.data_empty_label_text).transition().style("opacity",J.length?0:1),c.updateGrid(E),c.updateRegion(E),c.updateBar(F),c.updateLine(F),c.updateArea(F),c.updateCircle(),c.hasDataLabel()&&c.updateText(F),c.redrawTitle&&c.redrawTitle(),c.redrawArc&&c.redrawArc(E,F,p),c.redrawSubchart&&c.redrawSubchart(l,b,E,F,g,h,i),d.selectAll("."+k.selectedCircles).filter(c.isBarType.bind(c)).selectAll("circle").remove(),f.interaction_enabled&&!a.flow&&u&&(c.redrawEventRect(),c.updateZoom&&c.updateZoom()),c.updateCircleY(),P=(c.config.axis_rotated?c.circleY:c.circleX).bind(c),Q=(c.config.axis_rotated?c.circleX:c.circleY).bind(c),a.flow&&(I=c.generateFlow({targets:J,flow:a.flow,duration:a.flow.duration,drawBar:A,drawLine:B,drawArea:z,cx:P,cy:Q,xv:O,xForText:C,yForText:D})),(E||I)&&c.isTabVisible()?e.transition().duration(E).each(function(){var b=[];[c.redrawBar(A,!0),c.redrawLine(B,!0),c.redrawArea(z,!0),c.redrawCircle(P,Q,!0),c.redrawText(C,D,a.flow,!0),c.redrawRegion(!0),c.redrawGrid(!0)].forEach(function(a){a.forEach(function(a){b.push(a)})}),H=c.generateWait(),b.forEach(function(a){H.add(a)})}).call(H,function(){I&&I(),f.onrendered&&f.onrendered.call(c)}):(c.redrawBar(A),c.redrawLine(B),c.redrawArea(z),c.redrawCircle(P,Q),c.redrawText(C,D,a.flow),c.redrawRegion(),c.redrawGrid(),f.onrendered&&f.onrendered.call(c)),c.mapToIds(c.data.targets).forEach(function(a){c.withoutFadeIn[a]=!0})},d.updateAndRedraw=function(a){var d,b=this,c=b.config;a=a||{},a.withTransition=v(a,"withTransition",!0),a.withTransform=v(a,"withTransform",!1),a.withLegend=v(a,"withLegend",!1),a.withUpdateXDomain=!0,a.withUpdateOrgXDomain=!0,a.withTransitionForExit=!1,a.withTransitionForTransform=v(a,"withTransitionForTransform",a.withTransition),b.updateSizes(),a.withLegend&&c.legend_show||(d=b.axis.generateTransitions(a.withTransitionForAxis?c.transition_duration:0),b.updateScales(),b.updateSvgSize(),b.transformAll(a.withTransitionForTransform,d)),b.redraw(a,d)},d.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},d.isTimeSeries=function(){return"timeseries"===this.config.axis_x_type},d.isCategorized=function(){return this.config.axis_x_type.indexOf("categor")>=0},d.isCustomX=function(){var a=this,b=a.config;return!a.isTimeSeries()&&(b.data_x||u(b.data_xs))},d.isTimeSeriesY=function(){return"timeseries"===this.config.axis_y_type},d.getTranslate=function(a){var d,e,b=this,c=b.config;return"main"===a?(d=r(b.margin.left),e=r(b.margin.top)):"context"===a?(d=r(b.margin2.left),e=r(b.margin2.top)):"legend"===a?(d=b.margin3.left,e=b.margin3.top):"x"===a?(d=0,e=c.axis_rotated?0:b.height):"y"===a?(d=0,e=c.axis_rotated?b.height:0):"y2"===a?(d=c.axis_rotated?0:b.width,e=c.axis_rotated?1:0):"subx"===a?(d=0,e=c.axis_rotated?0:b.height2):"arc"===a&&(d=b.arcWidth/2,e=b.arcHeight/2),"translate("+d+","+e+")"},d.initialOpacity=function(a){return null!==a.value&&this.withoutFadeIn[a.id]?1:0},d.initialOpacityForCircle=function(a){return null!==a.value&&this.withoutFadeIn[a.id]?this.opacityForCircle(a):0},d.opacityForCircle=function(a){var b=this.config.point_show?1:0;return l(a.value)?this.isScatterType(a)?.5:b:0},d.opacityForText=function(){return this.hasDataLabel()?1:0},d.xx=function(a){return a?this.x(a.x):null},d.xv=function(a){var b=this,c=a.value;return b.isTimeSeries()?c=b.parseDate(a.value):b.isCategorized()&&"string"==typeof a.value&&(c=b.config.axis_x_categories.indexOf(a.value)),Math.ceil(b.x(c))},d.yv=function(a){var b=this,c=a.axis&&"y2"===a.axis?b.y2:b.y;return Math.ceil(c(a.value))},d.subxx=function(a){return a?this.subX(a.x):null},d.transformMain=function(a,b){var d,e,f,c=this;b&&b.axisX?d=b.axisX:(d=c.main.select("."+k.axisX),a&&(d=d.transition())),b&&b.axisY?e=b.axisY:(e=c.main.select("."+k.axisY),a&&(e=e.transition())),b&&b.axisY2?f=b.axisY2:(f=c.main.select("."+k.axisY2),a&&(f=f.transition())),(a?c.main.transition():c.main).attr("transform",c.getTranslate("main")),d.attr("transform",c.getTranslate("x")),e.attr("transform",c.getTranslate("y")),f.attr("transform",c.getTranslate("y2")),c.main.select("."+k.chartArcs).attr("transform",c.getTranslate("arc"))},d.transformAll=function(a,b){var c=this;c.transformMain(a,b),c.config.subchart_show&&c.transformContext(a,b),c.legend&&c.transformLegend(a)},d.updateSvgSize=function(){var a=this,b=a.svg.select(".c3-brush .background");a.svg.attr("width",a.currentWidth).attr("height",a.currentHeight),a.svg.selectAll(["#"+a.clipId,"#"+a.clipIdForGrid]).select("rect").attr("width",a.width).attr("height",a.height),a.svg.select("#"+a.clipIdForXAxis).select("rect").attr("x",a.getXAxisClipX.bind(a)).attr("y",a.getXAxisClipY.bind(a)).attr("width",a.getXAxisClipWidth.bind(a)).attr("height",a.getXAxisClipHeight.bind(a)),a.svg.select("#"+a.clipIdForYAxis).select("rect").attr("x",a.getYAxisClipX.bind(a)).attr("y",a.getYAxisClipY.bind(a)).attr("width",a.getYAxisClipWidth.bind(a)).attr("height",a.getYAxisClipHeight.bind(a)),a.svg.select("#"+a.clipIdForSubchart).select("rect").attr("width",a.width).attr("height",b.size()?b.attr("height"):0),a.svg.select("."+k.zoomRect).attr("width",a.width).attr("height",a.height),a.selectChart.style("max-height",a.currentHeight+"px")},d.updateDimension=function(a){var b=this;a||(b.config.axis_rotated?(b.axes.x.call(b.xAxis),b.axes.subx.call(b.subXAxis)):(b.axes.y.call(b.yAxis),b.axes.y2.call(b.y2Axis))),b.updateSizes(),b.updateScales(),b.updateSvgSize(),b.transformAll(!1)},d.observeInserted=function(b){var d,c=this;if("undefined"==typeof MutationObserver)return void a.console.error("MutationObserver not defined.");d=new MutationObserver(function(e){e.forEach(function(e){"childList"===e.type&&e.previousSibling&&(d.disconnect(),c.intervalForObserveInserted=a.setInterval(function(){b.node().parentNode&&(a.clearInterval(c.intervalForObserveInserted),c.updateDimension(),c.brush&&c.brush.update(),c.config.oninit.call(c),c.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),b.transition().style("opacity",1))},10))})}),d.observe(b.node(),{attributes:!0,childList:!0,characterData:!0})},d.bindResize=function(){var b=this,c=b.config;if(b.resizeFunction=b.generateResize(),b.resizeFunction.add(function(){c.onresize.call(b)}),c.resize_auto&&b.resizeFunction.add(function(){void 0!==b.resizeTimeout&&a.clearTimeout(b.resizeTimeout),b.resizeTimeout=a.setTimeout(function(){delete b.resizeTimeout,b.api.flush()},100)}),b.resizeFunction.add(function(){c.onresized.call(b)}),a.attachEvent)a.attachEvent("onresize",b.resizeFunction);else if(a.addEventListener)a.addEventListener("resize",b.resizeFunction,!1);else{var d=a.onresize;d?d.add&&d.remove||(d=b.generateResize(),d.add(a.onresize)):d=b.generateResize(),d.add(b.resizeFunction),a.onresize=d}},d.generateResize=function(){function b(){a.forEach(function(a){a()})}var a=[];return b.add=function(b){a.push(b)},b.remove=function(b){for(var c=0;c<a.length;c++)if(a[c]===b){a.splice(c,1);break}},b},d.endall=function(a,b){var c=0;a.each(function(){++c}).each("end",function(){--c||b.apply(this,arguments)})},d.generateWait=function(){var a=[],b=function(b,c){var d=setInterval(function(){var b=0;a.forEach(function(a){if(a.empty())return void(b+=1);try{a.transition()}catch(a){b+=1}}),b===a.length&&(clearInterval(d),c&&c())},10)};return b.add=function(b){a.push(b)},b},d.parseDate=function(b){var d,c=this;return b instanceof Date?d=b:"string"==typeof b?d=c.dataTimeFormat(c.config.data_xFormat).parse(b):"number"!=typeof b||isNaN(b)||(d=new Date(+b)),d&&!isNaN(+d)||a.console.error("Failed to parse x '"+b+"' to Date object"),d},d.isTabVisible=function(){var a;return void 0!==document.hidden?a="hidden":void 0!==document.mozHidden?a="mozHidden":void 0!==document.msHidden?a="msHidden":void 0!==document.webkitHidden&&(a="webkitHidden"),!document[a]},d.getDefaultConfig=function(){var a={bindto:"#chart",svg_classname:void 0,size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,resize_auto:!0,zoom_enabled:!1,zoom_extent:void 0,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},zoom_x_min:void 0,zoom_x_max:void 0,interaction_brighten:!0,interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_x:void 0,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(a){return a},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:void 0,data_headers:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onmouseover:void 0,legend_item_onmouseout:void 0,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_width:null,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_extent:void 0,axis_x_label:{},axis_y_show:!0,axis_y_type:void 0,axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:void 0,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:void 0,axis_y_tick_time_value:void 0,axis_y_tick_time_interval:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:void 0,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_select_r:void 0,line_connectNull:!1,line_step_type:"step",bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0,area_zerobased:!0,area_above:!1,pie_label_show:!0,pie_label_format:void 0,pie_label_threshold:.05,pie_label_ratio:void 0,pie_expand:{},pie_expand_duration:50,gauge_fullCircle:!1,gauge_label_show:!0,gauge_label_format:void 0,gauge_min:0,gauge_max:100,gauge_startingAngle:-1*Math.PI/2,gauge_units:void 0,gauge_width:void 0,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:.05,donut_label_ratio:void 0,donut_width:void 0,donut_title:"",donut_expand:{},donut_expand_duration:50,spline_interpolation_type:"cardinal",regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_position:void 0,tooltip_contents:function(a,b,c,d){return this.getTooltipContent?this.getTooltipContent(a,b,c,d):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_onshow:function(){},tooltip_onhide:function(){},title_text:void 0,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center"};return Object.keys(this.additionalConfig).forEach(function(b){a[b]=this.additionalConfig[b]},this),a},d.additionalConfig={},d.loadConfig=function(a){function f(){var a=d.shift();return a&&c&&"object"==typeof c&&a in c?(c=c[a],f()):a?void 0:c}var c,d,e,b=this.config;Object.keys(b).forEach(function(g){c=a,d=g.split("_"),e=f(),p(e)&&(b[g]=e)})},d.getScale=function(a,b,c){return(c?this.d3.time.scale():this.d3.scale.linear()).range([a,b])},d.getX=function(a,b,c,d){var h,e=this,f=e.getScale(a,b,e.isTimeSeries()),g=c?f.domain(c):f;e.isCategorized()?(d=d||function(){return 0},f=function(a,b){var c=g(a)+d(a);return b?c:Math.ceil(c)}):f=function(a,b){var c=g(a);return b?c:Math.ceil(c)};for(h in g)f[h]=g[h];return f.orgDomain=function(){return g.domain()},e.isCategorized()&&(f.domain=function(a){return arguments.length?(g.domain(a),f):(a=this.orgDomain(),[a[0],a[1]+1])}),f},d.getY=function(a,b,c){var d=this.getScale(a,b,this.isTimeSeriesY());return c&&d.domain(c),d},d.getYScale=function(a){return"y2"===this.axis.getId(a)?this.y2:this.y},d.getSubYScale=function(a){return"y2"===this.axis.getId(a)?this.subY2:this.subY},d.updateScales=function(){var a=this,b=a.config,c=!a.x;a.xMin=b.axis_rotated?1:0,a.xMax=b.axis_rotated?a.height:a.width,a.yMin=b.axis_rotated?0:a.height,a.yMax=b.axis_rotated?a.width:1,a.subXMin=a.xMin,a.subXMax=a.xMax,a.subYMin=b.axis_rotated?0:a.height2,a.subYMax=b.axis_rotated?a.width2:1,a.x=a.getX(a.xMin,a.xMax,c?void 0:a.x.orgDomain(),function(){return a.xAxis.tickOffset()}),a.y=a.getY(a.yMin,a.yMax,c?b.axis_y_default:a.y.domain()),a.y2=a.getY(a.yMin,a.yMax,c?b.axis_y2_default:a.y2.domain()),a.subX=a.getX(a.xMin,a.xMax,a.orgXDomain,function(b){return b%1?0:a.subXAxis.tickOffset()}),a.subY=a.getY(a.subYMin,a.subYMax,c?b.axis_y_default:a.subY.domain()),a.subY2=a.getY(a.subYMin,a.subYMax,c?b.axis_y2_default:a.subY2.domain()),a.xAxisTickFormat=a.axis.getXAxisTickFormat(),a.xAxisTickValues=a.axis.getXAxisTickValues(),a.yAxisTickValues=a.axis.getYAxisTickValues(),a.y2AxisTickValues=a.axis.getY2AxisTickValues(),a.xAxis=a.axis.getXAxis(a.x,a.xOrient,a.xAxisTickFormat,a.xAxisTickValues,b.axis_x_tick_outer),a.subXAxis=a.axis.getXAxis(a.subX,a.subXOrient,a.xAxisTickFormat,a.xAxisTickValues,b.axis_x_tick_outer),a.yAxis=a.axis.getYAxis(a.y,a.yOrient,b.axis_y_tick_format,a.yAxisTickValues,b.axis_y_tick_outer),a.y2Axis=a.axis.getYAxis(a.y2,a.y2Orient,b.axis_y2_tick_format,a.y2AxisTickValues,b.axis_y2_tick_outer),c||(a.brush&&a.brush.scale(a.subX),b.zoom_enabled&&a.zoom.scale(a.x)),a.updateArc&&a.updateArc()},d.getYDomainMin=function(a){var f,g,h,i,j,k,b=this,c=b.config,d=b.mapToIds(a),e=b.getValuesAsIdKeyed(a);if(c.data_groups.length>0)for(k=b.hasNegativeValueInTargets(a),f=0;f<c.data_groups.length;f++)if(i=c.data_groups[f].filter(function(a){return d.indexOf(a)>=0}),0!==i.length)for(h=i[0],k&&e[h]&&e[h].forEach(function(a,b){e[h][b]=a<0?a:0}),g=1;g<i.length;g++)j=i[g],e[j]&&e[j].forEach(function(a,c){b.axis.getId(j)!==b.axis.getId(h)||!e[h]||k&&+a>0||(e[h][c]+=+a)});return b.d3.min(Object.keys(e).map(function(a){return b.d3.min(e[a])}))},d.getYDomainMax=function(a){var f,g,h,i,j,k,b=this,c=b.config,d=b.mapToIds(a),e=b.getValuesAsIdKeyed(a);if(c.data_groups.length>0)for(k=b.hasPositiveValueInTargets(a),f=0;f<c.data_groups.length;f++)if(i=c.data_groups[f].filter(function(a){return d.indexOf(a)>=0}),0!==i.length)for(h=i[0],k&&e[h]&&e[h].forEach(function(a,b){e[h][b]=a>0?a:0}),g=1;g<i.length;g++)j=i[g],e[j]&&e[j].forEach(function(a,c){b.axis.getId(j)!==b.axis.getId(h)||!e[h]||k&&+a<0||(e[h][c]+=+a)});return b.d3.max(Object.keys(e).map(function(a){return b.d3.max(e[a])}))},d.getYDomain=function(a,b,c){var m,n,p,q,t,v,w,x,y,z,d=this,e=d.config,f=a.filter(function(a){return d.axis.getId(a.id)===b}),g=c?d.filterByXDomain(f,c):f,h="y2"===b?e.axis_y2_min:e.axis_y_min,i="y2"===b?e.axis_y2_max:e.axis_y_max,j=d.getYDomainMin(g),k=d.getYDomainMax(g),r="y2"===b?e.axis_y2_center:e.axis_y_center,A=d.hasType("bar",g)&&e.bar_zerobased||d.hasType("area",g)&&e.area_zerobased,B="y2"===b?e.axis_y2_inverted:e.axis_y_inverted,C=d.hasDataLabel()&&e.axis_rotated,D=d.hasDataLabel()&&!e.axis_rotated;return j=l(h)?h:l(i)?j<i?j:i-10:j,k=l(i)?i:l(h)?h<k?k:h+10:k,0===g.length?"y2"===b?d.y2.domain():d.y.domain():(isNaN(j)&&(j=0),isNaN(k)&&(k=j),j===k&&(j<0?k=0:j=0),y=j>=0&&k>=0,z=j<=0&&k<=0,(l(h)&&y||l(i)&&z)&&(A=!1),A&&(y&&(j=0),z&&(k=0)),n=Math.abs(k-j),p=q=.1*n,void 0!==r&&(t=Math.max(Math.abs(j),Math.abs(k)),k=r+t,j=r-t),C?(v=d.getDataLabelLength(j,k,"width"),w=s(d.y.range()),x=[v[0]/w,v[1]/w],p+=n*(x[1]/(1-x[0]-x[1])),q+=n*(x[0]/(1-x[0]-x[1]))):D&&(v=d.getDataLabelLength(j,k,"height"),p+=d.axis.convertPixelsToAxisPadding(v[1],n),q+=d.axis.convertPixelsToAxisPadding(v[0],n)),"y"===b&&u(e.axis_y_padding)&&(p=d.axis.getPadding(e.axis_y_padding,"top",p,n),q=d.axis.getPadding(e.axis_y_padding,"bottom",q,n)),"y2"===b&&u(e.axis_y2_padding)&&(p=d.axis.getPadding(e.axis_y2_padding,"top",p,n),q=d.axis.getPadding(e.axis_y2_padding,"bottom",q,n)),A&&(y&&(q=j),z&&(p=-k)),m=[j-q,k+p],B?m.reverse():m)},d.getXDomainMin=function(a){var b=this,c=b.config;return p(c.axis_x_min)?b.isTimeSeries()?this.parseDate(c.axis_x_min):c.axis_x_min:b.d3.min(a,function(a){return b.d3.min(a.values,function(a){return a.x})})},d.getXDomainMax=function(a){var b=this,c=b.config;return p(c.axis_x_max)?b.isTimeSeries()?this.parseDate(c.axis_x_max):c.axis_x_max:b.d3.max(a,function(a){return b.d3.max(a.values,function(a){return a.x})})},d.getXDomainPadding=function(a){var e,f,g,h,b=this,c=b.config,d=a[1]-a[0];return b.isCategorized()?f=0:b.hasType("bar")?(e=b.getMaxDataCount(),f=e>1?d/(e-1)/2:.5):f=.01*d,"object"==typeof c.axis_x_padding&&u(c.axis_x_padding)?(g=l(c.axis_x_padding.left)?c.axis_x_padding.left:f,h=l(c.axis_x_padding.right)?c.axis_x_padding.right:f):g=h="number"==typeof c.axis_x_padding?c.axis_x_padding:f,{left:g,right:h}},d.getXDomain=function(a){var b=this,c=[b.getXDomainMin(a),b.getXDomainMax(a)],d=c[0],e=c[1],f=b.getXDomainPadding(c),g=0,h=0;return d-e!=0||b.isCategorized()||(b.isTimeSeries()?(d=new Date(.5*d.getTime()),e=new Date(1.5*e.getTime())):(d=0===d?1:.5*d,e=0===e?-1:1.5*e)),(d||0===d)&&(g=b.isTimeSeries()?new Date(d.getTime()-f.left):d-f.left),(e||0===e)&&(h=b.isTimeSeries()?new Date(e.getTime()+f.right):e+f.right),[g,h]},d.updateXDomain=function(a,b,c,d,e){var f=this,g=f.config;return c&&(f.x.domain(e||f.d3.extent(f.getXDomain(a))),f.orgXDomain=f.x.domain(),g.zoom_enabled&&f.zoom.scale(f.x).updateScaleExtent(),f.subX.domain(f.x.domain()),f.brush&&f.brush.scale(f.subX)),b&&(f.x.domain(e||(!f.brush||f.brush.empty()?f.orgXDomain:f.brush.extent())),g.zoom_enabled&&f.zoom.scale(f.x).updateScaleExtent()),d&&f.x.domain(f.trimXDomain(f.x.orgDomain())),f.x.domain()},d.trimXDomain=function(a){var b=this.getZoomDomain(),c=b[0],d=b[1];return a[0]<=c&&(a[1]=+a[1]+(c-a[0]),a[0]=c),d<=a[1]&&(a[0]=+a[0]-(a[1]-d),a[1]=d),a},d.isX=function(a){var b=this,c=b.config;return c.data_x&&a===c.data_x||u(c.data_xs)&&w(c.data_xs,a)},d.isNotX=function(a){return!this.isX(a)},d.getXKey=function(a){var b=this,c=b.config;return c.data_x?c.data_x:u(c.data_xs)?c.data_xs[a]:null},d.getXValuesOfXKey=function(a,b){var d,c=this;return(b&&u(b)?c.mapToIds(b):[]).forEach(function(b){c.getXKey(b)===a&&(d=c.data.xs[b])}),d},d.getIndexByX=function(a){var b=this,c=b.filterByX(b.data.targets,a);return c.length?c[0].index:null},d.getXValue=function(a,b){var c=this;return a in c.data.xs&&c.data.xs[a]&&l(c.data.xs[a][b])?c.data.xs[a][b]:b},d.getOtherTargetXs=function(){var a=this,b=Object.keys(a.data.xs);return b.length?a.data.xs[b[0]]:null},d.getOtherTargetX=function(a){var b=this.getOtherTargetXs();return b&&a<b.length?b[a]:null},d.addXs=function(a){var b=this;Object.keys(a).forEach(function(c){b.config.data_xs[c]=a[c]})},d.hasMultipleX=function(a){return this.d3.set(Object.keys(a).map(function(b){return a[b]})).size()>1},d.isMultipleX=function(){return u(this.config.data_xs)||!this.config.data_xSort||this.hasType("scatter")},d.addName=function(a){var c,b=this;return a&&(c=b.config.data_names[a.id],a.name=void 0!==c?c:a.id),a},d.getValueOnIndex=function(a,b){var c=a.filter(function(a){return a.index===b});return c.length?c[0]:null},d.updateTargetX=function(a,b){var c=this;a.forEach(function(a){a.values.forEach(function(d,e){d.x=c.generateTargetX(b[e],a.id,e)}),c.data.xs[a.id]=b})},d.updateTargetXs=function(a,b){var c=this;a.forEach(function(a){b[a.id]&&c.updateTargetX([a],b[a.id])})},d.generateTargetX=function(a,b,c){var d=this;return d.isTimeSeries()?a?d.parseDate(a):d.parseDate(d.getXValue(b,c)):d.isCustomX()&&!d.isCategorized()?l(a)?+a:d.getXValue(b,c):c},d.cloneTarget=function(a){return{id:a.id,id_org:a.id_org,values:a.values.map(function(a){return{x:a.x,value:a.value,id:a.id}})}},d.updateXs=function(){var a=this;a.data.targets.length&&(a.xs=[],a.data.targets[0].values.forEach(function(b){a.xs[b.index]=b.x}))},d.getPrevX=function(a){var b=this.xs[a-1];return void 0!==b?b:null},d.getNextX=function(a){var b=this.xs[a+1];return void 0!==b?b:null},d.getMaxDataCount=function(){var a=this;return a.d3.max(a.data.targets,function(a){return a.values.length})},d.getMaxDataCountTarget=function(a){var d,b=a.length,c=0;return b>1?a.forEach(function(a){a.values.length>c&&(d=a,c=a.values.length)}):d=b?a[0]:null,d},d.getEdgeX=function(a){var b=this;return a.length?[b.d3.min(a,function(a){return a.values[0].x}),b.d3.max(a,function(a){return a.values[a.values.length-1].x})]:[0,0]},d.mapToIds=function(a){return a.map(function(a){return a.id})},d.mapToTargetIds=function(a){var b=this;return a?[].concat(a):b.mapToIds(b.data.targets)},d.hasTarget=function(a,b){var d,c=this.mapToIds(a);for(d=0;d<c.length;d++)if(c[d]===b)return!0;return!1},d.isTargetToShow=function(a){return this.hiddenTargetIds.indexOf(a)<0},d.isLegendToShow=function(a){return this.hiddenLegendIds.indexOf(a)<0},d.filterTargetsToShow=function(a){var b=this;return a.filter(function(a){return b.isTargetToShow(a.id)})},d.mapTargetsToUniqueXs=function(a){var b=this,c=b.d3.set(b.d3.merge(a.map(function(a){return a.values.map(function(a){return+a.x})}))).values();return c=b.isTimeSeries()?c.map(function(a){return new Date(+a)}):c.map(function(a){return+a}),c.sort(function(a,b){return a<b?-1:a>b?1:a>=b?0:NaN})},d.addHiddenTargetIds=function(a){this.hiddenTargetIds=this.hiddenTargetIds.concat(a)},d.removeHiddenTargetIds=function(a){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(b){return a.indexOf(b)<0})},d.addHiddenLegendIds=function(a){this.hiddenLegendIds=this.hiddenLegendIds.concat(a)},d.removeHiddenLegendIds=function(a){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(b){return a.indexOf(b)<0})},d.getValuesAsIdKeyed=function(a){var b={};return a.forEach(function(a){b[a.id]=[],a.values.forEach(function(c){b[a.id].push(c.value)})}),b},d.checkValueInTargets=function(a,b){var d,e,f,c=Object.keys(a);for(d=0;d<c.length;d++)for(f=a[c[d]].values,e=0;e<f.length;e++)if(b(f[e].value))return!0;return!1},d.hasNegativeValueInTargets=function(a){return this.checkValueInTargets(a,function(a){return a<0})},d.hasPositiveValueInTargets=function(a){return this.checkValueInTargets(a,function(a){return a>0})},d.isOrderDesc=function(){var a=this.config;return"string"==typeof a.data_order&&"desc"===a.data_order.toLowerCase()},d.isOrderAsc=function(){var a=this.config;return"string"==typeof a.data_order&&"asc"===a.data_order.toLowerCase()},d.orderTargets=function(a){var b=this,c=b.config,d=b.isOrderAsc(),e=b.isOrderDesc();return d||e?a.sort(function(a,b){var c=function(a,b){return a+Math.abs(b.value)},e=a.values.reduce(c,0),f=b.values.reduce(c,0);return d?f-e:e-f}):m(c.data_order)&&a.sort(c.data_order),a},d.filterByX=function(a,b){return this.d3.merge(a.map(function(a){return a.values})).filter(function(a){return a.x-b==0})},d.filterRemoveNull=function(a){return a.filter(function(a){return l(a.value)})},d.filterByXDomain=function(a,b){return a.map(function(a){return{id:a.id,id_org:a.id_org,values:a.values.filter(function(a){return b[0]<=a.x&&a.x<=b[1]})}})},d.hasDataLabel=function(){var a=this.config;return!("boolean"!=typeof a.data_labels||!a.data_labels)||!("object"!=typeof a.data_labels||!u(a.data_labels))},d.getDataLabelLength=function(a,b,c){var d=this,e=[0,0];return d.selectChart.select("svg").selectAll(".dummy").data([a,b]).enter().append("text").text(function(a){return d.dataLabelFormat(a.id)(a)}).each(function(a,b){e[b]=1.3*this.getBoundingClientRect()[c]}).remove(),e},d.isNoneArc=function(a){return this.hasTarget(this.data.targets,a.id)},d.isArc=function(a){return"data"in a&&this.hasTarget(this.data.targets,a.data.id)},d.findSameXOfValues=function(a,b){var c,d=a[b].x,e=[];for(c=b-1;c>=0&&d===a[c].x;c--)e.push(a[c]);for(c=b;c<a.length&&d===a[c].x;c++)e.push(a[c]);return e},d.findClosestFromTargets=function(a,b){var d,c=this;return d=a.map(function(a){return c.findClosest(a.values,b)}),c.findClosest(d,b)},d.findClosest=function(a,b){var e,c=this,d=c.config.point_sensitivity;return a.filter(function(a){return a&&c.isBarType(a.id)}).forEach(function(a){var b=c.main.select("."+k.bars+c.getTargetSelectorSuffix(a.id)+" ."+k.bar+"-"+a.index).node();!e&&c.isWithinBar(b)&&(e=a)}),a.filter(function(a){return a&&!c.isBarType(a.id)}).forEach(function(a){var f=c.dist(a,b);f<d&&(d=f,e=a)}),e},d.dist=function(a,b){var c=this,d=c.config,e=d.axis_rotated?1:0,f=d.axis_rotated?0:1,g=c.circleY(a,a.index),h=c.x(a.x);return Math.sqrt(Math.pow(h-b[e],2)+Math.pow(g-b[f],2))},d.convertValuesToStep=function(a){var c,b=[].concat(a);if(!this.isCategorized())return a;for(c=a.length+1;0<c;c--)b[c]=b[c-1];return b[0]={x:b[0].x-1,value:b[0].value,id:b[0].id},b[a.length+1]={x:b[a.length].x+1,value:b[a.length].value,id:b[a.length].id},b},d.updateDataAttributes=function(a,b){var c=this,d=c.config,e=d["data_"+a];return void 0===b?e:(Object.keys(b).forEach(function(a){e[a]=b[a]}),c.redraw({withLegend:!0}),e)},d.convertUrlToData=function(a,b,c,d,e){var f=this,g=b||"csv",h=f.d3.xhr(a);c&&Object.keys(c).forEach(function(a){h.header(a,c[a])}),h.get(function(a,b){var c;if(!b)throw new Error(a.responseURL+" "+a.status+" ("+a.statusText+")");c="json"===g?f.convertJsonToData(JSON.parse(b.response),d):"tsv"===g?f.convertTsvToData(b.response):f.convertCsvToData(b.response),e.call(f,c)})},d.convertXsvToData=function(a,b){var d,c=b.parseRows(a);return 1===c.length?(d=[{}],c[0].forEach(function(a){d[0][a]=null})):d=b.parse(a),d},d.convertCsvToData=function(a){return this.convertXsvToData(a,this.d3.csv)},d.convertTsvToData=function(a){return this.convertXsvToData(a,this.d3.tsv)},d.convertJsonToData=function(a,b){var e,f,c=this,d=[];return b?(b.x?(e=b.value.concat(b.x),c.config.data_x=b.x):e=b.value,d.push(e),a.forEach(function(a){var b=[];e.forEach(function(d){var e=c.findValueInJson(a,d);o(e)&&(e=null),b.push(e)}),d.push(b)}),f=c.convertRowsToData(d)):(Object.keys(a).forEach(function(b){d.push([b].concat(a[b]))}),f=c.convertColumnsToData(d)),f},d.findValueInJson=function(a,b){b=b.replace(/\[(\w+)\]/g,".$1"),b=b.replace(/^\./,"");for(var c=b.split("."),d=0;d<c.length;++d){var e=c[d];if(!(e in a))return;a=a[e]}return a},d.convertRowsToData=function(a){var e,f,b=a[0],c={},d=[];for(e=1;e<a.length;e++){for(c={},f=0;f<a[e].length;f++){if(o(a[e][f]))throw new Error("Source data is missing a component at ("+e+","+f+")!");c[b[f]]=a[e][f]}d.push(c)}return d},d.convertColumnsToData=function(a){var c,d,e,b=[];for(c=0;c<a.length;c++)for(e=a[c][0],d=1;d<a[c].length;d++){if(o(b[d-1])&&(b[d-1]={}),o(a[c][d]))throw new Error("Source data is missing a component at ("+c+","+d+")!");b[d-1][e]=a[c][d]}return b},d.convertDataToTargets=function(a,b){var g,c=this,d=c.config,e=c.d3.keys(a[0]).filter(c.isNotX,c),f=c.d3.keys(a[0]).filter(c.isX,c);return e.forEach(function(e){var g=c.getXKey(e);c.isCustomX()||c.isTimeSeries()?f.indexOf(g)>=0?c.data.xs[e]=(b&&c.data.xs[e]?c.data.xs[e]:[]).concat(a.map(function(a){return a[g]}).filter(l).map(function(a,b){return c.generateTargetX(a,e,b)})):d.data_x?c.data.xs[e]=c.getOtherTargetXs():u(d.data_xs)&&(c.data.xs[e]=c.getXValuesOfXKey(g,c.data.targets)):c.data.xs[e]=a.map(function(a,b){return b})}),e.forEach(function(a){if(!c.data.xs[a])throw new Error('x is not defined for id = "'+a+'".')}),g=e.map(function(b,e){var f=d.data_idConverter(b);return{id:f,id_org:b,values:a.map(function(a,g){var k,h=c.getXKey(b),i=a[h],j=null===a[b]||isNaN(a[b])?null:+a[b];return c.isCustomX()&&c.isCategorized()&&0===e&&!o(i)?(0===e&&0===g&&(d.axis_x_categories=[]),-1===(k=d.axis_x_categories.indexOf(i))&&(k=d.axis_x_categories.length,d.axis_x_categories.push(i))):k=c.generateTargetX(i,b,g),(o(a[b])||c.data.xs[b].length<=g)&&(k=void 0),{x:k,value:j,id:f}}).filter(function(a){return p(a.x)})}}),g.forEach(function(a){var b;d.data_xSort&&(a.values=a.values.sort(function(a,b){return(a.x||0===a.x?a.x:1/0)-(b.x||0===b.x?b.x:1/0)})),b=0,a.values.forEach(function(a){a.index=b++}),c.data.xs[a.id].sort(function(a,b){return a-b})}),c.hasNegativeValue=c.hasNegativeValueInTargets(g),c.hasPositiveValue=c.hasPositiveValueInTargets(g),d.data_type&&c.setTargetType(c.mapToIds(g).filter(function(a){return!(a in d.data_types)}),d.data_type),g.forEach(function(a){c.addCache(a.id_org,a)}),g},d.load=function(a,b){var c=this;a&&(b.filter&&(a=a.filter(b.filter)),(b.type||b.types)&&a.forEach(function(a){var d=b.types&&b.types[a.id]?b.types[a.id]:b.type;c.setTargetType(a.id,d)}),c.data.targets.forEach(function(b){for(var c=0;c<a.length;c++)if(b.id===a[c].id){b.values=a[c].values,a.splice(c,1);break}}),c.data.targets=c.data.targets.concat(a)),c.updateTargets(c.data.targets),c.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),b.done&&b.done()},d.loadFromArgs=function(a){var b=this;a.data?b.load(b.convertDataToTargets(a.data),a):a.url?b.convertUrlToData(a.url,a.mimeType,a.headers,a.keys,function(c){b.load(b.convertDataToTargets(c),a)}):a.json?b.load(b.convertDataToTargets(b.convertJsonToData(a.json,a.keys)),a):a.rows?b.load(b.convertDataToTargets(b.convertRowsToData(a.rows)),a):a.columns?b.load(b.convertDataToTargets(b.convertColumnsToData(a.columns)),a):b.load(null,a)},d.unload=function(a,b){var c=this;if(b||(b=function(){}),!(a=a.filter(function(a){return c.hasTarget(c.data.targets,a)}))||0===a.length)return void b();c.svg.selectAll(a.map(function(a){return c.selectorTarget(a)})).transition().style("opacity",0).remove().call(c.endall,b),a.forEach(function(a){c.withoutFadeIn[a]=!1,c.legend&&c.legend.selectAll("."+k.legendItem+c.getTargetSelectorSuffix(a)).remove(),c.data.targets=c.data.targets.filter(function(b){return b.id!==a})})},d.categoryName=function(a){var b=this.config;return a<b.axis_x_categories.length?b.axis_x_categories[a]:a},d.initEventRect=function(){this.main.select("."+k.chart).append("g").attr("class",k.eventRects).style("fill-opacity",0)},d.redrawEventRect=function(){var c,d,a=this,b=a.config,e=a.isMultipleX(),f=a.main.select("."+k.eventRects).style("cursor",b.zoom_enabled?b.axis_rotated?"ns-resize":"ew-resize":null).classed(k.eventRectsMultiple,e).classed(k.eventRectsSingle,!e);f.selectAll("."+k.eventRect).remove(),a.eventRect=f.selectAll("."+k.eventRect),e?(c=a.eventRect.data([0]),a.generateEventRectsForMultipleXs(c.enter()),a.updateEventRect(c)):(d=a.getMaxDataCountTarget(a.data.targets),f.datum(d?d.values:[]),a.eventRect=f.selectAll("."+k.eventRect),c=a.eventRect.data(function(a){return a}),a.generateEventRectsForSingleX(c.enter()),a.updateEventRect(c),c.exit().remove())},d.updateEventRect=function(a){var d,e,f,g,h,i,b=this,c=b.config;a=a||b.eventRect.data(function(a){return a}),b.isMultipleX()?(d=0,e=0,f=b.width,g=b.height):(!b.isCustomX()&&!b.isTimeSeries()||b.isCategorized()?(h=b.getEventRectWidth(),i=function(a){return b.x(a.x)-h/2}):(b.updateXs(),h=function(a){var d=b.getPrevX(a.index),e=b.getNextX(a.index);return null===d&&null===e?c.axis_rotated?b.height:b.width:(null===d&&(d=b.x.domain()[0]),null===e&&(e=b.x.domain()[1]),Math.max(0,(b.x(e)-b.x(d))/2))},i=function(a){var c=b.getPrevX(a.index),d=b.getNextX(a.index),e=b.data.xs[a.id][a.index];return null===c&&null===d?0:(null===c&&(c=b.x.domain()[0]),(b.x(e)+b.x(c))/2)}),d=c.axis_rotated?0:i,e=c.axis_rotated?i:0,f=c.axis_rotated?b.width:h,g=c.axis_rotated?h:b.height),a.attr("class",b.classEvent.bind(b)).attr("x",d).attr("y",e).attr("width",f).attr("height",g)},d.generateEventRectsForSingleX=function(a){var b=this,c=b.d3,d=b.config;a.append("rect").attr("class",b.classEvent.bind(b)).style("cursor",d.data_selection_enabled&&d.data_selection_grouped?"pointer":null).on("mouseover",function(a){var c=a.index;b.dragging||b.flowing||b.hasArcType()||(d.point_focus_expand_enabled&&b.expandCircles(c,null,!0),b.expandBars(c,null,!0),b.main.selectAll("."+k.shape+"-"+c).each(function(a){d.data_onmouseover.call(b.api,a)}))}).on("mouseout",function(a){var c=a.index;b.config&&(b.hasArcType()||(b.hideXGridFocus(),b.hideTooltip(),b.unexpandCircles(),b.unexpandBars(),b.main.selectAll("."+k.shape+"-"+c).each(function(a){d.data_onmouseout.call(b.api,a)})))}).on("mousemove",function(a){var e,f=a.index,g=b.svg.select("."+k.eventRect+"-"+f);b.dragging||b.flowing||b.hasArcType()||(b.isStepType(a)&&"step-after"===b.config.line_step_type&&c.mouse(this)[0]<b.x(b.getXValue(a.id,f))&&(f-=1),e=b.filterTargetsToShow(b.data.targets).map(function(a){return b.addName(b.getValueOnIndex(a.values,f))}),d.tooltip_grouped&&(b.showTooltip(e,this),b.showXGridFocus(e)),(!d.tooltip_grouped||d.data_selection_enabled&&!d.data_selection_grouped)&&b.main.selectAll("."+k.shape+"-"+f).each(function(){c.select(this).classed(k.EXPANDED,!0),d.data_selection_enabled&&g.style("cursor",d.data_selection_grouped?"pointer":null),d.tooltip_grouped||(b.hideXGridFocus(),b.hideTooltip(),d.data_selection_grouped||(b.unexpandCircles(f),b.unexpandBars(f)))}).filter(function(a){return b.isWithinShape(this,a)}).each(function(a){d.data_selection_enabled&&(d.data_selection_grouped||d.data_selection_isselectable(a))&&g.style("cursor","pointer"),d.tooltip_grouped||(b.showTooltip([a],this),b.showXGridFocus([a]),d.point_focus_expand_enabled&&b.expandCircles(f,a.id,!0),b.expandBars(f,a.id,!0))}))}).on("click",function(a){var e=a.index;if(!b.hasArcType()&&b.toggleShape){if(b.cancelClick)return void(b.cancelClick=!1);b.isStepType(a)&&"step-after"===d.line_step_type&&c.mouse(this)[0]<b.x(b.getXValue(a.id,e))&&(e-=1),b.main.selectAll("."+k.shape+"-"+e).each(function(a){(d.data_selection_grouped||b.isWithinShape(this,a))&&(b.toggleShape(this,a,e),b.config.data_onclick.call(b.api,a,this))})}}).call(d.data_selection_draggable&&b.drag?c.behavior.drag().origin(Object).on("drag",function(){b.drag(c.mouse(this))}).on("dragstart",function(){b.dragstart(c.mouse(this))}).on("dragend",function(){b.dragend()}):function(){})},d.generateEventRectsForMultipleXs=function(a){function e(){b.svg.select("."+k.eventRect).style("cursor",null),b.hideXGridFocus(),b.hideTooltip(),b.unexpandCircles(),b.unexpandBars()}var b=this,c=b.d3,d=b.config;a.append("rect").attr("x",0).attr("y",0).attr("width",b.width).attr("height",b.height).attr("class",k.eventRect).on("mouseout",function(){b.config&&(b.hasArcType()||e())}).on("mousemove",function(){var f,g,h,i,a=b.filterTargetsToShow(b.data.targets);if(!b.dragging&&!b.hasArcType(a)){if(f=c.mouse(this),g=b.findClosestFromTargets(a,f),!b.mouseover||g&&g.id===b.mouseover.id||(d.data_onmouseout.call(b.api,b.mouseover),b.mouseover=void 0),!g)return void e();h=b.isScatterType(g)||!d.tooltip_grouped?[g]:b.filterByX(a,g.x),i=h.map(function(a){return b.addName(a)}),b.showTooltip(i,this),d.point_focus_expand_enabled&&b.expandCircles(g.index,g.id,!0),b.expandBars(g.index,g.id,!0),b.showXGridFocus(i),(b.isBarType(g.id)||b.dist(g,f)<d.point_sensitivity)&&(b.svg.select("."+k.eventRect).style("cursor","pointer"),b.mouseover||(d.data_onmouseover.call(b.api,g),b.mouseover=g))}}).on("click",function(){var e,f,a=b.filterTargetsToShow(b.data.targets);b.hasArcType(a)||(e=c.mouse(this),(f=b.findClosestFromTargets(a,e))&&(b.isBarType(f.id)||b.dist(f,e)<d.point_sensitivity)&&b.main.selectAll("."+k.shapes+b.getTargetSelectorSuffix(f.id)).selectAll("."+k.shape+"-"+f.index).each(function(){(d.data_selection_grouped||b.isWithinShape(this,f))&&(b.toggleShape(this,f,f.index),b.config.data_onclick.call(b.api,f,this))}))}).call(d.data_selection_draggable&&b.drag?c.behavior.drag().origin(Object).on("drag",function(){b.drag(c.mouse(this))}).on("dragstart",function(){b.dragstart(c.mouse(this))}).on("dragend",function(){b.dragend()}):function(){})},d.dispatchEvent=function(b,c,d){var e=this,f="."+k.eventRect+(e.isMultipleX()?"":"-"+c),g=e.main.select(f).node(),h=g.getBoundingClientRect(),i=h.left+(d?d[0]:0),j=h.top+(d?d[1]:0),l=document.createEvent("MouseEvents");l.initMouseEvent(b,!0,!0,a,0,i,j,i,j,!1,!1,!1,!1,0,null),g.dispatchEvent(l)},d.getCurrentWidth=function(){var a=this,b=a.config;return b.size_width?b.size_width:a.getParentWidth()},d.getCurrentHeight=function(){var a=this,b=a.config,c=b.size_height?b.size_height:a.getParentHeight();return c>0?c:320/(a.hasType("gauge")&&!b.gauge_fullCircle?2:1)},d.getCurrentPaddingTop=function(){var a=this,b=a.config,c=l(b.padding_top)?b.padding_top:0;return a.title&&a.title.node()&&(c+=a.getTitlePadding()),c},d.getCurrentPaddingBottom=function(){var a=this.config;return l(a.padding_bottom)?a.padding_bottom:0},d.getCurrentPaddingLeft=function(a){var b=this,c=b.config;return l(c.padding_left)?c.padding_left:c.axis_rotated?c.axis_x_show?Math.max(q(b.getAxisWidthByAxisId("x",a)),40):1:!c.axis_y_show||c.axis_y_inner?b.axis.getYAxisLabelPosition().isOuter?30:1:q(b.getAxisWidthByAxisId("y",a))},d.getCurrentPaddingRight=function(){var a=this,b=a.config,d=a.isLegendRight?a.getLegendWidth()+20:0;return l(b.padding_right)?b.padding_right+1:b.axis_rotated?10+d:!b.axis_y2_show||b.axis_y2_inner?2+d+(a.axis.getY2AxisLabelPosition().isOuter?20:0):q(a.getAxisWidthByAxisId("y2"))+d},d.getParentRectValue=function(a){for(var c,b=this.selectChart.node();b&&"BODY"!==b.tagName;){try{c=b.getBoundingClientRect()[a]}catch(d){"width"===a&&(c=b.offsetWidth)}if(c)break;b=b.parentNode}return c},d.getParentWidth=function(){return this.getParentRectValue("width")},d.getParentHeight=function(){var a=this.selectChart.style("height");return a.indexOf("px")>0?+a.replace("px",""):0},d.getSvgLeft=function(a){var b=this,c=b.config,d=c.axis_rotated||!c.axis_rotated&&!c.axis_y_inner,e=c.axis_rotated?k.axisX:k.axisY,f=b.main.select("."+e).node(),g=f&&d?f.getBoundingClientRect():{right:0},h=b.selectChart.node().getBoundingClientRect(),i=b.hasArcType(),j=g.right-h.left-(i?0:b.getCurrentPaddingLeft(a));return j>0?j:0},d.getAxisWidthByAxisId=function(a,b){var c=this,d=c.axis.getLabelPositionById(a);return c.axis.getMaxTickWidth(a,b)+(d.isInner?20:40)},d.getHorizontalAxisHeight=function(a){var b=this,c=b.config,d=30;return"x"!==a||c.axis_x_show?"x"===a&&c.axis_x_height?c.axis_x_height:"y"!==a||c.axis_y_show?"y2"!==a||c.axis_y2_show?("x"===a&&!c.axis_rotated&&c.axis_x_tick_rotate&&(d=30+b.axis.getMaxTickWidth(a)*Math.cos(Math.PI*(90-c.axis_x_tick_rotate)/180)),"y"===a&&c.axis_rotated&&c.axis_y_tick_rotate&&(d=30+b.axis.getMaxTickWidth(a)*Math.cos(Math.PI*(90-c.axis_y_tick_rotate)/180)),d+(b.axis.getLabelPositionById(a).isInner?0:10)+("y2"===a?-10:0)):b.rotated_padding_top:!c.legend_show||b.isLegendRight||b.isLegendInset?1:10:8},d.getEventRectWidth=function(){return Math.max(0,this.xAxis.tickInterval())},d.getShapeIndices=function(a){var f,g,b=this,c=b.config,d={},e=0;return b.filterTargetsToShow(b.data.targets.filter(a,b)).forEach(function(a){for(f=0;f<c.data_groups.length;f++)if(!(c.data_groups[f].indexOf(a.id)<0))for(g=0;g<c.data_groups[f].length;g++)if(c.data_groups[f][g]in d){d[a.id]=d[c.data_groups[f][g]];break}o(d[a.id])&&(d[a.id]=e++)}),d.__max__=e-1,d},d.getShapeX=function(a,b,c,d){var e=this,f=d?e.subX:e.x;return function(d){var e=d.id in c?c[d.id]:0;return d.x||0===d.x?f(d.x)-a*(b/2-e):0}},d.getShapeY=function(a){var b=this;return function(c){return(a?b.getSubYScale(c.id):b.getYScale(c.id))(c.value)}},d.getShapeOffset=function(a,b,c){var d=this,e=d.orderTargets(d.filterTargetsToShow(d.data.targets.filter(a,d))),f=e.map(function(a){return a.id});return function(a,g){var h=c?d.getSubYScale(a.id):d.getYScale(a.id),i=h(0),j=i;return e.forEach(function(c){var e=d.isStepType(a)?d.convertValuesToStep(c.values):c.values;c.id!==a.id&&b[c.id]===b[a.id]&&f.indexOf(c.id)<f.indexOf(a.id)&&(void 0!==e[g]&&+e[g].x==+a.x||(g=-1,e.forEach(function(b,c){b.x===a.x&&(g=c)})),g in e&&e[g].value*a.value>=0&&(j+=h(e[g].value)-i))}),j}},d.isWithinShape=function(a,b){var e,c=this,d=c.d3.select(a);return c.isTargetToShow(b.id)?"circle"===a.nodeName?e=c.isStepType(b)?c.isWithinStep(a,c.getYScale(b.id)(b.value)):c.isWithinCircle(a,1.5*c.pointSelectR(b)):"path"===a.nodeName&&(e=!d.classed(k.bar)||c.isWithinBar(a)):e=!1,e},d.getInterpolate=function(a){var b=this,c=b.isInterpolationType(b.config.spline_interpolation_type)?b.config.spline_interpolation_type:"cardinal";return b.isSplineType(a)?c:b.isStepType(a)?b.config.line_step_type:"linear"},d.initLine=function(){this.main.select("."+k.chart).append("g").attr("class",k.chartLines)},d.updateTargetsForLine=function(a){var d,e,b=this,c=b.config,f=b.classChartLine.bind(b),g=b.classLines.bind(b),h=b.classAreas.bind(b),i=b.classCircles.bind(b),j=b.classFocus.bind(b);d=b.main.select("."+k.chartLines).selectAll("."+k.chartLine).data(a).attr("class",function(a){return f(a)+j(a)}),e=d.enter().append("g").attr("class",f).style("opacity",0).style("pointer-events","none"),e.append("g").attr("class",g),e.append("g").attr("class",h),e.append("g").attr("class",function(a){return b.generateClass(k.selectedCircles,a.id)}),e.append("g").attr("class",i).style("cursor",function(a){return c.data_selection_isselectable(a)?"pointer":null}),a.forEach(function(a){b.main.selectAll("."+k.selectedCircles+b.getTargetSelectorSuffix(a.id)).selectAll("."+k.selectedCircle).each(function(b){b.value=a.values[b.index].value})})},d.updateLine=function(a){var b=this;b.mainLine=b.main.selectAll("."+k.lines).selectAll("."+k.line).data(b.lineData.bind(b)),b.mainLine.enter().append("path").attr("class",b.classLine.bind(b)).style("stroke",b.color),b.mainLine.style("opacity",b.initialOpacity.bind(b)).style("shape-rendering",function(a){return b.isStepType(a)?"crispEdges":""}).attr("transform",null),b.mainLine.exit().transition().duration(a).style("opacity",0).remove()},d.redrawLine=function(a,b){return[(b?this.mainLine.transition(Math.random().toString()):this.mainLine).attr("d",a).style("stroke",this.color).style("opacity",1)]},d.generateDrawLine=function(a,b){var c=this,d=c.config,e=c.d3.svg.line(),f=c.generateGetLinePoints(a,b),g=b?c.getSubYScale:c.getYScale,h=function(a){return(b?c.subxx:c.xx).call(c,a)},i=function(a,b){return d.data_groups.length>0?f(a,b)[0][1]:g.call(c,a.id)(a.value)};return e=d.axis_rotated?e.x(i).y(h):e.x(h).y(i),d.line_connectNull||(e=e.defined(function(a){return null!=a.value})),function(a){var l,f=d.line_connectNull?c.filterRemoveNull(a.values):a.values,h=b?c.x:c.subX,i=g.call(c,a.id),j=0,k=0;return c.isLineType(a)?d.data_regions[a.id]?l=c.lineWithRegions(f,h,i,d.data_regions[a.id]):(c.isStepType(a)&&(f=c.convertValuesToStep(f)),l=e.interpolate(c.getInterpolate(a))(f)):(f[0]&&(j=h(f[0].x),k=i(f[0].value)),l=d.axis_rotated?"M "+k+" "+j:"M "+j+" "+k),l||"M 0 0"}},d.generateGetLinePoints=function(a,b){var c=this,d=c.config,e=a.__max__+1,f=c.getShapeX(0,e,a,!!b),g=c.getShapeY(!!b),h=c.getShapeOffset(c.isLineType,a,!!b),i=b?c.getSubYScale:c.getYScale;return function(a,b){var e=i.call(c,a.id)(0),j=h(a,b)||e,k=f(a),l=g(a);return d.axis_rotated&&(0<a.value&&l<e||a.value<0&&e<l)&&(l=e),[[k,l-(e-j)],[k,l-(e-j)],[k,l-(e-j)],[k,l-(e-j)]]}},d.lineWithRegions=function(a,b,c,d){function y(a,b){var c;for(c=0;c<b.length;c++)if(b[c].start<a&&a<=b[c].end)return!0;return!1}function z(a){return"M"+a[0][0]+" "+a[0][1]+" "+a[1][0]+" "+a[1][1]}var h,i,k,l,m,n,q,r,s,t,v,w,e=this,f=e.config,j="M",u=e.isCategorized()?.5:0,x=[];if(p(d))for(h=0;h<d.length;h++)x[h]={},o(d[h].start)?x[h].start=a[0].x:x[h].start=e.isTimeSeries()?e.parseDate(d[h].start):d[h].start,o(d[h].end)?x[h].end=a[a.length-1].x:x[h].end=e.isTimeSeries()?e.parseDate(d[h].end):d[h].end;for(v=f.axis_rotated?function(a){return c(a.value)}:function(a){return b(a.x)},w=f.axis_rotated?function(a){return b(a.x)}:function(a){return c(a.value)},k=e.isTimeSeries()?function(a,d,e,g){var l,h=a.x.getTime(),i=d.x-a.x,j=new Date(h+i*e),k=new Date(h+i*(e+g));return l=f.axis_rotated?[[c(m(e)),b(j)],[c(m(e+g)),b(k)]]:[[b(j),c(m(e))],[b(k),c(m(e+g))]],z(l)}:function(a,d,e,g){var h;return h=f.axis_rotated?[[c(m(e),!0),b(l(e))],[c(m(e+g),!0),b(l(e+g))]]:[[b(l(e),!0),c(m(e))],[b(l(e+g),!0),c(m(e+g))]],z(h)},h=0;h<a.length;h++){if(o(x)||!y(a[h].x,x))j+=" "+v(a[h])+" "+w(a[h]);else for(l=e.getScale(a[h-1].x+u,a[h].x+u,e.isTimeSeries()),m=e.getScale(a[h-1].value,a[h].value),n=b(a[h].x)-b(a[h-1].x),q=c(a[h].value)-c(a[h-1].value),r=Math.sqrt(Math.pow(n,2)+Math.pow(q,2)),s=2/r,t=2*s,i=s;i<=1;i+=t)j+=k(a[h-1],a[h],i,s);a[h].x}return j},d.updateArea=function(a){var b=this,c=b.d3;b.mainArea=b.main.selectAll("."+k.areas).selectAll("."+k.area).data(b.lineData.bind(b)),b.mainArea.enter().append("path").attr("class",b.classArea.bind(b)).style("fill",b.color).style("opacity",function(){return b.orgAreaOpacity=+c.select(this).style("opacity"),0}),b.mainArea.style("opacity",b.orgAreaOpacity),b.mainArea.exit().transition().duration(a).style("opacity",0).remove()},d.redrawArea=function(a,b){return[(b?this.mainArea.transition(Math.random().toString()):this.mainArea).attr("d",a).style("fill",this.color).style("opacity",this.orgAreaOpacity)]},d.generateDrawArea=function(a,b){var c=this,d=c.config,e=c.d3.svg.area(),f=c.generateGetAreaPoints(a,b),g=b?c.getSubYScale:c.getYScale,h=function(a){return(b?c.subxx:c.xx).call(c,a)},i=function(a,b){return d.data_groups.length>0?f(a,b)[0][1]:g.call(c,a.id)(c.getAreaBaseValue(a.id))},j=function(a,b){return d.data_groups.length>0?f(a,b)[1][1]:g.call(c,a.id)(a.value)};return e=d.axis_rotated?e.x0(i).x1(j).y(h):e.x(h).y0(d.area_above?0:i).y1(j),d.line_connectNull||(e=e.defined(function(a){return null!==a.value})),function(a){var h,b=d.line_connectNull?c.filterRemoveNull(a.values):a.values,f=0,g=0;return c.isAreaType(a)?(c.isStepType(a)&&(b=c.convertValuesToStep(b)),h=e.interpolate(c.getInterpolate(a))(b)):(b[0]&&(f=c.x(b[0].x),g=c.getYScale(a.id)(b[0].value)),h=d.axis_rotated?"M "+g+" "+f:"M "+f+" "+g),h||"M 0 0"}},d.getAreaBaseValue=function(){return 0},d.generateGetAreaPoints=function(a,b){var c=this,d=c.config,e=a.__max__+1,f=c.getShapeX(0,e,a,!!b),g=c.getShapeY(!!b),h=c.getShapeOffset(c.isAreaType,a,!!b),i=b?c.getSubYScale:c.getYScale;return function(a,b){var e=i.call(c,a.id)(0),j=h(a,b)||e,k=f(a),l=g(a);return d.axis_rotated&&(0<a.value&&l<e||a.value<0&&e<l)&&(l=e),[[k,j],[k,l-(e-j)],[k,l-(e-j)],[k,j]]}},d.updateCircle=function(){var a=this;a.mainCircle=a.main.selectAll("."+k.circles).selectAll("."+k.circle).data(a.lineOrScatterData.bind(a)),a.mainCircle.enter().append("circle").attr("class",a.classCircle.bind(a)).attr("r",a.pointR.bind(a)).style("fill",a.color),a.mainCircle.style("opacity",a.initialOpacityForCircle.bind(a)),a.mainCircle.exit().remove()},d.redrawCircle=function(a,b,c){var d=this.main.selectAll("."+k.selectedCircle);return[(c?this.mainCircle.transition(Math.random().toString()):this.mainCircle).style("opacity",this.opacityForCircle.bind(this)).style("fill",this.color).attr("cx",a).attr("cy",b),(c?d.transition(Math.random().toString()):d).attr("cx",a).attr("cy",b)]},d.circleX=function(a){return a.x||0===a.x?this.x(a.x):null},d.updateCircleY=function(){var b,c,a=this;a.config.data_groups.length>0?(b=a.getShapeIndices(a.isLineType),c=a.generateGetLinePoints(b),a.circleY=function(a,b){return c(a,b)[0][1]}):a.circleY=function(b){return a.getYScale(b.id)(b.value)}},d.getCircles=function(a,b){var c=this;return(b?c.main.selectAll("."+k.circles+c.getTargetSelectorSuffix(b)):c.main).selectAll("."+k.circle+(l(a)?"-"+a:""))},d.expandCircles=function(a,b,c){var d=this,e=d.pointExpandedR.bind(d);c&&d.unexpandCircles(),d.getCircles(a,b).classed(k.EXPANDED,!0).attr("r",e)},d.unexpandCircles=function(a){var b=this,c=b.pointR.bind(b);b.getCircles(a).filter(function(){return b.d3.select(this).classed(k.EXPANDED)}).classed(k.EXPANDED,!1).attr("r",c)},d.pointR=function(a){var b=this,c=b.config;return b.isStepType(a)?0:m(c.point_r)?c.point_r(a):c.point_r},d.pointExpandedR=function(a){var b=this,c=b.config;return c.point_focus_expand_enabled?c.point_focus_expand_r?c.point_focus_expand_r:1.75*b.pointR(a):b.pointR(a)},d.pointSelectR=function(a){var b=this,c=b.config;return m(c.point_select_r)?c.point_select_r(a):c.point_select_r?c.point_select_r:4*b.pointR(a)},d.isWithinCircle=function(a,b){var c=this.d3,d=c.mouse(a),e=c.select(a),f=+e.attr("cx"),g=+e.attr("cy");return Math.sqrt(Math.pow(f-d[0],2)+Math.pow(g-d[1],2))<b},d.isWithinStep=function(a,b){return Math.abs(b-this.d3.mouse(a)[1])<30},d.initBar=function(){this.main.select("."+k.chart).append("g").attr("class",k.chartBars)},d.updateTargetsForBar=function(a){var d,e,b=this,c=b.config,f=b.classChartBar.bind(b),g=b.classBars.bind(b),h=b.classFocus.bind(b);d=b.main.select("."+k.chartBars).selectAll("."+k.chartBar).data(a).attr("class",function(a){return f(a)+h(a)}),e=d.enter().append("g").attr("class",f).style("opacity",0).style("pointer-events","none"),e.append("g").attr("class",g).style("cursor",function(a){return c.data_selection_isselectable(a)?"pointer":null})},d.updateBar=function(a){var b=this,c=b.barData.bind(b),d=b.classBar.bind(b),e=b.initialOpacity.bind(b),f=function(a){return b.color(a.id)};b.mainBar=b.main.selectAll("."+k.bars).selectAll("."+k.bar).data(c),b.mainBar.enter().append("path").attr("class",d).style("stroke",f).style("fill",f),b.mainBar.style("opacity",e),b.mainBar.exit().transition().duration(a).style("opacity",0).remove()},d.redrawBar=function(a,b){return[(b?this.mainBar.transition(Math.random().toString()):this.mainBar).attr("d",a).style("fill",this.color).style("opacity",1)]},d.getBarW=function(a,b){var c=this,d=c.config,e="number"==typeof d.bar_width?d.bar_width:b?a.tickInterval()*d.bar_width_ratio/b:0;return d.bar_width_max&&e>d.bar_width_max?d.bar_width_max:e},d.getBars=function(a,b){var c=this;return(b?c.main.selectAll("."+k.bars+c.getTargetSelectorSuffix(b)):c.main).selectAll("."+k.bar+(l(a)?"-"+a:""))},d.expandBars=function(a,b,c){var d=this;c&&d.unexpandBars(),d.getBars(a,b).classed(k.EXPANDED,!0)},d.unexpandBars=function(a){this.getBars(a).classed(k.EXPANDED,!1)},d.generateDrawBar=function(a,b){var c=this,d=c.config,e=c.generateGetBarPoints(a,b);return function(a,b){var c=e(a,b),f=d.axis_rotated?1:0,g=d.axis_rotated?0:1;return"M "+c[0][f]+","+c[0][g]+" L"+c[1][f]+","+c[1][g]+" L"+c[2][f]+","+c[2][g]+" L"+c[3][f]+","+c[3][g]+" z"}},d.generateGetBarPoints=function(a,b){var c=this,d=b?c.subXAxis:c.xAxis,e=a.__max__+1,f=c.getBarW(d,e),g=c.getShapeX(f,e,a,!!b),h=c.getShapeY(!!b),i=c.getShapeOffset(c.isBarType,a,!!b),j=b?c.getSubYScale:c.getYScale;return function(a,b){var d=j.call(c,a.id)(0),e=i(a,b)||d,k=g(a),l=h(a);return c.config.axis_rotated&&(0<a.value&&l<d||a.value<0&&d<l)&&(l=d),[[k,e],[k,l-(d-e)],[k+f,l-(d-e)],[k+f,e]]}},d.isWithinBar=function(a){var b=this.d3.mouse(a),c=a.getBoundingClientRect(),d=a.pathSegList.getItem(0),e=a.pathSegList.getItem(1),f=Math.min(d.x,e.x),g=Math.min(d.y,e.y),h=c.width,i=c.height,j=2,k=f-j,l=f+h+j,m=g+i+j,n=g-j;return k<b[0]&&b[0]<l&&n<b[1]&&b[1]<m},d.initText=function(){var a=this;a.main.select("."+k.chart).append("g").attr("class",k.chartTexts),a.mainText=a.d3.selectAll([])},d.updateTargetsForText=function(a){var c,d,b=this,e=b.classChartText.bind(b),f=b.classTexts.bind(b),g=b.classFocus.bind(b);c=b.main.select("."+k.chartTexts).selectAll("."+k.chartText).data(a).attr("class",function(a){return e(a)+g(a)}),d=c.enter().append("g").attr("class",e).style("opacity",0).style("pointer-events","none"),d.append("g").attr("class",f)},d.updateText=function(a){var b=this,c=b.config,d=b.barOrLineData.bind(b),e=b.classText.bind(b);b.mainText=b.main.selectAll("."+k.texts).selectAll("."+k.text).data(d),b.mainText.enter().append("text").attr("class",e).attr("text-anchor",function(a){return c.axis_rotated?a.value<0?"end":"start":"middle"}).style("stroke","none").style("fill",function(a){return b.color(a)}).style("fill-opacity",0),b.mainText.text(function(a,c,d){return b.dataLabelFormat(a.id)(a.value,a.id,c,d)}),b.mainText.exit().transition().duration(a).style("fill-opacity",0).remove()},d.redrawText=function(a,b,c,d){return[(d?this.mainText.transition():this.mainText).attr("x",a).attr("y",b).style("fill",this.color).style("fill-opacity",c?0:this.opacityForText.bind(this))]},d.getTextRect=function(a,b,c){var g,d=this.d3.select("body").append("div").classed("c3",!0),e=d.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),f=this.d3.select(c).style("font");return e.selectAll(".dummy").data([a]).enter().append("text").classed(b||"",!0).style("font",f).text(a).each(function(){g=this.getBoundingClientRect()}),d.remove(),g},d.generateXYForText=function(a,b,c,d){var e=this,f=e.generateGetAreaPoints(a,!1),g=e.generateGetBarPoints(b,!1),h=e.generateGetLinePoints(c,!1),i=d?e.getXForText:e.getYForText;return function(a,b){var c=e.isAreaType(a)?f:e.isBarType(a)?g:h;return i.call(e,c(a,b),a,this)}},d.getXForText=function(a,b,c){var f,g,d=this,e=c.getBoundingClientRect();return d.config.axis_rotated?(g=d.isBarType(b)?4:6,f=a[2][1]+g*(b.value<0?-1:1)):f=d.hasType("bar")?(a[2][0]+a[0][0])/2:a[0][0],null===b.value&&(f>d.width?f=d.width-e.width:f<0&&(f=4)),f},d.getYForText=function(a,b,c){var f,d=this,e=c.getBoundingClientRect();return d.config.axis_rotated?f=(a[0][0]+a[2][0]+.6*e.height)/2:(f=a[2][1],b.value<0||0===b.value&&!d.hasPositiveValue?(f+=e.height,d.isBarType(b)&&d.isSafari()?f-=3:!d.isBarType(b)&&d.isChrome()&&(f+=3)):f+=d.isBarType(b)?-3:-6),null!==b.value||d.config.axis_rotated||(f<e.height?f=e.height:f>this.height&&(f=this.height-4)),f},d.setTargetType=function(a,b){var c=this,d=c.config;c.mapToTargetIds(a).forEach(function(a){c.withoutFadeIn[a]=b===d.data_types[a],d.data_types[a]=b}),a||(d.data_type=b)},d.hasType=function(a,b){var c=this,d=c.config.data_types,e=!1;return b=b||c.data.targets,b&&b.length?b.forEach(function(b){var c=d[b.id];(c&&c.indexOf(a)>=0||!c&&"line"===a)&&(e=!0)}):Object.keys(d).length?Object.keys(d).forEach(function(b){d[b]===a&&(e=!0)}):e=c.config.data_type===a,e},d.hasArcType=function(a){return this.hasType("pie",a)||this.hasType("donut",a)||this.hasType("gauge",a)},d.isLineType=function(a){var b=this.config,c=n(a)?a:a.id;return!b.data_types[c]||["line","spline","area","area-spline","step","area-step"].indexOf(b.data_types[c])>=0},d.isStepType=function(a){var b=n(a)?a:a.id;return["step","area-step"].indexOf(this.config.data_types[b])>=0},d.isSplineType=function(a){var b=n(a)?a:a.id;return["spline","area-spline"].indexOf(this.config.data_types[b])>=0},d.isAreaType=function(a){var b=n(a)?a:a.id;return["area","area-spline","area-step"].indexOf(this.config.data_types[b])>=0},d.isBarType=function(a){var b=n(a)?a:a.id;return"bar"===this.config.data_types[b]},d.isScatterType=function(a){var b=n(a)?a:a.id;return"scatter"===this.config.data_types[b]},d.isPieType=function(a){var b=n(a)?a:a.id;return"pie"===this.config.data_types[b]},d.isGaugeType=function(a){var b=n(a)?a:a.id;return"gauge"===this.config.data_types[b]},d.isDonutType=function(a){var b=n(a)?a:a.id;return"donut"===this.config.data_types[b]},d.isArcType=function(a){return this.isPieType(a)||this.isDonutType(a)||this.isGaugeType(a)},d.lineData=function(a){return this.isLineType(a)?[a]:[]},d.arcData=function(a){return this.isArcType(a.data)?[a]:[]},d.barData=function(a){return this.isBarType(a)?a.values:[]},d.lineOrScatterData=function(a){return this.isLineType(a)||this.isScatterType(a)?a.values:[]},d.barOrLineData=function(a){return this.isBarType(a)||this.isLineType(a)?a.values:[]},d.isInterpolationType=function(a){return["linear","linear-closed","basis","basis-open","basis-closed","bundle","cardinal","cardinal-open","cardinal-closed","monotone"].indexOf(a)>=0},d.initGrid=function(){var a=this,b=a.config,c=a.d3;a.grid=a.main.append("g").attr("clip-path",a.clipPathForGrid).attr("class",k.grid),b.grid_x_show&&a.grid.append("g").attr("class",k.xgrids),b.grid_y_show&&a.grid.append("g").attr("class",k.ygrids),b.grid_focus_show&&a.grid.append("g").attr("class",k.xgridFocus).append("line").attr("class",k.xgridFocus),a.xgrid=c.selectAll([]),b.grid_lines_front||a.initGridLines()},d.initGridLines=function(){var a=this,b=a.d3;a.gridLines=a.main.append("g").attr("clip-path",a.clipPathForGrid).attr("class",k.grid+" "+k.gridLines),a.gridLines.append("g").attr("class",k.xgridLines),a.gridLines.append("g").attr("class",k.ygridLines),a.xgridLines=b.selectAll([])},d.updateXGrid=function(a){var b=this,c=b.config,d=b.d3,e=b.generateGridData(c.grid_x_type,b.x),f=b.isCategorized()?b.xAxis.tickOffset():0;b.xgridAttr=c.axis_rotated?{x1:0,x2:b.width,y1:function(a){return b.x(a)-f},y2:function(a){return b.x(a)-f}}:{x1:function(a){return b.x(a)+f},x2:function(a){return b.x(a)+f},y1:0,y2:b.height},b.xgrid=b.main.select("."+k.xgrids).selectAll("."+k.xgrid).data(e),b.xgrid.enter().append("line").attr("class",k.xgrid),a||b.xgrid.attr(b.xgridAttr).style("opacity",function(){return+d.select(this).attr(c.axis_rotated?"y1":"x1")===(c.axis_rotated?b.height:0)?0:1}),b.xgrid.exit().remove()},d.updateYGrid=function(){var a=this,b=a.config,c=a.yAxis.tickValues()||a.y.ticks(b.grid_y_ticks);a.ygrid=a.main.select("."+k.ygrids).selectAll("."+k.ygrid).data(c),a.ygrid.enter().append("line").attr("class",k.ygrid),a.ygrid.attr("x1",b.axis_rotated?a.y:0).attr("x2",b.axis_rotated?a.y:a.width).attr("y1",b.axis_rotated?0:a.y).attr("y2",b.axis_rotated?a.height:a.y),a.ygrid.exit().remove(),a.smoothLines(a.ygrid,"grid")},d.gridTextAnchor=function(a){return a.position?a.position:"end"},d.gridTextDx=function(a){return"start"===a.position?4:"middle"===a.position?0:-4},d.xGridTextX=function(a){return"start"===a.position?-this.height:"middle"===a.position?-this.height/2:0},d.yGridTextX=function(a){return"start"===a.position?0:"middle"===a.position?this.width/2:this.width},d.updateGrid=function(a){var e,f,g,b=this,c=b.main,d=b.config;b.grid.style("visibility",b.hasArcType()?"hidden":"visible"),c.select("line."+k.xgridFocus).style("visibility","hidden"),d.grid_x_show&&b.updateXGrid(),b.xgridLines=c.select("."+k.xgridLines).selectAll("."+k.xgridLine).data(d.grid_x_lines),e=b.xgridLines.enter().append("g").attr("class",function(a){return k.xgridLine+(a.class?" "+a.class:"")}),e.append("line").style("opacity",0),e.append("text").attr("text-anchor",b.gridTextAnchor).attr("transform",d.axis_rotated?"":"rotate(-90)").attr("dx",b.gridTextDx).attr("dy",-5).style("opacity",0),b.xgridLines.exit().transition().duration(a).style("opacity",0).remove(),d.grid_y_show&&b.updateYGrid(),b.ygridLines=c.select("."+k.ygridLines).selectAll("."+k.ygridLine).data(d.grid_y_lines),f=b.ygridLines.enter().append("g").attr("class",function(a){return k.ygridLine+(a.class?" "+a.class:"")}),f.append("line").style("opacity",0),f.append("text").attr("text-anchor",b.gridTextAnchor).attr("transform",d.axis_rotated?"rotate(-90)":"").attr("dx",b.gridTextDx).attr("dy",-5).style("opacity",0),g=b.yv.bind(b),b.ygridLines.select("line").transition().duration(a).attr("x1",d.axis_rotated?g:0).attr("x2",d.axis_rotated?g:b.width).attr("y1",d.axis_rotated?0:g).attr("y2",d.axis_rotated?b.height:g).style("opacity",1),b.ygridLines.select("text").transition().duration(a).attr("x",d.axis_rotated?b.xGridTextX.bind(b):b.yGridTextX.bind(b)).attr("y",g).text(function(a){return a.text}).style("opacity",1),b.ygridLines.exit().transition().duration(a).style("opacity",0).remove()},d.redrawGrid=function(a){var b=this,c=b.config,d=b.xv.bind(b),e=b.xgridLines.select("line"),f=b.xgridLines.select("text");return[(a?e.transition():e).attr("x1",c.axis_rotated?0:d).attr("x2",c.axis_rotated?b.width:d).attr("y1",c.axis_rotated?d:0).attr("y2",c.axis_rotated?d:b.height).style("opacity",1),(a?f.transition():f).attr("x",c.axis_rotated?b.yGridTextX.bind(b):b.xGridTextX.bind(b)).attr("y",d).text(function(a){return a.text}).style("opacity",1)]},d.showXGridFocus=function(a){var b=this,c=b.config,d=a.filter(function(a){return a&&l(a.value)}),e=b.main.selectAll("line."+k.xgridFocus),f=b.xx.bind(b);c.tooltip_show&&(b.hasType("scatter")||b.hasArcType()||(e.style("visibility","visible").data([d[0]]).attr(c.axis_rotated?"y1":"x1",f).attr(c.axis_rotated?"y2":"x2",f),b.smoothLines(e,"grid")))},d.hideXGridFocus=function(){this.main.select("line."+k.xgridFocus).style("visibility","hidden")},d.updateXgridFocus=function(){var a=this,b=a.config;a.main.select("line."+k.xgridFocus).attr("x1",b.axis_rotated?0:-10).attr("x2",b.axis_rotated?a.width:-10).attr("y1",b.axis_rotated?-10:0).attr("y2",b.axis_rotated?-10:a.height)},d.generateGridData=function(a,b){var e,f,g,h,c=this,d=[],i=c.main.select("."+k.axisX).selectAll(".tick").size();if("year"===a)for(e=c.getXDomain(),f=e[0].getFullYear(),g=e[1].getFullYear(),h=f;h<=g;h++)d.push(new Date(h+"-01-01 00:00:00"));else d=b.ticks(10),d.length>i&&(d=d.filter(function(a){return(""+a).indexOf(".")<0}));return d},d.getGridFilterToRemove=function(a){return a?function(b){var c=!1;return[].concat(a).forEach(function(a){("value"in a&&b.value===a.value||"class"in a&&b.class===a.class)&&(c=!0)}),c}:function(){return!0}},d.removeGridLines=function(a,b){var c=this,d=c.config,e=c.getGridFilterToRemove(a),f=function(a){return!e(a)},g=b?k.xgridLines:k.ygridLines,h=b?k.xgridLine:k.ygridLine;c.main.select("."+g).selectAll("."+h).filter(e).transition().duration(d.transition_duration).style("opacity",0).remove(),b?d.grid_x_lines=d.grid_x_lines.filter(f):d.grid_y_lines=d.grid_y_lines.filter(f)},d.initTooltip=function(){var c,a=this,b=a.config;if(a.tooltip=a.selectChart.style("position","relative").append("div").attr("class",k.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),b.tooltip_init_show){if(a.isTimeSeries()&&n(b.tooltip_init_x)){for(b.tooltip_init_x=a.parseDate(b.tooltip_init_x),c=0;c<a.data.targets[0].values.length&&a.data.targets[0].values[c].x-b.tooltip_init_x!=0;c++);b.tooltip_init_x=c}a.tooltip.html(b.tooltip_contents.call(a,a.data.targets.map(function(c){return a.addName(c.values[b.tooltip_init_x])}),a.axis.getXAxisTickFormat(),a.getYFormat(a.hasArcType()),a.color)),a.tooltip.style("top",b.tooltip_init_position.top).style("left",b.tooltip_init_position.left).style("display","block")}},d.getTooltipContent=function(a,b,c,d){var j,k,l,m,n,o,e=this,f=e.config,g=f.tooltip_format_title||b,h=f.tooltip_format_name||function(a){return a},i=f.tooltip_format_value||c,p=e.isOrderAsc();if(0===f.data_groups.length)a.sort(function(a,b){var c=a?a.value:null,d=b?b.value:null;return p?c-d:d-c});else{var q=e.orderTargets(e.data.targets).map(function(a){return a.id});a.sort(function(a,b){var c=a?a.value:null,d=b?b.value:null;return c>0&&d>0&&(c=a?q.indexOf(a.id):null,d=b?q.indexOf(b.id):null),p?c-d:d-c})}for(k=0;k<a.length;k++)if(a[k]&&(a[k].value||0===a[k].value)&&(j||(l=x(g?g(a[k].x):a[k].x),j="<table class='"+e.CLASS.tooltip+"'>"+(l||0===l?"<tr><th colspan='2'>"+l+"</th></tr>":"")),void 0!==(m=x(i(a[k].value,a[k].ratio,a[k].id,a[k].index,a))))){if(null===a[k].name)continue;n=x(h(a[k].name,a[k].ratio,a[k].id,a[k].index)),o=e.levelColor?e.levelColor(a[k].value):d(a[k].id),j+="<tr class='"+e.CLASS.tooltipName+"-"+e.getTargetSelectorSuffix(a[k].id)+"'>",j+="<td class='name'><span style='background-color:"+o+"'></span>"+n+"</td>",j+="<td class='value'>"+m+"</td>",j+="</tr>"}return j+"</table>"},d.tooltipPosition=function(a,b,c,d){var h,i,j,k,l,e=this,f=e.config,g=e.d3,m=e.hasArcType(),n=g.mouse(d);return m?(i=(e.width-(e.isLegendRight?e.getLegendWidth():0))/2+n[0],k=e.height/2+n[1]+20):(h=e.getSvgLeft(!0),f.axis_rotated?(i=h+n[0]+100,j=i+b,l=e.currentWidth-e.getCurrentPaddingRight(),k=e.x(a[0].x)+20):(i=h+e.getCurrentPaddingLeft(!0)+e.x(a[0].x)+20,j=i+b,l=h+e.currentWidth-e.getCurrentPaddingRight(),k=n[1]+15),j>l&&(i-=j-l+20),k+c>e.currentHeight&&(k-=c+30)),k<0&&(k=0),{top:k,left:i}},d.showTooltip=function(a,b){var f,g,h,c=this,e=c.config,i=c.hasArcType(),j=a.filter(function(a){return a&&l(a.value)}),k=e.tooltip_position||d.tooltipPosition;0!==j.length&&e.tooltip_show&&(c.tooltip.html(e.tooltip_contents.call(c,a,c.axis.getXAxisTickFormat(),c.getYFormat(i),c.color)).style("display","block"),f=c.tooltip.property("offsetWidth"),g=c.tooltip.property("offsetHeight"),h=k.call(this,j,f,g,b),c.tooltip.style("top",h.top+"px").style("left",h.left+"px"))},d.hideTooltip=function(){this.tooltip.style("display","none")},d.initLegend=function(){var a=this;if(a.legendItemTextBox={},a.legendHasRendered=!1,a.legend=a.svg.append("g").attr("transform",a.getTranslate("legend")),!a.config.legend_show)return a.legend.style("visibility","hidden"),void(a.hiddenLegendIds=a.mapToIds(a.data.targets));a.updateLegendWithDefaults()},d.updateLegendWithDefaults=function(){var a=this;a.updateLegend(a.mapToIds(a.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},d.updateSizeForLegend=function(a,b){var c=this,d=c.config,e={top:c.isLegendTop?c.getCurrentPaddingTop()+d.legend_inset_y+5.5:c.currentHeight-a-c.getCurrentPaddingBottom()-d.legend_inset_y,left:c.isLegendLeft?c.getCurrentPaddingLeft()+d.legend_inset_x+.5:c.currentWidth-b-c.getCurrentPaddingRight()-d.legend_inset_x+.5};c.margin3={top:c.isLegendRight?0:c.isLegendInset?e.top:c.currentHeight-a,right:NaN,bottom:0,left:c.isLegendRight?c.currentWidth-b:c.isLegendInset?e.left:0}},d.transformLegend=function(a){var b=this;(a?b.legend.transition():b.legend).attr("transform",b.getTranslate("legend"))},d.updateLegendStep=function(a){this.legendStep=a},d.updateLegendItemWidth=function(a){this.legendItemWidth=a},d.updateLegendItemHeight=function(a){this.legendItemHeight=a},d.getLegendWidth=function(){var a=this;return a.config.legend_show?a.isLegendRight||a.isLegendInset?a.legendItemWidth*(a.legendStep+1):a.currentWidth:0},d.getLegendHeight=function(){var a=this,b=0;return a.config.legend_show&&(b=a.isLegendRight?a.currentHeight:Math.max(20,a.legendItemHeight)*(a.legendStep+1)),b},d.opacityForLegend=function(a){return a.classed(k.legendItemHidden)?null:1},d.opacityForUnfocusedLegend=function(a){return a.classed(k.legendItemHidden)?null:.3},d.toggleFocusLegend=function(a,b){var c=this;a=c.mapToTargetIds(a),c.legend.selectAll("."+k.legendItem).filter(function(b){return a.indexOf(b)>=0}).classed(k.legendItemFocused,b).transition().duration(100).style("opacity",function(){return(b?c.opacityForLegend:c.opacityForUnfocusedLegend).call(c,c.d3.select(this))})},d.revertLegend=function(){var a=this,b=a.d3;a.legend.selectAll("."+k.legendItem).classed(k.legendItemFocused,!1).transition().duration(100).style("opacity",function(){return a.opacityForLegend(b.select(this))})},d.showLegend=function(a){var b=this,c=b.config;c.legend_show||(c.legend_show=!0,b.legend.style("visibility","visible"),b.legendHasRendered||b.updateLegendWithDefaults()),b.removeHiddenLegendIds(a),b.legend.selectAll(b.selectorLegends(a)).style("visibility","visible").transition().style("opacity",function(){return b.opacityForLegend(b.d3.select(this))})},d.hideLegend=function(a){var b=this,c=b.config;c.legend_show&&t(a)&&(c.legend_show=!1,b.legend.style("visibility","hidden")),b.addHiddenLegendIds(a),b.legend.selectAll(b.selectorLegends(a)).style("opacity",0).style("visibility","hidden")},d.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}},d.updateLegend=function(a,b,c){function L(a,b){return d.legendItemTextBox[b]||(d.legendItemTextBox[b]=d.getTextRect(a.textContent,k.legendItem,a)),d.legendItemTextBox[b]}function M(b,c,f){function p(a,b){b||(n=(m-y-l)/2)<u&&(n=(m-l)/2,y=0,E++),D[a]=E,C[E]=d.isLegendInset?10:n,z[a]=y,y+=l}var n,o,g=0===f,h=f===a.length-1,i=L(b,c),j=i.width+w+(!h||d.isLegendRight||d.isLegendInset?r:0)+e.legend_padding,k=i.height+q,l=d.isLegendRight||d.isLegendInset?k:j,m=d.isLegendRight||d.isLegendInset?d.getLegendHeight():d.getLegendWidth();if(g&&(y=0,E=0,s=0,t=0),e.legend_show&&!d.isLegendToShow(c))return void(A[c]=B[c]=D[c]=z[c]=0);A[c]=j,B[c]=k,(!s||j>=s)&&(s=j),(!t||k>=t)&&(t=k),o=d.isLegendRight||d.isLegendInset?t:s,e.legend_equally?(Object.keys(A).forEach(function(a){A[a]=s}),Object.keys(B).forEach(function(a){B[a]=t}),n=(m-o*a.length)/2,n<u?(y=0,E=0,a.forEach(function(a){p(a)})):p(c,!0)):p(c)}var f,g,h,i,j,l,m,n,o,x,F,G,H,I,J,K,d=this,e=d.config,q=4,r=10,s=0,t=0,u=10,w=e.legend_item_tile_width+5,y=0,z={},A={},B={},C=[0],D={},E=0;a=a.filter(function(a){return!p(e.data_names[a])||null!==e.data_names[a]}),b=b||{},F=v(b,"withTransition",!0),G=v(b,"withTransitionForTransform",!0),d.isLegendInset&&(E=e.legend_inset_step?e.legend_inset_step:a.length,d.updateLegendStep(E)),d.isLegendRight?(f=function(a){return s*D[a]},i=function(a){return C[D[a]]+z[a]}):d.isLegendInset?(f=function(a){return s*D[a]+10},i=function(a){return C[D[a]]+z[a]}):(f=function(a){return C[D[a]]+z[a]},i=function(a){return t*D[a]}),g=function(a,b){return f(a,b)+4+e.legend_item_tile_width},j=function(a,b){return i(a,b)+9},h=function(a,b){return f(a,b)},l=function(a,b){return i(a,b)-5},m=function(a,b){return f(a,b)-2},n=function(a,b){return f(a,b)-2+e.legend_item_tile_width},o=function(a,b){return i(a,b)+4},x=d.legend.selectAll("."+k.legendItem).data(a).enter().append("g").attr("class",function(a){return d.generateClass(k.legendItem,a)}).style("visibility",function(a){return d.isLegendToShow(a)?"visible":"hidden"}).style("cursor","pointer").on("click",function(a){e.legend_item_onclick?e.legend_item_onclick.call(d,a):d.d3.event.altKey?(d.api.hide(),d.api.show(a)):(d.api.toggle(a),d.isTargetToShow(a)?d.api.focus(a):d.api.revert())}).on("mouseover",function(a){e.legend_item_onmouseover?e.legend_item_onmouseover.call(d,a):(d.d3.select(this).classed(k.legendItemFocused,!0),!d.transiting&&d.isTargetToShow(a)&&d.api.focus(a))}).on("mouseout",function(a){e.legend_item_onmouseout?e.legend_item_onmouseout.call(d,a):(d.d3.select(this).classed(k.legendItemFocused,!1),d.api.revert())}),x.append("text").text(function(a){return p(e.data_names[a])?e.data_names[a]:a}).each(function(a,b){M(this,a,b)}).style("pointer-events","none").attr("x",d.isLegendRight||d.isLegendInset?g:-200).attr("y",d.isLegendRight||d.isLegendInset?-200:j),x.append("rect").attr("class",k.legendItemEvent).style("fill-opacity",0).attr("x",d.isLegendRight||d.isLegendInset?h:-200).attr("y",d.isLegendRight||d.isLegendInset?-200:l),x.append("line").attr("class",k.legendItemTile).style("stroke",d.color).style("pointer-events","none").attr("x1",d.isLegendRight||d.isLegendInset?m:-200).attr("y1",d.isLegendRight||d.isLegendInset?-200:o).attr("x2",d.isLegendRight||d.isLegendInset?n:-200).attr("y2",d.isLegendRight||d.isLegendInset?-200:o).attr("stroke-width",e.legend_item_tile_height),K=d.legend.select("."+k.legendBackground+" rect"),d.isLegendInset&&s>0&&0===K.size()&&(K=d.legend.insert("g","."+k.legendItem).attr("class",k.legendBackground).append("rect")),H=d.legend.selectAll("text").data(a).text(function(a){return p(e.data_names[a])?e.data_names[a]:a}).each(function(a,b){M(this,a,b)}),(F?H.transition():H).attr("x",g).attr("y",j),I=d.legend.selectAll("rect."+k.legendItemEvent).data(a),(F?I.transition():I).attr("width",function(a){return A[a]}).attr("height",function(a){return B[a]}).attr("x",h).attr("y",l),J=d.legend.selectAll("line."+k.legendItemTile).data(a),(F?J.transition():J).style("stroke",d.color).attr("x1",m).attr("y1",o).attr("x2",n).attr("y2",o),K&&(F?K.transition():K).attr("height",d.getLegendHeight()-12).attr("width",s*(E+1)+10),d.legend.selectAll("."+k.legendItem).classed(k.legendItemHidden,function(a){return!d.isTargetToShow(a)}),d.updateLegendItemWidth(s),d.updateLegendItemHeight(t),d.updateLegendStep(E),d.updateSizes(),d.updateScales(),d.updateSvgSize(),d.transformAll(G,c),d.legendHasRendered=!0},d.initTitle=function(){var a=this;a.title=a.svg.append("text").text(a.config.title_text).attr("class",a.CLASS.title)},d.redrawTitle=function(){var a=this;a.title.attr("x",a.xForTitle.bind(a)).attr("y",a.yForTitle.bind(a))},d.xForTitle=function(){var a=this,b=a.config,c=b.title_position||"left";return c.indexOf("right")>=0?a.currentWidth-a.getTextRect(a.title.node().textContent,a.CLASS.title,a.title.node()).width-b.title_padding.right:c.indexOf("center")>=0?(a.currentWidth-a.getTextRect(a.title.node().textContent,a.CLASS.title,a.title.node()).width)/2:b.title_padding.left},d.yForTitle=function(){var a=this;return a.config.title_padding.top+a.getTextRect(a.title.node().textContent,a.CLASS.title,a.title.node()).height},d.getTitlePadding=function(){var a=this;return a.yForTitle()+a.config.title_padding.bottom},g(f,j),j.prototype.init=function(){var b=this.owner,c=b.config,d=b.main;b.axes.x=d.append("g").attr("class",k.axis+" "+k.axisX).attr("clip-path",b.clipPathForXAxis).attr("transform",b.getTranslate("x")).style("visibility",c.axis_x_show?"visible":"hidden"),b.axes.x.append("text").attr("class",k.axisXLabel).attr("transform",c.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this)),b.axes.y=d.append("g").attr("class",k.axis+" "+k.axisY).attr("clip-path",c.axis_y_inner?"":b.clipPathForYAxis).attr("transform",b.getTranslate("y")).style("visibility",c.axis_y_show?"visible":"hidden"),b.axes.y.append("text").attr("class",k.axisYLabel).attr("transform",c.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this)),b.axes.y2=d.append("g").attr("class",k.axis+" "+k.axisY2).attr("transform",b.getTranslate("y2")).style("visibility",c.axis_y2_show?"visible":"hidden"),b.axes.y2.append("text").attr("class",k.axisY2Label).attr("transform",c.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))},j.prototype.getXAxis=function(b,c,d,e,f,g,h){var i=this.owner,j=i.config,k={isCategory:i.isCategorized(),withOuterTick:f,tickMultiline:j.axis_x_tick_multiline,tickWidth:j.axis_x_tick_width,tickTextRotate:h?0:j.axis_x_tick_rotate,withoutTransition:g},l=A(i.d3,k).scale(b).orient(c);return i.isTimeSeries()&&e&&"function"!=typeof e&&(e=e.map(function(a){return i.parseDate(a)})),l.tickFormat(d).tickValues(e),i.isCategorized()&&(l.tickCentered(j.axis_x_tick_centered),t(j.axis_x_tick_culling)&&(j.axis_x_tick_culling=!1)),l},j.prototype.updateXAxisTickValues=function(b,c){var f,d=this.owner,e=d.config;return(e.axis_x_tick_fit||e.axis_x_tick_count)&&(f=this.generateTickValues(d.mapTargetsToUniqueXs(b),e.axis_x_tick_count,d.isTimeSeries())),c?c.tickValues(f):(d.xAxis.tickValues(f),d.subXAxis.tickValues(f)),f},j.prototype.getYAxis=function(b,c,d,e,f,g,h){var i=this.owner,j=i.config,k={withOuterTick:f,withoutTransition:g,tickTextRotate:h?0:j.axis_y_tick_rotate},l=A(i.d3,k).scale(b).orient(c).tickFormat(d);return i.isTimeSeriesY()?l.ticks(i.d3.time[j.axis_y_tick_time_value],j.axis_y_tick_time_interval):l.tickValues(e),l},j.prototype.getId=function(b){var c=this.owner.config;return b in c.data_axes?c.data_axes[b]:"y"},j.prototype.getXAxisTickFormat=function(){var b=this.owner,c=b.config,d=b.isTimeSeries()?b.defaultAxisTimeFormat:b.isCategorized()?b.categoryName:function(a){return a<0?a.toFixed(0):a};return c.axis_x_tick_format&&(m(c.axis_x_tick_format)?d=c.axis_x_tick_format:b.isTimeSeries()&&(d=function(a){return a?b.axisTimeFormat(c.axis_x_tick_format)(a):""})),m(d)?function(a){return d.call(b,a)}:d},j.prototype.getTickValues=function(b,c){return b||(c?c.tickValues():void 0)},j.prototype.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},j.prototype.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},j.prototype.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)},j.prototype.getLabelOptionByAxisId=function(b){var e,c=this.owner,d=c.config;return"y"===b?e=d.axis_y_label:"y2"===b?e=d.axis_y2_label:"x"===b&&(e=d.axis_x_label),e},j.prototype.getLabelText=function(b){var c=this.getLabelOptionByAxisId(b);return n(c)?c:c?c.text:null},j.prototype.setLabelText=function(b,c){var d=this.owner,e=d.config,f=this.getLabelOptionByAxisId(b);n(f)?"y"===b?e.axis_y_label=c:"y2"===b?e.axis_y2_label=c:"x"===b&&(e.axis_x_label=c):f&&(f.text=c)},j.prototype.getLabelPosition=function(b,c){var d=this.getLabelOptionByAxisId(b),e=d&&"object"==typeof d&&d.position?d.position:c;return{isInner:e.indexOf("inner")>=0,isOuter:e.indexOf("outer")>=0,isLeft:e.indexOf("left")>=0,isCenter:e.indexOf("center")>=0,isRight:e.indexOf("right")>=0,isTop:e.indexOf("top")>=0,isMiddle:e.indexOf("middle")>=0,isBottom:e.indexOf("bottom")>=0}},j.prototype.getXAxisLabelPosition=function(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")},j.prototype.getYAxisLabelPosition=function(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")},j.prototype.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")},j.prototype.getLabelPositionById=function(b){return"y2"===b?this.getY2AxisLabelPosition():"y"===b?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},j.prototype.textForXAxisLabel=function(){return this.getLabelText("x")},j.prototype.textForYAxisLabel=function(){return this.getLabelText("y")},j.prototype.textForY2AxisLabel=function(){return this.getLabelText("y2")},j.prototype.xForAxisLabel=function(b,c){var d=this.owner;return b?c.isLeft?0:c.isCenter?d.width/2:d.width:c.isBottom?-d.height:c.isMiddle?-d.height/2:0},j.prototype.dxForAxisLabel=function(b,c){return b?c.isLeft?"0.5em":c.isRight?"-0.5em":"0":c.isTop?"-0.5em":c.isBottom?"0.5em":"0"},j.prototype.textAnchorForAxisLabel=function(b,c){return b?c.isLeft?"start":c.isCenter?"middle":"end":c.isBottom?"start":c.isMiddle?"middle":"end"},j.prototype.xForXAxisLabel=function(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},j.prototype.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},j.prototype.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},j.prototype.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},j.prototype.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},j.prototype.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},j.prototype.dyForXAxisLabel=function(){var b=this.owner,c=b.config,d=this.getXAxisLabelPosition();return c.axis_rotated?d.isInner?"1.2em":-25-this.getMaxTickWidth("x"):d.isInner?"-0.5em":c.axis_x_height?c.axis_x_height-10:"3em"},j.prototype.dyForYAxisLabel=function(){var b=this.owner,c=this.getYAxisLabelPosition();return b.config.axis_rotated?c.isInner?"-0.5em":"3em":c.isInner?"1.2em":-10-(b.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},j.prototype.dyForY2AxisLabel=function(){var b=this.owner,c=this.getY2AxisLabelPosition();return b.config.axis_rotated?c.isInner?"1.2em":"-2.2em":c.isInner?"-0.5em":15+(b.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},j.prototype.textAnchorForXAxisLabel=function(){var b=this.owner;return this.textAnchorForAxisLabel(!b.config.axis_rotated,this.getXAxisLabelPosition())},j.prototype.textAnchorForYAxisLabel=function(){var b=this.owner;return this.textAnchorForAxisLabel(b.config.axis_rotated,this.getYAxisLabelPosition())},j.prototype.textAnchorForY2AxisLabel=function(){var b=this.owner;return this.textAnchorForAxisLabel(b.config.axis_rotated,this.getY2AxisLabelPosition())},j.prototype.getMaxTickWidth=function(b,c){var g,h,i,j,k,d=this.owner,e=d.config,f=0;return c&&d.currentMaxTickWidths[b]?d.currentMaxTickWidths[b]:(d.svg&&(g=d.filterTargetsToShow(d.data.targets),"y"===b?(h=d.y.copy().domain(d.getYDomain(g,"y")),i=this.getYAxis(h,d.yOrient,e.axis_y_tick_format,d.yAxisTickValues,!1,!0,!0)):"y2"===b?(h=d.y2.copy().domain(d.getYDomain(g,"y2")),i=this.getYAxis(h,d.y2Orient,e.axis_y2_tick_format,d.y2AxisTickValues,!1,!0,!0)):(h=d.x.copy().domain(d.getXDomain(g)),i=this.getXAxis(h,d.xOrient,d.xAxisTickFormat,d.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(g,i)),j=d.d3.select("body").append("div").classed("c3",!0),k=j.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),k.append("g").call(i).each(function(){d.d3.select(this).selectAll("text").each(function(){var a=this.getBoundingClientRect();f<a.width&&(f=a.width)}),j.remove()})),d.currentMaxTickWidths[b]=f<=0?d.currentMaxTickWidths[b]:f,d.currentMaxTickWidths[b])},j.prototype.updateLabels=function(b){var c=this.owner,d=c.main.select("."+k.axisX+" ."+k.axisXLabel),e=c.main.select("."+k.axisY+" ."+k.axisYLabel),f=c.main.select("."+k.axisY2+" ."+k.axisY2Label);(b?d.transition():d).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)),(b?e.transition():e).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)),(b?f.transition():f).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))},j.prototype.getPadding=function(b,c,d,e){var f="number"==typeof b?b:b[c];return l(f)?"ratio"===b.unit?b[c]*e:this.convertPixelsToAxisPadding(f,e):d},j.prototype.convertPixelsToAxisPadding=function(b,c){var d=this.owner;return c*(b/(d.config.axis_rotated?d.width:d.height))},j.prototype.generateTickValues=function(b,c,d){var f,g,h,i,j,k,l,e=b;if(c)if(1===(f=m(c)?c():c))e=[b[0]];else if(2===f)e=[b[0],b[b.length-1]];else if(f>2){for(i=f-2,g=b[0],h=b[b.length-1],j=(h-g)/(i+1),e=[g],k=0;k<i;k++)l=+g+j*(k+1),e.push(d?new Date(l):l);e.push(h)}return d||(e=e.sort(function(a,b){return a-b})),e},j.prototype.generateTransitions=function(b){var c=this.owner,d=c.axes;return{axisX:b?d.x.transition().duration(b):d.x,axisY:b?d.y.transition().duration(b):d.y,axisY2:b?d.y2.transition().duration(b):d.y2,axisSubX:b?d.subx.transition().duration(b):d.subx}},j.prototype.redraw=function(b,c){var d=this.owner;d.axes.x.style("opacity",c?0:1),d.axes.y.style("opacity",c?0:1),d.axes.y2.style("opacity",c?0:1),d.axes.subx.style("opacity",c?0:1),b.axisX.call(d.xAxis),b.axisY.call(d.yAxis),b.axisY2.call(d.y2Axis),b.axisSubX.call(d.subXAxis)},d.getClipPath=function(b){return"url("+(a.navigator.appVersion.toLowerCase().indexOf("msie 9.")>=0?"":document.URL.split("#")[0])+"#"+b+")"},d.appendClip=function(a,b){return a.append("clipPath").attr("id",b).append("rect")},d.getAxisClipX=function(a){var b=Math.max(30,this.margin.left);return a?-(1+b):-(b-1)},d.getAxisClipY=function(a){return a?-20:-this.margin.top},d.getXAxisClipX=function(){var a=this;return a.getAxisClipX(!a.config.axis_rotated)},d.getXAxisClipY=function(){var a=this;return a.getAxisClipY(!a.config.axis_rotated)},d.getYAxisClipX=function(){var a=this;return a.config.axis_y_inner?-1:a.getAxisClipX(a.config.axis_rotated)},d.getYAxisClipY=function(){var a=this;return a.getAxisClipY(a.config.axis_rotated)},d.getAxisClipWidth=function(a){var b=this,c=Math.max(30,b.margin.left),d=Math.max(30,b.margin.right);return a?b.width+2+c+d:b.margin.left+20},d.getAxisClipHeight=function(a){return(a?this.margin.bottom:this.margin.top+this.height)+20},d.getXAxisClipWidth=function(){var a=this;return a.getAxisClipWidth(!a.config.axis_rotated)},d.getXAxisClipHeight=function(){var a=this;return a.getAxisClipHeight(!a.config.axis_rotated)},d.getYAxisClipWidth=function(){var a=this;return a.getAxisClipWidth(a.config.axis_rotated)+(a.config.axis_y_inner?20:0)},d.getYAxisClipHeight=function(){var a=this;return a.getAxisClipHeight(a.config.axis_rotated)},d.initPie=function(){var a=this,b=a.d3,c=a.config;a.pie=b.layout.pie().value(function(a){return a.values.reduce(function(a,b){return a+b.value},0)}),c.data_order||a.pie.sort(null)},d.updateRadius=function(){var a=this,b=a.config,c=b.gauge_width||b.donut_width;a.radiusExpanded=Math.min(a.arcWidth,a.arcHeight)/2,a.radius=.95*a.radiusExpanded,a.innerRadiusRatio=c?(a.radius-c)/a.radius:.6,a.innerRadius=a.hasType("donut")||a.hasType("gauge")?a.radius*a.innerRadiusRatio:0},d.updateArc=function(){var a=this;a.svgArc=a.getSvgArc(),a.svgArcExpanded=a.getSvgArcExpanded(),a.svgArcExpandedSub=a.getSvgArcExpanded(.98)},d.updateAngle=function(a){var f,g,h,i,b=this,c=b.config,d=!1,e=0;return c?(b.pie(b.filterTargetsToShow(b.data.targets)).forEach(function(b){d||b.data.id!==a.data.id||(d=!0,a=b,a.index=e),e++}),isNaN(a.startAngle)&&(a.startAngle=0),isNaN(a.endAngle)&&(a.endAngle=a.startAngle),b.isGaugeType(a.data)&&(f=c.gauge_min,g=c.gauge_max,h=Math.PI*(c.gauge_fullCircle?2:1)/(g-f),i=a.value<f?0:a.value<g?a.value-f:g-f,a.startAngle=c.gauge_startingAngle,a.endAngle=a.startAngle+h*i),d?a:null):null},d.getSvgArc=function(){var a=this,b=a.d3.svg.arc().outerRadius(a.radius).innerRadius(a.innerRadius),c=function(c,d){var e;return d?b(c):(e=a.updateAngle(c),e?b(e):"M 0 0")};return c.centroid=b.centroid,c},d.getSvgArcExpanded=function(a){var b=this,c=b.d3.svg.arc().outerRadius(b.radiusExpanded*(a||1)).innerRadius(b.innerRadius);return function(a){var d=b.updateAngle(a);return d?c(d):"M 0 0"}},d.getArc=function(a,b,c){return c||this.isArcType(a.data)?this.svgArc(a,b):"M 0 0"},d.transformForArcLabel=function(a){var e,f,g,h,i,b=this,c=b.config,d=b.updateAngle(a),j="";return d&&!b.hasType("gauge")&&(e=this.svgArc.centroid(d),f=isNaN(e[0])?0:e[0],g=isNaN(e[1])?0:e[1],h=Math.sqrt(f*f+g*g),i=b.hasType("donut")&&c.donut_label_ratio?m(c.donut_label_ratio)?c.donut_label_ratio(a,b.radius,h):c.donut_label_ratio:b.hasType("pie")&&c.pie_label_ratio?m(c.pie_label_ratio)?c.pie_label_ratio(a,b.radius,h):c.pie_label_ratio:b.radius&&h?(36/b.radius>.375?1.175-36/b.radius:.8)*b.radius/h:0,j="translate("+f*i+","+g*i+")"),j},d.getArcRatio=function(a){var b=this,c=b.config,d=Math.PI*(b.hasType("gauge")&&!c.gauge_fullCircle?1:2);return a?(a.endAngle-a.startAngle)/d:null},d.convertToArcData=function(a){return this.addName({id:a.data.id,value:a.value,ratio:this.getArcRatio(a),index:a.index})},d.textForArcLabel=function(a){var c,d,e,f,g,b=this;return b.shouldShowArcLabel()?(c=b.updateAngle(a),d=c?c.value:null,e=b.getArcRatio(c),f=a.data.id,b.hasType("gauge")||b.meetsArcLabelThreshold(e)?(g=b.getArcLabelFormat(),g?g(d,e,f):b.defaultArcValueFormat(d,e)):""):""},d.expandArc=function(b){var d,c=this;if(c.transiting)return void(d=a.setInterval(function(){c.transiting||(a.clearInterval(d),c.legend.selectAll(".c3-legend-item-focused").size()>0&&c.expandArc(b))},10));b=c.mapToTargetIds(b),c.svg.selectAll(c.selectorTargets(b,"."+k.chartArc)).each(function(a){c.shouldExpand(a.data.id)&&c.d3.select(this).selectAll("path").transition().duration(c.expandDuration(a.data.id)).attr("d",c.svgArcExpanded).transition().duration(2*c.expandDuration(a.data.id)).attr("d",c.svgArcExpandedSub).each(function(a){c.isDonutType(a.data)})})},d.unexpandArc=function(a){var b=this;b.transiting||(a=b.mapToTargetIds(a),b.svg.selectAll(b.selectorTargets(a,"."+k.chartArc)).selectAll("path").transition().duration(function(a){return b.expandDuration(a.data.id)}).attr("d",b.svgArc),b.svg.selectAll("."+k.arc).style("opacity",1))},d.expandDuration=function(a){var b=this,c=b.config;return b.isDonutType(a)?c.donut_expand_duration:b.isGaugeType(a)?c.gauge_expand_duration:b.isPieType(a)?c.pie_expand_duration:50},d.shouldExpand=function(a){var b=this,c=b.config;return b.isDonutType(a)&&c.donut_expand||b.isGaugeType(a)&&c.gauge_expand||b.isPieType(a)&&c.pie_expand},d.shouldShowArcLabel=function(){var a=this,b=a.config,c=!0;return a.hasType("donut")?c=b.donut_label_show:a.hasType("pie")&&(c=b.pie_label_show),c},d.meetsArcLabelThreshold=function(a){var b=this,c=b.config;return a>=(b.hasType("donut")?c.donut_label_threshold:c.pie_label_threshold)},d.getArcLabelFormat=function(){var a=this,b=a.config,c=b.pie_label_format;return a.hasType("gauge")?c=b.gauge_label_format:a.hasType("donut")&&(c=b.donut_label_format),c},d.getArcTitle=function(){var a=this;return a.hasType("donut")?a.config.donut_title:""},d.updateTargetsForArc=function(a){var d,e,b=this,c=b.main,f=b.classChartArc.bind(b),g=b.classArcs.bind(b),h=b.classFocus.bind(b);d=c.select("."+k.chartArcs).selectAll("."+k.chartArc).data(b.pie(a)).attr("class",function(a){return f(a)+h(a.data)}),e=d.enter().append("g").attr("class",f),e.append("g").attr("class",g),e.append("text").attr("dy",b.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},d.initArc=function(){var a=this;a.arcs=a.main.select("."+k.chart).append("g").attr("class",k.chartArcs).attr("transform",a.getTranslate("arc")),a.arcs.append("text").attr("class",k.chartArcsTitle).style("text-anchor","middle").text(a.getArcTitle())},d.redrawArc=function(a,b,c){var h,d=this,e=d.d3,f=d.config,g=d.main;h=g.selectAll("."+k.arcs).selectAll("."+k.arc).data(d.arcData.bind(d)),h.enter().append("path").attr("class",d.classArc.bind(d)).style("fill",function(a){return d.color(a.data)}).style("cursor",function(a){return f.interaction_enabled&&f.data_selection_isselectable(a)?"pointer":null}).style("opacity",0).each(function(a){d.isGaugeType(a.data)&&(a.startAngle=a.endAngle=f.gauge_startingAngle),this._current=a}),h.attr("transform",function(a){return!d.isGaugeType(a.data)&&c?"scale(0)":""}).style("opacity",function(a){return a===this._current?0:1}).on("mouseover",f.interaction_enabled?function(a){var b,c;d.transiting||(b=d.updateAngle(a))&&(c=d.convertToArcData(b),d.expandArc(b.data.id),d.api.focus(b.data.id),d.toggleFocusLegend(b.data.id,!0),d.config.data_onmouseover(c,this))}:null).on("mousemove",f.interaction_enabled?function(a){var c,e,b=d.updateAngle(a);b&&(c=d.convertToArcData(b),e=[c],d.showTooltip(e,this))}:null).on("mouseout",f.interaction_enabled?function(a){var b,c;d.transiting||(b=d.updateAngle(a))&&(c=d.convertToArcData(b),d.unexpandArc(b.data.id),d.api.revert(),d.revertLegend(),d.hideTooltip(),d.config.data_onmouseout(c,this))}:null).on("click",f.interaction_enabled?function(a,b){var e,c=d.updateAngle(a);c&&(e=d.convertToArcData(c),d.toggleShape&&d.toggleShape(this,e,b),d.config.data_onclick.call(d.api,e,this))}:null).each(function(){d.transiting=!0}).transition().duration(a).attrTween("d",function(a){var c,b=d.updateAngle(a);return b?(isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),c=e.interpolate(this._current,b),this._current=c(0),function(b){var e=c(b);return e.data=a.data,d.getArc(e,!0)}):function(){return"M 0 0"}}).attr("transform",c?"scale(1)":"").style("fill",function(a){return d.levelColor?d.levelColor(a.data.values[0].value):d.color(a.data.id)}).style("opacity",1).call(d.endall,function(){d.transiting=!1}),h.exit().transition().duration(b).style("opacity",0).remove(),g.selectAll("."+k.chartArc).select("text").style("opacity",0).attr("class",function(a){return d.isGaugeType(a.data)?k.gaugeValue:""}).text(d.textForArcLabel.bind(d)).attr("transform",d.transformForArcLabel.bind(d)).style("font-size",function(a){return d.isGaugeType(a.data)?Math.round(d.radius/5)+"px":""}).transition().duration(a).style("opacity",function(a){return d.isTargetToShow(a.data.id)&&d.isArcType(a.data)?1:0}),g.select("."+k.chartArcsTitle).style("opacity",d.hasType("donut")||d.hasType("gauge")?1:0),d.hasType("gauge")&&(d.arcs.select("."+k.chartArcsBackground).attr("d",function(){var a={data:[{value:f.gauge_max}],startAngle:f.gauge_startingAngle,endAngle:-1*f.gauge_startingAngle};return d.getArc(a,!0,!0)}),d.arcs.select("."+k.chartArcsGaugeUnit).attr("dy",".75em").text(f.gauge_label_show?f.gauge_units:""),d.arcs.select("."+k.chartArcsGaugeMin).attr("dx",-1*(d.innerRadius+(d.radius-d.innerRadius)/(f.gauge_fullCircle?1:2))+"px").attr("dy","1.2em").text(f.gauge_label_show?f.gauge_min:""),d.arcs.select("."+k.chartArcsGaugeMax).attr("dx",d.innerRadius+(d.radius-d.innerRadius)/(f.gauge_fullCircle?1:2)+"px").attr("dy","1.2em").text(f.gauge_label_show?f.gauge_max:""))},d.initGauge=function(){var a=this.arcs;this.hasType("gauge")&&(a.append("path").attr("class",k.chartArcsBackground),a.append("text").attr("class",k.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),a.append("text").attr("class",k.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),a.append("text").attr("class",k.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))},d.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},d.initRegion=function(){var a=this;a.region=a.main.append("g").attr("clip-path",a.clipPath).attr("class",k.regions)},d.updateRegion=function(a){var b=this,c=b.config;b.region.style("visibility",b.hasArcType()?"hidden":"visible"),b.mainRegion=b.main.select("."+k.regions).selectAll("."+k.region).data(c.regions),b.mainRegion.enter().append("g").append("rect").style("fill-opacity",0),b.mainRegion.attr("class",b.classRegion.bind(b)),b.mainRegion.exit().transition().duration(a).style("opacity",0).remove()},d.redrawRegion=function(a){var b=this,c=b.mainRegion.selectAll("rect").each(function(){var a=b.d3.select(this.parentNode).datum();b.d3.select(this).datum(a)}),d=b.regionX.bind(b),e=b.regionY.bind(b),f=b.regionWidth.bind(b),g=b.regionHeight.bind(b);return[(a?c.transition():c).attr("x",d).attr("y",e).attr("width",f).attr("height",g).style("fill-opacity",function(a){return l(a.opacity)?a.opacity:.1})]},d.regionX=function(a){var b=this,c=b.config,e="y"===a.axis?b.y:b.y2;return"y"===a.axis||"y2"===a.axis?c.axis_rotated&&"start"in a?e(a.start):0:c.axis_rotated?0:"start"in a?b.x(b.isTimeSeries()?b.parseDate(a.start):a.start):0},d.regionY=function(a){var b=this,c=b.config,e="y"===a.axis?b.y:b.y2;return"y"===a.axis||"y2"===a.axis?c.axis_rotated?0:"end"in a?e(a.end):0:c.axis_rotated&&"start"in a?b.x(b.isTimeSeries()?b.parseDate(a.start):a.start):0},d.regionWidth=function(a){var e,b=this,c=b.config,d=b.regionX(a),f="y"===a.axis?b.y:b.y2;return e="y"===a.axis||"y2"===a.axis?c.axis_rotated&&"end"in a?f(a.end):b.width:c.axis_rotated?b.width:"end"in a?b.x(b.isTimeSeries()?b.parseDate(a.end):a.end):b.width,e<d?0:e-d},d.regionHeight=function(a){var e,b=this,c=b.config,d=this.regionY(a),f="y"===a.axis?b.y:b.y2;return e="y"===a.axis||"y2"===a.axis?c.axis_rotated?b.height:"start"in a?f(a.start):b.height:c.axis_rotated&&"end"in a?b.x(b.isTimeSeries()?b.parseDate(a.end):a.end):b.height,e<d?0:e-d},d.isRegionOnX=function(a){return!a.axis||"x"===a.axis},d.drag=function(a){var f,g,h,i,j,l,m,n,b=this,c=b.config,d=b.main,e=b.d3;b.hasArcType()||c.data_selection_enabled&&(c.zoom_enabled&&!b.zoom.altDomain||c.data_selection_multiple&&(f=b.dragStart[0],g=b.dragStart[1],h=a[0],i=a[1],j=Math.min(f,h),l=Math.max(f,h),m=c.data_selection_grouped?b.margin.top:Math.min(g,i),n=c.data_selection_grouped?b.height:Math.max(g,i),d.select("."+k.dragarea).attr("x",j).attr("y",m).attr("width",l-j).attr("height",n-m),d.selectAll("."+k.shapes).selectAll("."+k.shape).filter(function(a){return c.data_selection_isselectable(a)}).each(function(a,c){var h,i,o,p,q,s,d=e.select(this),f=d.classed(k.SELECTED),g=d.classed(k.INCLUDED),r=!1;if(d.classed(k.circle))h=1*d.attr("cx"),i=1*d.attr("cy"),q=b.togglePoint,r=j<h&&h<l&&m<i&&i<n;else{if(!d.classed(k.bar))return;s=y(this),h=s.x,i=s.y,o=s.width,p=s.height,q=b.togglePath,r=!(l<h||h+o<j||n<i||i+p<m)}r^g&&(d.classed(k.INCLUDED,!g),d.classed(k.SELECTED,!f),q.call(b,!f,d,a,c))})))},d.dragstart=function(a){var b=this,c=b.config;b.hasArcType()||c.data_selection_enabled&&(b.dragStart=a,b.main.select("."+k.chart).append("rect").attr("class",k.dragarea).style("opacity",.1),b.dragging=!0)},d.dragend=function(){var a=this,b=a.config;a.hasArcType()||b.data_selection_enabled&&(a.main.select("."+k.dragarea).transition().duration(100).style("opacity",0).remove(),a.main.selectAll("."+k.shape).classed(k.INCLUDED,!1),a.dragging=!1)},d.selectPoint=function(a,b,c){var d=this,e=d.config,f=(e.axis_rotated?d.circleY:d.circleX).bind(d),g=(e.axis_rotated?d.circleX:d.circleY).bind(d),h=d.pointSelectR.bind(d);e.data_onselected.call(d.api,b,a.node()),d.main.select("."+k.selectedCircles+d.getTargetSelectorSuffix(b.id)).selectAll("."+k.selectedCircle+"-"+c).data([b]).enter().append("circle").attr("class",function(){return d.generateClass(k.selectedCircle,c)}).attr("cx",f).attr("cy",g).attr("stroke",function(){return d.color(b)}).attr("r",function(a){return 1.4*d.pointSelectR(a)}).transition().duration(100).attr("r",h)},d.unselectPoint=function(a,b,c){var d=this;d.config.data_onunselected.call(d.api,b,a.node()),d.main.select("."+k.selectedCircles+d.getTargetSelectorSuffix(b.id)).selectAll("."+k.selectedCircle+"-"+c).transition().duration(100).attr("r",0).remove()},d.togglePoint=function(a,b,c,d){a?this.selectPoint(b,c,d):this.unselectPoint(b,c,d)},d.selectPath=function(a,b){var c=this;c.config.data_onselected.call(c,b,a.node()),c.config.interaction_brighten&&a.transition().duration(100).style("fill",function(){return c.d3.rgb(c.color(b)).brighter(.75)})},d.unselectPath=function(a,b){var c=this;c.config.data_onunselected.call(c,b,a.node()),c.config.interaction_brighten&&a.transition().duration(100).style("fill",function(){return c.color(b)})},d.togglePath=function(a,b,c,d){a?this.selectPath(b,c,d):this.unselectPath(b,c,d)},d.getToggle=function(a,b){var d,c=this;return"circle"===a.nodeName?d=c.isStepType(b)?function(){}:c.togglePoint:"path"===a.nodeName&&(d=c.togglePath),d},d.toggleShape=function(a,b,c){var d=this,e=d.d3,f=d.config,g=e.select(a),h=g.classed(k.SELECTED),i=d.getToggle(a,b).bind(d);f.data_selection_enabled&&f.data_selection_isselectable(b)&&(f.data_selection_multiple||d.main.selectAll("."+k.shapes+(f.data_selection_grouped?d.getTargetSelectorSuffix(b.id):"")).selectAll("."+k.shape).each(function(a,b){var c=e.select(this);c.classed(k.SELECTED)&&i(!1,c.classed(k.SELECTED,!1),a,b)}),g.classed(k.SELECTED,!h),i(!h,g,b,c))},d.initBrush=function(){var a=this,b=a.d3;a.brush=b.svg.brush().on("brush",function(){a.redrawForBrush()}),a.brush.update=function(){return a.context&&a.context.select("."+k.brush).call(this),this},a.brush.scale=function(b){return a.config.axis_rotated?this.y(b):this.x(b)}},d.initSubchart=function(){var a=this,b=a.config,c=a.context=a.svg.append("g").attr("transform",a.getTranslate("context")),d=b.subchart_show?"visible":"hidden";c.style("visibility",d),c.append("g").attr("clip-path",a.clipPathForSubchart).attr("class",k.chart),c.select("."+k.chart).append("g").attr("class",k.chartBars),c.select("."+k.chart).append("g").attr("class",k.chartLines),c.append("g").attr("clip-path",a.clipPath).attr("class",k.brush).call(a.brush),a.axes.subx=c.append("g").attr("class",k.axisX).attr("transform",a.getTranslate("subx")).attr("clip-path",b.axis_rotated?"":a.clipPathForXAxis).style("visibility",b.subchart_axis_x_show?d:"hidden")},d.updateTargetsForSubchart=function(a){var e,f,g,h,b=this,c=b.context,d=b.config,i=b.classChartBar.bind(b),j=b.classBars.bind(b),l=b.classChartLine.bind(b),m=b.classLines.bind(b),n=b.classAreas.bind(b);d.subchart_show&&(h=c.select("."+k.chartBars).selectAll("."+k.chartBar).data(a).attr("class",i),g=h.enter().append("g").style("opacity",0).attr("class",i),g.append("g").attr("class",j),f=c.select("."+k.chartLines).selectAll("."+k.chartLine).data(a).attr("class",l),e=f.enter().append("g").style("opacity",0).attr("class",l),e.append("g").attr("class",m),e.append("g").attr("class",n),c.selectAll("."+k.brush+" rect").attr(d.axis_rotated?"width":"height",d.axis_rotated?b.width2:b.height2))},d.updateBarForSubchart=function(a){var b=this;b.contextBar=b.context.selectAll("."+k.bars).selectAll("."+k.bar).data(b.barData.bind(b)),b.contextBar.enter().append("path").attr("class",b.classBar.bind(b)).style("stroke","none").style("fill",b.color),b.contextBar.style("opacity",b.initialOpacity.bind(b)),b.contextBar.exit().transition().duration(a).style("opacity",0).remove()},d.redrawBarForSubchart=function(a,b,c){(b?this.contextBar.transition(Math.random().toString()).duration(c):this.contextBar).attr("d",a).style("opacity",1)},d.updateLineForSubchart=function(a){var b=this;b.contextLine=b.context.selectAll("."+k.lines).selectAll("."+k.line).data(b.lineData.bind(b)),b.contextLine.enter().append("path").attr("class",b.classLine.bind(b)).style("stroke",b.color),b.contextLine.style("opacity",b.initialOpacity.bind(b)),b.contextLine.exit().transition().duration(a).style("opacity",0).remove()},d.redrawLineForSubchart=function(a,b,c){(b?this.contextLine.transition(Math.random().toString()).duration(c):this.contextLine).attr("d",a).style("opacity",1)},d.updateAreaForSubchart=function(a){var b=this,c=b.d3;b.contextArea=b.context.selectAll("."+k.areas).selectAll("."+k.area).data(b.lineData.bind(b)),b.contextArea.enter().append("path").attr("class",b.classArea.bind(b)).style("fill",b.color).style("opacity",function(){return b.orgAreaOpacity=+c.select(this).style("opacity"),0}),b.contextArea.style("opacity",0),b.contextArea.exit().transition().duration(a).style("opacity",0).remove()},d.redrawAreaForSubchart=function(a,b,c){(b?this.contextArea.transition(Math.random().toString()).duration(c):this.contextArea).attr("d",a).style("fill",this.color).style("opacity",this.orgAreaOpacity)},d.redrawSubchart=function(a,b,c,d,e,f,g){var k,l,m,h=this,i=h.d3,j=h.config;h.context.style("visibility",j.subchart_show?"visible":"hidden"),j.subchart_show&&(i.event&&"zoom"===i.event.type&&h.brush.extent(h.x.orgDomain()).update(),a&&(h.brush.empty()||h.brush.extent(h.x.orgDomain()).update(),k=h.generateDrawArea(e,!0),l=h.generateDrawBar(f,!0),m=h.generateDrawLine(g,!0),h.updateBarForSubchart(c),h.updateLineForSubchart(c),h.updateAreaForSubchart(c),h.redrawBarForSubchart(l,c,c),h.redrawLineForSubchart(m,c,c),h.redrawAreaForSubchart(k,c,c)))},d.redrawForBrush=function(){var a=this,b=a.x;a.redraw({withTransition:!1,withY:a.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withDimension:!1}),a.config.subchart_onbrush.call(a.api,b.orgDomain())},d.transformContext=function(a,b){var d,c=this;b&&b.axisSubX?d=b.axisSubX:(d=c.context.select("."+k.axisX),a&&(d=d.transition())),c.context.attr("transform",c.getTranslate("context")),d.attr("transform",c.getTranslate("subx"))},d.getDefaultExtent=function(){var a=this,b=a.config,c=m(b.axis_x_extent)?b.axis_x_extent(a.getXDomain(a.data.targets)):b.axis_x_extent;return a.isTimeSeries()&&(c=[a.parseDate(c[0]),a.parseDate(c[1])]),c},d.initZoom=function(){var d,a=this,b=a.d3,c=a.config;a.zoom=b.behavior.zoom().on("zoomstart",function(){d=b.event.sourceEvent,a.zoom.altDomain=b.event.sourceEvent.altKey?a.x.orgDomain():null,c.zoom_onzoomstart.call(a.api,b.event.sourceEvent)}).on("zoom",function(){a.redrawForZoom.call(a)}).on("zoomend",function(){var e=b.event.sourceEvent;e&&d.clientX===e.clientX&&d.clientY===e.clientY||(a.redrawEventRect(),a.updateZoom(),c.zoom_onzoomend.call(a.api,a.x.orgDomain()))}),a.zoom.scale=function(a){return c.axis_rotated?this.y(a):this.x(a)},a.zoom.orgScaleExtent=function(){var b=c.zoom_extent?c.zoom_extent:[1,10];return[b[0],Math.max(a.getMaxDataCount()/b[1],b[1])]},a.zoom.updateScaleExtent=function(){var b=s(a.x.orgDomain())/s(a.getZoomDomain()),c=this.orgScaleExtent();return this.scaleExtent([c[0]*b,c[1]*b]),this}},d.getZoomDomain=function(){var a=this,b=a.config,c=a.d3;return[c.min([a.orgXDomain[0],b.zoom_x_min]),c.max([a.orgXDomain[1],b.zoom_x_max])]},d.updateZoom=function(){var a=this,b=a.config.zoom_enabled?a.zoom:function(){};a.main.select("."+k.zoomRect).call(b).on("dblclick.zoom",null),a.main.selectAll("."+k.eventRect).call(b).on("dblclick.zoom",null)},d.redrawForZoom=function(){var a=this,b=a.d3,c=a.config,d=a.zoom,e=a.x;if(c.zoom_enabled&&0!==a.filterTargetsToShow(a.data.targets).length){if("mousemove"===b.event.sourceEvent.type&&d.altDomain)return e.domain(d.altDomain),void d.scale(e).updateScaleExtent();a.isCategorized()&&e.orgDomain()[0]===a.orgXDomain[0]&&e.domain([a.orgXDomain[0]-1e-10,e.orgDomain()[1]]),a.redraw({withTransition:!1,withY:c.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),"mousemove"===b.event.sourceEvent.type&&(a.cancelClick=!0),c.zoom_onzoom.call(a.api,e.orgDomain())}},d.generateColor=function(){var a=this,b=a.config,c=a.d3,d=b.data_colors,e=u(b.color_pattern)?b.color_pattern:c.scale.category10().range(),f=b.data_color,g=[];return function(a){var c,b=a.id||a.data&&a.data.id||a;return d[b]instanceof Function?c=d[b](a):d[b]?c=d[b]:(g.indexOf(b)<0&&g.push(b),c=e[g.indexOf(b)%e.length],d[b]=c),f instanceof Function?f(c,a):c}},d.generateLevelColor=function(){var a=this,b=a.config,c=b.color_pattern,d=b.color_threshold,e="value"===d.unit,f=d.values&&d.values.length?d.values:[],g=d.max||100;return u(b.color_threshold)?function(a){var b,h=c[c.length-1];for(b=0;b<f.length;b++)if((e?a:100*a/g)<f[b]){h=c[b];break}return h}:null},d.getYFormat=function(a){var b=this,c=a&&!b.hasType("gauge")?b.defaultArcValueFormat:b.yFormat,d=a&&!b.hasType("gauge")?b.defaultArcValueFormat:b.y2Format;return function(a,e,f){return("y2"===b.axis.getId(f)?d:c).call(b,a,e)}},d.yFormat=function(a){var b=this,c=b.config;return(c.axis_y_tick_format?c.axis_y_tick_format:b.defaultValueFormat)(a)},d.y2Format=function(a){var b=this,c=b.config;return(c.axis_y2_tick_format?c.axis_y2_tick_format:b.defaultValueFormat)(a)},d.defaultValueFormat=function(a){return l(a)?+a:""},d.defaultArcValueFormat=function(a,b){return(100*b).toFixed(1)+"%"},d.dataLabelFormat=function(a){var b=this,c=b.config.data_labels,e=function(a){return l(a)?+a:""};return"function"==typeof c.format?c.format:"object"==typeof c.format?c.format[a]?!0===c.format[a]?e:c.format[a]:function(){return""}:e},d.hasCaches=function(a){for(var b=0;b<a.length;b++)if(!(a[b]in this.cache))return!1;return!0},d.addCache=function(a,b){this.cache[a]=this.cloneTarget(b)},d.getCaches=function(a){var c,b=[];for(c=0;c<a.length;c++)a[c]in this.cache&&b.push(this.cloneTarget(this.cache[a[c]]));return b};var k=d.CLASS={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",title:"c3-title",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"};d.generateClass=function(a,b){return" "+a+" "+a+this.getTargetSelectorSuffix(b)},d.classText=function(a){return this.generateClass(k.text,a.index)},d.classTexts=function(a){return this.generateClass(k.texts,a.id)},d.classShape=function(a){return this.generateClass(k.shape,a.index)},d.classShapes=function(a){return this.generateClass(k.shapes,a.id)},d.classLine=function(a){return this.classShape(a)+this.generateClass(k.line,a.id)},d.classLines=function(a){return this.classShapes(a)+this.generateClass(k.lines,a.id)},d.classCircle=function(a){return this.classShape(a)+this.generateClass(k.circle,a.index)},d.classCircles=function(a){return this.classShapes(a)+this.generateClass(k.circles,a.id)},d.classBar=function(a){return this.classShape(a)+this.generateClass(k.bar,a.index)},d.classBars=function(a){return this.classShapes(a)+this.generateClass(k.bars,a.id)},d.classArc=function(a){return this.classShape(a.data)+this.generateClass(k.arc,a.data.id)},d.classArcs=function(a){return this.classShapes(a.data)+this.generateClass(k.arcs,a.data.id)},d.classArea=function(a){return this.classShape(a)+this.generateClass(k.area,a.id)},d.classAreas=function(a){return this.classShapes(a)+this.generateClass(k.areas,a.id)},d.classRegion=function(a,b){return this.generateClass(k.region,b)+" "+("class"in a?a.class:"")},d.classEvent=function(a){return this.generateClass(k.eventRect,a.index)},d.classTarget=function(a){var b=this,c=b.config.data_classes[a],d="";return c&&(d=" "+k.target+"-"+c),b.generateClass(k.target,a)+d},d.classFocus=function(a){return this.classFocused(a)+this.classDefocused(a)},d.classFocused=function(a){return" "+(this.focusedTargetIds.indexOf(a.id)>=0?k.focused:"")},d.classDefocused=function(a){return" "+(this.defocusedTargetIds.indexOf(a.id)>=0?k.defocused:"")},d.classChartText=function(a){return k.chartText+this.classTarget(a.id)},d.classChartLine=function(a){return k.chartLine+this.classTarget(a.id)},d.classChartBar=function(a){return k.chartBar+this.classTarget(a.id)},d.classChartArc=function(a){return k.chartArc+this.classTarget(a.data.id)},d.getTargetSelectorSuffix=function(a){return a||0===a?("-"+a).replace(/[\s?!@#$%^&*()_=+,.<>'":;\[\]\/|~`{}\\]/g,"-"):""},d.selectorTarget=function(a,b){return(b||"")+"."+k.target+this.getTargetSelectorSuffix(a)},d.selectorTargets=function(a,b){var c=this;return a=a||[],a.length?a.map(function(a){return c.selectorTarget(a,b)}):null},d.selectorLegend=function(a){return"."+k.legendItem+this.getTargetSelectorSuffix(a)},d.selectorLegends=function(a){var b=this;return a&&a.length?a.map(function(a){return b.selectorLegend(a)}):null};var l=d.isValue=function(a){return a||0===a},m=d.isFunction=function(a){return"function"==typeof a},n=d.isString=function(a){return"string"==typeof a},o=d.isUndefined=function(a){return void 0===a},p=d.isDefined=function(a){return void 0!==a},q=d.ceil10=function(a){return 10*Math.ceil(a/10)},r=d.asHalfPixel=function(a){return Math.ceil(a)+.5},s=d.diffDomain=function(a){return a[1]-a[0]},t=d.isEmpty=function(a){return void 0===a||null===a||n(a)&&0===a.length||"object"==typeof a&&0===Object.keys(a).length},u=d.notEmpty=function(a){return!d.isEmpty(a)},v=d.getOption=function(a,b,c){return p(a[b])?a[b]:c},w=d.hasValue=function(a,b){var c=!1;return Object.keys(a).forEach(function(d){a[d]===b&&(c=!0)}),c},x=d.sanitise=function(a){return"string"==typeof a?a.replace(/</g,"&lt;").replace(/>/g,"&gt;"):a},y=d.getPathBox=function(a){var b=a.getBoundingClientRect(),c=[a.pathSegList.getItem(0),a.pathSegList.getItem(1)];return{x:c[0].x,y:Math.min(c[0].y,c[1].y),width:b.width,height:b.height}};c.focus=function(a){var c,b=this.internal;a=b.mapToTargetIds(a),c=b.svg.selectAll(b.selectorTargets(a.filter(b.isTargetToShow,b))),this.revert(),this.defocus(),c.classed(k.focused,!0).classed(k.defocused,!1),b.hasArcType()&&b.expandArc(a),b.toggleFocusLegend(a,!0),b.focusedTargetIds=a,b.defocusedTargetIds=b.defocusedTargetIds.filter(function(b){return a.indexOf(b)<0})},c.defocus=function(a){var c,b=this.internal;a=b.mapToTargetIds(a),c=b.svg.selectAll(b.selectorTargets(a.filter(b.isTargetToShow,b))),c.classed(k.focused,!1).classed(k.defocused,!0),b.hasArcType()&&b.unexpandArc(a),b.toggleFocusLegend(a,!1),b.focusedTargetIds=b.focusedTargetIds.filter(function(b){return a.indexOf(b)<0}),b.defocusedTargetIds=a},c.revert=function(a){var c,b=this.internal;a=b.mapToTargetIds(a),c=b.svg.selectAll(b.selectorTargets(a)),c.classed(k.focused,!1).classed(k.defocused,!1),b.hasArcType()&&b.unexpandArc(a),b.config.legend_show&&(b.showLegend(a.filter(b.isLegendToShow.bind(b))),b.legend.selectAll(b.selectorLegends(a)).filter(function(){return b.d3.select(this).classed(k.legendItemFocused)}).classed(k.legendItemFocused,!1)),b.focusedTargetIds=[],b.defocusedTargetIds=[]},c.show=function(a,b){var d,c=this.internal;a=c.mapToTargetIds(a),b=b||{},c.removeHiddenTargetIds(a),d=c.svg.selectAll(c.selectorTargets(a)),d.transition().style("opacity",1,"important").call(c.endall,function(){d.style("opacity",null).style("opacity",1)}),b.withLegend&&c.showLegend(a),c.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},c.hide=function(a,b){var d,c=this.internal;a=c.mapToTargetIds(a),b=b||{},c.addHiddenTargetIds(a),d=c.svg.selectAll(c.selectorTargets(a)),d.transition().style("opacity",0,"important").call(c.endall,function(){d.style("opacity",null).style("opacity",0)}),b.withLegend&&c.hideLegend(a),c.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},c.toggle=function(a,b){var c=this,d=this.internal;d.mapToTargetIds(a).forEach(function(a){d.isTargetToShow(a)?c.hide(a,b):c.show(a,b)})},c.zoom=function(a){var b=this.internal;return a&&(b.isTimeSeries()&&(a=a.map(function(a){return b.parseDate(a)})),b.brush.extent(a),b.redraw({withUpdateXDomain:!0,withY:b.config.zoom_rescale}),b.config.zoom_onzoom.call(this,b.x.orgDomain())),b.brush.extent()},c.zoom.enable=function(a){var b=this.internal;b.config.zoom_enabled=a,b.updateAndRedraw()},c.unzoom=function(){var a=this.internal;a.brush.clear().update(),a.redraw({withUpdateXDomain:!0})},c.zoom.max=function(a){var b=this.internal,c=b.config,d=b.d3;if(0!==a&&!a)return c.zoom_x_max;c.zoom_x_max=d.max([b.orgXDomain[1],a])},c.zoom.min=function(a){var b=this.internal,c=b.config,d=b.d3;if(0!==a&&!a)return c.zoom_x_min;c.zoom_x_min=d.min([b.orgXDomain[0],a])},c.zoom.range=function(a){if(!arguments.length)return{max:this.domain.max(),min:this.domain.min()};p(a.max)&&this.domain.max(a.max),p(a.min)&&this.domain.min(a.min)},c.load=function(a){var b=this.internal,d=b.config;if(a.xs&&b.addXs(a.xs),"names"in a&&c.data.names.bind(this)(a.names),"classes"in a&&Object.keys(a.classes).forEach(function(b){d.data_classes[b]=a.classes[b]}),"categories"in a&&b.isCategorized()&&(d.axis_x_categories=a.categories),"axes"in a&&Object.keys(a.axes).forEach(function(b){d.data_axes[b]=a.axes[b]}),"colors"in a&&Object.keys(a.colors).forEach(function(b){d.data_colors[b]=a.colors[b]}),"cacheIds"in a&&b.hasCaches(a.cacheIds))return void b.load(b.getCaches(a.cacheIds),a.done);"unload"in a?b.unload(b.mapToTargetIds("boolean"==typeof a.unload&&a.unload?null:a.unload),function(){b.loadFromArgs(a)}):b.loadFromArgs(a)},c.unload=function(a){var b=this.internal;a=a||{},a instanceof Array?a={ids:a}:"string"==typeof a&&(a={ids:[a]}),b.unload(b.mapToTargetIds(a.ids),function(){b.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),a.done&&a.done()})},c.flow=function(a){var c,d,h,i,j,n,o,b=this.internal,e=[],f=b.getMaxDataCount(),k=0,m=0;if(a.json)d=b.convertJsonToData(a.json,a.keys);else if(a.rows)d=b.convertRowsToData(a.rows);else{if(!a.columns)return;d=b.convertColumnsToData(a.columns)}c=b.convertDataToTargets(d,!0),b.data.targets.forEach(function(a){var f,g,d=!1;for(f=0;f<c.length;f++)if(a.id===c[f].id){for(d=!0,a.values[a.values.length-1]&&(m=a.values[a.values.length-1].index+1),k=c[f].values.length,g=0;g<k;g++)c[f].values[g].index=m+g,b.isTimeSeries()||(c[f].values[g].x=m+g);a.values=a.values.concat(c[f].values),c.splice(f,1);break}d||e.push(a.id)}),b.data.targets.forEach(function(a){var c,d;for(c=0;c<e.length;c++)if(a.id===e[c])for(m=a.values[a.values.length-1].index+1,d=0;d<k;d++)a.values.push({id:a.id,index:m+d,x:b.isTimeSeries()?b.getOtherTargetX(m+d):m+d,value:null})}),b.data.targets.length&&c.forEach(function(a){var c,d=[];for(c=b.data.targets[0].values[0].index;c<m;c++)d.push({id:a.id,index:c,x:b.isTimeSeries()?b.getOtherTargetX(c):c,value:null});a.values.forEach(function(a){a.index+=m,b.isTimeSeries()||(a.x+=m)}),a.values=d.concat(a.values)}),b.data.targets=b.data.targets.concat(c),b.getMaxDataCount(),i=b.data.targets[0],j=i.values[0],p(a.to)?(k=0,o=b.isTimeSeries()?b.parseDate(a.to):a.to,i.values.forEach(function(a){a.x<o&&k++})):p(a.length)&&(k=a.length),f?1===f&&b.isTimeSeries()&&(n=(i.values[i.values.length-1].x-j.x)/2,h=[new Date(+j.x-n),new Date(+j.x+n)],b.updateXDomain(null,!0,!0,!1,h)):(n=b.isTimeSeries()?i.values.length>1?i.values[i.values.length-1].x-j.x:j.x-b.getXDomain(b.data.targets)[0]:1,h=[j.x-n,j.x],b.updateXDomain(null,!0,!0,!1,h)),b.updateTargets(b.data.targets),b.redraw({flow:{index:j.index,length:k,duration:l(a.duration)?a.duration:b.config.transition_duration,done:a.done,orgDataCount:f},withLegend:!0,withTransition:f>1,withTrimXDomain:!1,withUpdateXAxis:!0})},d.generateFlow=function(a){var b=this,c=b.config,d=b.d3;return function(){var q,t,z,e=a.targets,f=a.flow,g=a.drawBar,h=a.drawLine,i=a.drawArea,j=a.cx,l=a.cy,m=a.xv,n=a.xForText,o=a.yForText,p=a.duration,r=1,u=f.index,v=f.length,w=b.getValueOnIndex(b.data.targets[0].values,u),x=b.getValueOnIndex(b.data.targets[0].values,u+v),y=b.x.domain(),A=f.duration||p,B=f.done||function(){},C=b.generateWait(),D=b.xgrid||d.selectAll([]),E=b.xgridLines||d.selectAll([]),F=b.mainRegion||d.selectAll([]),G=b.mainText||d.selectAll([]),H=b.mainBar||d.selectAll([]),I=b.mainLine||d.selectAll([]),J=b.mainArea||d.selectAll([]),K=b.mainCircle||d.selectAll([]);b.flowing=!0,b.data.targets.forEach(function(a){a.values.splice(0,v)}),z=b.updateXDomain(e,!0,!0),b.updateXGrid&&b.updateXGrid(!0),f.orgDataCount?q=1===f.orgDataCount||(w&&w.x)===(x&&x.x)?b.x(y[0])-b.x(z[0]):b.isTimeSeries()?b.x(y[0])-b.x(z[0]):b.x(w.x)-b.x(x.x):1!==b.data.targets[0].values.length?q=b.x(y[0])-b.x(z[0]):b.isTimeSeries()?(w=b.getValueOnIndex(b.data.targets[0].values,0),x=b.getValueOnIndex(b.data.targets[0].values,b.data.targets[0].values.length-1),q=b.x(w.x)-b.x(x.x)):q=s(z)/2,r=s(y)/s(z),t="translate("+q+",0) scale("+r+",1)",b.hideXGridFocus(),d.transition().ease("linear").duration(A).each(function(){C.add(b.axes.x.transition().call(b.xAxis)),C.add(H.transition().attr("transform",t)),C.add(I.transition().attr("transform",t)),C.add(J.transition().attr("transform",t)),C.add(K.transition().attr("transform",t)),C.add(G.transition().attr("transform",t)),C.add(F.filter(b.isRegionOnX).transition().attr("transform",t)),C.add(D.transition().attr("transform",t)),C.add(E.transition().attr("transform",t))}).call(C,function(){var a,d=[],e=[],f=[];if(v){for(a=0;a<v;a++)d.push("."+k.shape+"-"+(u+a)),e.push("."+k.text+"-"+(u+a)),f.push("."+k.eventRect+"-"+(u+a));b.svg.selectAll("."+k.shapes).selectAll(d).remove(),b.svg.selectAll("."+k.texts).selectAll(e).remove(),b.svg.selectAll("."+k.eventRects).selectAll(f).remove(),b.svg.select("."+k.xgrid).remove()}D.attr("transform",null).attr(b.xgridAttr),E.attr("transform",null),E.select("line").attr("x1",c.axis_rotated?0:m).attr("x2",c.axis_rotated?b.width:m),E.select("text").attr("x",c.axis_rotated?b.width:0).attr("y",m),H.attr("transform",null).attr("d",g),I.attr("transform",null).attr("d",h),J.attr("transform",null).attr("d",i),K.attr("transform",null).attr("cx",j).attr("cy",l),G.attr("transform",null).attr("x",n).attr("y",o).style("fill-opacity",b.opacityForText.bind(b)),F.attr("transform",null),F.select("rect").filter(b.isRegionOnX).attr("x",b.regionX.bind(b)).attr("width",b.regionWidth.bind(b)),c.interaction_enabled&&b.redrawEventRect(),B(),b.flowing=!1})}},c.selected=function(a){var b=this.internal,c=b.d3;return c.merge(b.main.selectAll("."+k.shapes+b.getTargetSelectorSuffix(a)).selectAll("."+k.shape).filter(function(){return c.select(this).classed(k.SELECTED)}).map(function(a){return a.map(function(a){var b=a.__data__;return b.data?b.data:b})}))},c.select=function(a,b,c){var d=this.internal,e=d.d3,f=d.config;f.data_selection_enabled&&d.main.selectAll("."+k.shapes).selectAll("."+k.shape).each(function(g,h){var i=e.select(this),j=g.data?g.data.id:g.id,l=d.getToggle(this,g).bind(d),m=f.data_selection_grouped||!a||a.indexOf(j)>=0,n=!b||b.indexOf(h)>=0,o=i.classed(k.SELECTED);i.classed(k.line)||i.classed(k.area)||(m&&n?f.data_selection_isselectable(g)&&!o&&l(!0,i.classed(k.SELECTED,!0),g,h):p(c)&&c&&o&&l(!1,i.classed(k.SELECTED,!1),g,h))})},c.unselect=function(a,b){var c=this.internal,d=c.d3,e=c.config;e.data_selection_enabled&&c.main.selectAll("."+k.shapes).selectAll("."+k.shape).each(function(f,g){var h=d.select(this),i=f.data?f.data.id:f.id,j=c.getToggle(this,f).bind(c),l=e.data_selection_grouped||!a||a.indexOf(i)>=0,m=!b||b.indexOf(g)>=0,n=h.classed(k.SELECTED);h.classed(k.line)||h.classed(k.area)||l&&m&&e.data_selection_isselectable(f)&&n&&j(!1,h.classed(k.SELECTED,!1),f,g)})},c.transform=function(a,b){var c=this.internal,d=["pie","donut"].indexOf(a)>=0?{withTransform:!0}:null;c.transformTo(b,a,d)},d.transformTo=function(a,b,c){var d=this,e=!d.hasArcType(),f=c||{withTransitionForAxis:e};f.withTransitionForTransform=!1,d.transiting=!1,d.setTargetType(a,b),d.updateTargets(d.data.targets),d.updateAndRedraw(f)},c.groups=function(a){var b=this.internal,c=b.config;return o(a)?c.data_groups:(c.data_groups=a,b.redraw(),c.data_groups)},c.xgrids=function(a){var b=this.internal,c=b.config;return a?(c.grid_x_lines=a,b.redrawWithoutRescale(),c.grid_x_lines):c.grid_x_lines},c.xgrids.add=function(a){var b=this.internal;return this.xgrids(b.config.grid_x_lines.concat(a||[]))},c.xgrids.remove=function(a){this.internal.removeGridLines(a,!0)},c.ygrids=function(a){var b=this.internal,c=b.config;return a?(c.grid_y_lines=a,b.redrawWithoutRescale(),c.grid_y_lines):c.grid_y_lines},c.ygrids.add=function(a){var b=this.internal;return this.ygrids(b.config.grid_y_lines.concat(a||[]))},c.ygrids.remove=function(a){this.internal.removeGridLines(a,!1)},c.regions=function(a){var b=this.internal,c=b.config;return a?(c.regions=a,b.redrawWithoutRescale(),c.regions):c.regions},c.regions.add=function(a){var b=this.internal,c=b.config;return a?(c.regions=c.regions.concat(a),b.redrawWithoutRescale(),c.regions):c.regions},c.regions.remove=function(a){var d,e,f,b=this.internal,c=b.config;return a=a||{},d=b.getOption(a,"duration",c.transition_duration),e=b.getOption(a,"classes",[k.region]),f=b.main.select("."+k.regions).selectAll(e.map(function(a){return"."+a})),(d?f.transition().duration(d):f).style("opacity",0).remove(),c.regions=c.regions.filter(function(a){var b=!1;return!a.class||(a.class.split(" ").forEach(function(a){e.indexOf(a)>=0&&(b=!0)}),!b)}),c.regions},c.data=function(a){var b=this.internal.data.targets;return void 0===a?b:b.filter(function(b){return[].concat(a).indexOf(b.id)>=0})},c.data.shown=function(a){return this.internal.filterTargetsToShow(this.data(a))},c.data.values=function(a){var b,c=null;return a&&(b=this.data(a),c=b[0]?b[0].values.map(function(a){return a.value}):null),c},c.data.names=function(a){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",a)},c.data.colors=function(a){return this.internal.updateDataAttributes("colors",a)},c.data.axes=function(a){return this.internal.updateDataAttributes("axes",a)},c.category=function(a,b){var c=this.internal,d=c.config;return arguments.length>1&&(d.axis_x_categories[a]=b,c.redraw()),d.axis_x_categories[a]},c.categories=function(a){var b=this.internal,c=b.config;return arguments.length?(c.axis_x_categories=a,b.redraw(),c.axis_x_categories):c.axis_x_categories},c.color=function(a){return this.internal.color(a)},c.x=function(a){var b=this.internal;return arguments.length&&(b.updateTargetX(b.data.targets,a),b.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),b.data.xs},c.xs=function(a){var b=this.internal;return arguments.length&&(b.updateTargetXs(b.data.targets,a),b.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),b.data.xs},c.axis=function(){},c.axis.labels=function(a){var b=this.internal;arguments.length&&(Object.keys(a).forEach(function(c){b.axis.setLabelText(c,a[c])}),b.axis.updateLabels())},c.axis.max=function(a){var b=this.internal,c=b.config;if(!arguments.length)return{x:c.axis_x_max,y:c.axis_y_max,y2:c.axis_y2_max};"object"==typeof a?(l(a.x)&&(c.axis_x_max=a.x),l(a.y)&&(c.axis_y_max=a.y),l(a.y2)&&(c.axis_y2_max=a.y2)):c.axis_y_max=c.axis_y2_max=a,b.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},c.axis.min=function(a){var b=this.internal,c=b.config;if(!arguments.length)return{x:c.axis_x_min,y:c.axis_y_min,y2:c.axis_y2_min};"object"==typeof a?(l(a.x)&&(c.axis_x_min=a.x),l(a.y)&&(c.axis_y_min=a.y),l(a.y2)&&(c.axis_y2_min=a.y2)):c.axis_y_min=c.axis_y2_min=a,b.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},c.axis.range=function(a){if(!arguments.length)return{max:this.axis.max(),min:this.axis.min()};p(a.max)&&this.axis.max(a.max),p(a.min)&&this.axis.min(a.min)},c.legend=function(){},c.legend.show=function(a){var b=this.internal;b.showLegend(b.mapToTargetIds(a)),b.updateAndRedraw({withLegend:!0})},c.legend.hide=function(a){var b=this.internal;b.hideLegend(b.mapToTargetIds(a)),b.updateAndRedraw({withLegend:!0})},c.resize=function(a){var b=this.internal,c=b.config;c.size_width=a?a.width:null,c.size_height=a?a.height:null,this.flush()},c.flush=function(){this.internal.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},c.destroy=function(){var b=this.internal;if(a.clearInterval(b.intervalForObserveInserted),void 0!==b.resizeTimeout&&a.clearTimeout(b.resizeTimeout),a.detachEvent)a.detachEvent("onresize",b.resizeFunction);else if(a.removeEventListener)a.removeEventListener("resize",b.resizeFunction);else{var c=a.onresize;c&&c.add&&c.remove&&c.remove(b.resizeFunction)}return b.selectChart.classed("c3",!1).html(""),Object.keys(b).forEach(function(a){b[a]=null}),null},c.tooltip=function(){},c.tooltip.show=function(a){var c,d,b=this.internal;a.mouse&&(d=a.mouse),a.data?b.isMultipleX()?(d=[b.x(a.data.x),b.getYScale(a.data.id)(a.data.value)],c=null):c=l(a.data.index)?a.data.index:b.getIndexByX(a.data.x):void 0!==a.x?c=b.getIndexByX(a.x):void 0!==a.index&&(c=a.index),b.dispatchEvent("mouseover",c,d),b.dispatchEvent("mousemove",c,d),b.config.tooltip_onshow.call(b,a.data)},c.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0),this.internal.config.tooltip_onhide.call(this)};var z;d.isSafari=function(){var b=a.navigator.userAgent;return b.indexOf("Safari")>=0&&b.indexOf("Chrome")<0},d.isChrome=function(){return a.navigator.userAgent.indexOf("Chrome")>=0},Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e}),function(){"SVGPathSeg"in a||(a.SVGPathSeg=function(a,b,c){this.pathSegType=a,this.pathSegTypeAsLetter=b,this._owningPathSegList=c},SVGPathSeg.PATHSEG_UNKNOWN=0,SVGPathSeg.PATHSEG_CLOSEPATH=1,SVGPathSeg.PATHSEG_MOVETO_ABS=2,SVGPathSeg.PATHSEG_MOVETO_REL=3,SVGPathSeg.PATHSEG_LINETO_ABS=4,SVGPathSeg.PATHSEG_LINETO_REL=5,SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,SVGPathSeg.PATHSEG_ARC_ABS=10,SVGPathSeg.PATHSEG_ARC_REL=11,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},a.SVGPathSegClosePath=function(a){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CLOSEPATH,"z",a)},SVGPathSegClosePath.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},SVGPathSegClosePath.prototype.clone=function(){return new SVGPathSegClosePath(void 0)},a.SVGPathSegMovetoAbs=function(a,b,c){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_MOVETO_ABS,"M",a),this._x=b,this._y=c},SVGPathSegMovetoAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegMovetoAbs.prototype.clone=function(){return new SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),a.SVGPathSegMovetoRel=function(a,b,c){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_MOVETO_REL,"m",a),this._x=b,this._y=c},SVGPathSegMovetoRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegMovetoRel.prototype.clone=function(){return new SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),a.SVGPathSegLinetoAbs=function(a,b,c){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_ABS,"L",a),this._x=b,this._y=c},SVGPathSegLinetoAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegLinetoAbs.prototype.clone=function(){return new SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),a.SVGPathSegLinetoRel=function(a,b,c){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_REL,"l",a),this._x=b,this._y=c},SVGPathSegLinetoRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegLinetoRel.prototype.clone=function(){return new SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),a.SVGPathSegCurvetoCubicAbs=function(a,b,c,d,e,f,g){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",a),this._x=b,this._y=c,this._x1=d,this._y1=e,this._x2=f,this._y2=g},SVGPathSegCurvetoCubicAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(a){this._x1=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(a){this._y1=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(a){this._x2=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(a){this._y2=a,this._segmentChanged()},enumerable:!0}),a.SVGPathSegCurvetoCubicRel=function(a,b,c,d,e,f,g){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",a),this._x=b,this._y=c,this._x1=d,this._y1=e,this._x2=f,this._y2=g},SVGPathSegCurvetoCubicRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(a){this._x1=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(a){this._y1=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(a){this._x2=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(a){this._y2=a,this._segmentChanged()},enumerable:!0}),a.SVGPathSegCurvetoQuadraticAbs=function(a,b,c,d,e){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",a),this._x=b,this._y=c,this._x1=d,this._y1=e},SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(a){this._x1=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(a){this._y1=a,this._segmentChanged()},enumerable:!0}),a.SVGPathSegCurvetoQuadraticRel=function(a,b,c,d,e){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",a),this._x=b,this._y=c,this._x1=d,this._y1=e},SVGPathSegCurvetoQuadraticRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(a){this._x1=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(a){this._y1=a,this._segmentChanged()},enumerable:!0}),a.SVGPathSegArcAbs=function(a,b,c,d,e,f,g,h){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_ARC_ABS,"A",a),this._x=b,this._y=c,this._r1=d,this._r2=e,this._angle=f,this._largeArcFlag=g,this._sweepFlag=h},SVGPathSegArcAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},SVGPathSegArcAbs.prototype.clone=function(){return new SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(a){this._r1=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(a){this._r2=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(a){this._angle=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(a){this._largeArcFlag=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(a){this._sweepFlag=a,this._segmentChanged()},enumerable:!0}),a.SVGPathSegArcRel=function(a,b,c,d,e,f,g,h){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_ARC_REL,"a",a),this._x=b,this._y=c,this._r1=d,this._r2=e,this._angle=f,this._largeArcFlag=g,this._sweepFlag=h},SVGPathSegArcRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},SVGPathSegArcRel.prototype.clone=function(){return new SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(a){this._r1=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(a){this._r2=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(a){this._angle=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(a){this._largeArcFlag=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(a){this._sweepFlag=a,this._segmentChanged()},enumerable:!0}),a.SVGPathSegLinetoHorizontalAbs=function(a,b){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",a),this._x=b},SVGPathSegLinetoHorizontalAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),a.SVGPathSegLinetoHorizontalRel=function(a,b){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",a),this._x=b},SVGPathSegLinetoHorizontalRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),a.SVGPathSegLinetoVerticalAbs=function(a,b){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",a),this._y=b},SVGPathSegLinetoVerticalAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),a.SVGPathSegLinetoVerticalRel=function(a,b){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",a),this._y=b},SVGPathSegLinetoVerticalRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),a.SVGPathSegCurvetoCubicSmoothAbs=function(a,b,c,d,e){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",a),this._x=b,this._y=c,this._x2=d,this._y2=e},SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(a){this._x2=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(a){this._y2=a,this._segmentChanged()},enumerable:!0}),a.SVGPathSegCurvetoCubicSmoothRel=function(a,b,c,d,e){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",a),this._x=b,this._y=c,this._x2=d,this._y2=e},SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(a){this._x2=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(a){this._y2=a,this._segmentChanged()},enumerable:!0}),a.SVGPathSegCurvetoQuadraticSmoothAbs=function(a,b,c){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",a),this._x=b,this._y=c},SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),a.SVGPathSegCurvetoQuadraticSmoothRel=function(a,b,c){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",a),this._x=b,this._y=c},SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new SVGPathSegClosePath(void 0)},SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(a,b){return new SVGPathSegMovetoAbs(void 0,a,b)},SVGPathElement.prototype.createSVGPathSegMovetoRel=function(a,b){return new SVGPathSegMovetoRel(void 0,a,b)},SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(a,b){return new SVGPathSegLinetoAbs(void 0,a,b)},SVGPathElement.prototype.createSVGPathSegLinetoRel=function(a,b){return new SVGPathSegLinetoRel(void 0,a,b)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(a,b,c,d,e,f){return new SVGPathSegCurvetoCubicAbs(void 0,a,b,c,d,e,f)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(a,b,c,d,e,f){return new SVGPathSegCurvetoCubicRel(void 0,a,b,c,d,e,f)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(a,b,c,d){return new SVGPathSegCurvetoQuadraticAbs(void 0,a,b,c,d)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(a,b,c,d){return new SVGPathSegCurvetoQuadraticRel(void 0,a,b,c,d)},SVGPathElement.prototype.createSVGPathSegArcAbs=function(a,b,c,d,e,f,g){return new SVGPathSegArcAbs(void 0,a,b,c,d,e,f,g)},SVGPathElement.prototype.createSVGPathSegArcRel=function(a,b,c,d,e,f,g){return new SVGPathSegArcRel(void 0,a,b,c,d,e,f,g)},SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(a){return new SVGPathSegLinetoHorizontalAbs(void 0,a)},SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(a){return new SVGPathSegLinetoHorizontalRel(void 0,a)},SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(a){return new SVGPathSegLinetoVerticalAbs(void 0,a)},SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(a){return new SVGPathSegLinetoVerticalRel(void 0,a)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(a,b,c,d){return new SVGPathSegCurvetoCubicSmoothAbs(void 0,a,b,c,d)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(a,b,c,d){return new SVGPathSegCurvetoCubicSmoothRel(void 0,a,b,c,d)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(a,b){return new SVGPathSegCurvetoQuadraticSmoothAbs(void 0,a,b)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(a,b){return new SVGPathSegCurvetoQuadraticSmoothRel(void 0,a,b)}),"SVGPathSegList"in a||(a.SVGPathSegList=function(a){this._pathElement=a,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},Object.defineProperty(SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},SVGPathSegList.prototype._updateListFromPathMutations=function(a){if(this._pathElement){var b=!1;a.forEach(function(a){"d"==a.attributeName&&(b=!0)}),b&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))}},SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},SVGPathSegList.prototype.segmentChanged=function(a){this._writeListToPath()},SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach(function(a){a._owningPathSegList=null}),this._list=[],this._writeListToPath()},SVGPathSegList.prototype.initialize=function(a){return this._checkPathSynchronizedToList(),this._list=[a],a._owningPathSegList=this,this._writeListToPath(),a},SVGPathSegList.prototype._checkValidIndex=function(a){if(isNaN(a)||a<0||a>=this.numberOfItems)throw"INDEX_SIZE_ERR"},SVGPathSegList.prototype.getItem=function(a){return this._checkPathSynchronizedToList(),this._checkValidIndex(a),this._list[a]},SVGPathSegList.prototype.insertItemBefore=function(a,b){return this._checkPathSynchronizedToList(),b>this.numberOfItems&&(b=this.numberOfItems),a._owningPathSegList&&(a=a.clone()),this._list.splice(b,0,a),a._owningPathSegList=this,this._writeListToPath(),a},SVGPathSegList.prototype.replaceItem=function(a,b){return this._checkPathSynchronizedToList(),a._owningPathSegList&&(a=a.clone()),this._checkValidIndex(b),this._list[b]=a,a._owningPathSegList=this,this._writeListToPath(),a},SVGPathSegList.prototype.removeItem=function(a){this._checkPathSynchronizedToList(),this._checkValidIndex(a);var b=this._list[a];return this._list.splice(a,1),this._writeListToPath(),b},SVGPathSegList.prototype.appendItem=function(a){return this._checkPathSynchronizedToList(),a._owningPathSegList&&(a=a.clone()),this._list.push(a),a._owningPathSegList=this,this._writeListToPath(),a},SVGPathSegList._pathSegArrayAsString=function(a){var b="",c=!0;return a.forEach(function(a){c?(c=!1,b+=a._asPathString()):b+=" "+a._asPathString()}),b},SVGPathSegList.prototype._parsePath=function(a){if(!a||0==a.length)return[];var b=this,c=function(){this.pathSegList=[]};c.prototype.appendSegment=function(a){this.pathSegList.push(a)};var d=function(a){this._string=a,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()};d.prototype._isCurrentSpace=function(){var a=this._string[this._currentIndex];return a<=" "&&(" "==a||"\n"==a||"\t"==a||"\r"==a||"\f"==a)},d.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},d.prototype._skipOptionalSpacesOrDelimiter=function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!=this._string.charAt(this._currentIndex))&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","==this._string.charAt(this._currentIndex)&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},d.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},d.prototype.peekSegmentType=function(){var a=this._string[this._currentIndex];return this._pathSegTypeFromChar(a)},d.prototype._pathSegTypeFromChar=function(a){switch(a){case"Z":case"z":return SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return SVGPathSeg.PATHSEG_LINETO_REL;case"C":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return SVGPathSeg.PATHSEG_ARC_ABS;case"a":return SVGPathSeg.PATHSEG_ARC_REL;case"H":return SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return SVGPathSeg.PATHSEG_UNKNOWN}},d.prototype._nextCommandHelper=function(a,b){return("+"==a||"-"==a||"."==a||a>="0"&&a<="9")&&b!=SVGPathSeg.PATHSEG_CLOSEPATH?b==SVGPathSeg.PATHSEG_MOVETO_ABS?SVGPathSeg.PATHSEG_LINETO_ABS:b==SVGPathSeg.PATHSEG_MOVETO_REL?SVGPathSeg.PATHSEG_LINETO_REL:b:SVGPathSeg.PATHSEG_UNKNOWN},d.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var a=this.peekSegmentType();return a==SVGPathSeg.PATHSEG_MOVETO_ABS||a==SVGPathSeg.PATHSEG_MOVETO_REL},d.prototype._parseNumber=function(){var a=0,b=0,c=1,d=0,e=1,f=1,g=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:this._currentIndex<this._endIndex&&"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,e=-1),!(this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")&&"."!=this._string.charAt(this._currentIndex))){for(var h=this._currentIndex;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=h)for(var i=this._currentIndex-1,j=1;i>=h;)b+=j*(this._string.charAt(i--)-"0"),j*=10;if(this._currentIndex<this._endIndex&&"."==this._string.charAt(this._currentIndex)){if(++this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)d+=(this._string.charAt(this._currentIndex++)-"0")*(c*=.1)}if(this._currentIndex!=g&&this._currentIndex+1<this._endIndex&&("e"==this._string.charAt(this._currentIndex)||"E"==this._string.charAt(this._currentIndex))&&"x"!=this._string.charAt(this._currentIndex+1)&&"m"!=this._string.charAt(this._currentIndex+1)){if(this._currentIndex++,"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,f=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)a*=10,a+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}var k=b+d;if(k*=e,a&&(k*=Math.pow(10,f*a)),g!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),k}},d.prototype._parseArcFlag=function(){if(!(this._currentIndex>=this._endIndex)){var a=!1,b=this._string.charAt(this._currentIndex++);if("0"==b)a=!1;else{if("1"!=b)return;a=!0}return this._skipOptionalSpacesOrDelimiter(),a}},d.prototype.parseSegment=function(){var a=this._string[this._currentIndex],c=this._pathSegTypeFromChar(a);if(c==SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==SVGPathSeg.PATHSEG_UNKNOWN)return null;if((c=this._nextCommandHelper(a,this._previousCommand))==SVGPathSeg.PATHSEG_UNKNOWN)return null}else this._currentIndex++;switch(this._previousCommand=c,c){case SVGPathSeg.PATHSEG_MOVETO_REL:return new SVGPathSegMovetoRel(b,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_MOVETO_ABS:return new SVGPathSegMovetoAbs(b,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_REL:return new SVGPathSegLinetoRel(b,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_ABS:return new SVGPathSegLinetoAbs(b,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new SVGPathSegLinetoHorizontalRel(b,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new SVGPathSegLinetoHorizontalAbs(b,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new SVGPathSegLinetoVerticalRel(b,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new SVGPathSegLinetoVerticalAbs(b,this._parseNumber());case SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new SVGPathSegClosePath(b);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var d={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicRel(b,d.x,d.y,d.x1,d.y1,d.x2,d.y2);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:var d={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicAbs(b,d.x,d.y,d.x1,d.y1,d.x2,d.y2);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:var d={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicSmoothRel(b,d.x,d.y,d.x2,d.y2);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:var d={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicSmoothAbs(b,d.x,d.y,d.x2,d.y2);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:var d={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoQuadraticRel(b,d.x,d.y,d.x1,d.y1);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:var d={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoQuadraticAbs(b,d.x,d.y,d.x1,d.y1);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new SVGPathSegCurvetoQuadraticSmoothRel(b,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new SVGPathSegCurvetoQuadraticSmoothAbs(b,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_ARC_REL:var d={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegArcRel(b,d.x,d.y,d.x1,d.y1,d.arcAngle,d.arcLarge,d.arcSweep);case SVGPathSeg.PATHSEG_ARC_ABS:var d={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegArcAbs(b,d.x,d.y,d.x1,d.y1,d.arcAngle,d.arcLarge,d.arcSweep);default:throw"Unknown path seg type."}};var e=new c,f=new d(a);if(!f.initialCommandIsMoveTo())return[];for(;f.hasMoreData();){var g=f.parseSegment();if(!g)return[];e.appendSegment(g)}return e.pathSegList})}(),"function"==typeof define&&define.amd?define("c3",["d3"],function(){return b}):"undefined"!=typeof exports&&"undefined"!=typeof module?module.exports=b:a.c3=b}(window),function(a,b,c){!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):jQuery&&!jQuery.fn.sparkline&&a(jQuery)}(function(d){"use strict";var f,g,h,i,j,k,l,m,n,o,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,e={},L=0;f=function(){return{common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:!1,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:!1,enableHighlight:!0,highlightLighten:1.4,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableHiddenCheck:!1,numberFormatter:!1,numberDigitGroupCount:3,numberDigitGroupSep:",",numberDecimalMark:".",disableTooltips:!1,disableInteraction:!1},line:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:c,normalRangeMax:c,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:c,chartRangeMax:c,chartRangeMinX:c,chartRangeMaxX:c,tooltipFormat:new h('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{y}}{{suffix}}')},bar:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:c,nullColor:c,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMax:c,chartRangeMin:c,chartRangeClip:!1,colorMap:c,tooltipFormat:new h('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{value}}{{suffix}}')},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tooltipFormat:new h('<span style="color: {{color}}">&#9679;</span> {{value:map}}'),tooltipValueLookups:{map:{"-1":"Loss",0:"Draw",1:"Win"}}},discrete:{lineHeight:"auto",thresholdColor:c,thresholdValue:0,chartRangeMax:c,chartRangeMin:c,chartRangeClip:!1,tooltipFormat:new h("{{prefix}}{{value}}{{suffix}}")},bullet:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:c,tooltipFormat:new h("{{fieldkey:fields}} - {{value}}"),tooltipValueLookups:{fields:{r:"Range",p:"Performance",t:"Target"}}},pie:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tooltipFormat:new h('<span style="color: {{color}}">&#9679;</span> {{value}} ({{percent.1}}%)')},box:{raw:!1,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:c,targetColor:"#4a2",chartRangeMax:c,chartRangeMin:c,tooltipFormat:new h("{{field:fields}}: {{value}}"),tooltipFormatFieldlistKey:"field",tooltipValueLookups:{fields:{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}}}}},E='.jqstooltip { position: absolute;left: 0px;top: 0px;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;padding: 5px;border: 1px solid white;box-sizing: content-box;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}',g=function(){var a,b;return a=function(){this.init.apply(this,arguments)},arguments.length>1?(arguments[0]?(a.prototype=d.extend(new arguments[0],arguments[arguments.length-1]),a._super=arguments[0].prototype):a.prototype=arguments[arguments.length-1],arguments.length>2&&(b=Array.prototype.slice.call(arguments,1,-1),b.unshift(a.prototype),d.extend.apply(d,b))):a.prototype=arguments[0],a.prototype.cls=a,a},d.SPFormatClass=h=g({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:function(a,b){this.format=a,this.fclass=b},render:function(a,b,d){var g,h,i,j,k,e=this,f=a;return this.format.replace(this.fre,function(){var a;return h=arguments[1],i=arguments[3],g=e.precre.exec(h),g?(k=g[2],h=g[1]):k=!1,(j=f[h])===c?"":i&&b&&b[i]?(a=b[i],a.get?b[i].get(j)||j:b[i][j]||j):(n(j)&&(j=d.get("numberFormatter")?d.get("numberFormatter")(j):s(j,k,d.get("numberDigitGroupCount"),d.get("numberDigitGroupSep"),d.get("numberDecimalMark"))),j)})}}),d.spformat=function(a,b){return new h(a,b)},i=function(a,b,c){return a<b?b:a>c?c:a},j=function(a,c){var d;return 2===c?(d=b.floor(a.length/2),a.length%2?a[d]:(a[d-1]+a[d])/2):a.length%2?(d=(a.length*c+c)/4,d%1?(a[b.floor(d)]+a[b.floor(d)-1])/2:a[d-1]):(d=(a.length*c+2)/4,d%1?(a[b.floor(d)]+a[b.floor(d)-1])/2:a[d-1])},k=function(a){var b;switch(a){case"undefined":a=c;break;case"null":a=null;break;case"true":a=!0;break;case"false":a=!1;break;default:b=parseFloat(a),a==b&&(a=b)}return a},l=function(a){var b,c=[];for(b=a.length;b--;)c[b]=k(a[b]);return c},m=function(a,b){var c,d,e=[];for(c=0,d=a.length;c<d;c++)a[c]!==b&&e.push(a[c]);return e},n=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},s=function(a,b,c,e,f){var g,h;for(a=(!1===b?parseFloat(a).toString():a.toFixed(b)).split(""),g=(g=d.inArray(".",a))<0?a.length:g,g<a.length&&(a[g]=f),h=g-c;h>0;h-=c)a.splice(h,0,e);return a.join("")},o=function(a,b,c){var d;for(d=b.length;d--;)if((!c||null!==b[d])&&b[d]!==a)return!1;return!0},r=function(a){return d.isArray(a)?a:[a]},q=function(b){var c,d;if(a.createStyleSheet)try{return void(a.createStyleSheet().cssText=b)}catch(a){d=!0}c=a.createElement("style"),c.type="text/css",a.getElementsByTagName("head")[0].appendChild(c),d?a.styleSheets[a.styleSheets.length-1].cssText=b:c["string"==typeof a.body.style.WebkitAppearance?"innerText":"innerHTML"]=b},d.fn.simpledraw=function(b,e,f,g){var h,i;if(f&&(h=this.data("_jqs_vcanvas")))return h;if(!1===d.fn.sparkline.canvas)return!1;if(d.fn.sparkline.canvas===c){var j=a.createElement("canvas");if(j.getContext&&j.getContext("2d"))d.fn.sparkline.canvas=function(a,b,c,d){return new I(a,b,c,d)};else{if(!a.namespaces||a.namespaces.v)return d.fn.sparkline.canvas=!1,!1;a.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML"),d.fn.sparkline.canvas=function(a,b,c,d){return new J(a,b,c)}}}return b===c&&(b=d(this).innerWidth()),e===c&&(e=d(this).innerHeight()),h=d.fn.sparkline.canvas(b,e,this,g),i=d(this).data("_jqs_mhandler"),i&&i.registerCanvas(h),h},d.fn.cleardraw=function(){var a=this.data("_jqs_vcanvas");a&&a.reset()},d.RangeMapClass=t=g({init:function(a){var b,c,d=[];for(b in a)a.hasOwnProperty(b)&&"string"==typeof b&&b.indexOf(":")>-1&&(c=b.split(":"),c[0]=0===c[0].length?-1/0:parseFloat(c[0]),c[1]=0===c[1].length?1/0:parseFloat(c[1]),c[2]=a[b],d.push(c));this.map=a,this.rangelist=d||!1},get:function(a){var d,e,f,b=this.rangelist;if((f=this.map[a])!==c)return f;if(b)for(d=b.length;d--;)if(e=b[d],e[0]<=a&&e[1]>=a)return e[2];return c}}),d.range_map=function(a){return new t(a)},u=g({init:function(a,b){var c=d(a);this.$el=c,this.options=b,this.currentPageX=0,this.currentPageY=0,this.el=a,this.splist=[],this.tooltip=null,this.over=!1,this.displayTooltips=!b.get("disableTooltips"),this.highlightEnabled=!b.get("disableHighlight")},registerSparkline:function(a){this.splist.push(a),this.over&&this.updateDisplay()},registerCanvas:function(a){var b=d(a.canvas);this.canvas=a,this.$canvas=b,b.mouseenter(d.proxy(this.mouseenter,this)),b.mouseleave(d.proxy(this.mouseleave,this)),b.click(d.proxy(this.mouseclick,this))},reset:function(a){this.splist=[],this.tooltip&&a&&(this.tooltip.remove(),this.tooltip=c)},mouseclick:function(a){var b=d.Event("sparklineClick");b.originalEvent=a,b.sparklines=this.splist,this.$el.trigger(b)},mouseenter:function(b){d(a.body).unbind("mousemove.jqs"),d(a.body).bind("mousemove.jqs",d.proxy(this.mousemove,this)),this.over=!0,this.currentPageX=b.pageX,this.currentPageY=b.pageY,this.currentEl=b.target,!this.tooltip&&this.displayTooltips&&(this.tooltip=new v(this.options),this.tooltip.updatePosition(b.pageX,b.pageY)),this.updateDisplay()},mouseleave:function(){d(a.body).unbind("mousemove.jqs");var f,g,b=this.splist,c=b.length,e=!1;for(this.over=!1,this.currentEl=null,this.tooltip&&(this.tooltip.remove(),this.tooltip=null),g=0;g<c;g++)f=b[g],f.clearRegionHighlight()&&(e=!0);e&&this.canvas.render()},mousemove:function(a){this.currentPageX=a.pageX,this.currentPageY=a.pageY,this.currentEl=a.target,this.tooltip&&this.tooltip.updatePosition(a.pageX,a.pageY),this.updateDisplay()},updateDisplay:function(){var h,i,j,k,l,a=this.splist,b=a.length,c=!1,e=this.$canvas.offset(),f=this.currentPageX-e.left,g=this.currentPageY-e.top;if(this.over){for(j=0;j<b;j++)i=a[j],(k=i.setRegionHighlight(this.currentEl,f,g))&&(c=!0);if(c){if(l=d.Event("sparklineRegionChange"),l.sparklines=this.splist,this.$el.trigger(l),this.tooltip){for(h="",j=0;j<b;j++)i=a[j],h+=i.getCurrentRegionTooltip();this.tooltip.setContent(h)}this.disableHighlight||this.canvas.render()}null===k&&this.mouseleave()}}}),v=g({sizeStyle:"position: static !important;display: block !important;visibility: hidden !important;float: left !important;",init:function(b){var f,c=b.get("tooltipClassname","jqstooltip"),e=this.sizeStyle;this.container=b.get("tooltipContainer")||a.body,this.tooltipOffsetX=b.get("tooltipOffsetX",10),this.tooltipOffsetY=b.get("tooltipOffsetY",12),d("#jqssizetip").remove(),d("#jqstooltip").remove(),this.sizetip=d("<div/>",{id:"jqssizetip",style:e,class:c}),this.tooltip=d("<div/>",{id:"jqstooltip",class:c}).appendTo(this.container),f=this.tooltip.offset(),this.offsetLeft=f.left,this.offsetTop=f.top,this.hidden=!0,d(window).unbind("resize.jqs scroll.jqs"),d(window).bind("resize.jqs scroll.jqs",d.proxy(this.updateWindowDims,this)),this.updateWindowDims()},updateWindowDims:function(){this.scrollTop=d(window).scrollTop(),this.scrollLeft=d(window).scrollLeft(),this.scrollRight=this.scrollLeft+d(window).width(),this.updatePosition()},getSize:function(a){this.sizetip.html(a).appendTo(this.container),this.width=this.sizetip.width()+1,this.height=this.sizetip.height(),this.sizetip.remove()},setContent:function(a){if(!a)return this.tooltip.css("visibility","hidden"),void(this.hidden=!0);this.getSize(a),this.tooltip.html(a).css({width:this.width,height:this.height,visibility:"visible"}),this.hidden&&(this.hidden=!1,this.updatePosition())},updatePosition:function(a,b){if(a===c){if(this.mousex===c)return;a=this.mousex-this.offsetLeft,b=this.mousey-this.offsetTop}else this.mousex=a-=this.offsetLeft,this.mousey=b-=this.offsetTop;this.height&&this.width&&!this.hidden&&(b-=this.height+this.tooltipOffsetY,a+=this.tooltipOffsetX,b<this.scrollTop&&(b=this.scrollTop),a<this.scrollLeft?a=this.scrollLeft:a+this.width>this.scrollRight&&(a=this.scrollRight-this.width),this.tooltip.css({left:a,top:b}))},remove:function(){this.tooltip.remove(),this.sizetip.remove(),this.sizetip=this.tooltip=c,d(window).unbind("resize.jqs scroll.jqs")}}),F=function(){q(E)},d(F),K=[],d.fn.sparkline=function(b,e){return this.each(function(){var h,i,f=new d.fn.sparkline.options(this,e),g=d(this);if(h=function(){var e,h,i,j,k,l,m;if("html"===b||b===c?(m=this.getAttribute(f.get("tagValuesAttribute")),m!==c&&null!==m||(m=g.html()),e=m.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(",")):e=b,h="auto"===f.get("width")?e.length*f.get("defaultPixelsPerValue"):f.get("width"),"auto"===f.get("height")?f.get("composite")&&d.data(this,"_jqs_vcanvas")||(j=a.createElement("span"),j.innerHTML="a",g.html(j),i=d(j).innerHeight()||d(j).height(),d(j).remove(),j=null):i=f.get("height"),f.get("disableInteraction")?k=!1:(k=d.data(this,"_jqs_mhandler"),k?f.get("composite")||k.reset():(k=new u(this,f),d.data(this,"_jqs_mhandler",k))),f.get("composite")&&!d.data(this,"_jqs_vcanvas"))return void(d.data(this,"_jqs_errnotify")||(alert("Attempted to attach a composite sparkline to an element with no existing sparkline"),d.data(this,"_jqs_errnotify",!0)));l=new(d.fn.sparkline[f.get("type")])(this,e,f,h,i),l.render(),k&&k.registerSparkline(l)},d(this).html()&&!f.get("disableHiddenCheck")&&d(this).is(":hidden")||!d(this).parents("body").length){if(!f.get("composite")&&d.data(this,"_jqs_pending"))for(i=K.length;i;i--)K[i-1][0]==this&&K.splice(i-1,1);K.push([this,h]),d.data(this,"_jqs_pending",!0)}else h.call(this)})},d.fn.sparkline.defaults=f(),d.sparkline_display_visible=function(){var a,b,c,e=[];for(b=0,c=K.length;b<c;b++)a=K[b][0],d(a).is(":visible")&&!d(a).parents().is(":hidden")?(K[b][1].call(a),d.data(K[b][0],"_jqs_pending",!1),e.push(b)):d(a).closest("html").length||d.data(a,"_jqs_pending")||(d.data(K[b][0],"_jqs_pending",!1),e.push(b));for(b=e.length;b;b--)K.splice(e[b-1],1)},d.fn.sparkline.options=g({init:function(a,b){var c,f,g,h;this.userOptions=b=b||{},this.tag=a,this.tagValCache={},f=d.fn.sparkline.defaults,g=f.common,this.tagOptionsPrefix=b.enableTagOptions&&(b.tagOptionsPrefix||g.tagOptionsPrefix),h=this.getTagSetting("type"),c=h===e?f[b.type||g.type]:f[h],this.mergedOptions=d.extend({},g,c,b)},getTagSetting:function(a){var d,f,g,h,b=this.tagOptionsPrefix;if(!1===b||b===c)return e;if(this.tagValCache.hasOwnProperty(a))d=this.tagValCache.key;else{if((d=this.tag.getAttribute(b+a))===c||null===d)d=e;else if("["===d.substr(0,1))for(d=d.substr(1,d.length-2).split(","),f=d.length;f--;)d[f]=k(d[f].replace(/(^\s*)|(\s*$)/g,""));else if("{"===d.substr(0,1))for(g=d.substr(1,d.length-2).split(","),d={},f=g.length;f--;)h=g[f].split(":",2),d[h[0].replace(/(^\s*)|(\s*$)/g,"")]=k(h[1].replace(/(^\s*)|(\s*$)/g,""));else d=k(d);this.tagValCache.key=d}return d},get:function(a,b){var f,d=this.getTagSetting(a);return d!==e?d:(f=this.mergedOptions[a])===c?b:f}}),d.fn.sparkline._base=g({disabled:!1,init:function(a,b,e,f,g){this.el=a,this.$el=d(a),this.values=b,this.options=e,this.width=f,this.height=g,this.currentRegion=c},initTarget:function(){var a=!this.options.get("disableInteraction");(this.target=this.$el.simpledraw(this.width,this.height,this.options.get("composite"),a))?(this.canvasWidth=this.target.pixelWidth,this.canvasHeight=this.target.pixelHeight):this.disabled=!0},render:function(){return!this.disabled||(this.el.innerHTML="",!1)},getRegion:function(a,b){},setRegionHighlight:function(a,b,d){var g,e=this.currentRegion,f=!this.options.get("disableHighlight");return b>this.canvasWidth||d>this.canvasHeight||b<0||d<0?null:(g=this.getRegion(a,b,d),e!==g&&(e!==c&&f&&this.removeHighlight(),this.currentRegion=g,g!==c&&f&&this.renderHighlight(),!0))},clearRegionHighlight:function(){return this.currentRegion!==c&&(this.removeHighlight(),this.currentRegion=c,!0)},renderHighlight:function(){this.changeHighlight(!0)},removeHighlight:function(){this.changeHighlight(!1)},changeHighlight:function(a){},getCurrentRegionTooltip:function(){var f,g,i,j,k,l,m,n,o,p,q,r,s,t,a=this.options,b="",e=[];if(this.currentRegion===c)return"";if(f=this.getCurrentRegionFields(),q=a.get("tooltipFormatter"))return q(this,a,f);if(a.get("tooltipChartTitle")&&(b+='<div class="jqs jqstitle">'+a.get("tooltipChartTitle")+"</div>\n"),!(g=this.options.get("tooltipFormat")))return"";if(d.isArray(g)||(g=[g]),d.isArray(f)||(f=[f]),m=this.options.get("tooltipFormatFieldlist"),n=this.options.get("tooltipFormatFieldlistKey"),m&&n){for(o=[],l=f.length;l--;)p=f[l][n],-1!=(t=d.inArray(p,m))&&(o[t]=f[l]);f=o}for(i=g.length,s=f.length,l=0;l<i;l++)for(r=g[l],"string"==typeof r&&(r=new h(r)),j=r.fclass||"jqsfield",t=0;t<s;t++)f[t].isNull&&a.get("tooltipSkipNull")||(d.extend(f[t],{prefix:a.get("tooltipPrefix"),suffix:a.get("tooltipSuffix")}),k=r.render(f[t],a.get("tooltipValueLookups"),a),e.push('<div class="'+j+'">'+k+"</div>"));return e.length?b+e.join("\n"):""},getCurrentRegionFields:function(){},calcHighlightColor:function(a,c){var f,g,h,j,d=c.get("highlightColor"),e=c.get("highlightLighten");if(d)return d;if(e&&(f=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(a)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(a))){for(h=[],g=4===a.length?16:1,j=0;j<3;j++)h[j]=i(b.round(parseInt(f[j+1],16)*g*e),0,255);return"rgb("+h.join(",")+")"}return a}}),w={changeHighlight:function(a){var f,b=this.currentRegion,c=this.target,e=this.regionShapes[b];e&&(f=this.renderRegion(b,a),d.isArray(f)||d.isArray(e)?(c.replaceWithShapes(e,f),this.regionShapes[b]=d.map(f,function(a){return a.id})):(c.replaceWithShape(e,f),this.regionShapes[b]=f.id))},render:function(){var e,f,g,h,a=this.values,b=this.target,c=this.regionShapes;if(this.cls._super.render.call(this)){for(g=a.length;g--;)if(e=this.renderRegion(g))if(d.isArray(e)){for(f=[],h=e.length;h--;)e[h].append(),f.push(e[h].id);c[g]=f}else e.append(),c[g]=e.id;else c[g]=null;b.render()}}},d.fn.sparkline.line=x=g(d.fn.sparkline._base,{type:"line",init:function(a,b,c,d,e){x._super.init.call(this,a,b,c,d,e),this.vertices=[],this.regionMap=[],this.xvalues=[],this.yvalues=[],this.yminmax=[],this.hightlightSpotId=null,this.lastShapeId=null,this.initTarget()},getRegion:function(a,b,d){var e,f=this.regionMap;for(e=f.length;e--;)if(null!==f[e]&&b>=f[e][0]&&b<=f[e][1])return f[e][2];return c},getCurrentRegionFields:function(){var a=this.currentRegion;return{isNull:null===this.yvalues[a],x:this.xvalues[a],y:this.yvalues[a],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:a}},renderHighlight:function(){var i,j,a=this.currentRegion,b=this.target,d=this.vertices[a],e=this.options,f=e.get("spotRadius"),g=e.get("highlightSpotColor"),h=e.get("highlightLineColor");d&&(f&&g&&(i=b.drawCircle(d[0],d[1],f,c,g),this.highlightSpotId=i.id,b.insertAfterShape(this.lastShapeId,i)),h&&(j=b.drawLine(d[0],this.canvasTop,d[0],this.canvasTop+this.canvasHeight,h),this.highlightLineId=j.id,b.insertAfterShape(this.lastShapeId,j)))},removeHighlight:function(){var a=this.target;this.highlightSpotId&&(a.removeShapeId(this.highlightSpotId),this.highlightSpotId=null),this.highlightLineId&&(a.removeShapeId(this.highlightLineId),this.highlightLineId=null)},scanValues:function(){var g,h,i,j,k,a=this.values,c=a.length,d=this.xvalues,e=this.yvalues,f=this.yminmax;for(g=0;g<c;g++)h=a[g],i="string"==typeof a[g],j="object"==typeof a[g]&&a[g]instanceof Array,k=i&&a[g].split(":"),i&&2===k.length?(d.push(Number(k[0])),e.push(Number(k[1])),f.push(Number(k[1]))):j?(d.push(h[0]),e.push(h[1]),f.push(h[1])):(d.push(g),null===a[g]||"null"===a[g]?e.push(null):(e.push(Number(h)),f.push(Number(h))));this.options.get("xvalues")&&(d=this.options.get("xvalues")),this.maxy=this.maxyorg=b.max.apply(b,f),this.miny=this.minyorg=b.min.apply(b,f),this.maxx=b.max.apply(b,d),this.minx=b.min.apply(b,d),this.xvalues=d,this.yvalues=e,this.yminmax=f},processRangeOptions:function(){var a=this.options,b=a.get("normalRangeMin"),d=a.get("normalRangeMax");b!==c&&(b<this.miny&&(this.miny=b),d>this.maxy&&(this.maxy=d)),a.get("chartRangeMin")!==c&&(a.get("chartRangeClip")||a.get("chartRangeMin")<this.miny)&&(this.miny=a.get("chartRangeMin")),a.get("chartRangeMax")!==c&&(a.get("chartRangeClip")||a.get("chartRangeMax")>this.maxy)&&(this.maxy=a.get("chartRangeMax")),a.get("chartRangeMinX")!==c&&(a.get("chartRangeClipX")||a.get("chartRangeMinX")<this.minx)&&(this.minx=a.get("chartRangeMinX")),a.get("chartRangeMaxX")!==c&&(a.get("chartRangeClipX")||a.get("chartRangeMaxX")>this.maxx)&&(this.maxx=a.get("chartRangeMaxX"))},drawNormalRange:function(a,d,e,f,g){var h=this.options.get("normalRangeMin"),i=this.options.get("normalRangeMax"),j=d+b.round(e-e*((i-this.miny)/g)),k=b.round(e*(i-h)/g);this.target.drawRect(a,j,f,k,c,this.options.get("normalRangeColor")).append()},render:function(){var k,l,m,n,o,p,q,r,s,u,v,w,y,z,A,B,C,D,E,F,G,H,I,J,K,a=this.options,e=this.target,f=this.canvasWidth,g=this.canvasHeight,h=this.vertices,i=a.get("spotRadius"),j=this.regionMap;if(x._super.render.call(this)&&(this.scanValues(),this.processRangeOptions(),I=this.xvalues,J=this.yvalues,this.yminmax.length&&!(this.yvalues.length<2))){for(n=o=0,k=this.maxx-this.minx==0?1:this.maxx-this.minx,l=this.maxy-this.miny==0?1:this.maxy-this.miny,m=this.yvalues.length-1,i&&(f<4*i||g<4*i)&&(i=0),i&&(G=a.get("highlightSpotColor")&&!a.get("disableInteraction"),(G||a.get("minSpotColor")||a.get("spotColor")&&J[m]===this.miny)&&(g-=b.ceil(i)),(G||a.get("maxSpotColor")||a.get("spotColor")&&J[m]===this.maxy)&&(g-=b.ceil(i),n+=b.ceil(i)),(G||(a.get("minSpotColor")||a.get("maxSpotColor"))&&(J[0]===this.miny||J[0]===this.maxy))&&(o+=b.ceil(i),f-=b.ceil(i)),(G||a.get("spotColor")||a.get("minSpotColor")||a.get("maxSpotColor")&&(J[m]===this.miny||J[m]===this.maxy))&&(f-=b.ceil(i))),g--,a.get("normalRangeMin")===c||a.get("drawNormalOnTop")||this.drawNormalRange(o,n,g,f,l),q=[],r=[q],z=A=null,B=J.length,K=0;K<B;K++)s=I[K],v=I[K+1],u=J[K],w=o+b.round((s-this.minx)*(f/k)),y=K<B-1?o+b.round((v-this.minx)*(f/k)):f,A=w+(y-w)/2,j[K]=[z||0,A,K],z=A,null===u?K&&(null!==J[K-1]&&(q=[],r.push(q)),h.push(null)):(u<this.miny&&(u=this.miny),u>this.maxy&&(u=this.maxy),q.length||q.push([w,n+g]),p=[w,n+b.round(g-g*((u-this.miny)/l))],q.push(p),h.push(p));for(C=[],D=[],E=r.length,K=0;K<E;K++)q=r[K],q.length&&(a.get("fillColor")&&(q.push([q[q.length-1][0],n+g]),D.push(q.slice(0)),q.pop()),q.length>2&&(q[0]=[q[0][0],q[1][1]]),C.push(q));for(E=D.length,K=0;K<E;K++)e.drawShape(D[K],a.get("fillColor"),a.get("fillColor")).append();for(a.get("normalRangeMin")!==c&&a.get("drawNormalOnTop")&&this.drawNormalRange(o,n,g,f,l),E=C.length,K=0;K<E;K++)e.drawShape(C[K],a.get("lineColor"),c,a.get("lineWidth")).append();if(i&&a.get("valueSpots"))for(F=a.get("valueSpots"),F.get===c&&(F=new t(F)),K=0;K<B;K++)(H=F.get(J[K]))&&e.drawCircle(o+b.round((I[K]-this.minx)*(f/k)),n+b.round(g-g*((J[K]-this.miny)/l)),i,c,H).append();i&&a.get("spotColor")&&null!==J[m]&&e.drawCircle(o+b.round((I[I.length-1]-this.minx)*(f/k)),n+b.round(g-g*((J[m]-this.miny)/l)),i,c,a.get("spotColor")).append(),this.maxy!==this.minyorg&&(i&&a.get("minSpotColor")&&(s=I[d.inArray(this.minyorg,J)],e.drawCircle(o+b.round((s-this.minx)*(f/k)),n+b.round(g-g*((this.minyorg-this.miny)/l)),i,c,a.get("minSpotColor")).append()),i&&a.get("maxSpotColor")&&(s=I[d.inArray(this.maxyorg,J)],e.drawCircle(o+b.round((s-this.minx)*(f/k)),n+b.round(g-g*((this.maxyorg-this.miny)/l)),i,c,a.get("maxSpotColor")).append())),this.lastShapeId=e.getLastShapeId(),this.canvasTop=n,e.render()}}}),d.fn.sparkline.bar=y=g(d.fn.sparkline._base,w,{type:"bar",init:function(a,e,f,g,h){var u,v,w,x,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,j=parseInt(f.get("barWidth"),10),n=parseInt(f.get("barSpacing"),10),o=f.get("chartRangeMin"),p=f.get("chartRangeMax"),q=f.get("chartRangeClip"),r=1/0,s=-1/0;for(y._super.init.call(this,a,e,f,g,h),A=0,B=e.length;A<B;A++)O=e[A],((u="string"==typeof O&&O.indexOf(":")>-1)||d.isArray(O))&&(J=!0,u&&(O=e[A]=l(O.split(":"))),O=m(O,null),v=b.min.apply(b,O),w=b.max.apply(b,O),v<r&&(r=v),w>s&&(s=w));this.stacked=J,this.regionShapes={},this.barWidth=j,this.barSpacing=n,this.totalBarWidth=j+n,this.width=g=e.length*j+(e.length-1)*n,this.initTarget(),q&&(H=o===c?-1/0:o,I=p===c?1/0:p),z=[],x=J?[]:z;var S=[],T=[];for(A=0,B=e.length;A<B;A++)if(J)for(K=e[A],e[A]=N=[],S[A]=0,x[A]=T[A]=0,L=0,M=K.length;L<M;L++)null!==(O=N[L]=q?i(K[L],H,I):K[L])&&(O>0&&(S[A]+=O),r<0&&s>0?O<0?T[A]+=b.abs(O):x[A]+=O:x[A]+=b.abs(O-(O<0?s:r)),z.push(O));else O=q?i(e[A],H,I):e[A],null!==(O=e[A]=k(O))&&z.push(O);this.max=G=b.max.apply(b,z),this.min=F=b.min.apply(b,z),this.stackMax=s=J?b.max.apply(b,S):G,this.stackMin=r=J?b.min.apply(b,z):F,f.get("chartRangeMin")!==c&&(f.get("chartRangeClip")||f.get("chartRangeMin")<F)&&(F=f.get("chartRangeMin")),f.get("chartRangeMax")!==c&&(f.get("chartRangeClip")||f.get("chartRangeMax")>G)&&(G=f.get("chartRangeMax")),this.zeroAxis=D=f.get("zeroAxis",!0),E=F<=0&&G>=0&&D?0:0==D?F:F>0?F:G,this.xaxisOffset=E,C=J?b.max.apply(b,x)+b.max.apply(b,T):G-F,this.canvasHeightEf=D&&F<0?this.canvasHeight-2:this.canvasHeight-1,F<E?(Q=J&&G>=0?s:G,(P=(Q-E)/C*this.canvasHeight)!==b.ceil(P)&&(this.canvasHeightEf-=2,P=b.ceil(P))):P=this.canvasHeight,this.yoffset=P,d.isArray(f.get("colorMap"))?(this.colorMapByIndex=f.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=f.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===c&&(this.colorMapByValue=new t(this.colorMapByValue))),this.range=C},getRegion:function(a,d,e){var f=b.floor(d/this.totalBarWidth);return f<0||f>=this.values.length?c:f},getCurrentRegionFields:function(){var d,e,a=this.currentRegion,b=r(this.values[a]),c=[];for(e=b.length;e--;)d=b[e],c.push({isNull:null===d,value:d,color:this.calcColor(e,d,a),offset:a});return c},calcColor:function(a,b,e){var i,j,f=this.colorMapByIndex,g=this.colorMapByValue,h=this.options;return i=this.stacked?h.get("stackedBarColor"):b<0?h.get("negBarColor"):h.get("barColor"),0===b&&h.get("zeroColor")!==c&&(i=h.get("zeroColor")),g&&(j=g.get(b))?i=j:f&&f.length>e&&(i=f[e]),d.isArray(i)?i[a%i.length]:i},renderRegion:function(a,e){var q,r,s,t,u,v,w,x,y,z,f=this.values[a],g=this.options,h=this.xaxisOffset,i=[],j=this.range,k=this.stacked,l=this.target,m=a*this.totalBarWidth,n=this.canvasHeightEf,p=this.yoffset;if(f=d.isArray(f)?f:[f],w=f.length,x=f[0],t=o(null,f),z=o(h,f,!0),t)return g.get("nullColor")?(s=e?g.get("nullColor"):this.calcHighlightColor(g.get("nullColor"),g),q=p>0?p-1:p,l.drawRect(m,q,this.barWidth-1,0,s,s)):c;for(u=p,v=0;v<w;v++){if(x=f[v],k&&x===h){if(!z||y)continue;y=!0}r=j>0?b.floor(n*(b.abs(x-h)/j))+1:1,x<h||x===h&&0===p?(q=u,u+=r):(q=p-r,p-=r),s=this.calcColor(v,x,a),e&&(s=this.calcHighlightColor(s,g)),i.push(l.drawRect(m,q,this.barWidth-1,r-1,s,s))}return 1===i.length?i[0]:i}}),d.fn.sparkline.tristate=z=g(d.fn.sparkline._base,w,{type:"tristate",init:function(a,b,e,f,g){var h=parseInt(e.get("barWidth"),10),i=parseInt(e.get("barSpacing"),10);z._super.init.call(this,a,b,e,f,g),this.regionShapes={},this.barWidth=h,this.barSpacing=i,this.totalBarWidth=h+i,this.values=d.map(b,Number),this.width=f=b.length*h+(b.length-1)*i,d.isArray(e.get("colorMap"))?(this.colorMapByIndex=e.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=e.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===c&&(this.colorMapByValue=new t(this.colorMapByValue))),this.initTarget()},getRegion:function(a,c,d){return b.floor(c/this.totalBarWidth)},getCurrentRegionFields:function(){var a=this.currentRegion;return{isNull:this.values[a]===c,value:this.values[a],color:this.calcColor(this.values[a],a),offset:a}},calcColor:function(a,b){var h,c=this.values,d=this.options,e=this.colorMapByIndex,f=this.colorMapByValue;return f&&(h=f.get(a))?h:e&&e.length>b?e[b]:c[b]<0?d.get("negBarColor"):c[b]>0?d.get("posBarColor"):d.get("zeroBarColor")},renderRegion:function(a,c){var g,h,i,j,k,l,d=this.values,e=this.options,f=this.target;if(g=f.pixelHeight,i=b.round(g/2),j=a*this.totalBarWidth,d[a]<0?(k=i,h=i-1):d[a]>0?(k=0,h=i-1):(k=i-1,h=2),null!==(l=this.calcColor(d[a],a)))return c&&(l=this.calcHighlightColor(l,e)),f.drawRect(j,k,this.barWidth-1,h-1,l,l)}}),d.fn.sparkline.discrete=A=g(d.fn.sparkline._base,w,{type:"discrete",init:function(a,e,f,g,h){A._super.init.call(this,a,e,f,g,h),this.regionShapes={},this.values=e=d.map(e,Number),this.min=b.min.apply(b,e),this.max=b.max.apply(b,e),this.range=this.max-this.min,this.width=g="auto"===f.get("width")?2*e.length:this.width,this.interval=b.floor(g/e.length),this.itemWidth=g/e.length,f.get("chartRangeMin")!==c&&(f.get("chartRangeClip")||f.get("chartRangeMin")<this.min)&&(this.min=f.get("chartRangeMin")),f.get("chartRangeMax")!==c&&(f.get("chartRangeClip")||f.get("chartRangeMax")>this.max)&&(this.max=f.get("chartRangeMax")),this.initTarget(),this.target&&(this.lineHeight="auto"===f.get("lineHeight")?b.round(.3*this.canvasHeight):f.get("lineHeight"))},getRegion:function(a,c,d){return b.floor(c/this.itemWidth)},getCurrentRegionFields:function(){var a=this.currentRegion;return{isNull:this.values[a]===c,value:this.values[a],offset:a}},renderRegion:function(a,c){var o,p,q,r,d=this.values,e=this.options,f=this.min,g=this.max,h=this.range,j=this.interval,k=this.target,l=this.canvasHeight,m=this.lineHeight,n=l-m;return p=i(d[a],f,g),r=a*j,o=b.round(n-n*((p-f)/h)),q=e.get("thresholdColor")&&p<e.get("thresholdValue")?e.get("thresholdColor"):e.get("lineColor"),c&&(q=this.calcHighlightColor(q,e)),k.drawLine(r,o,r,o+m,q)}}),d.fn.sparkline.bullet=B=g(d.fn.sparkline._base,{type:"bullet",init:function(a,d,e,f,g){var h,i,j;B._super.init.call(this,a,d,e,f,g),this.values=d=l(d),j=d.slice(),j[0]=null===j[0]?j[2]:j[0],j[1]=null===d[1]?j[2]:j[1],h=b.min.apply(b,d),i=b.max.apply(b,d),h=e.get("base")===c?h<0?h:0:e.get("base"),this.min=h,this.max=i,this.range=i-h,this.shapes={},this.valueShapes={},this.regiondata={},this.width=f="auto"===e.get("width")?"4.0em":f,this.target=this.$el.simpledraw(f,g,e.get("composite")),d.length||(this.disabled=!0),this.initTarget()},getRegion:function(a,b,d){var e=this.target.getShapeAt(a,b,d);return e!==c&&this.shapes[e]!==c?this.shapes[e]:c},getCurrentRegionFields:function(){var a=this.currentRegion;return{fieldkey:a.substr(0,1),value:this.values[a.substr(1)],region:a}},changeHighlight:function(a){var d,b=this.currentRegion,c=this.valueShapes[b];switch(delete this.shapes[c],b.substr(0,1)){case"r":d=this.renderRange(b.substr(1),a);break;case"p":d=this.renderPerformance(a);break;case"t":d=this.renderTarget(a)}this.valueShapes[b]=d.id,this.shapes[d.id]=b,this.target.replaceWithShape(c,d)},renderRange:function(a,c){var d=this.values[a],e=b.round(this.canvasWidth*((d-this.min)/this.range)),f=this.options.get("rangeColors")[a-2];return c&&(f=this.calcHighlightColor(f,this.options)),this.target.drawRect(0,0,e-1,this.canvasHeight-1,f,f)},renderPerformance:function(a){var c=this.values[1],d=b.round(this.canvasWidth*((c-this.min)/this.range)),e=this.options.get("performanceColor");return a&&(e=this.calcHighlightColor(e,this.options)),this.target.drawRect(0,b.round(.3*this.canvasHeight),d-1,b.round(.4*this.canvasHeight)-1,e,e)},renderTarget:function(a){var c=this.values[0],d=b.round(this.canvasWidth*((c-this.min)/this.range)-this.options.get("targetWidth")/2),e=b.round(.1*this.canvasHeight),f=this.canvasHeight-2*e,g=this.options.get("targetColor");return a&&(g=this.calcHighlightColor(g,this.options)),this.target.drawRect(d,e,this.options.get("targetWidth")-1,f-1,g,g)},render:function(){var c,d,a=this.values.length,b=this.target;if(B._super.render.call(this)){for(c=2;c<a;c++)d=this.renderRange(c).append(),this.shapes[d.id]="r"+c,this.valueShapes["r"+c]=d.id;null!==this.values[1]&&(d=this.renderPerformance().append(),this.shapes[d.id]="p1",this.valueShapes.p1=d.id),null!==this.values[0]&&(d=this.renderTarget().append(),this.shapes[d.id]="t0",this.valueShapes.t0=d.id),b.render()}}}),d.fn.sparkline.pie=C=g(d.fn.sparkline._base,{type:"pie",init:function(a,c,e,f,g){var i,h=0;if(C._super.init.call(this,a,c,e,f,g),this.shapes={},this.valueShapes={},this.values=c=d.map(c,Number),"auto"===e.get("width")&&(this.width=this.height),c.length>0)for(i=c.length;i--;)h+=c[i];this.total=h,this.initTarget(),this.radius=b.floor(b.min(this.canvasWidth,this.canvasHeight)/2)},getRegion:function(a,b,d){var e=this.target.getShapeAt(a,b,d);return e!==c&&this.shapes[e]!==c?this.shapes[e]:c},getCurrentRegionFields:function(){var a=this.currentRegion;return{isNull:this.values[a]===c,value:this.values[a],percent:this.values[a]/this.total*100,color:this.options.get("sliceColors")[a%this.options.get("sliceColors").length],offset:a}},changeHighlight:function(a){var b=this.currentRegion,c=this.renderSlice(b,a),d=this.valueShapes[b];delete this.shapes[d],this.target.replaceWithShape(d,c),this.valueShapes[b]=c.id,this.shapes[c.id]=b},renderSlice:function(a,d){var n,o,p,q,r,e=this.target,f=this.options,g=this.radius,h=f.get("borderWidth"),i=f.get("offset"),j=2*b.PI,k=this.values,l=this.total,m=i?2*b.PI*(i/360):0;for(q=k.length,p=0;p<q;p++){if(n=m,o=m,l>0&&(o=m+j*(k[p]/l)),a===p)return r=f.get("sliceColors")[p%f.get("sliceColors").length],d&&(r=this.calcHighlightColor(r,f)),e.drawPieSlice(g,g,g-h,n,o,c,r);m=o}},render:function(){var h,i,a=this.target,d=this.values,e=this.options,f=this.radius,g=e.get("borderWidth");if(C._super.render.call(this)){for(g&&a.drawCircle(f,f,b.floor(f-g/2),e.get("borderColor"),c,g).append(),i=d.length;i--;)d[i]&&(h=this.renderSlice(i).append(),this.valueShapes[i]=h.id,this.shapes[h.id]=i);a.render()}}}),d.fn.sparkline.box=D=g(d.fn.sparkline._base,{type:"box",init:function(a,b,c,e,f){D._super.init.call(this,a,b,c,e,f),this.values=d.map(b,Number),this.width="auto"===c.get("width")?"4.0em":e,this.initTarget(),this.values.length||(this.disabled=1)},getRegion:function(){return 1},getCurrentRegionFields:function(){var a=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];return this.loutlier!==c&&a.push({field:"lo",value:this.loutlier}),this.routlier!==c&&a.push({field:"ro",value:this.routlier}),this.lwhisker!==c&&a.push({field:"lw",value:this.lwhisker}),this.rwhisker!==c&&a.push({field:"rw",value:this.rwhisker}),a},render:function(){var m,n,o,p,q,r,s,t,u,v,w,a=this.target,d=this.values,e=d.length,f=this.options,g=this.canvasWidth,h=this.canvasHeight,i=f.get("chartRangeMin")===c?b.min.apply(b,d):f.get("chartRangeMin"),k=f.get("chartRangeMax")===c?b.max.apply(b,d):f.get("chartRangeMax"),l=0;if(D._super.render.call(this)){if(f.get("raw"))f.get("showOutliers")&&d.length>5?(n=d[0],m=d[1],p=d[2],q=d[3],r=d[4],s=d[5],t=d[6]):(m=d[0],p=d[1],q=d[2],r=d[3],s=d[4]);else if(d.sort(function(a,b){return a-b}),p=j(d,1),q=j(d,2),r=j(d,3),o=r-p,f.get("showOutliers")){for(m=s=c,u=0;u<e;u++)m===c&&d[u]>p-o*f.get("outlierIQR")&&(m=d[u]),d[u]<r+o*f.get("outlierIQR")&&(s=d[u]);n=d[0],t=d[e-1]}else m=d[0],s=d[e-1];this.quartiles=[p,q,r],this.lwhisker=m,this.rwhisker=s,this.loutlier=n,this.routlier=t,w=g/(k-i+1),f.get("showOutliers")&&(l=b.ceil(f.get("spotRadius")),g-=2*b.ceil(f.get("spotRadius")),w=g/(k-i+1),n<m&&a.drawCircle((n-i)*w+l,h/2,f.get("spotRadius"),f.get("outlierLineColor"),f.get("outlierFillColor")).append(),t>s&&a.drawCircle((t-i)*w+l,h/2,f.get("spotRadius"),f.get("outlierLineColor"),f.get("outlierFillColor")).append()),a.drawRect(b.round((p-i)*w+l),b.round(.1*h),b.round((r-p)*w),b.round(.8*h),f.get("boxLineColor"),f.get("boxFillColor")).append(),a.drawLine(b.round((m-i)*w+l),b.round(h/2),b.round((p-i)*w+l),b.round(h/2),f.get("lineColor")).append(),a.drawLine(b.round((m-i)*w+l),b.round(h/4),b.round((m-i)*w+l),b.round(h-h/4),f.get("whiskerColor")).append(),a.drawLine(b.round((s-i)*w+l),b.round(h/2),b.round((r-i)*w+l),b.round(h/2),f.get("lineColor")).append(),a.drawLine(b.round((s-i)*w+l),b.round(h/4),b.round((s-i)*w+l),b.round(h-h/4),f.get("whiskerColor")).append(),a.drawLine(b.round((q-i)*w+l),b.round(.1*h),b.round((q-i)*w+l),b.round(.9*h),f.get("medianColor")).append(),f.get("target")&&(v=b.ceil(f.get("spotRadius")),a.drawLine(b.round((f.get("target")-i)*w+l),b.round(h/2-v),b.round((f.get("target")-i)*w+l),b.round(h/2+v),f.get("targetColor")).append(),a.drawLine(b.round((f.get("target")-i)*w+l-v),b.round(h/2),b.round((f.get("target")-i)*w+l+v),b.round(h/2),f.get("targetColor")).append()),a.render()}}}),G=g({init:function(a,b,c,d){this.target=a,this.id=b,this.type=c,this.args=d},append:function(){return this.target.appendShape(this),this}}),H=g({_pxregex:/(\d+)(px)?\s*$/i,init:function(a,b,c){a&&(this.width=a,this.height=b,this.target=c,this.lastShapeId=null,c[0]&&(c=c[0]),d.data(c,"_jqs_vcanvas",this))},drawLine:function(a,b,c,d,e,f){return this.drawShape([[a,b],[c,d]],e,f)},drawShape:function(a,b,c,d){return this._genShape("Shape",[a,b,c,d])},drawCircle:function(a,b,c,d,e,f){return this._genShape("Circle",[a,b,c,d,e,f])},drawPieSlice:function(a,b,c,d,e,f,g){return this._genShape("PieSlice",[a,b,c,d,e,f,g])},drawRect:function(a,b,c,d,e,f){return this._genShape("Rect",[a,b,c,d,e,f])},getElement:function(){return this.canvas},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_insert:function(a,b){d(b).html(a)},_calculatePixelDims:function(a,b,c){var e;e=this._pxregex.exec(b),this.pixelHeight=e?e[1]:d(c).height(),e=this._pxregex.exec(a),this.pixelWidth=e?e[1]:d(c).width()},_genShape:function(a,b){var c=L++;return b.unshift(c),new G(this,c,a,b)},appendShape:function(a){alert("appendShape not implemented")},replaceWithShape:function(a,b){alert("replaceWithShape not implemented")},insertAfterShape:function(a,b){alert("insertAfterShape not implemented")},removeShapeId:function(a){alert("removeShapeId not implemented")},getShapeAt:function(a,b,c){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}}),I=g(H,{init:function(b,e,f,g){I._super.init.call(this,b,e,f),this.canvas=a.createElement("canvas"),f[0]&&(f=f[0]),d.data(f,"_jqs_vcanvas",this),d(this.canvas).css({display:"inline-block",width:b,height:e,verticalAlign:"top"}),this._insert(this.canvas,f),this._calculatePixelDims(b,e,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,this.interact=g,this.shapes={},this.shapeseq=[],this.currentTargetShapeId=c,d(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})},_getContext:function(a,b,d){var e=this.canvas.getContext("2d");return a!==c&&(e.strokeStyle=a),e.lineWidth=d===c?1:d,b!==c&&(e.fillStyle=b),e},reset:function(){this._getContext().clearRect(0,0,this.pixelWidth,this.pixelHeight),this.shapes={},this.shapeseq=[],this.currentTargetShapeId=c},_drawShape:function(a,b,d,e,f){var h,i,g=this._getContext(d,e,f);for(g.beginPath(),g.moveTo(b[0][0]+.5,b[0][1]+.5),h=1,i=b.length;h<i;h++)g.lineTo(b[h][0]+.5,b[h][1]+.5);d!==c&&g.stroke(),e!==c&&g.fill(),this.targetX!==c&&this.targetY!==c&&g.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=a)},_drawCircle:function(a,d,e,f,g,h,i){var j=this._getContext(g,h,i);j.beginPath(),j.arc(d,e,f,0,2*b.PI,!1),this.targetX!==c&&this.targetY!==c&&j.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=a),g!==c&&j.stroke(),h!==c&&j.fill()},_drawPieSlice:function(a,b,d,e,f,g,h,i){var j=this._getContext(h,i);j.beginPath(),j.moveTo(b,d),j.arc(b,d,e,f,g,!1),j.lineTo(b,d),j.closePath(),h!==c&&j.stroke(),i&&j.fill(),this.targetX!==c&&this.targetY!==c&&j.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=a)},_drawRect:function(a,b,c,d,e,f,g){return this._drawShape(a,[[b,c],[b+d,c],[b+d,c+e],[b,c+e],[b,c]],f,g)},appendShape:function(a){return this.shapes[a.id]=a,this.shapeseq.push(a.id),this.lastShapeId=a.id,a.id},replaceWithShape:function(a,b){var d,c=this.shapeseq;for(this.shapes[b.id]=b,d=c.length;d--;)c[d]==a&&(c[d]=b.id);delete this.shapes[a]},replaceWithShapes:function(a,b){var e,f,g,c=this.shapeseq,d={};for(f=a.length;f--;)d[a[f]]=!0;for(f=c.length;f--;)e=c[f],d[e]&&(c.splice(f,1),delete this.shapes[e],g=f);for(f=b.length;f--;)c.splice(g,0,b[f].id),this.shapes[b[f].id]=b[f]},insertAfterShape:function(a,b){var d,c=this.shapeseq;for(d=c.length;d--;)if(c[d]===a)return c.splice(d+1,0,b.id),void(this.shapes[b.id]=b)},removeShapeId:function(a){var c,b=this.shapeseq;for(c=b.length;c--;)if(b[c]===a){b.splice(c,1);break}delete this.shapes[a]},getShapeAt:function(a,b,c){return this.targetX=b,this.targetY=c,this.render(),this.currentTargetShapeId},render:function(){var e,f,g,a=this.shapeseq,b=this.shapes,c=a.length,d=this._getContext();for(d.clearRect(0,0,this.pixelWidth,this.pixelHeight),g=0;g<c;g++)e=a[g],f=b[e],this["_draw"+f.type].apply(this,f.args);this.interact||(this.shapes={},this.shapeseq=[])}}),J=g(H,{init:function(b,c,e){var f;J._super.init.call(this,b,c,e),e[0]&&(e=e[0]),d.data(e,"_jqs_vcanvas",this),this.canvas=a.createElement("span"),d(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:b,height:c,margin:"0px",padding:"0px",verticalAlign:"top"}),this._insert(this.canvas,e),this._calculatePixelDims(b,c,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,f='<v:group coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" style="position:absolute;top:0;left:0;width:'+this.pixelWidth+"px;height="+this.pixelHeight+'px;"></v:group>',this.canvas.insertAdjacentHTML("beforeEnd",f),this.group=d(this.canvas).children()[0],this.rendered=!1,this.prerender=""},_drawShape:function(a,b,d,e,f){var h,i,j,k,m,n,g=[];for(n=0,m=b.length;n<m;n++)g[n]=b[n][0]+","+b[n][1];return h=g.splice(0,1),f=f===c?1:f,i=d===c?' stroked="false" ':' strokeWeight="'+f+'px" strokeColor="'+d+'" ',j=e===c?' filled="false"':' fillColor="'+e+'" filled="true" ',k=g[0]===g[g.length-1]?"x ":"",'<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+a+'" '+i+j+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+h+" l "+g.join(", ")+" "+k+'e"> </v:shape>'},_drawCircle:function(a,b,d,e,f,g,h){var i,j;return b-=e,d-=e,i=f===c?' stroked="false" ':' strokeWeight="'+h+'px" strokeColor="'+f+'" ',j=g===c?' filled="false"':' fillColor="'+g+'" filled="true" ','<v:oval  id="jqsshape'+a+'" '+i+j+' style="position:absolute;top:'+d+"px; left:"+b+"px; width:"+2*e+"px; height:"+2*e+'px"></v:oval>'},_drawPieSlice:function(a,d,e,f,g,h,i,j){var k,l,m,n,o,p,q;if(g===h)return"";if(h-g==2*b.PI&&(g=0,h=2*b.PI),l=d+b.round(b.cos(g)*f),m=e+b.round(b.sin(g)*f),n=d+b.round(b.cos(h)*f),o=e+b.round(b.sin(h)*f),l===n&&m===o){if(h-g<b.PI)return"";l=n=d+f,m=o=e}return l===n&&m===o&&h-g<b.PI?"":(k=[d-f,e-f,d+f,e+f,l,m,n,o],p=i===c?' stroked="false" ':' strokeWeight="1px" strokeColor="'+i+'" ',q=j===c?' filled="false"':' fillColor="'+j+'" filled="true" ','<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+a+'" '+p+q+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+d+","+e+" wa "+k.join(", ")+' x e"> </v:shape>')},_drawRect:function(a,b,c,d,e,f,g){return this._drawShape(a,[[b,c],[b,c+e],[b+d,c+e],[b+d,c],[b,c]],f,g)},reset:function(){this.group.innerHTML=""},appendShape:function(a){var b=this["_draw"+a.type].apply(this,a.args);return this.rendered?this.group.insertAdjacentHTML("beforeEnd",b):this.prerender+=b,this.lastShapeId=a.id,a.id},replaceWithShape:function(a,b){var c=d("#jqsshape"+a),e=this["_draw"+b.type].apply(this,b.args);c[0].outerHTML=e},replaceWithShapes:function(a,b){var g,c=d("#jqsshape"+a[0]),e="",f=b.length;for(g=0;g<f;g++)e+=this["_draw"+b[g].type].apply(this,b[g].args);for(c[0].outerHTML=e,g=1;g<a.length;g++)d("#jqsshape"+a[g]).remove()},insertAfterShape:function(a,b){var c=d("#jqsshape"+a),e=this["_draw"+b.type].apply(this,b.args);c[0].insertAdjacentHTML("afterEnd",e)},removeShapeId:function(a){var b=d("#jqsshape"+a);this.group.removeChild(b[0])},getShapeAt:function(a,b,c){return a.id.substr(8)},render:function(){this.rendered||(this.group.innerHTML=this.prerender,this.rendered=!0)}})})}(document,Math);var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),PxSparkline=function(a){"use strict";if(!a.fn.sparkline)throw new Error("jquery.sparkline.js required.");var b="pxSparkline",c="px.sparkline",d="."+c,e=a.fn[b],f={RESIZE:"resize"+d},g="2px",h=function(){function e(b,c,d){_classCallCheck(this,e),this.uniqueId=pxUtil.generateUniqueId(),this.element=b,this.$parent=a(b.parentNode),this.update(c,d),this._setListeners()}return _createClass(e,[{key:"update",value:function(c,d){null!==c&&(this._values=c),null!==d&&("100%"!==d.width||"bar"!==d.type&&"tristate"!==d.type||void 0!==d.barSpacing||(d.barSpacing=g),this.config=d);var e=a.extend(!0,{},this.config);"100%"===e.width&&("bar"===e.type||"tristate"===e.type?e.barWidth=this._getBarWidth(this.$parent,this._values.length,e.barSpacing):e.width=Math.floor(this.$parent.width())),a(this.element).sparkline(this._values,e)}},{key:"destroy",value:function(){this._unsetListeners(),a(this.element).removeData(c).removeData("_jqs_mhandler").removeData("_jqs_vcanvas").off().find("canvas").remove()}},{key:"_getBarWidth",value:function(b,c,d){var e=b.width(),f=parseInt(d,10)*(c-1);return Math.floor((e-f)/c)}},{key:"_setListeners",value:function(){var c=this;a(window).on(this.constructor.Event.RESIZE+"."+this.uniqueId,function(){if("100%"===c.config.width){var b=a.extend(!0,{},c.config);"bar"===b.type||"tristate"===b.type?b.barWidth=c._getBarWidth(c.$parent,c._values.length,b.barSpacing):b.width=Math.floor(c.$parent.width()),a(c.element).sparkline(c._values,b)}})}},{key:"_unsetListeners",value:function(){a(window).off(this.constructor.Event.RESIZE+"."+this.uniqueId)}}],[{key:"_parseArgs",value:function(c,d){var e=void 0,f=void 0;return"[object Array]"===Object.prototype.toString.call(d[0])||"html"===d[0]||null===d[0]?(e=d[0],f=d[1]||null):f=d[0]||null,"html"!==e&&void 0!==e||null===e||(e=c.getAttribute("values"),void 0!==e&&null!==e||(e=a(c).html()),e=e.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(",")),e&&"[object Array]"===Object.prototype.toString.call(e)&&0!==e.length||(e=null),{values:e,config:f}}},{key:"_jQueryInterface",value:function(){for(var d=arguments.length,f=Array(d),g=0;g<d;g++)f[g]=arguments[g];return this.each(function(){var b=a(this).data(c),d="update"===f[0]||"destroy"===f[0]?f[0]:null,g=e._parseArgs(this,d?f.slice(1):f),h=g.values,i=g.config;b?h&&b.update(h,i):(b=new e(this,h||[],i||{}),a(this).data(c,b)),"update"===d?b.update(h,i):"destroy"===d&&b.destroy()})}},{key:"NAME",get:function(){return b}},{key:"DATA_KEY",get:function(){return c}},{key:"Event",get:function(){return f}},{key:"EVENT_KEY",get:function(){return d}}]),e}();return a.fn[b]=h._jQueryInterface,a.fn[b].Constructor=h,a.fn[b].noConflict=function(){return a.fn[b]=e,h._jQueryInterface},h}(jQuery);!function(a,b){"object"==typeof exports?module.exports=b(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],b):b(a.jQuery)}(this,function(a){var b=function(a,b){var c,d=document.createElement("canvas");a.appendChild(d),"undefined"!=typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(d);var e=d.getContext("2d");d.width=d.height=b.size;var f=1;window.devicePixelRatio>1&&(f=window.devicePixelRatio,d.style.width=d.style.height=[b.size,"px"].join(""),d.width=d.height=b.size*f,e.scale(f,f)),e.translate(b.size/2,b.size/2),e.rotate((b.rotate/180-.5)*Math.PI);var g=(b.size-b.lineWidth)/2;b.scaleColor&&b.scaleLength&&(g-=b.scaleLength+2),Date.now=Date.now||function(){return+new Date};var h=function(a,b,c){c=Math.min(Math.max(-1,c||0),1);var d=c<=0;e.beginPath(),e.arc(0,0,g,0,2*Math.PI*c,d),e.strokeStyle=a,e.lineWidth=b,e.stroke()},i=function(){var a,c;e.lineWidth=1,e.fillStyle=b.scaleColor,e.save();for(var d=24;d>0;--d)d%6==0?(c=b.scaleLength,a=0):(c=.6*b.scaleLength,a=b.scaleLength-c),e.fillRect(-b.size/2+a,0,c,1),e.rotate(Math.PI/12);e.restore()},j=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}(),k=function(){b.scaleColor&&i(),b.trackColor&&h(b.trackColor,b.trackWidth||b.lineWidth,1)};this.getCanvas=function(){return d},this.getCtx=function(){return e},this.clear=function(){e.clearRect(b.size/-2,b.size/-2,b.size,b.size)},this.draw=function(a){b.scaleColor||b.trackColor?e.getImageData&&e.putImageData?c?e.putImageData(c,0,0):(k(),c=e.getImageData(0,0,b.size*f,b.size*f)):(this.clear(),k()):this.clear(),e.lineCap=b.lineCap;var d;d="function"==typeof b.barColor?b.barColor(a):b.barColor,h(d,b.lineWidth,a/100)}.bind(this),this.animate=function(a,c){var d=Date.now();b.onStart(a,c);var e=function(){var f=Math.min(Date.now()-d,b.animate.duration),g=b.easing(this,f,a,c-a,b.animate.duration);this.draw(g),b.onStep(a,c,g),f>=b.animate.duration?b.onStop(a,c):j(e)}.bind(this);j(e)}.bind(this)},c=function(a,c){var d={barColor:"#ef1e25",trackColor:"#f9f9f9",scaleColor:"#dfe0e0",scaleLength:5,lineCap:"round",lineWidth:3,trackWidth:void 0,size:110,rotate:0,animate:{duration:1e3,enabled:!0},easing:function(a,b,c,d,e){return b/=e/2,b<1?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},onStart:function(a,b){},onStep:function(a,b,c){},onStop:function(a,b){}};if(void 0!==b)d.renderer=b;else{if("undefined"==typeof SVGRenderer)throw new Error("Please load either the SVG- or the CanvasRenderer");d.renderer=SVGRenderer}var e={},f=0,g=function(){this.el=a,this.options=e;for(var b in d)d.hasOwnProperty(b)&&(e[b]=c&&void 0!==c[b]?c[b]:d[b],"function"==typeof e[b]&&(e[b]=e[b].bind(this)));"string"==typeof e.easing&&"undefined"!=typeof jQuery&&jQuery.isFunction(jQuery.easing[e.easing])?e.easing=jQuery.easing[e.easing]:e.easing=d.easing,"number"==typeof e.animate&&(e.animate={duration:e.animate,enabled:!0}),"boolean"!=typeof e.animate||e.animate||(e.animate={duration:1e3,enabled:e.animate}),this.renderer=new e.renderer(a,e),this.renderer.draw(f),a.dataset&&a.dataset.percent?this.update(parseFloat(a.dataset.percent)):a.getAttribute&&a.getAttribute("data-percent")&&this.update(parseFloat(a.getAttribute("data-percent")))}.bind(this);this.update=function(a){return a=parseFloat(a),e.animate.enabled?this.renderer.animate(f,a):this.renderer.draw(a),f=a,this}.bind(this),this.disableAnimation=function(){return e.animate.enabled=!1,this},this.enableAnimation=function(){return e.animate.enabled=!0,this},g()};a.fn.easyPieChart=function(b){return this.each(function(){var d;a.data(this,"easyPieChart")||(d=a.extend({},b,a(this).data()),a.data(this,"easyPieChart",new c(this,d)))})}});